{
  "version": 3,
  "sources": ["../node_modules/is-buffer/index.js", "../node_modules/retry/lib/retry_operation.js", "../node_modules/retry/lib/retry.js", "../node_modules/retry/index.js", "../node_modules/async-retry/lib/index.js", "../node_modules/@vercel/blob/node_modules/undici/lib/core/symbols.js", "../node_modules/@vercel/blob/node_modules/undici/lib/core/errors.js", "../node_modules/@vercel/blob/node_modules/undici/lib/core/constants.js", "../node_modules/@vercel/blob/node_modules/undici/lib/core/util.js", "../node_modules/@vercel/blob/node_modules/undici/lib/timers.js", "../node_modules/@fastify/busboy/deps/streamsearch/sbmh.js", "../node_modules/@fastify/busboy/deps/dicer/lib/PartStream.js", "../node_modules/@fastify/busboy/lib/utils/getLimit.js", "../node_modules/@fastify/busboy/deps/dicer/lib/HeaderParser.js", "../node_modules/@fastify/busboy/deps/dicer/lib/Dicer.js", "../node_modules/@fastify/busboy/lib/utils/decodeText.js", "../node_modules/@fastify/busboy/lib/utils/parseParams.js", "../node_modules/@fastify/busboy/lib/utils/basename.js", "../node_modules/@fastify/busboy/lib/types/multipart.js", "../node_modules/@fastify/busboy/lib/utils/Decoder.js", "../node_modules/@fastify/busboy/lib/types/urlencoded.js", "../node_modules/@fastify/busboy/lib/main.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/constants.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/global.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/util.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/symbols.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/webidl.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/dataURL.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/file.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/formdata.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/body.js", "../node_modules/@vercel/blob/node_modules/undici/lib/core/request.js", "../node_modules/@vercel/blob/node_modules/undici/lib/dispatcher.js", "../node_modules/@vercel/blob/node_modules/undici/lib/dispatcher-base.js", "../node_modules/@vercel/blob/node_modules/undici/lib/core/connect.js", "../node_modules/@vercel/blob/node_modules/undici/src/llhttp/utils.ts", "../node_modules/@vercel/blob/node_modules/undici/src/llhttp/constants.ts", "../node_modules/@vercel/blob/node_modules/undici/lib/handler/RedirectHandler.js", "../node_modules/@vercel/blob/node_modules/undici/lib/interceptor/redirectInterceptor.js", "../node_modules/@vercel/blob/node_modules/undici/lib/llhttp/llhttp-wasm.js", "../node_modules/@vercel/blob/node_modules/undici/lib/llhttp/llhttp_simd-wasm.js", "../node_modules/@vercel/blob/node_modules/undici/lib/client.js", "../node_modules/@vercel/blob/node_modules/undici/lib/node/fixed-queue.js", "../node_modules/@vercel/blob/node_modules/undici/lib/pool-stats.js", "../node_modules/@vercel/blob/node_modules/undici/lib/pool-base.js", "../node_modules/@vercel/blob/node_modules/undici/lib/pool.js", "../node_modules/@vercel/blob/node_modules/undici/lib/balanced-pool.js", "../node_modules/@vercel/blob/node_modules/undici/lib/compat/dispatcher-weakref.js", "../node_modules/@vercel/blob/node_modules/undici/lib/agent.js", "../node_modules/@vercel/blob/node_modules/undici/lib/api/readable.js", "../node_modules/@vercel/blob/node_modules/undici/lib/api/util.js", "../node_modules/@vercel/blob/node_modules/undici/lib/api/abort-signal.js", "../node_modules/@vercel/blob/node_modules/undici/lib/api/api-request.js", "../node_modules/@vercel/blob/node_modules/undici/lib/api/api-stream.js", "../node_modules/@vercel/blob/node_modules/undici/lib/api/api-pipeline.js", "../node_modules/@vercel/blob/node_modules/undici/lib/api/api-upgrade.js", "../node_modules/@vercel/blob/node_modules/undici/lib/api/api-connect.js", "../node_modules/@vercel/blob/node_modules/undici/lib/api/index.js", "../node_modules/@vercel/blob/node_modules/undici/lib/mock/mock-errors.js", "../node_modules/@vercel/blob/node_modules/undici/lib/mock/mock-symbols.js", "../node_modules/@vercel/blob/node_modules/undici/lib/mock/mock-utils.js", "../node_modules/@vercel/blob/node_modules/undici/lib/mock/mock-interceptor.js", "../node_modules/@vercel/blob/node_modules/undici/lib/mock/mock-client.js", "../node_modules/@vercel/blob/node_modules/undici/lib/mock/mock-pool.js", "../node_modules/@vercel/blob/node_modules/undici/lib/mock/pluralizer.js", "../node_modules/@vercel/blob/node_modules/undici/lib/mock/pending-interceptors-formatter.js", "../node_modules/@vercel/blob/node_modules/undici/lib/mock/mock-agent.js", "../node_modules/@vercel/blob/node_modules/undici/lib/proxy-agent.js", "../node_modules/@vercel/blob/node_modules/undici/lib/handler/RetryHandler.js", "../node_modules/@vercel/blob/node_modules/undici/lib/global.js", "../node_modules/@vercel/blob/node_modules/undici/lib/handler/DecoratorHandler.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/headers.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/response.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/request.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fetch/index.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fileapi/symbols.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fileapi/progressevent.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fileapi/encoding.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fileapi/util.js", "../node_modules/@vercel/blob/node_modules/undici/lib/fileapi/filereader.js", "../node_modules/@vercel/blob/node_modules/undici/lib/cache/symbols.js", "../node_modules/@vercel/blob/node_modules/undici/lib/cache/util.js", "../node_modules/@vercel/blob/node_modules/undici/lib/cache/cache.js", "../node_modules/@vercel/blob/node_modules/undici/lib/cache/cachestorage.js", "../node_modules/@vercel/blob/node_modules/undici/lib/cookies/constants.js", "../node_modules/@vercel/blob/node_modules/undici/lib/cookies/util.js", "../node_modules/@vercel/blob/node_modules/undici/lib/cookies/parse.js", "../node_modules/@vercel/blob/node_modules/undici/lib/cookies/index.js", "../node_modules/@vercel/blob/node_modules/undici/lib/websocket/constants.js", "../node_modules/@vercel/blob/node_modules/undici/lib/websocket/symbols.js", "../node_modules/@vercel/blob/node_modules/undici/lib/websocket/events.js", "../node_modules/@vercel/blob/node_modules/undici/lib/websocket/util.js", "../node_modules/@vercel/blob/node_modules/undici/lib/websocket/connection.js", "../node_modules/@vercel/blob/node_modules/undici/lib/websocket/frame.js", "../node_modules/@vercel/blob/node_modules/undici/lib/websocket/receiver.js", "../node_modules/@vercel/blob/node_modules/undici/lib/websocket/websocket.js", "../node_modules/@vercel/blob/node_modules/undici/index.js", "../node_modules/throttleit/index.js", "../src/index.ts", "../node_modules/hono/dist/compose.js", "../node_modules/hono/dist/request/constants.js", "../node_modules/hono/dist/utils/body.js", "../node_modules/hono/dist/utils/url.js", "../node_modules/hono/dist/request.js", "../node_modules/hono/dist/utils/html.js", "../node_modules/hono/dist/context.js", "../node_modules/hono/dist/router.js", "../node_modules/hono/dist/utils/constants.js", "../node_modules/hono/dist/hono-base.js", "../node_modules/hono/dist/router/reg-exp-router/matcher.js", "../node_modules/hono/dist/router/reg-exp-router/node.js", "../node_modules/hono/dist/router/reg-exp-router/trie.js", "../node_modules/hono/dist/router/reg-exp-router/router.js", "../node_modules/hono/dist/router/smart-router/router.js", "../node_modules/hono/dist/router/trie-router/node.js", "../node_modules/hono/dist/router/trie-router/router.js", "../node_modules/hono/dist/hono.js", "../node_modules/hono/dist/middleware/cors/index.js", "../src/home-page.ts", "../src/calculator-page.ts", "../src/smart-calculator.ts", "../src/login-page.ts", "../src/forgot-password-page.ts", "../src/packages-page.ts", "../src/subscribe-page.ts", "../src/full-admin-panel.ts", "../src/tenants-page.ts", "../src/tenant-calculators-page.ts", "../src/saas-settings-page.ts", "../src/reports-page.ts", "../src/advanced-reports.ts", "../src/payments-page.ts", "../src/banks-management-page.ts", "../src/rates-forms.ts", "../src/workflow-page.ts", "../src/banks-report.ts", "../src/performance-report.ts", "../node_modules/is-node-process/src/index.ts", "../node_modules/@vercel/blob/src/helpers.ts", "../node_modules/@vercel/blob/src/multipart/helpers.ts", "../node_modules/@vercel/blob/src/bytes.ts", "../node_modules/@vercel/blob/src/api.ts", "../node_modules/@vercel/blob/src/is-network-error.ts", "../node_modules/@vercel/blob/src/debug.ts", "../node_modules/@vercel/blob/src/fetch.ts", "../node_modules/@vercel/blob/src/xhr.ts", "../node_modules/@vercel/blob/src/request.ts", "../node_modules/@vercel/blob/src/dom-exception.ts", "../node_modules/@vercel/blob/src/put-helpers.ts", "../node_modules/@vercel/blob/src/multipart/complete.ts", "../node_modules/@vercel/blob/src/multipart/create.ts", "../node_modules/@vercel/blob/src/multipart/upload.ts", "../node_modules/@vercel/blob/src/put.ts", "../node_modules/@vercel/blob/src/multipart/uncontrolled.ts", "../node_modules/@vercel/blob/src/multipart/create-uploader.ts", "../node_modules/@vercel/blob/src/create-folder.ts", "../node_modules/@vercel/blob/src/del.ts", "../node_modules/@vercel/blob/src/head.ts", "../node_modules/@vercel/blob/src/list.ts", "../node_modules/@vercel/blob/src/copy.ts", "../node_modules/@vercel/blob/src/index.ts", "../src/platform/blob/vercel-blob.ts", "../node_modules/@neondatabase/serverless/index.mjs", "../src/platform/db/neon-d1-compat.ts"],
  "sourcesContent": ["/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n", "function RetryOperation(timeouts, options) {\n  // Compatibility for the old (timeouts, retryForever) signature\n  if (typeof options === 'boolean') {\n    options = { forever: options };\n  }\n\n  this._originalTimeouts = JSON.parse(JSON.stringify(timeouts));\n  this._timeouts = timeouts;\n  this._options = options || {};\n  this._maxRetryTime = options && options.maxRetryTime || Infinity;\n  this._fn = null;\n  this._errors = [];\n  this._attempts = 1;\n  this._operationTimeout = null;\n  this._operationTimeoutCb = null;\n  this._timeout = null;\n  this._operationStart = null;\n  this._timer = null;\n\n  if (this._options.forever) {\n    this._cachedTimeouts = this._timeouts.slice(0);\n  }\n}\nmodule.exports = RetryOperation;\n\nRetryOperation.prototype.reset = function() {\n  this._attempts = 1;\n  this._timeouts = this._originalTimeouts.slice(0);\n}\n\nRetryOperation.prototype.stop = function() {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n  if (this._timer) {\n    clearTimeout(this._timer);\n  }\n\n  this._timeouts       = [];\n  this._cachedTimeouts = null;\n};\n\nRetryOperation.prototype.retry = function(err) {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n\n  if (!err) {\n    return false;\n  }\n  var currentTime = new Date().getTime();\n  if (err && currentTime - this._operationStart >= this._maxRetryTime) {\n    this._errors.push(err);\n    this._errors.unshift(new Error('RetryOperation timeout occurred'));\n    return false;\n  }\n\n  this._errors.push(err);\n\n  var timeout = this._timeouts.shift();\n  if (timeout === undefined) {\n    if (this._cachedTimeouts) {\n      // retry forever, only keep last error\n      this._errors.splice(0, this._errors.length - 1);\n      timeout = this._cachedTimeouts.slice(-1);\n    } else {\n      return false;\n    }\n  }\n\n  var self = this;\n  this._timer = setTimeout(function() {\n    self._attempts++;\n\n    if (self._operationTimeoutCb) {\n      self._timeout = setTimeout(function() {\n        self._operationTimeoutCb(self._attempts);\n      }, self._operationTimeout);\n\n      if (self._options.unref) {\n          self._timeout.unref();\n      }\n    }\n\n    self._fn(self._attempts);\n  }, timeout);\n\n  if (this._options.unref) {\n      this._timer.unref();\n  }\n\n  return true;\n};\n\nRetryOperation.prototype.attempt = function(fn, timeoutOps) {\n  this._fn = fn;\n\n  if (timeoutOps) {\n    if (timeoutOps.timeout) {\n      this._operationTimeout = timeoutOps.timeout;\n    }\n    if (timeoutOps.cb) {\n      this._operationTimeoutCb = timeoutOps.cb;\n    }\n  }\n\n  var self = this;\n  if (this._operationTimeoutCb) {\n    this._timeout = setTimeout(function() {\n      self._operationTimeoutCb();\n    }, self._operationTimeout);\n  }\n\n  this._operationStart = new Date().getTime();\n\n  this._fn(this._attempts);\n};\n\nRetryOperation.prototype.try = function(fn) {\n  console.log('Using RetryOperation.try() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = function(fn) {\n  console.log('Using RetryOperation.start() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = RetryOperation.prototype.try;\n\nRetryOperation.prototype.errors = function() {\n  return this._errors;\n};\n\nRetryOperation.prototype.attempts = function() {\n  return this._attempts;\n};\n\nRetryOperation.prototype.mainError = function() {\n  if (this._errors.length === 0) {\n    return null;\n  }\n\n  var counts = {};\n  var mainError = null;\n  var mainErrorCount = 0;\n\n  for (var i = 0; i < this._errors.length; i++) {\n    var error = this._errors[i];\n    var message = error.message;\n    var count = (counts[message] || 0) + 1;\n\n    counts[message] = count;\n\n    if (count >= mainErrorCount) {\n      mainError = error;\n      mainErrorCount = count;\n    }\n  }\n\n  return mainError;\n};\n", "var RetryOperation = require('./retry_operation');\n\nexports.operation = function(options) {\n  var timeouts = exports.timeouts(options);\n  return new RetryOperation(timeouts, {\n      forever: options && (options.forever || options.retries === Infinity),\n      unref: options && options.unref,\n      maxRetryTime: options && options.maxRetryTime\n  });\n};\n\nexports.timeouts = function(options) {\n  if (options instanceof Array) {\n    return [].concat(options);\n  }\n\n  var opts = {\n    retries: 10,\n    factor: 2,\n    minTimeout: 1 * 1000,\n    maxTimeout: Infinity,\n    randomize: false\n  };\n  for (var key in options) {\n    opts[key] = options[key];\n  }\n\n  if (opts.minTimeout > opts.maxTimeout) {\n    throw new Error('minTimeout is greater than maxTimeout');\n  }\n\n  var timeouts = [];\n  for (var i = 0; i < opts.retries; i++) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  if (options && options.forever && !timeouts.length) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  // sort the array numerically ascending\n  timeouts.sort(function(a,b) {\n    return a - b;\n  });\n\n  return timeouts;\n};\n\nexports.createTimeout = function(attempt, opts) {\n  var random = (opts.randomize)\n    ? (Math.random() + 1)\n    : 1;\n\n  var timeout = Math.round(random * Math.max(opts.minTimeout, 1) * Math.pow(opts.factor, attempt));\n  timeout = Math.min(timeout, opts.maxTimeout);\n\n  return timeout;\n};\n\nexports.wrap = function(obj, options, methods) {\n  if (options instanceof Array) {\n    methods = options;\n    options = null;\n  }\n\n  if (!methods) {\n    methods = [];\n    for (var key in obj) {\n      if (typeof obj[key] === 'function') {\n        methods.push(key);\n      }\n    }\n  }\n\n  for (var i = 0; i < methods.length; i++) {\n    var method   = methods[i];\n    var original = obj[method];\n\n    obj[method] = function retryWrapper(original) {\n      var op       = exports.operation(options);\n      var args     = Array.prototype.slice.call(arguments, 1);\n      var callback = args.pop();\n\n      args.push(function(err) {\n        if (op.retry(err)) {\n          return;\n        }\n        if (err) {\n          arguments[0] = op.mainError();\n        }\n        callback.apply(this, arguments);\n      });\n\n      op.attempt(function() {\n        original.apply(obj, args);\n      });\n    }.bind(obj, original);\n    obj[method].options = options;\n  }\n};\n", "module.exports = require('./lib/retry');", "// Packages\nvar retrier = require('retry');\n\nfunction retry(fn, opts) {\n  function run(resolve, reject) {\n    var options = opts || {};\n    var op;\n\n    // Default `randomize` to true\n    if (!('randomize' in options)) {\n      options.randomize = true;\n    }\n\n    op = retrier.operation(options);\n\n    // We allow the user to abort retrying\n    // this makes sense in the cases where\n    // knowledge is obtained that retrying\n    // would be futile (e.g.: auth errors)\n\n    function bail(err) {\n      reject(err || new Error('Aborted'));\n    }\n\n    function onError(err, num) {\n      if (err.bail) {\n        bail(err);\n        return;\n      }\n\n      if (!op.retry(err)) {\n        reject(op.mainError());\n      } else if (options.onRetry) {\n        options.onRetry(err, num);\n      }\n    }\n\n    function runAttempt(num) {\n      var val;\n\n      try {\n        val = fn(bail, num);\n      } catch (err) {\n        onError(err, num);\n        return;\n      }\n\n      Promise.resolve(val)\n        .then(resolve)\n        .catch(function catchIt(err) {\n          onError(err, num);\n        });\n    }\n\n    op.attempt(runAttempt);\n  }\n\n  return new Promise(run);\n}\n\nmodule.exports = retry;\n", "module.exports = {\n  kClose: Symbol('close'),\n  kDestroy: Symbol('destroy'),\n  kDispatch: Symbol('dispatch'),\n  kUrl: Symbol('url'),\n  kWriting: Symbol('writing'),\n  kResuming: Symbol('resuming'),\n  kQueue: Symbol('queue'),\n  kConnect: Symbol('connect'),\n  kConnecting: Symbol('connecting'),\n  kHeadersList: Symbol('headers list'),\n  kKeepAliveDefaultTimeout: Symbol('default keep alive timeout'),\n  kKeepAliveMaxTimeout: Symbol('max keep alive timeout'),\n  kKeepAliveTimeoutThreshold: Symbol('keep alive timeout threshold'),\n  kKeepAliveTimeoutValue: Symbol('keep alive timeout'),\n  kKeepAlive: Symbol('keep alive'),\n  kHeadersTimeout: Symbol('headers timeout'),\n  kBodyTimeout: Symbol('body timeout'),\n  kServerName: Symbol('server name'),\n  kLocalAddress: Symbol('local address'),\n  kHost: Symbol('host'),\n  kNoRef: Symbol('no ref'),\n  kBodyUsed: Symbol('used'),\n  kRunning: Symbol('running'),\n  kBlocking: Symbol('blocking'),\n  kPending: Symbol('pending'),\n  kSize: Symbol('size'),\n  kBusy: Symbol('busy'),\n  kQueued: Symbol('queued'),\n  kFree: Symbol('free'),\n  kConnected: Symbol('connected'),\n  kClosed: Symbol('closed'),\n  kNeedDrain: Symbol('need drain'),\n  kReset: Symbol('reset'),\n  kDestroyed: Symbol.for('nodejs.stream.destroyed'),\n  kMaxHeadersSize: Symbol('max headers size'),\n  kRunningIdx: Symbol('running index'),\n  kPendingIdx: Symbol('pending index'),\n  kError: Symbol('error'),\n  kClients: Symbol('clients'),\n  kClient: Symbol('client'),\n  kParser: Symbol('parser'),\n  kOnDestroyed: Symbol('destroy callbacks'),\n  kPipelining: Symbol('pipelining'),\n  kSocket: Symbol('socket'),\n  kHostHeader: Symbol('host header'),\n  kConnector: Symbol('connector'),\n  kStrictContentLength: Symbol('strict content length'),\n  kMaxRedirections: Symbol('maxRedirections'),\n  kMaxRequests: Symbol('maxRequestsPerClient'),\n  kProxy: Symbol('proxy agent options'),\n  kCounter: Symbol('socket request counter'),\n  kInterceptors: Symbol('dispatch interceptors'),\n  kMaxResponseSize: Symbol('max response size'),\n  kHTTP2Session: Symbol('http2Session'),\n  kHTTP2SessionState: Symbol('http2Session state'),\n  kHTTP2BuildRequest: Symbol('http2 build request'),\n  kHTTP1BuildRequest: Symbol('http1 build request'),\n  kHTTP2CopyHeaders: Symbol('http2 copy headers'),\n  kHTTPConnVersion: Symbol('http connection version'),\n  kRetryHandlerDefaultRetry: Symbol('retry agent default retry'),\n  kConstruct: Symbol('constructable')\n}\n", "'use strict'\n\nclass UndiciError extends Error {\n  constructor (message) {\n    super(message)\n    this.name = 'UndiciError'\n    this.code = 'UND_ERR'\n  }\n}\n\nclass ConnectTimeoutError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ConnectTimeoutError)\n    this.name = 'ConnectTimeoutError'\n    this.message = message || 'Connect Timeout Error'\n    this.code = 'UND_ERR_CONNECT_TIMEOUT'\n  }\n}\n\nclass HeadersTimeoutError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, HeadersTimeoutError)\n    this.name = 'HeadersTimeoutError'\n    this.message = message || 'Headers Timeout Error'\n    this.code = 'UND_ERR_HEADERS_TIMEOUT'\n  }\n}\n\nclass HeadersOverflowError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, HeadersOverflowError)\n    this.name = 'HeadersOverflowError'\n    this.message = message || 'Headers Overflow Error'\n    this.code = 'UND_ERR_HEADERS_OVERFLOW'\n  }\n}\n\nclass BodyTimeoutError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, BodyTimeoutError)\n    this.name = 'BodyTimeoutError'\n    this.message = message || 'Body Timeout Error'\n    this.code = 'UND_ERR_BODY_TIMEOUT'\n  }\n}\n\nclass ResponseStatusCodeError extends UndiciError {\n  constructor (message, statusCode, headers, body) {\n    super(message)\n    Error.captureStackTrace(this, ResponseStatusCodeError)\n    this.name = 'ResponseStatusCodeError'\n    this.message = message || 'Response Status Code Error'\n    this.code = 'UND_ERR_RESPONSE_STATUS_CODE'\n    this.body = body\n    this.status = statusCode\n    this.statusCode = statusCode\n    this.headers = headers\n  }\n}\n\nclass InvalidArgumentError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, InvalidArgumentError)\n    this.name = 'InvalidArgumentError'\n    this.message = message || 'Invalid Argument Error'\n    this.code = 'UND_ERR_INVALID_ARG'\n  }\n}\n\nclass InvalidReturnValueError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, InvalidReturnValueError)\n    this.name = 'InvalidReturnValueError'\n    this.message = message || 'Invalid Return Value Error'\n    this.code = 'UND_ERR_INVALID_RETURN_VALUE'\n  }\n}\n\nclass RequestAbortedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, RequestAbortedError)\n    this.name = 'AbortError'\n    this.message = message || 'Request aborted'\n    this.code = 'UND_ERR_ABORTED'\n  }\n}\n\nclass InformationalError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, InformationalError)\n    this.name = 'InformationalError'\n    this.message = message || 'Request information'\n    this.code = 'UND_ERR_INFO'\n  }\n}\n\nclass RequestContentLengthMismatchError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, RequestContentLengthMismatchError)\n    this.name = 'RequestContentLengthMismatchError'\n    this.message = message || 'Request body length does not match content-length header'\n    this.code = 'UND_ERR_REQ_CONTENT_LENGTH_MISMATCH'\n  }\n}\n\nclass ResponseContentLengthMismatchError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ResponseContentLengthMismatchError)\n    this.name = 'ResponseContentLengthMismatchError'\n    this.message = message || 'Response body length does not match content-length header'\n    this.code = 'UND_ERR_RES_CONTENT_LENGTH_MISMATCH'\n  }\n}\n\nclass ClientDestroyedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ClientDestroyedError)\n    this.name = 'ClientDestroyedError'\n    this.message = message || 'The client is destroyed'\n    this.code = 'UND_ERR_DESTROYED'\n  }\n}\n\nclass ClientClosedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ClientClosedError)\n    this.name = 'ClientClosedError'\n    this.message = message || 'The client is closed'\n    this.code = 'UND_ERR_CLOSED'\n  }\n}\n\nclass SocketError extends UndiciError {\n  constructor (message, socket) {\n    super(message)\n    Error.captureStackTrace(this, SocketError)\n    this.name = 'SocketError'\n    this.message = message || 'Socket error'\n    this.code = 'UND_ERR_SOCKET'\n    this.socket = socket\n  }\n}\n\nclass NotSupportedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, NotSupportedError)\n    this.name = 'NotSupportedError'\n    this.message = message || 'Not supported error'\n    this.code = 'UND_ERR_NOT_SUPPORTED'\n  }\n}\n\nclass BalancedPoolMissingUpstreamError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, NotSupportedError)\n    this.name = 'MissingUpstreamError'\n    this.message = message || 'No upstream has been added to the BalancedPool'\n    this.code = 'UND_ERR_BPL_MISSING_UPSTREAM'\n  }\n}\n\nclass HTTPParserError extends Error {\n  constructor (message, code, data) {\n    super(message)\n    Error.captureStackTrace(this, HTTPParserError)\n    this.name = 'HTTPParserError'\n    this.code = code ? `HPE_${code}` : undefined\n    this.data = data ? data.toString() : undefined\n  }\n}\n\nclass ResponseExceededMaxSizeError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ResponseExceededMaxSizeError)\n    this.name = 'ResponseExceededMaxSizeError'\n    this.message = message || 'Response content exceeded max size'\n    this.code = 'UND_ERR_RES_EXCEEDED_MAX_SIZE'\n  }\n}\n\nclass RequestRetryError extends UndiciError {\n  constructor (message, code, { headers, data }) {\n    super(message)\n    Error.captureStackTrace(this, RequestRetryError)\n    this.name = 'RequestRetryError'\n    this.message = message || 'Request retry error'\n    this.code = 'UND_ERR_REQ_RETRY'\n    this.statusCode = code\n    this.data = data\n    this.headers = headers\n  }\n}\n\nmodule.exports = {\n  HTTPParserError,\n  UndiciError,\n  HeadersTimeoutError,\n  HeadersOverflowError,\n  BodyTimeoutError,\n  RequestContentLengthMismatchError,\n  ConnectTimeoutError,\n  ResponseStatusCodeError,\n  InvalidArgumentError,\n  InvalidReturnValueError,\n  RequestAbortedError,\n  ClientDestroyedError,\n  ClientClosedError,\n  InformationalError,\n  SocketError,\n  NotSupportedError,\n  ResponseContentLengthMismatchError,\n  BalancedPoolMissingUpstreamError,\n  ResponseExceededMaxSizeError,\n  RequestRetryError\n}\n", "'use strict'\n\n/** @type {Record<string, string | undefined>} */\nconst headerNameLowerCasedRecord = {}\n\n// https://developer.mozilla.org/docs/Web/HTTP/Headers\nconst wellknownHeaderNames = [\n  'Accept',\n  'Accept-Encoding',\n  'Accept-Language',\n  'Accept-Ranges',\n  'Access-Control-Allow-Credentials',\n  'Access-Control-Allow-Headers',\n  'Access-Control-Allow-Methods',\n  'Access-Control-Allow-Origin',\n  'Access-Control-Expose-Headers',\n  'Access-Control-Max-Age',\n  'Access-Control-Request-Headers',\n  'Access-Control-Request-Method',\n  'Age',\n  'Allow',\n  'Alt-Svc',\n  'Alt-Used',\n  'Authorization',\n  'Cache-Control',\n  'Clear-Site-Data',\n  'Connection',\n  'Content-Disposition',\n  'Content-Encoding',\n  'Content-Language',\n  'Content-Length',\n  'Content-Location',\n  'Content-Range',\n  'Content-Security-Policy',\n  'Content-Security-Policy-Report-Only',\n  'Content-Type',\n  'Cookie',\n  'Cross-Origin-Embedder-Policy',\n  'Cross-Origin-Opener-Policy',\n  'Cross-Origin-Resource-Policy',\n  'Date',\n  'Device-Memory',\n  'Downlink',\n  'ECT',\n  'ETag',\n  'Expect',\n  'Expect-CT',\n  'Expires',\n  'Forwarded',\n  'From',\n  'Host',\n  'If-Match',\n  'If-Modified-Since',\n  'If-None-Match',\n  'If-Range',\n  'If-Unmodified-Since',\n  'Keep-Alive',\n  'Last-Modified',\n  'Link',\n  'Location',\n  'Max-Forwards',\n  'Origin',\n  'Permissions-Policy',\n  'Pragma',\n  'Proxy-Authenticate',\n  'Proxy-Authorization',\n  'RTT',\n  'Range',\n  'Referer',\n  'Referrer-Policy',\n  'Refresh',\n  'Retry-After',\n  'Sec-WebSocket-Accept',\n  'Sec-WebSocket-Extensions',\n  'Sec-WebSocket-Key',\n  'Sec-WebSocket-Protocol',\n  'Sec-WebSocket-Version',\n  'Server',\n  'Server-Timing',\n  'Service-Worker-Allowed',\n  'Service-Worker-Navigation-Preload',\n  'Set-Cookie',\n  'SourceMap',\n  'Strict-Transport-Security',\n  'Supports-Loading-Mode',\n  'TE',\n  'Timing-Allow-Origin',\n  'Trailer',\n  'Transfer-Encoding',\n  'Upgrade',\n  'Upgrade-Insecure-Requests',\n  'User-Agent',\n  'Vary',\n  'Via',\n  'WWW-Authenticate',\n  'X-Content-Type-Options',\n  'X-DNS-Prefetch-Control',\n  'X-Frame-Options',\n  'X-Permitted-Cross-Domain-Policies',\n  'X-Powered-By',\n  'X-Requested-With',\n  'X-XSS-Protection'\n]\n\nfor (let i = 0; i < wellknownHeaderNames.length; ++i) {\n  const key = wellknownHeaderNames[i]\n  const lowerCasedKey = key.toLowerCase()\n  headerNameLowerCasedRecord[key] = headerNameLowerCasedRecord[lowerCasedKey] =\n    lowerCasedKey\n}\n\n// Note: object prototypes should not be able to be referenced. e.g. `Object#hasOwnProperty`.\nObject.setPrototypeOf(headerNameLowerCasedRecord, null)\n\nmodule.exports = {\n  wellknownHeaderNames,\n  headerNameLowerCasedRecord\n}\n", "'use strict'\n\nconst assert = require('assert')\nconst { kDestroyed, kBodyUsed } = require('./symbols')\nconst { IncomingMessage } = require('http')\nconst stream = require('stream')\nconst net = require('net')\nconst { InvalidArgumentError } = require('./errors')\nconst { Blob } = require('buffer')\nconst nodeUtil = require('util')\nconst { stringify } = require('querystring')\nconst { headerNameLowerCasedRecord } = require('./constants')\n\nconst [nodeMajor, nodeMinor] = process.versions.node.split('.').map(v => Number(v))\n\nfunction nop () {}\n\nfunction isStream (obj) {\n  return obj && typeof obj === 'object' && typeof obj.pipe === 'function' && typeof obj.on === 'function'\n}\n\n// based on https://github.com/node-fetch/fetch-blob/blob/8ab587d34080de94140b54f07168451e7d0b655e/index.js#L229-L241 (MIT License)\nfunction isBlobLike (object) {\n  return (Blob && object instanceof Blob) || (\n    object &&\n    typeof object === 'object' &&\n    (typeof object.stream === 'function' ||\n      typeof object.arrayBuffer === 'function') &&\n    /^(Blob|File)$/.test(object[Symbol.toStringTag])\n  )\n}\n\nfunction buildURL (url, queryParams) {\n  if (url.includes('?') || url.includes('#')) {\n    throw new Error('Query params cannot be passed when url already contains \"?\" or \"#\".')\n  }\n\n  const stringified = stringify(queryParams)\n\n  if (stringified) {\n    url += '?' + stringified\n  }\n\n  return url\n}\n\nfunction parseURL (url) {\n  if (typeof url === 'string') {\n    url = new URL(url)\n\n    if (!/^https?:/.test(url.origin || url.protocol)) {\n      throw new InvalidArgumentError('Invalid URL protocol: the URL must start with `http:` or `https:`.')\n    }\n\n    return url\n  }\n\n  if (!url || typeof url !== 'object') {\n    throw new InvalidArgumentError('Invalid URL: The URL argument must be a non-null object.')\n  }\n\n  if (!/^https?:/.test(url.origin || url.protocol)) {\n    throw new InvalidArgumentError('Invalid URL protocol: the URL must start with `http:` or `https:`.')\n  }\n\n  if (!(url instanceof URL)) {\n    if (url.port != null && url.port !== '' && !Number.isFinite(parseInt(url.port))) {\n      throw new InvalidArgumentError('Invalid URL: port must be a valid integer or a string representation of an integer.')\n    }\n\n    if (url.path != null && typeof url.path !== 'string') {\n      throw new InvalidArgumentError('Invalid URL path: the path must be a string or null/undefined.')\n    }\n\n    if (url.pathname != null && typeof url.pathname !== 'string') {\n      throw new InvalidArgumentError('Invalid URL pathname: the pathname must be a string or null/undefined.')\n    }\n\n    if (url.hostname != null && typeof url.hostname !== 'string') {\n      throw new InvalidArgumentError('Invalid URL hostname: the hostname must be a string or null/undefined.')\n    }\n\n    if (url.origin != null && typeof url.origin !== 'string') {\n      throw new InvalidArgumentError('Invalid URL origin: the origin must be a string or null/undefined.')\n    }\n\n    const port = url.port != null\n      ? url.port\n      : (url.protocol === 'https:' ? 443 : 80)\n    let origin = url.origin != null\n      ? url.origin\n      : `${url.protocol}//${url.hostname}:${port}`\n    let path = url.path != null\n      ? url.path\n      : `${url.pathname || ''}${url.search || ''}`\n\n    if (origin.endsWith('/')) {\n      origin = origin.substring(0, origin.length - 1)\n    }\n\n    if (path && !path.startsWith('/')) {\n      path = `/${path}`\n    }\n    // new URL(path, origin) is unsafe when `path` contains an absolute URL\n    // From https://developer.mozilla.org/en-US/docs/Web/API/URL/URL:\n    // If first parameter is a relative URL, second param is required, and will be used as the base URL.\n    // If first parameter is an absolute URL, a given second param will be ignored.\n    url = new URL(origin + path)\n  }\n\n  return url\n}\n\nfunction parseOrigin (url) {\n  url = parseURL(url)\n\n  if (url.pathname !== '/' || url.search || url.hash) {\n    throw new InvalidArgumentError('invalid url')\n  }\n\n  return url\n}\n\nfunction getHostname (host) {\n  if (host[0] === '[') {\n    const idx = host.indexOf(']')\n\n    assert(idx !== -1)\n    return host.substring(1, idx)\n  }\n\n  const idx = host.indexOf(':')\n  if (idx === -1) return host\n\n  return host.substring(0, idx)\n}\n\n// IP addresses are not valid server names per RFC6066\n// > Currently, the only server names supported are DNS hostnames\nfunction getServerName (host) {\n  if (!host) {\n    return null\n  }\n\n  assert.strictEqual(typeof host, 'string')\n\n  const servername = getHostname(host)\n  if (net.isIP(servername)) {\n    return ''\n  }\n\n  return servername\n}\n\nfunction deepClone (obj) {\n  return JSON.parse(JSON.stringify(obj))\n}\n\nfunction isAsyncIterable (obj) {\n  return !!(obj != null && typeof obj[Symbol.asyncIterator] === 'function')\n}\n\nfunction isIterable (obj) {\n  return !!(obj != null && (typeof obj[Symbol.iterator] === 'function' || typeof obj[Symbol.asyncIterator] === 'function'))\n}\n\nfunction bodyLength (body) {\n  if (body == null) {\n    return 0\n  } else if (isStream(body)) {\n    const state = body._readableState\n    return state && state.objectMode === false && state.ended === true && Number.isFinite(state.length)\n      ? state.length\n      : null\n  } else if (isBlobLike(body)) {\n    return body.size != null ? body.size : null\n  } else if (isBuffer(body)) {\n    return body.byteLength\n  }\n\n  return null\n}\n\nfunction isDestroyed (stream) {\n  return !stream || !!(stream.destroyed || stream[kDestroyed])\n}\n\nfunction isReadableAborted (stream) {\n  const state = stream && stream._readableState\n  return isDestroyed(stream) && state && !state.endEmitted\n}\n\nfunction destroy (stream, err) {\n  if (stream == null || !isStream(stream) || isDestroyed(stream)) {\n    return\n  }\n\n  if (typeof stream.destroy === 'function') {\n    if (Object.getPrototypeOf(stream).constructor === IncomingMessage) {\n      // See: https://github.com/nodejs/node/pull/38505/files\n      stream.socket = null\n    }\n\n    stream.destroy(err)\n  } else if (err) {\n    process.nextTick((stream, err) => {\n      stream.emit('error', err)\n    }, stream, err)\n  }\n\n  if (stream.destroyed !== true) {\n    stream[kDestroyed] = true\n  }\n}\n\nconst KEEPALIVE_TIMEOUT_EXPR = /timeout=(\\d+)/\nfunction parseKeepAliveTimeout (val) {\n  const m = val.toString().match(KEEPALIVE_TIMEOUT_EXPR)\n  return m ? parseInt(m[1], 10) * 1000 : null\n}\n\n/**\n * Retrieves a header name and returns its lowercase value.\n * @param {string | Buffer} value Header name\n * @returns {string}\n */\nfunction headerNameToString (value) {\n  return headerNameLowerCasedRecord[value] || value.toLowerCase()\n}\n\nfunction parseHeaders (headers, obj = {}) {\n  // For H2 support\n  if (!Array.isArray(headers)) return headers\n\n  for (let i = 0; i < headers.length; i += 2) {\n    const key = headers[i].toString().toLowerCase()\n    let val = obj[key]\n\n    if (!val) {\n      if (Array.isArray(headers[i + 1])) {\n        obj[key] = headers[i + 1].map(x => x.toString('utf8'))\n      } else {\n        obj[key] = headers[i + 1].toString('utf8')\n      }\n    } else {\n      if (!Array.isArray(val)) {\n        val = [val]\n        obj[key] = val\n      }\n      val.push(headers[i + 1].toString('utf8'))\n    }\n  }\n\n  // See https://github.com/nodejs/node/pull/46528\n  if ('content-length' in obj && 'content-disposition' in obj) {\n    obj['content-disposition'] = Buffer.from(obj['content-disposition']).toString('latin1')\n  }\n\n  return obj\n}\n\nfunction parseRawHeaders (headers) {\n  const ret = []\n  let hasContentLength = false\n  let contentDispositionIdx = -1\n\n  for (let n = 0; n < headers.length; n += 2) {\n    const key = headers[n + 0].toString()\n    const val = headers[n + 1].toString('utf8')\n\n    if (key.length === 14 && (key === 'content-length' || key.toLowerCase() === 'content-length')) {\n      ret.push(key, val)\n      hasContentLength = true\n    } else if (key.length === 19 && (key === 'content-disposition' || key.toLowerCase() === 'content-disposition')) {\n      contentDispositionIdx = ret.push(key, val) - 1\n    } else {\n      ret.push(key, val)\n    }\n  }\n\n  // See https://github.com/nodejs/node/pull/46528\n  if (hasContentLength && contentDispositionIdx !== -1) {\n    ret[contentDispositionIdx] = Buffer.from(ret[contentDispositionIdx]).toString('latin1')\n  }\n\n  return ret\n}\n\nfunction isBuffer (buffer) {\n  // See, https://github.com/mcollina/undici/pull/319\n  return buffer instanceof Uint8Array || Buffer.isBuffer(buffer)\n}\n\nfunction validateHandler (handler, method, upgrade) {\n  if (!handler || typeof handler !== 'object') {\n    throw new InvalidArgumentError('handler must be an object')\n  }\n\n  if (typeof handler.onConnect !== 'function') {\n    throw new InvalidArgumentError('invalid onConnect method')\n  }\n\n  if (typeof handler.onError !== 'function') {\n    throw new InvalidArgumentError('invalid onError method')\n  }\n\n  if (typeof handler.onBodySent !== 'function' && handler.onBodySent !== undefined) {\n    throw new InvalidArgumentError('invalid onBodySent method')\n  }\n\n  if (upgrade || method === 'CONNECT') {\n    if (typeof handler.onUpgrade !== 'function') {\n      throw new InvalidArgumentError('invalid onUpgrade method')\n    }\n  } else {\n    if (typeof handler.onHeaders !== 'function') {\n      throw new InvalidArgumentError('invalid onHeaders method')\n    }\n\n    if (typeof handler.onData !== 'function') {\n      throw new InvalidArgumentError('invalid onData method')\n    }\n\n    if (typeof handler.onComplete !== 'function') {\n      throw new InvalidArgumentError('invalid onComplete method')\n    }\n  }\n}\n\n// A body is disturbed if it has been read from and it cannot\n// be re-used without losing state or data.\nfunction isDisturbed (body) {\n  return !!(body && (\n    stream.isDisturbed\n      ? stream.isDisturbed(body) || body[kBodyUsed] // TODO (fix): Why is body[kBodyUsed] needed?\n      : body[kBodyUsed] ||\n        body.readableDidRead ||\n        (body._readableState && body._readableState.dataEmitted) ||\n        isReadableAborted(body)\n  ))\n}\n\nfunction isErrored (body) {\n  return !!(body && (\n    stream.isErrored\n      ? stream.isErrored(body)\n      : /state: 'errored'/.test(nodeUtil.inspect(body)\n      )))\n}\n\nfunction isReadable (body) {\n  return !!(body && (\n    stream.isReadable\n      ? stream.isReadable(body)\n      : /state: 'readable'/.test(nodeUtil.inspect(body)\n      )))\n}\n\nfunction getSocketInfo (socket) {\n  return {\n    localAddress: socket.localAddress,\n    localPort: socket.localPort,\n    remoteAddress: socket.remoteAddress,\n    remotePort: socket.remotePort,\n    remoteFamily: socket.remoteFamily,\n    timeout: socket.timeout,\n    bytesWritten: socket.bytesWritten,\n    bytesRead: socket.bytesRead\n  }\n}\n\nasync function * convertIterableToBuffer (iterable) {\n  for await (const chunk of iterable) {\n    yield Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk)\n  }\n}\n\nlet ReadableStream\nfunction ReadableStreamFrom (iterable) {\n  if (!ReadableStream) {\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  if (ReadableStream.from) {\n    return ReadableStream.from(convertIterableToBuffer(iterable))\n  }\n\n  let iterator\n  return new ReadableStream(\n    {\n      async start () {\n        iterator = iterable[Symbol.asyncIterator]()\n      },\n      async pull (controller) {\n        const { done, value } = await iterator.next()\n        if (done) {\n          queueMicrotask(() => {\n            controller.close()\n          })\n        } else {\n          const buf = Buffer.isBuffer(value) ? value : Buffer.from(value)\n          controller.enqueue(new Uint8Array(buf))\n        }\n        return controller.desiredSize > 0\n      },\n      async cancel (reason) {\n        await iterator.return()\n      }\n    },\n    0\n  )\n}\n\n// The chunk should be a FormData instance and contains\n// all the required methods.\nfunction isFormDataLike (object) {\n  return (\n    object &&\n    typeof object === 'object' &&\n    typeof object.append === 'function' &&\n    typeof object.delete === 'function' &&\n    typeof object.get === 'function' &&\n    typeof object.getAll === 'function' &&\n    typeof object.has === 'function' &&\n    typeof object.set === 'function' &&\n    object[Symbol.toStringTag] === 'FormData'\n  )\n}\n\nfunction throwIfAborted (signal) {\n  if (!signal) { return }\n  if (typeof signal.throwIfAborted === 'function') {\n    signal.throwIfAborted()\n  } else {\n    if (signal.aborted) {\n      // DOMException not available < v17.0.0\n      const err = new Error('The operation was aborted')\n      err.name = 'AbortError'\n      throw err\n    }\n  }\n}\n\nfunction addAbortListener (signal, listener) {\n  if ('addEventListener' in signal) {\n    signal.addEventListener('abort', listener, { once: true })\n    return () => signal.removeEventListener('abort', listener)\n  }\n  signal.addListener('abort', listener)\n  return () => signal.removeListener('abort', listener)\n}\n\nconst hasToWellFormed = !!String.prototype.toWellFormed\n\n/**\n * @param {string} val\n */\nfunction toUSVString (val) {\n  if (hasToWellFormed) {\n    return `${val}`.toWellFormed()\n  } else if (nodeUtil.toUSVString) {\n    return nodeUtil.toUSVString(val)\n  }\n\n  return `${val}`\n}\n\n// Parsed accordingly to RFC 9110\n// https://www.rfc-editor.org/rfc/rfc9110#field.content-range\nfunction parseRangeHeader (range) {\n  if (range == null || range === '') return { start: 0, end: null, size: null }\n\n  const m = range ? range.match(/^bytes (\\d+)-(\\d+)\\/(\\d+)?$/) : null\n  return m\n    ? {\n        start: parseInt(m[1]),\n        end: m[2] ? parseInt(m[2]) : null,\n        size: m[3] ? parseInt(m[3]) : null\n      }\n    : null\n}\n\nconst kEnumerableProperty = Object.create(null)\nkEnumerableProperty.enumerable = true\n\nmodule.exports = {\n  kEnumerableProperty,\n  nop,\n  isDisturbed,\n  isErrored,\n  isReadable,\n  toUSVString,\n  isReadableAborted,\n  isBlobLike,\n  parseOrigin,\n  parseURL,\n  getServerName,\n  isStream,\n  isIterable,\n  isAsyncIterable,\n  isDestroyed,\n  headerNameToString,\n  parseRawHeaders,\n  parseHeaders,\n  parseKeepAliveTimeout,\n  destroy,\n  bodyLength,\n  deepClone,\n  ReadableStreamFrom,\n  isBuffer,\n  validateHandler,\n  getSocketInfo,\n  isFormDataLike,\n  buildURL,\n  throwIfAborted,\n  addAbortListener,\n  parseRangeHeader,\n  nodeMajor,\n  nodeMinor,\n  nodeHasAutoSelectFamily: nodeMajor > 18 || (nodeMajor === 18 && nodeMinor >= 13),\n  safeHTTPMethods: ['GET', 'HEAD', 'OPTIONS', 'TRACE']\n}\n", "'use strict'\n\nlet fastNow = Date.now()\nlet fastNowTimeout\n\nconst fastTimers = []\n\nfunction onTimeout () {\n  fastNow = Date.now()\n\n  let len = fastTimers.length\n  let idx = 0\n  while (idx < len) {\n    const timer = fastTimers[idx]\n\n    if (timer.state === 0) {\n      timer.state = fastNow + timer.delay\n    } else if (timer.state > 0 && fastNow >= timer.state) {\n      timer.state = -1\n      timer.callback(timer.opaque)\n    }\n\n    if (timer.state === -1) {\n      timer.state = -2\n      if (idx !== len - 1) {\n        fastTimers[idx] = fastTimers.pop()\n      } else {\n        fastTimers.pop()\n      }\n      len -= 1\n    } else {\n      idx += 1\n    }\n  }\n\n  if (fastTimers.length > 0) {\n    refreshTimeout()\n  }\n}\n\nfunction refreshTimeout () {\n  if (fastNowTimeout && fastNowTimeout.refresh) {\n    fastNowTimeout.refresh()\n  } else {\n    clearTimeout(fastNowTimeout)\n    fastNowTimeout = setTimeout(onTimeout, 1e3)\n    if (fastNowTimeout.unref) {\n      fastNowTimeout.unref()\n    }\n  }\n}\n\nclass Timeout {\n  constructor (callback, delay, opaque) {\n    this.callback = callback\n    this.delay = delay\n    this.opaque = opaque\n\n    //  -2 not in timer list\n    //  -1 in timer list but inactive\n    //   0 in timer list waiting for time\n    // > 0 in timer list waiting for time to expire\n    this.state = -2\n\n    this.refresh()\n  }\n\n  refresh () {\n    if (this.state === -2) {\n      fastTimers.push(this)\n      if (!fastNowTimeout || fastTimers.length === 1) {\n        refreshTimeout()\n      }\n    }\n\n    this.state = 0\n  }\n\n  clear () {\n    this.state = -1\n  }\n}\n\nmodule.exports = {\n  setTimeout (callback, delay, opaque) {\n    return delay < 1e3\n      ? setTimeout(callback, delay, opaque)\n      : new Timeout(callback, delay, opaque)\n  },\n  clearTimeout (timeout) {\n    if (timeout instanceof Timeout) {\n      timeout.clear()\n    } else {\n      clearTimeout(timeout)\n    }\n  }\n}\n", "'use strict'\n\n/**\n * Copyright Brian White. All rights reserved.\n *\n * @see https://github.com/mscdex/streamsearch\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n *\n * Based heavily on the Streaming Boyer-Moore-Horspool C++ implementation\n * by Hongli Lai at: https://github.com/FooBarWidget/boyer-moore-horspool\n */\nconst EventEmitter = require('node:events').EventEmitter\nconst inherits = require('node:util').inherits\n\nfunction SBMH (needle) {\n  if (typeof needle === 'string') {\n    needle = Buffer.from(needle)\n  }\n\n  if (!Buffer.isBuffer(needle)) {\n    throw new TypeError('The needle has to be a String or a Buffer.')\n  }\n\n  const needleLength = needle.length\n\n  if (needleLength === 0) {\n    throw new Error('The needle cannot be an empty String/Buffer.')\n  }\n\n  if (needleLength > 256) {\n    throw new Error('The needle cannot have a length bigger than 256.')\n  }\n\n  this.maxMatches = Infinity\n  this.matches = 0\n\n  this._occ = new Array(256)\n    .fill(needleLength) // Initialize occurrence table.\n  this._lookbehind_size = 0\n  this._needle = needle\n  this._bufpos = 0\n\n  this._lookbehind = Buffer.alloc(needleLength)\n\n  // Populate occurrence table with analysis of the needle,\n  // ignoring last letter.\n  for (var i = 0; i < needleLength - 1; ++i) { // eslint-disable-line no-var\n    this._occ[needle[i]] = needleLength - 1 - i\n  }\n}\ninherits(SBMH, EventEmitter)\n\nSBMH.prototype.reset = function () {\n  this._lookbehind_size = 0\n  this.matches = 0\n  this._bufpos = 0\n}\n\nSBMH.prototype.push = function (chunk, pos) {\n  if (!Buffer.isBuffer(chunk)) {\n    chunk = Buffer.from(chunk, 'binary')\n  }\n  const chlen = chunk.length\n  this._bufpos = pos || 0\n  let r\n  while (r !== chlen && this.matches < this.maxMatches) { r = this._sbmh_feed(chunk) }\n  return r\n}\n\nSBMH.prototype._sbmh_feed = function (data) {\n  const len = data.length\n  const needle = this._needle\n  const needleLength = needle.length\n  const lastNeedleChar = needle[needleLength - 1]\n\n  // Positive: points to a position in `data`\n  //           pos == 3 points to data[3]\n  // Negative: points to a position in the lookbehind buffer\n  //           pos == -2 points to lookbehind[lookbehind_size - 2]\n  let pos = -this._lookbehind_size\n  let ch\n\n  if (pos < 0) {\n    // Lookbehind buffer is not empty. Perform Boyer-Moore-Horspool\n    // search with character lookup code that considers both the\n    // lookbehind buffer and the current round's haystack data.\n    //\n    // Loop until\n    //   there is a match.\n    // or until\n    //   we've moved past the position that requires the\n    //   lookbehind buffer. In this case we switch to the\n    //   optimized loop.\n    // or until\n    //   the character to look at lies outside the haystack.\n    while (pos < 0 && pos <= len - needleLength) {\n      ch = this._sbmh_lookup_char(data, pos + needleLength - 1)\n\n      if (\n        ch === lastNeedleChar &&\n        this._sbmh_memcmp(data, pos, needleLength - 1)\n      ) {\n        this._lookbehind_size = 0\n        ++this.matches\n        this.emit('info', true)\n\n        return (this._bufpos = pos + needleLength)\n      }\n      pos += this._occ[ch]\n    }\n\n    // No match.\n\n    if (pos < 0) {\n      // There's too few data for Boyer-Moore-Horspool to run,\n      // so let's use a different algorithm to skip as much as\n      // we can.\n      // Forward pos until\n      //   the trailing part of lookbehind + data\n      //   looks like the beginning of the needle\n      // or until\n      //   pos == 0\n      while (pos < 0 && !this._sbmh_memcmp(data, pos, len - pos)) { ++pos }\n    }\n\n    if (pos >= 0) {\n      // Discard lookbehind buffer.\n      this.emit('info', false, this._lookbehind, 0, this._lookbehind_size)\n      this._lookbehind_size = 0\n    } else {\n      // Cut off part of the lookbehind buffer that has\n      // been processed and append the entire haystack\n      // into it.\n      const bytesToCutOff = this._lookbehind_size + pos\n      if (bytesToCutOff > 0) {\n        // The cut off data is guaranteed not to contain the needle.\n        this.emit('info', false, this._lookbehind, 0, bytesToCutOff)\n      }\n\n      this._lookbehind.copy(this._lookbehind, 0, bytesToCutOff,\n        this._lookbehind_size - bytesToCutOff)\n      this._lookbehind_size -= bytesToCutOff\n\n      data.copy(this._lookbehind, this._lookbehind_size)\n      this._lookbehind_size += len\n\n      this._bufpos = len\n      return len\n    }\n  }\n\n  pos += (pos >= 0) * this._bufpos\n\n  // Lookbehind buffer is now empty. We only need to check if the\n  // needle is in the haystack.\n  if (data.indexOf(needle, pos) !== -1) {\n    pos = data.indexOf(needle, pos)\n    ++this.matches\n    if (pos > 0) { this.emit('info', true, data, this._bufpos, pos) } else { this.emit('info', true) }\n\n    return (this._bufpos = pos + needleLength)\n  } else {\n    pos = len - needleLength\n  }\n\n  // There was no match. If there's trailing haystack data that we cannot\n  // match yet using the Boyer-Moore-Horspool algorithm (because the trailing\n  // data is less than the needle size) then match using a modified\n  // algorithm that starts matching from the beginning instead of the end.\n  // Whatever trailing data is left after running this algorithm is added to\n  // the lookbehind buffer.\n  while (\n    pos < len &&\n    (\n      data[pos] !== needle[0] ||\n      (\n        (Buffer.compare(\n          data.subarray(pos, pos + len - pos),\n          needle.subarray(0, len - pos)\n        ) !== 0)\n      )\n    )\n  ) {\n    ++pos\n  }\n  if (pos < len) {\n    data.copy(this._lookbehind, 0, pos, pos + (len - pos))\n    this._lookbehind_size = len - pos\n  }\n\n  // Everything until pos is guaranteed not to contain needle data.\n  if (pos > 0) { this.emit('info', false, data, this._bufpos, pos < len ? pos : len) }\n\n  this._bufpos = len\n  return len\n}\n\nSBMH.prototype._sbmh_lookup_char = function (data, pos) {\n  return (pos < 0)\n    ? this._lookbehind[this._lookbehind_size + pos]\n    : data[pos]\n}\n\nSBMH.prototype._sbmh_memcmp = function (data, pos, len) {\n  for (var i = 0; i < len; ++i) { // eslint-disable-line no-var\n    if (this._sbmh_lookup_char(data, pos + i) !== this._needle[i]) { return false }\n  }\n  return true\n}\n\nmodule.exports = SBMH\n", "'use strict'\n\nconst inherits = require('node:util').inherits\nconst ReadableStream = require('node:stream').Readable\n\nfunction PartStream (opts) {\n  ReadableStream.call(this, opts)\n}\ninherits(PartStream, ReadableStream)\n\nPartStream.prototype._read = function (n) {}\n\nmodule.exports = PartStream\n", "'use strict'\n\nmodule.exports = function getLimit (limits, name, defaultLimit) {\n  if (\n    !limits ||\n    limits[name] === undefined ||\n    limits[name] === null\n  ) { return defaultLimit }\n\n  if (\n    typeof limits[name] !== 'number' ||\n    isNaN(limits[name])\n  ) { throw new TypeError('Limit ' + name + ' is not a valid number') }\n\n  return limits[name]\n}\n", "'use strict'\n\nconst EventEmitter = require('node:events').EventEmitter\nconst inherits = require('node:util').inherits\nconst getLimit = require('../../../lib/utils/getLimit')\n\nconst StreamSearch = require('../../streamsearch/sbmh')\n\nconst B_DCRLF = Buffer.from('\\r\\n\\r\\n')\nconst RE_CRLF = /\\r\\n/g\nconst RE_HDR = /^([^:]+):[ \\t]?([\\x00-\\xFF]+)?$/ // eslint-disable-line no-control-regex\n\nfunction HeaderParser (cfg) {\n  EventEmitter.call(this)\n\n  cfg = cfg || {}\n  const self = this\n  this.nread = 0\n  this.maxed = false\n  this.npairs = 0\n  this.maxHeaderPairs = getLimit(cfg, 'maxHeaderPairs', 2000)\n  this.maxHeaderSize = getLimit(cfg, 'maxHeaderSize', 80 * 1024)\n  this.buffer = ''\n  this.header = {}\n  this.finished = false\n  this.ss = new StreamSearch(B_DCRLF)\n  this.ss.on('info', function (isMatch, data, start, end) {\n    if (data && !self.maxed) {\n      if (self.nread + end - start >= self.maxHeaderSize) {\n        end = self.maxHeaderSize - self.nread + start\n        self.nread = self.maxHeaderSize\n        self.maxed = true\n      } else { self.nread += (end - start) }\n\n      self.buffer += data.toString('binary', start, end)\n    }\n    if (isMatch) { self._finish() }\n  })\n}\ninherits(HeaderParser, EventEmitter)\n\nHeaderParser.prototype.push = function (data) {\n  const r = this.ss.push(data)\n  if (this.finished) { return r }\n}\n\nHeaderParser.prototype.reset = function () {\n  this.finished = false\n  this.buffer = ''\n  this.header = {}\n  this.ss.reset()\n}\n\nHeaderParser.prototype._finish = function () {\n  if (this.buffer) { this._parseHeader() }\n  this.ss.matches = this.ss.maxMatches\n  const header = this.header\n  this.header = {}\n  this.buffer = ''\n  this.finished = true\n  this.nread = this.npairs = 0\n  this.maxed = false\n  this.emit('header', header)\n}\n\nHeaderParser.prototype._parseHeader = function () {\n  if (this.npairs === this.maxHeaderPairs) { return }\n\n  const lines = this.buffer.split(RE_CRLF)\n  const len = lines.length\n  let m, h\n\n  for (var i = 0; i < len; ++i) { // eslint-disable-line no-var\n    if (lines[i].length === 0) { continue }\n    if (lines[i][0] === '\\t' || lines[i][0] === ' ') {\n      // folded header content\n      // RFC2822 says to just remove the CRLF and not the whitespace following\n      // it, so we follow the RFC and include the leading whitespace ...\n      if (h) {\n        this.header[h][this.header[h].length - 1] += lines[i]\n        continue\n      }\n    }\n\n    const posColon = lines[i].indexOf(':')\n    if (\n      posColon === -1 ||\n      posColon === 0\n    ) {\n      return\n    }\n    m = RE_HDR.exec(lines[i])\n    h = m[1].toLowerCase()\n    this.header[h] = this.header[h] || []\n    this.header[h].push((m[2] || ''))\n    if (++this.npairs === this.maxHeaderPairs) { break }\n  }\n}\n\nmodule.exports = HeaderParser\n", "'use strict'\n\nconst WritableStream = require('node:stream').Writable\nconst inherits = require('node:util').inherits\n\nconst StreamSearch = require('../../streamsearch/sbmh')\n\nconst PartStream = require('./PartStream')\nconst HeaderParser = require('./HeaderParser')\n\nconst DASH = 45\nconst B_ONEDASH = Buffer.from('-')\nconst B_CRLF = Buffer.from('\\r\\n')\nconst EMPTY_FN = function () {}\n\nfunction Dicer (cfg) {\n  if (!(this instanceof Dicer)) { return new Dicer(cfg) }\n  WritableStream.call(this, cfg)\n\n  if (!cfg || (!cfg.headerFirst && typeof cfg.boundary !== 'string')) { throw new TypeError('Boundary required') }\n\n  if (typeof cfg.boundary === 'string') { this.setBoundary(cfg.boundary) } else { this._bparser = undefined }\n\n  this._headerFirst = cfg.headerFirst\n\n  this._dashes = 0\n  this._parts = 0\n  this._finished = false\n  this._realFinish = false\n  this._isPreamble = true\n  this._justMatched = false\n  this._firstWrite = true\n  this._inHeader = true\n  this._part = undefined\n  this._cb = undefined\n  this._ignoreData = false\n  this._partOpts = { highWaterMark: cfg.partHwm }\n  this._pause = false\n\n  const self = this\n  this._hparser = new HeaderParser(cfg)\n  this._hparser.on('header', function (header) {\n    self._inHeader = false\n    self._part.emit('header', header)\n  })\n}\ninherits(Dicer, WritableStream)\n\nDicer.prototype.emit = function (ev) {\n  if (ev === 'finish' && !this._realFinish) {\n    if (!this._finished) {\n      const self = this\n      process.nextTick(function () {\n        self.emit('error', new Error('Unexpected end of multipart data'))\n        if (self._part && !self._ignoreData) {\n          const type = (self._isPreamble ? 'Preamble' : 'Part')\n          self._part.emit('error', new Error(type + ' terminated early due to unexpected end of multipart data'))\n          self._part.push(null)\n          process.nextTick(function () {\n            self._realFinish = true\n            self.emit('finish')\n            self._realFinish = false\n          })\n          return\n        }\n        self._realFinish = true\n        self.emit('finish')\n        self._realFinish = false\n      })\n    }\n  } else { WritableStream.prototype.emit.apply(this, arguments) }\n}\n\nDicer.prototype._write = function (data, encoding, cb) {\n  // ignore unexpected data (e.g. extra trailer data after finished)\n  if (!this._hparser && !this._bparser) { return cb() }\n\n  if (this._headerFirst && this._isPreamble) {\n    if (!this._part) {\n      this._part = new PartStream(this._partOpts)\n      if (this.listenerCount('preamble') !== 0) { this.emit('preamble', this._part) } else { this._ignore() }\n    }\n    const r = this._hparser.push(data)\n    if (!this._inHeader && r !== undefined && r < data.length) { data = data.slice(r) } else { return cb() }\n  }\n\n  // allows for \"easier\" testing\n  if (this._firstWrite) {\n    this._bparser.push(B_CRLF)\n    this._firstWrite = false\n  }\n\n  this._bparser.push(data)\n\n  if (this._pause) { this._cb = cb } else { cb() }\n}\n\nDicer.prototype.reset = function () {\n  this._part = undefined\n  this._bparser = undefined\n  this._hparser = undefined\n}\n\nDicer.prototype.setBoundary = function (boundary) {\n  const self = this\n  this._bparser = new StreamSearch('\\r\\n--' + boundary)\n  this._bparser.on('info', function (isMatch, data, start, end) {\n    self._oninfo(isMatch, data, start, end)\n  })\n}\n\nDicer.prototype._ignore = function () {\n  if (this._part && !this._ignoreData) {\n    this._ignoreData = true\n    this._part.on('error', EMPTY_FN)\n    // we must perform some kind of read on the stream even though we are\n    // ignoring the data, otherwise node's Readable stream will not emit 'end'\n    // after pushing null to the stream\n    this._part.resume()\n  }\n}\n\nDicer.prototype._oninfo = function (isMatch, data, start, end) {\n  let buf; const self = this; let i = 0; let r; let shouldWriteMore = true\n\n  if (!this._part && this._justMatched && data) {\n    while (this._dashes < 2 && (start + i) < end) {\n      if (data[start + i] === DASH) {\n        ++i\n        ++this._dashes\n      } else {\n        if (this._dashes) { buf = B_ONEDASH }\n        this._dashes = 0\n        break\n      }\n    }\n    if (this._dashes === 2) {\n      if ((start + i) < end && this.listenerCount('trailer') !== 0) { this.emit('trailer', data.slice(start + i, end)) }\n      this.reset()\n      this._finished = true\n      // no more parts will be added\n      if (self._parts === 0) {\n        self._realFinish = true\n        self.emit('finish')\n        self._realFinish = false\n      }\n    }\n    if (this._dashes) { return }\n  }\n  if (this._justMatched) { this._justMatched = false }\n  if (!this._part) {\n    this._part = new PartStream(this._partOpts)\n    this._part._read = function (n) {\n      self._unpause()\n    }\n    if (this._isPreamble && this.listenerCount('preamble') !== 0) {\n      this.emit('preamble', this._part)\n    } else if (this._isPreamble !== true && this.listenerCount('part') !== 0) {\n      this.emit('part', this._part)\n    } else {\n      this._ignore()\n    }\n    if (!this._isPreamble) { this._inHeader = true }\n  }\n  if (data && start < end && !this._ignoreData) {\n    if (this._isPreamble || !this._inHeader) {\n      if (buf) { shouldWriteMore = this._part.push(buf) }\n      shouldWriteMore = this._part.push(data.slice(start, end))\n      if (!shouldWriteMore) { this._pause = true }\n    } else if (!this._isPreamble && this._inHeader) {\n      if (buf) { this._hparser.push(buf) }\n      r = this._hparser.push(data.slice(start, end))\n      if (!this._inHeader && r !== undefined && r < end) { this._oninfo(false, data, start + r, end) }\n    }\n  }\n  if (isMatch) {\n    this._hparser.reset()\n    if (this._isPreamble) { this._isPreamble = false } else {\n      if (start !== end) {\n        ++this._parts\n        this._part.on('end', function () {\n          if (--self._parts === 0) {\n            if (self._finished) {\n              self._realFinish = true\n              self.emit('finish')\n              self._realFinish = false\n            } else {\n              self._unpause()\n            }\n          }\n        })\n      }\n    }\n    this._part.push(null)\n    this._part = undefined\n    this._ignoreData = false\n    this._justMatched = true\n    this._dashes = 0\n  }\n}\n\nDicer.prototype._unpause = function () {\n  if (!this._pause) { return }\n\n  this._pause = false\n  if (this._cb) {\n    const cb = this._cb\n    this._cb = undefined\n    cb()\n  }\n}\n\nmodule.exports = Dicer\n", "'use strict'\n\n// Node has always utf-8\nconst utf8Decoder = new TextDecoder('utf-8')\nconst textDecoders = new Map([\n  ['utf-8', utf8Decoder],\n  ['utf8', utf8Decoder]\n])\n\nfunction getDecoder (charset) {\n  let lc\n  while (true) {\n    switch (charset) {\n      case 'utf-8':\n      case 'utf8':\n        return decoders.utf8\n      case 'latin1':\n      case 'ascii': // TODO: Make these a separate, strict decoder?\n      case 'us-ascii':\n      case 'iso-8859-1':\n      case 'iso8859-1':\n      case 'iso88591':\n      case 'iso_8859-1':\n      case 'windows-1252':\n      case 'iso_8859-1:1987':\n      case 'cp1252':\n      case 'x-cp1252':\n        return decoders.latin1\n      case 'utf16le':\n      case 'utf-16le':\n      case 'ucs2':\n      case 'ucs-2':\n        return decoders.utf16le\n      case 'base64':\n        return decoders.base64\n      default:\n        if (lc === undefined) {\n          lc = true\n          charset = charset.toLowerCase()\n          continue\n        }\n        return decoders.other.bind(charset)\n    }\n  }\n}\n\nconst decoders = {\n  utf8: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      data = Buffer.from(data, sourceEncoding)\n    }\n    return data.utf8Slice(0, data.length)\n  },\n\n  latin1: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      return data\n    }\n    return data.latin1Slice(0, data.length)\n  },\n\n  utf16le: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      data = Buffer.from(data, sourceEncoding)\n    }\n    return data.ucs2Slice(0, data.length)\n  },\n\n  base64: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      data = Buffer.from(data, sourceEncoding)\n    }\n    return data.base64Slice(0, data.length)\n  },\n\n  other: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      data = Buffer.from(data, sourceEncoding)\n    }\n\n    if (textDecoders.has(this.toString())) {\n      try {\n        return textDecoders.get(this).decode(data)\n      } catch {}\n    }\n    return typeof data === 'string'\n      ? data\n      : data.toString()\n  }\n}\n\nfunction decodeText (text, sourceEncoding, destEncoding) {\n  if (text) {\n    return getDecoder(destEncoding)(text, sourceEncoding)\n  }\n  return text\n}\n\nmodule.exports = decodeText\n", "/* eslint-disable object-property-newline */\n'use strict'\n\nconst decodeText = require('./decodeText')\n\nconst RE_ENCODED = /%[a-fA-F0-9][a-fA-F0-9]/g\n\nconst EncodedLookup = {\n  '%00': '\\x00', '%01': '\\x01', '%02': '\\x02', '%03': '\\x03', '%04': '\\x04',\n  '%05': '\\x05', '%06': '\\x06', '%07': '\\x07', '%08': '\\x08', '%09': '\\x09',\n  '%0a': '\\x0a', '%0A': '\\x0a', '%0b': '\\x0b', '%0B': '\\x0b', '%0c': '\\x0c',\n  '%0C': '\\x0c', '%0d': '\\x0d', '%0D': '\\x0d', '%0e': '\\x0e', '%0E': '\\x0e',\n  '%0f': '\\x0f', '%0F': '\\x0f', '%10': '\\x10', '%11': '\\x11', '%12': '\\x12',\n  '%13': '\\x13', '%14': '\\x14', '%15': '\\x15', '%16': '\\x16', '%17': '\\x17',\n  '%18': '\\x18', '%19': '\\x19', '%1a': '\\x1a', '%1A': '\\x1a', '%1b': '\\x1b',\n  '%1B': '\\x1b', '%1c': '\\x1c', '%1C': '\\x1c', '%1d': '\\x1d', '%1D': '\\x1d',\n  '%1e': '\\x1e', '%1E': '\\x1e', '%1f': '\\x1f', '%1F': '\\x1f', '%20': '\\x20',\n  '%21': '\\x21', '%22': '\\x22', '%23': '\\x23', '%24': '\\x24', '%25': '\\x25',\n  '%26': '\\x26', '%27': '\\x27', '%28': '\\x28', '%29': '\\x29', '%2a': '\\x2a',\n  '%2A': '\\x2a', '%2b': '\\x2b', '%2B': '\\x2b', '%2c': '\\x2c', '%2C': '\\x2c',\n  '%2d': '\\x2d', '%2D': '\\x2d', '%2e': '\\x2e', '%2E': '\\x2e', '%2f': '\\x2f',\n  '%2F': '\\x2f', '%30': '\\x30', '%31': '\\x31', '%32': '\\x32', '%33': '\\x33',\n  '%34': '\\x34', '%35': '\\x35', '%36': '\\x36', '%37': '\\x37', '%38': '\\x38',\n  '%39': '\\x39', '%3a': '\\x3a', '%3A': '\\x3a', '%3b': '\\x3b', '%3B': '\\x3b',\n  '%3c': '\\x3c', '%3C': '\\x3c', '%3d': '\\x3d', '%3D': '\\x3d', '%3e': '\\x3e',\n  '%3E': '\\x3e', '%3f': '\\x3f', '%3F': '\\x3f', '%40': '\\x40', '%41': '\\x41',\n  '%42': '\\x42', '%43': '\\x43', '%44': '\\x44', '%45': '\\x45', '%46': '\\x46',\n  '%47': '\\x47', '%48': '\\x48', '%49': '\\x49', '%4a': '\\x4a', '%4A': '\\x4a',\n  '%4b': '\\x4b', '%4B': '\\x4b', '%4c': '\\x4c', '%4C': '\\x4c', '%4d': '\\x4d',\n  '%4D': '\\x4d', '%4e': '\\x4e', '%4E': '\\x4e', '%4f': '\\x4f', '%4F': '\\x4f',\n  '%50': '\\x50', '%51': '\\x51', '%52': '\\x52', '%53': '\\x53', '%54': '\\x54',\n  '%55': '\\x55', '%56': '\\x56', '%57': '\\x57', '%58': '\\x58', '%59': '\\x59',\n  '%5a': '\\x5a', '%5A': '\\x5a', '%5b': '\\x5b', '%5B': '\\x5b', '%5c': '\\x5c',\n  '%5C': '\\x5c', '%5d': '\\x5d', '%5D': '\\x5d', '%5e': '\\x5e', '%5E': '\\x5e',\n  '%5f': '\\x5f', '%5F': '\\x5f', '%60': '\\x60', '%61': '\\x61', '%62': '\\x62',\n  '%63': '\\x63', '%64': '\\x64', '%65': '\\x65', '%66': '\\x66', '%67': '\\x67',\n  '%68': '\\x68', '%69': '\\x69', '%6a': '\\x6a', '%6A': '\\x6a', '%6b': '\\x6b',\n  '%6B': '\\x6b', '%6c': '\\x6c', '%6C': '\\x6c', '%6d': '\\x6d', '%6D': '\\x6d',\n  '%6e': '\\x6e', '%6E': '\\x6e', '%6f': '\\x6f', '%6F': '\\x6f', '%70': '\\x70',\n  '%71': '\\x71', '%72': '\\x72', '%73': '\\x73', '%74': '\\x74', '%75': '\\x75',\n  '%76': '\\x76', '%77': '\\x77', '%78': '\\x78', '%79': '\\x79', '%7a': '\\x7a',\n  '%7A': '\\x7a', '%7b': '\\x7b', '%7B': '\\x7b', '%7c': '\\x7c', '%7C': '\\x7c',\n  '%7d': '\\x7d', '%7D': '\\x7d', '%7e': '\\x7e', '%7E': '\\x7e', '%7f': '\\x7f',\n  '%7F': '\\x7f', '%80': '\\x80', '%81': '\\x81', '%82': '\\x82', '%83': '\\x83',\n  '%84': '\\x84', '%85': '\\x85', '%86': '\\x86', '%87': '\\x87', '%88': '\\x88',\n  '%89': '\\x89', '%8a': '\\x8a', '%8A': '\\x8a', '%8b': '\\x8b', '%8B': '\\x8b',\n  '%8c': '\\x8c', '%8C': '\\x8c', '%8d': '\\x8d', '%8D': '\\x8d', '%8e': '\\x8e',\n  '%8E': '\\x8e', '%8f': '\\x8f', '%8F': '\\x8f', '%90': '\\x90', '%91': '\\x91',\n  '%92': '\\x92', '%93': '\\x93', '%94': '\\x94', '%95': '\\x95', '%96': '\\x96',\n  '%97': '\\x97', '%98': '\\x98', '%99': '\\x99', '%9a': '\\x9a', '%9A': '\\x9a',\n  '%9b': '\\x9b', '%9B': '\\x9b', '%9c': '\\x9c', '%9C': '\\x9c', '%9d': '\\x9d',\n  '%9D': '\\x9d', '%9e': '\\x9e', '%9E': '\\x9e', '%9f': '\\x9f', '%9F': '\\x9f',\n  '%a0': '\\xa0', '%A0': '\\xa0', '%a1': '\\xa1', '%A1': '\\xa1', '%a2': '\\xa2',\n  '%A2': '\\xa2', '%a3': '\\xa3', '%A3': '\\xa3', '%a4': '\\xa4', '%A4': '\\xa4',\n  '%a5': '\\xa5', '%A5': '\\xa5', '%a6': '\\xa6', '%A6': '\\xa6', '%a7': '\\xa7',\n  '%A7': '\\xa7', '%a8': '\\xa8', '%A8': '\\xa8', '%a9': '\\xa9', '%A9': '\\xa9',\n  '%aa': '\\xaa', '%Aa': '\\xaa', '%aA': '\\xaa', '%AA': '\\xaa', '%ab': '\\xab',\n  '%Ab': '\\xab', '%aB': '\\xab', '%AB': '\\xab', '%ac': '\\xac', '%Ac': '\\xac',\n  '%aC': '\\xac', '%AC': '\\xac', '%ad': '\\xad', '%Ad': '\\xad', '%aD': '\\xad',\n  '%AD': '\\xad', '%ae': '\\xae', '%Ae': '\\xae', '%aE': '\\xae', '%AE': '\\xae',\n  '%af': '\\xaf', '%Af': '\\xaf', '%aF': '\\xaf', '%AF': '\\xaf', '%b0': '\\xb0',\n  '%B0': '\\xb0', '%b1': '\\xb1', '%B1': '\\xb1', '%b2': '\\xb2', '%B2': '\\xb2',\n  '%b3': '\\xb3', '%B3': '\\xb3', '%b4': '\\xb4', '%B4': '\\xb4', '%b5': '\\xb5',\n  '%B5': '\\xb5', '%b6': '\\xb6', '%B6': '\\xb6', '%b7': '\\xb7', '%B7': '\\xb7',\n  '%b8': '\\xb8', '%B8': '\\xb8', '%b9': '\\xb9', '%B9': '\\xb9', '%ba': '\\xba',\n  '%Ba': '\\xba', '%bA': '\\xba', '%BA': '\\xba', '%bb': '\\xbb', '%Bb': '\\xbb',\n  '%bB': '\\xbb', '%BB': '\\xbb', '%bc': '\\xbc', '%Bc': '\\xbc', '%bC': '\\xbc',\n  '%BC': '\\xbc', '%bd': '\\xbd', '%Bd': '\\xbd', '%bD': '\\xbd', '%BD': '\\xbd',\n  '%be': '\\xbe', '%Be': '\\xbe', '%bE': '\\xbe', '%BE': '\\xbe', '%bf': '\\xbf',\n  '%Bf': '\\xbf', '%bF': '\\xbf', '%BF': '\\xbf', '%c0': '\\xc0', '%C0': '\\xc0',\n  '%c1': '\\xc1', '%C1': '\\xc1', '%c2': '\\xc2', '%C2': '\\xc2', '%c3': '\\xc3',\n  '%C3': '\\xc3', '%c4': '\\xc4', '%C4': '\\xc4', '%c5': '\\xc5', '%C5': '\\xc5',\n  '%c6': '\\xc6', '%C6': '\\xc6', '%c7': '\\xc7', '%C7': '\\xc7', '%c8': '\\xc8',\n  '%C8': '\\xc8', '%c9': '\\xc9', '%C9': '\\xc9', '%ca': '\\xca', '%Ca': '\\xca',\n  '%cA': '\\xca', '%CA': '\\xca', '%cb': '\\xcb', '%Cb': '\\xcb', '%cB': '\\xcb',\n  '%CB': '\\xcb', '%cc': '\\xcc', '%Cc': '\\xcc', '%cC': '\\xcc', '%CC': '\\xcc',\n  '%cd': '\\xcd', '%Cd': '\\xcd', '%cD': '\\xcd', '%CD': '\\xcd', '%ce': '\\xce',\n  '%Ce': '\\xce', '%cE': '\\xce', '%CE': '\\xce', '%cf': '\\xcf', '%Cf': '\\xcf',\n  '%cF': '\\xcf', '%CF': '\\xcf', '%d0': '\\xd0', '%D0': '\\xd0', '%d1': '\\xd1',\n  '%D1': '\\xd1', '%d2': '\\xd2', '%D2': '\\xd2', '%d3': '\\xd3', '%D3': '\\xd3',\n  '%d4': '\\xd4', '%D4': '\\xd4', '%d5': '\\xd5', '%D5': '\\xd5', '%d6': '\\xd6',\n  '%D6': '\\xd6', '%d7': '\\xd7', '%D7': '\\xd7', '%d8': '\\xd8', '%D8': '\\xd8',\n  '%d9': '\\xd9', '%D9': '\\xd9', '%da': '\\xda', '%Da': '\\xda', '%dA': '\\xda',\n  '%DA': '\\xda', '%db': '\\xdb', '%Db': '\\xdb', '%dB': '\\xdb', '%DB': '\\xdb',\n  '%dc': '\\xdc', '%Dc': '\\xdc', '%dC': '\\xdc', '%DC': '\\xdc', '%dd': '\\xdd',\n  '%Dd': '\\xdd', '%dD': '\\xdd', '%DD': '\\xdd', '%de': '\\xde', '%De': '\\xde',\n  '%dE': '\\xde', '%DE': '\\xde', '%df': '\\xdf', '%Df': '\\xdf', '%dF': '\\xdf',\n  '%DF': '\\xdf', '%e0': '\\xe0', '%E0': '\\xe0', '%e1': '\\xe1', '%E1': '\\xe1',\n  '%e2': '\\xe2', '%E2': '\\xe2', '%e3': '\\xe3', '%E3': '\\xe3', '%e4': '\\xe4',\n  '%E4': '\\xe4', '%e5': '\\xe5', '%E5': '\\xe5', '%e6': '\\xe6', '%E6': '\\xe6',\n  '%e7': '\\xe7', '%E7': '\\xe7', '%e8': '\\xe8', '%E8': '\\xe8', '%e9': '\\xe9',\n  '%E9': '\\xe9', '%ea': '\\xea', '%Ea': '\\xea', '%eA': '\\xea', '%EA': '\\xea',\n  '%eb': '\\xeb', '%Eb': '\\xeb', '%eB': '\\xeb', '%EB': '\\xeb', '%ec': '\\xec',\n  '%Ec': '\\xec', '%eC': '\\xec', '%EC': '\\xec', '%ed': '\\xed', '%Ed': '\\xed',\n  '%eD': '\\xed', '%ED': '\\xed', '%ee': '\\xee', '%Ee': '\\xee', '%eE': '\\xee',\n  '%EE': '\\xee', '%ef': '\\xef', '%Ef': '\\xef', '%eF': '\\xef', '%EF': '\\xef',\n  '%f0': '\\xf0', '%F0': '\\xf0', '%f1': '\\xf1', '%F1': '\\xf1', '%f2': '\\xf2',\n  '%F2': '\\xf2', '%f3': '\\xf3', '%F3': '\\xf3', '%f4': '\\xf4', '%F4': '\\xf4',\n  '%f5': '\\xf5', '%F5': '\\xf5', '%f6': '\\xf6', '%F6': '\\xf6', '%f7': '\\xf7',\n  '%F7': '\\xf7', '%f8': '\\xf8', '%F8': '\\xf8', '%f9': '\\xf9', '%F9': '\\xf9',\n  '%fa': '\\xfa', '%Fa': '\\xfa', '%fA': '\\xfa', '%FA': '\\xfa', '%fb': '\\xfb',\n  '%Fb': '\\xfb', '%fB': '\\xfb', '%FB': '\\xfb', '%fc': '\\xfc', '%Fc': '\\xfc',\n  '%fC': '\\xfc', '%FC': '\\xfc', '%fd': '\\xfd', '%Fd': '\\xfd', '%fD': '\\xfd',\n  '%FD': '\\xfd', '%fe': '\\xfe', '%Fe': '\\xfe', '%fE': '\\xfe', '%FE': '\\xfe',\n  '%ff': '\\xff', '%Ff': '\\xff', '%fF': '\\xff', '%FF': '\\xff'\n}\n\nfunction encodedReplacer (match) {\n  return EncodedLookup[match]\n}\n\nconst STATE_KEY = 0\nconst STATE_VALUE = 1\nconst STATE_CHARSET = 2\nconst STATE_LANG = 3\n\nfunction parseParams (str) {\n  const res = []\n  let state = STATE_KEY\n  let charset = ''\n  let inquote = false\n  let escaping = false\n  let p = 0\n  let tmp = ''\n  const len = str.length\n\n  for (var i = 0; i < len; ++i) { // eslint-disable-line no-var\n    const char = str[i]\n    if (char === '\\\\' && inquote) {\n      if (escaping) { escaping = false } else {\n        escaping = true\n        continue\n      }\n    } else if (char === '\"') {\n      if (!escaping) {\n        if (inquote) {\n          inquote = false\n          state = STATE_KEY\n        } else { inquote = true }\n        continue\n      } else { escaping = false }\n    } else {\n      if (escaping && inquote) { tmp += '\\\\' }\n      escaping = false\n      if ((state === STATE_CHARSET || state === STATE_LANG) && char === \"'\") {\n        if (state === STATE_CHARSET) {\n          state = STATE_LANG\n          charset = tmp.substring(1)\n        } else { state = STATE_VALUE }\n        tmp = ''\n        continue\n      } else if (state === STATE_KEY &&\n        (char === '*' || char === '=') &&\n        res.length) {\n        state = char === '*'\n          ? STATE_CHARSET\n          : STATE_VALUE\n        res[p] = [tmp, undefined]\n        tmp = ''\n        continue\n      } else if (!inquote && char === ';') {\n        state = STATE_KEY\n        if (charset) {\n          if (tmp.length) {\n            tmp = decodeText(tmp.replace(RE_ENCODED, encodedReplacer),\n              'binary',\n              charset)\n          }\n          charset = ''\n        } else if (tmp.length) {\n          tmp = decodeText(tmp, 'binary', 'utf8')\n        }\n        if (res[p] === undefined) { res[p] = tmp } else { res[p][1] = tmp }\n        tmp = ''\n        ++p\n        continue\n      } else if (!inquote && (char === ' ' || char === '\\t')) { continue }\n    }\n    tmp += char\n  }\n  if (charset && tmp.length) {\n    tmp = decodeText(tmp.replace(RE_ENCODED, encodedReplacer),\n      'binary',\n      charset)\n  } else if (tmp) {\n    tmp = decodeText(tmp, 'binary', 'utf8')\n  }\n\n  if (res[p] === undefined) {\n    if (tmp) { res[p] = tmp }\n  } else { res[p][1] = tmp }\n\n  return res\n}\n\nmodule.exports = parseParams\n", "'use strict'\n\nmodule.exports = function basename (path) {\n  if (typeof path !== 'string') { return '' }\n  for (var i = path.length - 1; i >= 0; --i) { // eslint-disable-line no-var\n    switch (path.charCodeAt(i)) {\n      case 0x2F: // '/'\n      case 0x5C: // '\\'\n        path = path.slice(i + 1)\n        return (path === '..' || path === '.' ? '' : path)\n    }\n  }\n  return (path === '..' || path === '.' ? '' : path)\n}\n", "'use strict'\n\n// TODO:\n//  * support 1 nested multipart level\n//    (see second multipart example here:\n//     http://www.w3.org/TR/html401/interact/forms.html#didx-multipartform-data)\n//  * support limits.fieldNameSize\n//     -- this will require modifications to utils.parseParams\n\nconst { Readable } = require('node:stream')\nconst { inherits } = require('node:util')\n\nconst Dicer = require('../../deps/dicer/lib/Dicer')\n\nconst parseParams = require('../utils/parseParams')\nconst decodeText = require('../utils/decodeText')\nconst basename = require('../utils/basename')\nconst getLimit = require('../utils/getLimit')\n\nconst RE_BOUNDARY = /^boundary$/i\nconst RE_FIELD = /^form-data$/i\nconst RE_CHARSET = /^charset$/i\nconst RE_FILENAME = /^filename$/i\nconst RE_NAME = /^name$/i\n\nMultipart.detect = /^multipart\\/form-data/i\nfunction Multipart (boy, cfg) {\n  let i\n  let len\n  const self = this\n  let boundary\n  const limits = cfg.limits\n  const isPartAFile = cfg.isPartAFile || ((fieldName, contentType, fileName) => (contentType === 'application/octet-stream' || fileName !== undefined))\n  const parsedConType = cfg.parsedConType || []\n  const defCharset = cfg.defCharset || 'utf8'\n  const preservePath = cfg.preservePath\n  const fileOpts = { highWaterMark: cfg.fileHwm }\n\n  for (i = 0, len = parsedConType.length; i < len; ++i) {\n    if (Array.isArray(parsedConType[i]) &&\n      RE_BOUNDARY.test(parsedConType[i][0])) {\n      boundary = parsedConType[i][1]\n      break\n    }\n  }\n\n  function checkFinished () {\n    if (nends === 0 && finished && !boy._done) {\n      finished = false\n      self.end()\n    }\n  }\n\n  if (typeof boundary !== 'string') { throw new Error('Multipart: Boundary not found') }\n\n  const fieldSizeLimit = getLimit(limits, 'fieldSize', 1 * 1024 * 1024)\n  const fileSizeLimit = getLimit(limits, 'fileSize', Infinity)\n  const filesLimit = getLimit(limits, 'files', Infinity)\n  const fieldsLimit = getLimit(limits, 'fields', Infinity)\n  const partsLimit = getLimit(limits, 'parts', Infinity)\n  const headerPairsLimit = getLimit(limits, 'headerPairs', 2000)\n  const headerSizeLimit = getLimit(limits, 'headerSize', 80 * 1024)\n\n  let nfiles = 0\n  let nfields = 0\n  let nends = 0\n  let curFile\n  let curField\n  let finished = false\n\n  this._needDrain = false\n  this._pause = false\n  this._cb = undefined\n  this._nparts = 0\n  this._boy = boy\n\n  const parserCfg = {\n    boundary,\n    maxHeaderPairs: headerPairsLimit,\n    maxHeaderSize: headerSizeLimit,\n    partHwm: fileOpts.highWaterMark,\n    highWaterMark: cfg.highWaterMark\n  }\n\n  this.parser = new Dicer(parserCfg)\n  this.parser.on('drain', function () {\n    self._needDrain = false\n    if (self._cb && !self._pause) {\n      const cb = self._cb\n      self._cb = undefined\n      cb()\n    }\n  }).on('part', function onPart (part) {\n    if (++self._nparts > partsLimit) {\n      self.parser.removeListener('part', onPart)\n      self.parser.on('part', skipPart)\n      boy.hitPartsLimit = true\n      boy.emit('partsLimit')\n      return skipPart(part)\n    }\n\n    // hack because streams2 _always_ doesn't emit 'end' until nextTick, so let\n    // us emit 'end' early since we know the part has ended if we are already\n    // seeing the next part\n    if (curField) {\n      const field = curField\n      field.emit('end')\n      field.removeAllListeners('end')\n    }\n\n    part.on('header', function (header) {\n      let contype\n      let fieldname\n      let parsed\n      let charset\n      let encoding\n      let filename\n      let nsize = 0\n\n      if (header['content-type']) {\n        parsed = parseParams(header['content-type'][0])\n        if (parsed[0]) {\n          contype = parsed[0].toLowerCase()\n          for (i = 0, len = parsed.length; i < len; ++i) {\n            if (RE_CHARSET.test(parsed[i][0])) {\n              charset = parsed[i][1].toLowerCase()\n              break\n            }\n          }\n        }\n      }\n\n      if (contype === undefined) { contype = 'text/plain' }\n      if (charset === undefined) { charset = defCharset }\n\n      if (header['content-disposition']) {\n        parsed = parseParams(header['content-disposition'][0])\n        if (!RE_FIELD.test(parsed[0])) { return skipPart(part) }\n        for (i = 0, len = parsed.length; i < len; ++i) {\n          if (RE_NAME.test(parsed[i][0])) {\n            fieldname = parsed[i][1]\n          } else if (RE_FILENAME.test(parsed[i][0])) {\n            filename = parsed[i][1]\n            if (!preservePath) { filename = basename(filename) }\n          }\n        }\n      } else { return skipPart(part) }\n\n      if (header['content-transfer-encoding']) { encoding = header['content-transfer-encoding'][0].toLowerCase() } else { encoding = '7bit' }\n\n      let onData,\n        onEnd\n\n      if (isPartAFile(fieldname, contype, filename)) {\n        // file/binary field\n        if (nfiles === filesLimit) {\n          if (!boy.hitFilesLimit) {\n            boy.hitFilesLimit = true\n            boy.emit('filesLimit')\n          }\n          return skipPart(part)\n        }\n\n        ++nfiles\n\n        if (boy.listenerCount('file') === 0) {\n          self.parser._ignore()\n          return\n        }\n\n        ++nends\n        const file = new FileStream(fileOpts)\n        curFile = file\n        file.on('end', function () {\n          --nends\n          self._pause = false\n          checkFinished()\n          if (self._cb && !self._needDrain) {\n            const cb = self._cb\n            self._cb = undefined\n            cb()\n          }\n        })\n        file._read = function (n) {\n          if (!self._pause) { return }\n          self._pause = false\n          if (self._cb && !self._needDrain) {\n            const cb = self._cb\n            self._cb = undefined\n            cb()\n          }\n        }\n        boy.emit('file', fieldname, file, filename, encoding, contype)\n\n        onData = function (data) {\n          if ((nsize += data.length) > fileSizeLimit) {\n            const extralen = fileSizeLimit - nsize + data.length\n            if (extralen > 0) { file.push(data.slice(0, extralen)) }\n            file.truncated = true\n            file.bytesRead = fileSizeLimit\n            part.removeAllListeners('data')\n            file.emit('limit')\n            return\n          } else if (!file.push(data)) { self._pause = true }\n\n          file.bytesRead = nsize\n        }\n\n        onEnd = function () {\n          curFile = undefined\n          file.push(null)\n        }\n      } else {\n        // non-file field\n        if (nfields === fieldsLimit) {\n          if (!boy.hitFieldsLimit) {\n            boy.hitFieldsLimit = true\n            boy.emit('fieldsLimit')\n          }\n          return skipPart(part)\n        }\n\n        ++nfields\n        ++nends\n        let buffer = ''\n        let truncated = false\n        curField = part\n\n        onData = function (data) {\n          if ((nsize += data.length) > fieldSizeLimit) {\n            const extralen = (fieldSizeLimit - (nsize - data.length))\n            buffer += data.toString('binary', 0, extralen)\n            truncated = true\n            part.removeAllListeners('data')\n          } else { buffer += data.toString('binary') }\n        }\n\n        onEnd = function () {\n          curField = undefined\n          if (buffer.length) { buffer = decodeText(buffer, 'binary', charset) }\n          boy.emit('field', fieldname, buffer, false, truncated, encoding, contype)\n          --nends\n          checkFinished()\n        }\n      }\n\n      /* As of node@2efe4ab761666 (v0.10.29+/v0.11.14+), busboy had become\n         broken. Streams2/streams3 is a huge black box of confusion, but\n         somehow overriding the sync state seems to fix things again (and still\n         seems to work for previous node versions).\n      */\n      part._readableState.sync = false\n\n      part.on('data', onData)\n      part.on('end', onEnd)\n    }).on('error', function (err) {\n      if (curFile) { curFile.emit('error', err) }\n    })\n  }).on('error', function (err) {\n    boy.emit('error', err)\n  }).on('finish', function () {\n    finished = true\n    checkFinished()\n  })\n}\n\nMultipart.prototype.write = function (chunk, cb) {\n  const r = this.parser.write(chunk)\n  if (r && !this._pause) {\n    cb()\n  } else {\n    this._needDrain = !r\n    this._cb = cb\n  }\n}\n\nMultipart.prototype.end = function () {\n  const self = this\n\n  if (self.parser.writable) {\n    self.parser.end()\n  } else if (!self._boy._done) {\n    process.nextTick(function () {\n      self._boy._done = true\n      self._boy.emit('finish')\n    })\n  }\n}\n\nfunction skipPart (part) {\n  part.resume()\n}\n\nfunction FileStream (opts) {\n  Readable.call(this, opts)\n\n  this.bytesRead = 0\n\n  this.truncated = false\n}\n\ninherits(FileStream, Readable)\n\nFileStream.prototype._read = function (n) {}\n\nmodule.exports = Multipart\n", "'use strict'\n\nconst RE_PLUS = /\\+/g\n\nconst HEX = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,\n  0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n]\n\nfunction Decoder () {\n  this.buffer = undefined\n}\nDecoder.prototype.write = function (str) {\n  // Replace '+' with ' ' before decoding\n  str = str.replace(RE_PLUS, ' ')\n  let res = ''\n  let i = 0; let p = 0; const len = str.length\n  for (; i < len; ++i) {\n    if (this.buffer !== undefined) {\n      if (!HEX[str.charCodeAt(i)]) {\n        res += '%' + this.buffer\n        this.buffer = undefined\n        --i // retry character\n      } else {\n        this.buffer += str[i]\n        ++p\n        if (this.buffer.length === 2) {\n          res += String.fromCharCode(parseInt(this.buffer, 16))\n          this.buffer = undefined\n        }\n      }\n    } else if (str[i] === '%') {\n      if (i > p) {\n        res += str.substring(p, i)\n        p = i\n      }\n      this.buffer = ''\n      ++p\n    }\n  }\n  if (p < len && this.buffer === undefined) { res += str.substring(p) }\n  return res\n}\nDecoder.prototype.reset = function () {\n  this.buffer = undefined\n}\n\nmodule.exports = Decoder\n", "'use strict'\n\nconst Decoder = require('../utils/Decoder')\nconst decodeText = require('../utils/decodeText')\nconst getLimit = require('../utils/getLimit')\n\nconst RE_CHARSET = /^charset$/i\n\nUrlEncoded.detect = /^application\\/x-www-form-urlencoded/i\nfunction UrlEncoded (boy, cfg) {\n  const limits = cfg.limits\n  const parsedConType = cfg.parsedConType\n  this.boy = boy\n\n  this.fieldSizeLimit = getLimit(limits, 'fieldSize', 1 * 1024 * 1024)\n  this.fieldNameSizeLimit = getLimit(limits, 'fieldNameSize', 100)\n  this.fieldsLimit = getLimit(limits, 'fields', Infinity)\n\n  let charset\n  for (var i = 0, len = parsedConType.length; i < len; ++i) { // eslint-disable-line no-var\n    if (Array.isArray(parsedConType[i]) &&\n        RE_CHARSET.test(parsedConType[i][0])) {\n      charset = parsedConType[i][1].toLowerCase()\n      break\n    }\n  }\n\n  if (charset === undefined) { charset = cfg.defCharset || 'utf8' }\n\n  this.decoder = new Decoder()\n  this.charset = charset\n  this._fields = 0\n  this._state = 'key'\n  this._checkingBytes = true\n  this._bytesKey = 0\n  this._bytesVal = 0\n  this._key = ''\n  this._val = ''\n  this._keyTrunc = false\n  this._valTrunc = false\n  this._hitLimit = false\n}\n\nUrlEncoded.prototype.write = function (data, cb) {\n  if (this._fields === this.fieldsLimit) {\n    if (!this.boy.hitFieldsLimit) {\n      this.boy.hitFieldsLimit = true\n      this.boy.emit('fieldsLimit')\n    }\n    return cb()\n  }\n\n  let idxeq; let idxamp; let i; let p = 0; const len = data.length\n\n  while (p < len) {\n    if (this._state === 'key') {\n      idxeq = idxamp = undefined\n      for (i = p; i < len; ++i) {\n        if (!this._checkingBytes) { ++p }\n        if (data[i] === 0x3D/* = */) {\n          idxeq = i\n          break\n        } else if (data[i] === 0x26/* & */) {\n          idxamp = i\n          break\n        }\n        if (this._checkingBytes && this._bytesKey === this.fieldNameSizeLimit) {\n          this._hitLimit = true\n          break\n        } else if (this._checkingBytes) { ++this._bytesKey }\n      }\n\n      if (idxeq !== undefined) {\n        // key with assignment\n        if (idxeq > p) { this._key += this.decoder.write(data.toString('binary', p, idxeq)) }\n        this._state = 'val'\n\n        this._hitLimit = false\n        this._checkingBytes = true\n        this._val = ''\n        this._bytesVal = 0\n        this._valTrunc = false\n        this.decoder.reset()\n\n        p = idxeq + 1\n      } else if (idxamp !== undefined) {\n        // key with no assignment\n        ++this._fields\n        let key; const keyTrunc = this._keyTrunc\n        if (idxamp > p) { key = (this._key += this.decoder.write(data.toString('binary', p, idxamp))) } else { key = this._key }\n\n        this._hitLimit = false\n        this._checkingBytes = true\n        this._key = ''\n        this._bytesKey = 0\n        this._keyTrunc = false\n        this.decoder.reset()\n\n        if (key.length) {\n          this.boy.emit('field', decodeText(key, 'binary', this.charset),\n            '',\n            keyTrunc,\n            false)\n        }\n\n        p = idxamp + 1\n        if (this._fields === this.fieldsLimit) { return cb() }\n      } else if (this._hitLimit) {\n        // we may not have hit the actual limit if there are encoded bytes...\n        if (i > p) { this._key += this.decoder.write(data.toString('binary', p, i)) }\n        p = i\n        if ((this._bytesKey = this._key.length) === this.fieldNameSizeLimit) {\n          // yep, we actually did hit the limit\n          this._checkingBytes = false\n          this._keyTrunc = true\n        }\n      } else {\n        if (p < len) { this._key += this.decoder.write(data.toString('binary', p)) }\n        p = len\n      }\n    } else {\n      idxamp = undefined\n      for (i = p; i < len; ++i) {\n        if (!this._checkingBytes) { ++p }\n        if (data[i] === 0x26/* & */) {\n          idxamp = i\n          break\n        }\n        if (this._checkingBytes && this._bytesVal === this.fieldSizeLimit) {\n          this._hitLimit = true\n          break\n        } else if (this._checkingBytes) { ++this._bytesVal }\n      }\n\n      if (idxamp !== undefined) {\n        ++this._fields\n        if (idxamp > p) { this._val += this.decoder.write(data.toString('binary', p, idxamp)) }\n        this.boy.emit('field', decodeText(this._key, 'binary', this.charset),\n          decodeText(this._val, 'binary', this.charset),\n          this._keyTrunc,\n          this._valTrunc)\n        this._state = 'key'\n\n        this._hitLimit = false\n        this._checkingBytes = true\n        this._key = ''\n        this._bytesKey = 0\n        this._keyTrunc = false\n        this.decoder.reset()\n\n        p = idxamp + 1\n        if (this._fields === this.fieldsLimit) { return cb() }\n      } else if (this._hitLimit) {\n        // we may not have hit the actual limit if there are encoded bytes...\n        if (i > p) { this._val += this.decoder.write(data.toString('binary', p, i)) }\n        p = i\n        if ((this._val === '' && this.fieldSizeLimit === 0) ||\n            (this._bytesVal = this._val.length) === this.fieldSizeLimit) {\n          // yep, we actually did hit the limit\n          this._checkingBytes = false\n          this._valTrunc = true\n        }\n      } else {\n        if (p < len) { this._val += this.decoder.write(data.toString('binary', p)) }\n        p = len\n      }\n    }\n  }\n  cb()\n}\n\nUrlEncoded.prototype.end = function () {\n  if (this.boy._done) { return }\n\n  if (this._state === 'key' && this._key.length > 0) {\n    this.boy.emit('field', decodeText(this._key, 'binary', this.charset),\n      '',\n      this._keyTrunc,\n      false)\n  } else if (this._state === 'val') {\n    this.boy.emit('field', decodeText(this._key, 'binary', this.charset),\n      decodeText(this._val, 'binary', this.charset),\n      this._keyTrunc,\n      this._valTrunc)\n  }\n  this.boy._done = true\n  this.boy.emit('finish')\n}\n\nmodule.exports = UrlEncoded\n", "'use strict'\n\nconst WritableStream = require('node:stream').Writable\nconst { inherits } = require('node:util')\nconst Dicer = require('../deps/dicer/lib/Dicer')\n\nconst MultipartParser = require('./types/multipart')\nconst UrlencodedParser = require('./types/urlencoded')\nconst parseParams = require('./utils/parseParams')\n\nfunction Busboy (opts) {\n  if (!(this instanceof Busboy)) { return new Busboy(opts) }\n\n  if (typeof opts !== 'object') {\n    throw new TypeError('Busboy expected an options-Object.')\n  }\n  if (typeof opts.headers !== 'object') {\n    throw new TypeError('Busboy expected an options-Object with headers-attribute.')\n  }\n  if (typeof opts.headers['content-type'] !== 'string') {\n    throw new TypeError('Missing Content-Type-header.')\n  }\n\n  const {\n    headers,\n    ...streamOptions\n  } = opts\n\n  this.opts = {\n    autoDestroy: false,\n    ...streamOptions\n  }\n  WritableStream.call(this, this.opts)\n\n  this._done = false\n  this._parser = this.getParserByHeaders(headers)\n  this._finished = false\n}\ninherits(Busboy, WritableStream)\n\nBusboy.prototype.emit = function (ev) {\n  if (ev === 'finish') {\n    if (!this._done) {\n      this._parser?.end()\n      return\n    } else if (this._finished) {\n      return\n    }\n    this._finished = true\n  }\n  WritableStream.prototype.emit.apply(this, arguments)\n}\n\nBusboy.prototype.getParserByHeaders = function (headers) {\n  const parsed = parseParams(headers['content-type'])\n\n  const cfg = {\n    defCharset: this.opts.defCharset,\n    fileHwm: this.opts.fileHwm,\n    headers,\n    highWaterMark: this.opts.highWaterMark,\n    isPartAFile: this.opts.isPartAFile,\n    limits: this.opts.limits,\n    parsedConType: parsed,\n    preservePath: this.opts.preservePath\n  }\n\n  if (MultipartParser.detect.test(parsed[0])) {\n    return new MultipartParser(this, cfg)\n  }\n  if (UrlencodedParser.detect.test(parsed[0])) {\n    return new UrlencodedParser(this, cfg)\n  }\n  throw new Error('Unsupported Content-Type.')\n}\n\nBusboy.prototype._write = function (chunk, encoding, cb) {\n  this._parser.write(chunk, cb)\n}\n\nmodule.exports = Busboy\nmodule.exports.default = Busboy\nmodule.exports.Busboy = Busboy\n\nmodule.exports.Dicer = Dicer\n", "'use strict'\n\nconst { MessageChannel, receiveMessageOnPort } = require('worker_threads')\n\nconst corsSafeListedMethods = ['GET', 'HEAD', 'POST']\nconst corsSafeListedMethodsSet = new Set(corsSafeListedMethods)\n\nconst nullBodyStatus = [101, 204, 205, 304]\n\nconst redirectStatus = [301, 302, 303, 307, 308]\nconst redirectStatusSet = new Set(redirectStatus)\n\n// https://fetch.spec.whatwg.org/#block-bad-port\nconst badPorts = [\n  '1', '7', '9', '11', '13', '15', '17', '19', '20', '21', '22', '23', '25', '37', '42', '43', '53', '69', '77', '79',\n  '87', '95', '101', '102', '103', '104', '109', '110', '111', '113', '115', '117', '119', '123', '135', '137',\n  '139', '143', '161', '179', '389', '427', '465', '512', '513', '514', '515', '526', '530', '531', '532',\n  '540', '548', '554', '556', '563', '587', '601', '636', '989', '990', '993', '995', '1719', '1720', '1723',\n  '2049', '3659', '4045', '5060', '5061', '6000', '6566', '6665', '6666', '6667', '6668', '6669', '6697',\n  '10080'\n]\n\nconst badPortsSet = new Set(badPorts)\n\n// https://w3c.github.io/webappsec-referrer-policy/#referrer-policies\nconst referrerPolicy = [\n  '',\n  'no-referrer',\n  'no-referrer-when-downgrade',\n  'same-origin',\n  'origin',\n  'strict-origin',\n  'origin-when-cross-origin',\n  'strict-origin-when-cross-origin',\n  'unsafe-url'\n]\nconst referrerPolicySet = new Set(referrerPolicy)\n\nconst requestRedirect = ['follow', 'manual', 'error']\n\nconst safeMethods = ['GET', 'HEAD', 'OPTIONS', 'TRACE']\nconst safeMethodsSet = new Set(safeMethods)\n\nconst requestMode = ['navigate', 'same-origin', 'no-cors', 'cors']\n\nconst requestCredentials = ['omit', 'same-origin', 'include']\n\nconst requestCache = [\n  'default',\n  'no-store',\n  'reload',\n  'no-cache',\n  'force-cache',\n  'only-if-cached'\n]\n\n// https://fetch.spec.whatwg.org/#request-body-header-name\nconst requestBodyHeader = [\n  'content-encoding',\n  'content-language',\n  'content-location',\n  'content-type',\n  // See https://github.com/nodejs/undici/issues/2021\n  // 'Content-Length' is a forbidden header name, which is typically\n  // removed in the Headers implementation. However, undici doesn't\n  // filter out headers, so we add it here.\n  'content-length'\n]\n\n// https://fetch.spec.whatwg.org/#enumdef-requestduplex\nconst requestDuplex = [\n  'half'\n]\n\n// http://fetch.spec.whatwg.org/#forbidden-method\nconst forbiddenMethods = ['CONNECT', 'TRACE', 'TRACK']\nconst forbiddenMethodsSet = new Set(forbiddenMethods)\n\nconst subresource = [\n  'audio',\n  'audioworklet',\n  'font',\n  'image',\n  'manifest',\n  'paintworklet',\n  'script',\n  'style',\n  'track',\n  'video',\n  'xslt',\n  ''\n]\nconst subresourceSet = new Set(subresource)\n\n/** @type {globalThis['DOMException']} */\nconst DOMException = globalThis.DOMException ?? (() => {\n  // DOMException was only made a global in Node v17.0.0,\n  // but fetch supports >= v16.8.\n  try {\n    atob('~')\n  } catch (err) {\n    return Object.getPrototypeOf(err).constructor\n  }\n})()\n\nlet channel\n\n/** @type {globalThis['structuredClone']} */\nconst structuredClone =\n  globalThis.structuredClone ??\n  // https://github.com/nodejs/node/blob/b27ae24dcc4251bad726d9d84baf678d1f707fed/lib/internal/structured_clone.js\n  // structuredClone was added in v17.0.0, but fetch supports v16.8\n  function structuredClone (value, options = undefined) {\n    if (arguments.length === 0) {\n      throw new TypeError('missing argument')\n    }\n\n    if (!channel) {\n      channel = new MessageChannel()\n    }\n    channel.port1.unref()\n    channel.port2.unref()\n    channel.port1.postMessage(value, options?.transfer)\n    return receiveMessageOnPort(channel.port2).message\n  }\n\nmodule.exports = {\n  DOMException,\n  structuredClone,\n  subresource,\n  forbiddenMethods,\n  requestBodyHeader,\n  referrerPolicy,\n  requestRedirect,\n  requestMode,\n  requestCredentials,\n  requestCache,\n  redirectStatus,\n  corsSafeListedMethods,\n  nullBodyStatus,\n  safeMethods,\n  badPorts,\n  requestDuplex,\n  subresourceSet,\n  badPortsSet,\n  redirectStatusSet,\n  corsSafeListedMethodsSet,\n  safeMethodsSet,\n  forbiddenMethodsSet,\n  referrerPolicySet\n}\n", "'use strict'\n\n// In case of breaking changes, increase the version\n// number to avoid conflicts.\nconst globalOrigin = Symbol.for('undici.globalOrigin.1')\n\nfunction getGlobalOrigin () {\n  return globalThis[globalOrigin]\n}\n\nfunction setGlobalOrigin (newOrigin) {\n  if (newOrigin === undefined) {\n    Object.defineProperty(globalThis, globalOrigin, {\n      value: undefined,\n      writable: true,\n      enumerable: false,\n      configurable: false\n    })\n\n    return\n  }\n\n  const parsedURL = new URL(newOrigin)\n\n  if (parsedURL.protocol !== 'http:' && parsedURL.protocol !== 'https:') {\n    throw new TypeError(`Only http & https urls are allowed, received ${parsedURL.protocol}`)\n  }\n\n  Object.defineProperty(globalThis, globalOrigin, {\n    value: parsedURL,\n    writable: true,\n    enumerable: false,\n    configurable: false\n  })\n}\n\nmodule.exports = {\n  getGlobalOrigin,\n  setGlobalOrigin\n}\n", "'use strict'\n\nconst { redirectStatusSet, referrerPolicySet: referrerPolicyTokens, badPortsSet } = require('./constants')\nconst { getGlobalOrigin } = require('./global')\nconst { performance } = require('perf_hooks')\nconst { isBlobLike, toUSVString, ReadableStreamFrom } = require('../core/util')\nconst assert = require('assert')\nconst { isUint8Array } = require('util/types')\n\nlet supportedHashes = []\n\n// https://nodejs.org/api/crypto.html#determining-if-crypto-support-is-unavailable\n/** @type {import('crypto')|undefined} */\nlet crypto\n\ntry {\n  crypto = require('crypto')\n  const possibleRelevantHashes = ['sha256', 'sha384', 'sha512']\n  supportedHashes = crypto.getHashes().filter((hash) => possibleRelevantHashes.includes(hash))\n/* c8 ignore next 3 */\n} catch {\n}\n\nfunction responseURL (response) {\n  // https://fetch.spec.whatwg.org/#responses\n  // A response has an associated URL. It is a pointer to the last URL\n  // in response\u2019s URL list and null if response\u2019s URL list is empty.\n  const urlList = response.urlList\n  const length = urlList.length\n  return length === 0 ? null : urlList[length - 1].toString()\n}\n\n// https://fetch.spec.whatwg.org/#concept-response-location-url\nfunction responseLocationURL (response, requestFragment) {\n  // 1. If response\u2019s status is not a redirect status, then return null.\n  if (!redirectStatusSet.has(response.status)) {\n    return null\n  }\n\n  // 2. Let location be the result of extracting header list values given\n  // `Location` and response\u2019s header list.\n  let location = response.headersList.get('location')\n\n  // 3. If location is a header value, then set location to the result of\n  //    parsing location with response\u2019s URL.\n  if (location !== null && isValidHeaderValue(location)) {\n    location = new URL(location, responseURL(response))\n  }\n\n  // 4. If location is a URL whose fragment is null, then set location\u2019s\n  // fragment to requestFragment.\n  if (location && !location.hash) {\n    location.hash = requestFragment\n  }\n\n  // 5. Return location.\n  return location\n}\n\n/** @returns {URL} */\nfunction requestCurrentURL (request) {\n  return request.urlList[request.urlList.length - 1]\n}\n\nfunction requestBadPort (request) {\n  // 1. Let url be request\u2019s current URL.\n  const url = requestCurrentURL(request)\n\n  // 2. If url\u2019s scheme is an HTTP(S) scheme and url\u2019s port is a bad port,\n  // then return blocked.\n  if (urlIsHttpHttpsScheme(url) && badPortsSet.has(url.port)) {\n    return 'blocked'\n  }\n\n  // 3. Return allowed.\n  return 'allowed'\n}\n\nfunction isErrorLike (object) {\n  return object instanceof Error || (\n    object?.constructor?.name === 'Error' ||\n    object?.constructor?.name === 'DOMException'\n  )\n}\n\n// Check whether |statusText| is a ByteString and\n// matches the Reason-Phrase token production.\n// RFC 2616: https://tools.ietf.org/html/rfc2616\n// RFC 7230: https://tools.ietf.org/html/rfc7230\n// \"reason-phrase = *( HTAB / SP / VCHAR / obs-text )\"\n// https://github.com/chromium/chromium/blob/94.0.4604.1/third_party/blink/renderer/core/fetch/response.cc#L116\nfunction isValidReasonPhrase (statusText) {\n  for (let i = 0; i < statusText.length; ++i) {\n    const c = statusText.charCodeAt(i)\n    if (\n      !(\n        (\n          c === 0x09 || // HTAB\n          (c >= 0x20 && c <= 0x7e) || // SP / VCHAR\n          (c >= 0x80 && c <= 0xff)\n        ) // obs-text\n      )\n    ) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * @see https://tools.ietf.org/html/rfc7230#section-3.2.6\n * @param {number} c\n */\nfunction isTokenCharCode (c) {\n  switch (c) {\n    case 0x22:\n    case 0x28:\n    case 0x29:\n    case 0x2c:\n    case 0x2f:\n    case 0x3a:\n    case 0x3b:\n    case 0x3c:\n    case 0x3d:\n    case 0x3e:\n    case 0x3f:\n    case 0x40:\n    case 0x5b:\n    case 0x5c:\n    case 0x5d:\n    case 0x7b:\n    case 0x7d:\n      // DQUOTE and \"(),/:;<=>?@[\\]{}\"\n      return false\n    default:\n      // VCHAR %x21-7E\n      return c >= 0x21 && c <= 0x7e\n  }\n}\n\n/**\n * @param {string} characters\n */\nfunction isValidHTTPToken (characters) {\n  if (characters.length === 0) {\n    return false\n  }\n  for (let i = 0; i < characters.length; ++i) {\n    if (!isTokenCharCode(characters.charCodeAt(i))) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#header-name\n * @param {string} potentialValue\n */\nfunction isValidHeaderName (potentialValue) {\n  return isValidHTTPToken(potentialValue)\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#header-value\n * @param {string} potentialValue\n */\nfunction isValidHeaderValue (potentialValue) {\n  // - Has no leading or trailing HTTP tab or space bytes.\n  // - Contains no 0x00 (NUL) or HTTP newline bytes.\n  if (\n    potentialValue.startsWith('\\t') ||\n    potentialValue.startsWith(' ') ||\n    potentialValue.endsWith('\\t') ||\n    potentialValue.endsWith(' ')\n  ) {\n    return false\n  }\n\n  if (\n    potentialValue.includes('\\0') ||\n    potentialValue.includes('\\r') ||\n    potentialValue.includes('\\n')\n  ) {\n    return false\n  }\n\n  return true\n}\n\n// https://w3c.github.io/webappsec-referrer-policy/#set-requests-referrer-policy-on-redirect\nfunction setRequestReferrerPolicyOnRedirect (request, actualResponse) {\n  //  Given a request request and a response actualResponse, this algorithm\n  //  updates request\u2019s referrer policy according to the Referrer-Policy\n  //  header (if any) in actualResponse.\n\n  // 1. Let policy be the result of executing \u00A7 8.1 Parse a referrer policy\n  // from a Referrer-Policy header on actualResponse.\n\n  // 8.1 Parse a referrer policy from a Referrer-Policy header\n  // 1. Let policy-tokens be the result of extracting header list values given `Referrer-Policy` and response\u2019s header list.\n  const { headersList } = actualResponse\n  // 2. Let policy be the empty string.\n  // 3. For each token in policy-tokens, if token is a referrer policy and token is not the empty string, then set policy to token.\n  // 4. Return policy.\n  const policyHeader = (headersList.get('referrer-policy') ?? '').split(',')\n\n  // Note: As the referrer-policy can contain multiple policies\n  // separated by comma, we need to loop through all of them\n  // and pick the first valid one.\n  // Ref: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy#specify_a_fallback_policy\n  let policy = ''\n  if (policyHeader.length > 0) {\n    // The right-most policy takes precedence.\n    // The left-most policy is the fallback.\n    for (let i = policyHeader.length; i !== 0; i--) {\n      const token = policyHeader[i - 1].trim()\n      if (referrerPolicyTokens.has(token)) {\n        policy = token\n        break\n      }\n    }\n  }\n\n  // 2. If policy is not the empty string, then set request\u2019s referrer policy to policy.\n  if (policy !== '') {\n    request.referrerPolicy = policy\n  }\n}\n\n// https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check\nfunction crossOriginResourcePolicyCheck () {\n  // TODO\n  return 'allowed'\n}\n\n// https://fetch.spec.whatwg.org/#concept-cors-check\nfunction corsCheck () {\n  // TODO\n  return 'success'\n}\n\n// https://fetch.spec.whatwg.org/#concept-tao-check\nfunction TAOCheck () {\n  // TODO\n  return 'success'\n}\n\nfunction appendFetchMetadata (httpRequest) {\n  //  https://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-dest-header\n  //  TODO\n\n  //  https://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-mode-header\n\n  //  1. Assert: r\u2019s url is a potentially trustworthy URL.\n  //  TODO\n\n  //  2. Let header be a Structured Header whose value is a token.\n  let header = null\n\n  //  3. Set header\u2019s value to r\u2019s mode.\n  header = httpRequest.mode\n\n  //  4. Set a structured field value `Sec-Fetch-Mode`/header in r\u2019s header list.\n  httpRequest.headersList.set('sec-fetch-mode', header)\n\n  //  https://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-site-header\n  //  TODO\n\n  //  https://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-user-header\n  //  TODO\n}\n\n// https://fetch.spec.whatwg.org/#append-a-request-origin-header\nfunction appendRequestOriginHeader (request) {\n  // 1. Let serializedOrigin be the result of byte-serializing a request origin with request.\n  let serializedOrigin = request.origin\n\n  // 2. If request\u2019s response tainting is \"cors\" or request\u2019s mode is \"websocket\", then append (`Origin`, serializedOrigin) to request\u2019s header list.\n  if (request.responseTainting === 'cors' || request.mode === 'websocket') {\n    if (serializedOrigin) {\n      request.headersList.append('origin', serializedOrigin)\n    }\n\n  // 3. Otherwise, if request\u2019s method is neither `GET` nor `HEAD`, then:\n  } else if (request.method !== 'GET' && request.method !== 'HEAD') {\n    // 1. Switch on request\u2019s referrer policy:\n    switch (request.referrerPolicy) {\n      case 'no-referrer':\n        // Set serializedOrigin to `null`.\n        serializedOrigin = null\n        break\n      case 'no-referrer-when-downgrade':\n      case 'strict-origin':\n      case 'strict-origin-when-cross-origin':\n        // If request\u2019s origin is a tuple origin, its scheme is \"https\", and request\u2019s current URL\u2019s scheme is not \"https\", then set serializedOrigin to `null`.\n        if (request.origin && urlHasHttpsScheme(request.origin) && !urlHasHttpsScheme(requestCurrentURL(request))) {\n          serializedOrigin = null\n        }\n        break\n      case 'same-origin':\n        // If request\u2019s origin is not same origin with request\u2019s current URL\u2019s origin, then set serializedOrigin to `null`.\n        if (!sameOrigin(request, requestCurrentURL(request))) {\n          serializedOrigin = null\n        }\n        break\n      default:\n        // Do nothing.\n    }\n\n    if (serializedOrigin) {\n      // 2. Append (`Origin`, serializedOrigin) to request\u2019s header list.\n      request.headersList.append('origin', serializedOrigin)\n    }\n  }\n}\n\nfunction coarsenedSharedCurrentTime (crossOriginIsolatedCapability) {\n  // TODO\n  return performance.now()\n}\n\n// https://fetch.spec.whatwg.org/#create-an-opaque-timing-info\nfunction createOpaqueTimingInfo (timingInfo) {\n  return {\n    startTime: timingInfo.startTime ?? 0,\n    redirectStartTime: 0,\n    redirectEndTime: 0,\n    postRedirectStartTime: timingInfo.startTime ?? 0,\n    finalServiceWorkerStartTime: 0,\n    finalNetworkResponseStartTime: 0,\n    finalNetworkRequestStartTime: 0,\n    endTime: 0,\n    encodedBodySize: 0,\n    decodedBodySize: 0,\n    finalConnectionTimingInfo: null\n  }\n}\n\n// https://html.spec.whatwg.org/multipage/origin.html#policy-container\nfunction makePolicyContainer () {\n  // Note: the fetch spec doesn't make use of embedder policy or CSP list\n  return {\n    referrerPolicy: 'strict-origin-when-cross-origin'\n  }\n}\n\n// https://html.spec.whatwg.org/multipage/origin.html#clone-a-policy-container\nfunction clonePolicyContainer (policyContainer) {\n  return {\n    referrerPolicy: policyContainer.referrerPolicy\n  }\n}\n\n// https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer\nfunction determineRequestsReferrer (request) {\n  // 1. Let policy be request's referrer policy.\n  const policy = request.referrerPolicy\n\n  // Note: policy cannot (shouldn't) be null or an empty string.\n  assert(policy)\n\n  // 2. Let environment be request\u2019s client.\n\n  let referrerSource = null\n\n  // 3. Switch on request\u2019s referrer:\n  if (request.referrer === 'client') {\n    // Note: node isn't a browser and doesn't implement document/iframes,\n    // so we bypass this step and replace it with our own.\n\n    const globalOrigin = getGlobalOrigin()\n\n    if (!globalOrigin || globalOrigin.origin === 'null') {\n      return 'no-referrer'\n    }\n\n    // note: we need to clone it as it's mutated\n    referrerSource = new URL(globalOrigin)\n  } else if (request.referrer instanceof URL) {\n    // Let referrerSource be request\u2019s referrer.\n    referrerSource = request.referrer\n  }\n\n  // 4. Let request\u2019s referrerURL be the result of stripping referrerSource for\n  //    use as a referrer.\n  let referrerURL = stripURLForReferrer(referrerSource)\n\n  // 5. Let referrerOrigin be the result of stripping referrerSource for use as\n  //    a referrer, with the origin-only flag set to true.\n  const referrerOrigin = stripURLForReferrer(referrerSource, true)\n\n  // 6. If the result of serializing referrerURL is a string whose length is\n  //    greater than 4096, set referrerURL to referrerOrigin.\n  if (referrerURL.toString().length > 4096) {\n    referrerURL = referrerOrigin\n  }\n\n  const areSameOrigin = sameOrigin(request, referrerURL)\n  const isNonPotentiallyTrustWorthy = isURLPotentiallyTrustworthy(referrerURL) &&\n    !isURLPotentiallyTrustworthy(request.url)\n\n  // 8. Execute the switch statements corresponding to the value of policy:\n  switch (policy) {\n    case 'origin': return referrerOrigin != null ? referrerOrigin : stripURLForReferrer(referrerSource, true)\n    case 'unsafe-url': return referrerURL\n    case 'same-origin':\n      return areSameOrigin ? referrerOrigin : 'no-referrer'\n    case 'origin-when-cross-origin':\n      return areSameOrigin ? referrerURL : referrerOrigin\n    case 'strict-origin-when-cross-origin': {\n      const currentURL = requestCurrentURL(request)\n\n      // 1. If the origin of referrerURL and the origin of request\u2019s current\n      //    URL are the same, then return referrerURL.\n      if (sameOrigin(referrerURL, currentURL)) {\n        return referrerURL\n      }\n\n      // 2. If referrerURL is a potentially trustworthy URL and request\u2019s\n      //    current URL is not a potentially trustworthy URL, then return no\n      //    referrer.\n      if (isURLPotentiallyTrustworthy(referrerURL) && !isURLPotentiallyTrustworthy(currentURL)) {\n        return 'no-referrer'\n      }\n\n      // 3. Return referrerOrigin.\n      return referrerOrigin\n    }\n    case 'strict-origin': // eslint-disable-line\n      /**\n         * 1. If referrerURL is a potentially trustworthy URL and\n         * request\u2019s current URL is not a potentially trustworthy URL,\n         * then return no referrer.\n         * 2. Return referrerOrigin\n        */\n    case 'no-referrer-when-downgrade': // eslint-disable-line\n      /**\n       * 1. If referrerURL is a potentially trustworthy URL and\n       * request\u2019s current URL is not a potentially trustworthy URL,\n       * then return no referrer.\n       * 2. Return referrerOrigin\n      */\n\n    default: // eslint-disable-line\n      return isNonPotentiallyTrustWorthy ? 'no-referrer' : referrerOrigin\n  }\n}\n\n/**\n * @see https://w3c.github.io/webappsec-referrer-policy/#strip-url\n * @param {URL} url\n * @param {boolean|undefined} originOnly\n */\nfunction stripURLForReferrer (url, originOnly) {\n  // 1. Assert: url is a URL.\n  assert(url instanceof URL)\n\n  // 2. If url\u2019s scheme is a local scheme, then return no referrer.\n  if (url.protocol === 'file:' || url.protocol === 'about:' || url.protocol === 'blank:') {\n    return 'no-referrer'\n  }\n\n  // 3. Set url\u2019s username to the empty string.\n  url.username = ''\n\n  // 4. Set url\u2019s password to the empty string.\n  url.password = ''\n\n  // 5. Set url\u2019s fragment to null.\n  url.hash = ''\n\n  // 6. If the origin-only flag is true, then:\n  if (originOnly) {\n    // 1. Set url\u2019s path to \u00AB the empty string \u00BB.\n    url.pathname = ''\n\n    // 2. Set url\u2019s query to null.\n    url.search = ''\n  }\n\n  // 7. Return url.\n  return url\n}\n\nfunction isURLPotentiallyTrustworthy (url) {\n  if (!(url instanceof URL)) {\n    return false\n  }\n\n  // If child of about, return true\n  if (url.href === 'about:blank' || url.href === 'about:srcdoc') {\n    return true\n  }\n\n  // If scheme is data, return true\n  if (url.protocol === 'data:') return true\n\n  // If file, return true\n  if (url.protocol === 'file:') return true\n\n  return isOriginPotentiallyTrustworthy(url.origin)\n\n  function isOriginPotentiallyTrustworthy (origin) {\n    // If origin is explicitly null, return false\n    if (origin == null || origin === 'null') return false\n\n    const originAsURL = new URL(origin)\n\n    // If secure, return true\n    if (originAsURL.protocol === 'https:' || originAsURL.protocol === 'wss:') {\n      return true\n    }\n\n    // If localhost or variants, return true\n    if (/^127(?:\\.[0-9]+){0,2}\\.[0-9]+$|^\\[(?:0*:)*?:?0*1\\]$/.test(originAsURL.hostname) ||\n     (originAsURL.hostname === 'localhost' || originAsURL.hostname.includes('localhost.')) ||\n     (originAsURL.hostname.endsWith('.localhost'))) {\n      return true\n    }\n\n    // If any other, return false\n    return false\n  }\n}\n\n/**\n * @see https://w3c.github.io/webappsec-subresource-integrity/#does-response-match-metadatalist\n * @param {Uint8Array} bytes\n * @param {string} metadataList\n */\nfunction bytesMatch (bytes, metadataList) {\n  // If node is not built with OpenSSL support, we cannot check\n  // a request's integrity, so allow it by default (the spec will\n  // allow requests if an invalid hash is given, as precedence).\n  /* istanbul ignore if: only if node is built with --without-ssl */\n  if (crypto === undefined) {\n    return true\n  }\n\n  // 1. Let parsedMetadata be the result of parsing metadataList.\n  const parsedMetadata = parseMetadata(metadataList)\n\n  // 2. If parsedMetadata is no metadata, return true.\n  if (parsedMetadata === 'no metadata') {\n    return true\n  }\n\n  // 3. If response is not eligible for integrity validation, return false.\n  // TODO\n\n  // 4. If parsedMetadata is the empty set, return true.\n  if (parsedMetadata.length === 0) {\n    return true\n  }\n\n  // 5. Let metadata be the result of getting the strongest\n  //    metadata from parsedMetadata.\n  const strongest = getStrongestMetadata(parsedMetadata)\n  const metadata = filterMetadataListByAlgorithm(parsedMetadata, strongest)\n\n  // 6. For each item in metadata:\n  for (const item of metadata) {\n    // 1. Let algorithm be the alg component of item.\n    const algorithm = item.algo\n\n    // 2. Let expectedValue be the val component of item.\n    const expectedValue = item.hash\n\n    // See https://github.com/web-platform-tests/wpt/commit/e4c5cc7a5e48093220528dfdd1c4012dc3837a0e\n    // \"be liberal with padding\". This is annoying, and it's not even in the spec.\n\n    // 3. Let actualValue be the result of applying algorithm to bytes.\n    let actualValue = crypto.createHash(algorithm).update(bytes).digest('base64')\n\n    if (actualValue[actualValue.length - 1] === '=') {\n      if (actualValue[actualValue.length - 2] === '=') {\n        actualValue = actualValue.slice(0, -2)\n      } else {\n        actualValue = actualValue.slice(0, -1)\n      }\n    }\n\n    // 4. If actualValue is a case-sensitive match for expectedValue,\n    //    return true.\n    if (compareBase64Mixed(actualValue, expectedValue)) {\n      return true\n    }\n  }\n\n  // 7. Return false.\n  return false\n}\n\n// https://w3c.github.io/webappsec-subresource-integrity/#grammardef-hash-with-options\n// https://www.w3.org/TR/CSP2/#source-list-syntax\n// https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\nconst parseHashWithOptions = /(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\\s|$)( +[!-~]*)?)?/i\n\n/**\n * @see https://w3c.github.io/webappsec-subresource-integrity/#parse-metadata\n * @param {string} metadata\n */\nfunction parseMetadata (metadata) {\n  // 1. Let result be the empty set.\n  /** @type {{ algo: string, hash: string }[]} */\n  const result = []\n\n  // 2. Let empty be equal to true.\n  let empty = true\n\n  // 3. For each token returned by splitting metadata on spaces:\n  for (const token of metadata.split(' ')) {\n    // 1. Set empty to false.\n    empty = false\n\n    // 2. Parse token as a hash-with-options.\n    const parsedToken = parseHashWithOptions.exec(token)\n\n    // 3. If token does not parse, continue to the next token.\n    if (\n      parsedToken === null ||\n      parsedToken.groups === undefined ||\n      parsedToken.groups.algo === undefined\n    ) {\n      // Note: Chromium blocks the request at this point, but Firefox\n      // gives a warning that an invalid integrity was given. The\n      // correct behavior is to ignore these, and subsequently not\n      // check the integrity of the resource.\n      continue\n    }\n\n    // 4. Let algorithm be the hash-algo component of token.\n    const algorithm = parsedToken.groups.algo.toLowerCase()\n\n    // 5. If algorithm is a hash function recognized by the user\n    //    agent, add the parsed token to result.\n    if (supportedHashes.includes(algorithm)) {\n      result.push(parsedToken.groups)\n    }\n  }\n\n  // 4. Return no metadata if empty is true, otherwise return result.\n  if (empty === true) {\n    return 'no metadata'\n  }\n\n  return result\n}\n\n/**\n * @param {{ algo: 'sha256' | 'sha384' | 'sha512' }[]} metadataList\n */\nfunction getStrongestMetadata (metadataList) {\n  // Let algorithm be the algo component of the first item in metadataList.\n  // Can be sha256\n  let algorithm = metadataList[0].algo\n  // If the algorithm is sha512, then it is the strongest\n  // and we can return immediately\n  if (algorithm[3] === '5') {\n    return algorithm\n  }\n\n  for (let i = 1; i < metadataList.length; ++i) {\n    const metadata = metadataList[i]\n    // If the algorithm is sha512, then it is the strongest\n    // and we can break the loop immediately\n    if (metadata.algo[3] === '5') {\n      algorithm = 'sha512'\n      break\n    // If the algorithm is sha384, then a potential sha256 or sha384 is ignored\n    } else if (algorithm[3] === '3') {\n      continue\n    // algorithm is sha256, check if algorithm is sha384 and if so, set it as\n    // the strongest\n    } else if (metadata.algo[3] === '3') {\n      algorithm = 'sha384'\n    }\n  }\n  return algorithm\n}\n\nfunction filterMetadataListByAlgorithm (metadataList, algorithm) {\n  if (metadataList.length === 1) {\n    return metadataList\n  }\n\n  let pos = 0\n  for (let i = 0; i < metadataList.length; ++i) {\n    if (metadataList[i].algo === algorithm) {\n      metadataList[pos++] = metadataList[i]\n    }\n  }\n\n  metadataList.length = pos\n\n  return metadataList\n}\n\n/**\n * Compares two base64 strings, allowing for base64url\n * in the second string.\n *\n* @param {string} actualValue always base64\n * @param {string} expectedValue base64 or base64url\n * @returns {boolean}\n */\nfunction compareBase64Mixed (actualValue, expectedValue) {\n  if (actualValue.length !== expectedValue.length) {\n    return false\n  }\n  for (let i = 0; i < actualValue.length; ++i) {\n    if (actualValue[i] !== expectedValue[i]) {\n      if (\n        (actualValue[i] === '+' && expectedValue[i] === '-') ||\n        (actualValue[i] === '/' && expectedValue[i] === '_')\n      ) {\n        continue\n      }\n      return false\n    }\n  }\n\n  return true\n}\n\n// https://w3c.github.io/webappsec-upgrade-insecure-requests/#upgrade-request\nfunction tryUpgradeRequestToAPotentiallyTrustworthyURL (request) {\n  // TODO\n}\n\n/**\n * @link {https://html.spec.whatwg.org/multipage/origin.html#same-origin}\n * @param {URL} A\n * @param {URL} B\n */\nfunction sameOrigin (A, B) {\n  // 1. If A and B are the same opaque origin, then return true.\n  if (A.origin === B.origin && A.origin === 'null') {\n    return true\n  }\n\n  // 2. If A and B are both tuple origins and their schemes,\n  //    hosts, and port are identical, then return true.\n  if (A.protocol === B.protocol && A.hostname === B.hostname && A.port === B.port) {\n    return true\n  }\n\n  // 3. Return false.\n  return false\n}\n\nfunction createDeferredPromise () {\n  let res\n  let rej\n  const promise = new Promise((resolve, reject) => {\n    res = resolve\n    rej = reject\n  })\n\n  return { promise, resolve: res, reject: rej }\n}\n\nfunction isAborted (fetchParams) {\n  return fetchParams.controller.state === 'aborted'\n}\n\nfunction isCancelled (fetchParams) {\n  return fetchParams.controller.state === 'aborted' ||\n    fetchParams.controller.state === 'terminated'\n}\n\nconst normalizeMethodRecord = {\n  delete: 'DELETE',\n  DELETE: 'DELETE',\n  get: 'GET',\n  GET: 'GET',\n  head: 'HEAD',\n  HEAD: 'HEAD',\n  options: 'OPTIONS',\n  OPTIONS: 'OPTIONS',\n  post: 'POST',\n  POST: 'POST',\n  put: 'PUT',\n  PUT: 'PUT'\n}\n\n// Note: object prototypes should not be able to be referenced. e.g. `Object#hasOwnProperty`.\nObject.setPrototypeOf(normalizeMethodRecord, null)\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-method-normalize\n * @param {string} method\n */\nfunction normalizeMethod (method) {\n  return normalizeMethodRecord[method.toLowerCase()] ?? method\n}\n\n// https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string\nfunction serializeJavascriptValueToJSONString (value) {\n  // 1. Let result be ? Call(%JSON.stringify%, undefined, \u00AB value \u00BB).\n  const result = JSON.stringify(value)\n\n  // 2. If result is undefined, then throw a TypeError.\n  if (result === undefined) {\n    throw new TypeError('Value is not JSON serializable')\n  }\n\n  // 3. Assert: result is a string.\n  assert(typeof result === 'string')\n\n  // 4. Return result.\n  return result\n}\n\n// https://tc39.es/ecma262/#sec-%25iteratorprototype%25-object\nconst esIteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()))\n\n/**\n * @see https://webidl.spec.whatwg.org/#dfn-iterator-prototype-object\n * @param {() => unknown[]} iterator\n * @param {string} name name of the instance\n * @param {'key'|'value'|'key+value'} kind\n */\nfunction makeIterator (iterator, name, kind) {\n  const object = {\n    index: 0,\n    kind,\n    target: iterator\n  }\n\n  const i = {\n    next () {\n      // 1. Let interface be the interface for which the iterator prototype object exists.\n\n      // 2. Let thisValue be the this value.\n\n      // 3. Let object be ? ToObject(thisValue).\n\n      // 4. If object is a platform object, then perform a security\n      //    check, passing:\n\n      // 5. If object is not a default iterator object for interface,\n      //    then throw a TypeError.\n      if (Object.getPrototypeOf(this) !== i) {\n        throw new TypeError(\n          `'next' called on an object that does not implement interface ${name} Iterator.`\n        )\n      }\n\n      // 6. Let index be object\u2019s index.\n      // 7. Let kind be object\u2019s kind.\n      // 8. Let values be object\u2019s target's value pairs to iterate over.\n      const { index, kind, target } = object\n      const values = target()\n\n      // 9. Let len be the length of values.\n      const len = values.length\n\n      // 10. If index is greater than or equal to len, then return\n      //     CreateIterResultObject(undefined, true).\n      if (index >= len) {\n        return { value: undefined, done: true }\n      }\n\n      // 11. Let pair be the entry in values at index index.\n      const pair = values[index]\n\n      // 12. Set object\u2019s index to index + 1.\n      object.index = index + 1\n\n      // 13. Return the iterator result for pair and kind.\n      return iteratorResult(pair, kind)\n    },\n    // The class string of an iterator prototype object for a given interface is the\n    // result of concatenating the identifier of the interface and the string \" Iterator\".\n    [Symbol.toStringTag]: `${name} Iterator`\n  }\n\n  // The [[Prototype]] internal slot of an iterator prototype object must be %IteratorPrototype%.\n  Object.setPrototypeOf(i, esIteratorPrototype)\n  // esIteratorPrototype needs to be the prototype of i\n  // which is the prototype of an empty object. Yes, it's confusing.\n  return Object.setPrototypeOf({}, i)\n}\n\n// https://webidl.spec.whatwg.org/#iterator-result\nfunction iteratorResult (pair, kind) {\n  let result\n\n  // 1. Let result be a value determined by the value of kind:\n  switch (kind) {\n    case 'key': {\n      // 1. Let idlKey be pair\u2019s key.\n      // 2. Let key be the result of converting idlKey to an\n      //    ECMAScript value.\n      // 3. result is key.\n      result = pair[0]\n      break\n    }\n    case 'value': {\n      // 1. Let idlValue be pair\u2019s value.\n      // 2. Let value be the result of converting idlValue to\n      //    an ECMAScript value.\n      // 3. result is value.\n      result = pair[1]\n      break\n    }\n    case 'key+value': {\n      // 1. Let idlKey be pair\u2019s key.\n      // 2. Let idlValue be pair\u2019s value.\n      // 3. Let key be the result of converting idlKey to an\n      //    ECMAScript value.\n      // 4. Let value be the result of converting idlValue to\n      //    an ECMAScript value.\n      // 5. Let array be ! ArrayCreate(2).\n      // 6. Call ! CreateDataProperty(array, \"0\", key).\n      // 7. Call ! CreateDataProperty(array, \"1\", value).\n      // 8. result is array.\n      result = pair\n      break\n    }\n  }\n\n  // 2. Return CreateIterResultObject(result, false).\n  return { value: result, done: false }\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#body-fully-read\n */\nasync function fullyReadBody (body, processBody, processBodyError) {\n  // 1. If taskDestination is null, then set taskDestination to\n  //    the result of starting a new parallel queue.\n\n  // 2. Let successSteps given a byte sequence bytes be to queue a\n  //    fetch task to run processBody given bytes, with taskDestination.\n  const successSteps = processBody\n\n  // 3. Let errorSteps be to queue a fetch task to run processBodyError,\n  //    with taskDestination.\n  const errorSteps = processBodyError\n\n  // 4. Let reader be the result of getting a reader for body\u2019s stream.\n  //    If that threw an exception, then run errorSteps with that\n  //    exception and return.\n  let reader\n\n  try {\n    reader = body.stream.getReader()\n  } catch (e) {\n    errorSteps(e)\n    return\n  }\n\n  // 5. Read all bytes from reader, given successSteps and errorSteps.\n  try {\n    const result = await readAllBytes(reader)\n    successSteps(result)\n  } catch (e) {\n    errorSteps(e)\n  }\n}\n\n/** @type {ReadableStream} */\nlet ReadableStream = globalThis.ReadableStream\n\nfunction isReadableStreamLike (stream) {\n  if (!ReadableStream) {\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  return stream instanceof ReadableStream || (\n    stream[Symbol.toStringTag] === 'ReadableStream' &&\n    typeof stream.tee === 'function'\n  )\n}\n\nconst MAXIMUM_ARGUMENT_LENGTH = 65535\n\n/**\n * @see https://infra.spec.whatwg.org/#isomorphic-decode\n * @param {number[]|Uint8Array} input\n */\nfunction isomorphicDecode (input) {\n  // 1. To isomorphic decode a byte sequence input, return a string whose code point\n  //    length is equal to input\u2019s length and whose code points have the same values\n  //    as the values of input\u2019s bytes, in the same order.\n\n  if (input.length < MAXIMUM_ARGUMENT_LENGTH) {\n    return String.fromCharCode(...input)\n  }\n\n  return input.reduce((previous, current) => previous + String.fromCharCode(current), '')\n}\n\n/**\n * @param {ReadableStreamController<Uint8Array>} controller\n */\nfunction readableStreamClose (controller) {\n  try {\n    controller.close()\n  } catch (err) {\n    // TODO: add comment explaining why this error occurs.\n    if (!err.message.includes('Controller is already closed')) {\n      throw err\n    }\n  }\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#isomorphic-encode\n * @param {string} input\n */\nfunction isomorphicEncode (input) {\n  // 1. Assert: input contains no code points greater than U+00FF.\n  for (let i = 0; i < input.length; i++) {\n    assert(input.charCodeAt(i) <= 0xFF)\n  }\n\n  // 2. Return a byte sequence whose length is equal to input\u2019s code\n  //    point length and whose bytes have the same values as the\n  //    values of input\u2019s code points, in the same order\n  return input\n}\n\n/**\n * @see https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes\n * @see https://streams.spec.whatwg.org/#read-loop\n * @param {ReadableStreamDefaultReader} reader\n */\nasync function readAllBytes (reader) {\n  const bytes = []\n  let byteLength = 0\n\n  while (true) {\n    const { done, value: chunk } = await reader.read()\n\n    if (done) {\n      // 1. Call successSteps with bytes.\n      return Buffer.concat(bytes, byteLength)\n    }\n\n    // 1. If chunk is not a Uint8Array object, call failureSteps\n    //    with a TypeError and abort these steps.\n    if (!isUint8Array(chunk)) {\n      throw new TypeError('Received non-Uint8Array chunk')\n    }\n\n    // 2. Append the bytes represented by chunk to bytes.\n    bytes.push(chunk)\n    byteLength += chunk.length\n\n    // 3. Read-loop given reader, bytes, successSteps, and failureSteps.\n  }\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#is-local\n * @param {URL} url\n */\nfunction urlIsLocal (url) {\n  assert('protocol' in url) // ensure it's a url object\n\n  const protocol = url.protocol\n\n  return protocol === 'about:' || protocol === 'blob:' || protocol === 'data:'\n}\n\n/**\n * @param {string|URL} url\n */\nfunction urlHasHttpsScheme (url) {\n  if (typeof url === 'string') {\n    return url.startsWith('https:')\n  }\n\n  return url.protocol === 'https:'\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#http-scheme\n * @param {URL} url\n */\nfunction urlIsHttpHttpsScheme (url) {\n  assert('protocol' in url) // ensure it's a url object\n\n  const protocol = url.protocol\n\n  return protocol === 'http:' || protocol === 'https:'\n}\n\n/**\n * Fetch supports node >= 16.8.0, but Object.hasOwn was added in v16.9.0.\n */\nconst hasOwn = Object.hasOwn || ((dict, key) => Object.prototype.hasOwnProperty.call(dict, key))\n\nmodule.exports = {\n  isAborted,\n  isCancelled,\n  createDeferredPromise,\n  ReadableStreamFrom,\n  toUSVString,\n  tryUpgradeRequestToAPotentiallyTrustworthyURL,\n  coarsenedSharedCurrentTime,\n  determineRequestsReferrer,\n  makePolicyContainer,\n  clonePolicyContainer,\n  appendFetchMetadata,\n  appendRequestOriginHeader,\n  TAOCheck,\n  corsCheck,\n  crossOriginResourcePolicyCheck,\n  createOpaqueTimingInfo,\n  setRequestReferrerPolicyOnRedirect,\n  isValidHTTPToken,\n  requestBadPort,\n  requestCurrentURL,\n  responseURL,\n  responseLocationURL,\n  isBlobLike,\n  isURLPotentiallyTrustworthy,\n  isValidReasonPhrase,\n  sameOrigin,\n  normalizeMethod,\n  serializeJavascriptValueToJSONString,\n  makeIterator,\n  isValidHeaderName,\n  isValidHeaderValue,\n  hasOwn,\n  isErrorLike,\n  fullyReadBody,\n  bytesMatch,\n  isReadableStreamLike,\n  readableStreamClose,\n  isomorphicEncode,\n  isomorphicDecode,\n  urlIsLocal,\n  urlHasHttpsScheme,\n  urlIsHttpHttpsScheme,\n  readAllBytes,\n  normalizeMethodRecord,\n  parseMetadata\n}\n", "'use strict'\n\nmodule.exports = {\n  kUrl: Symbol('url'),\n  kHeaders: Symbol('headers'),\n  kSignal: Symbol('signal'),\n  kState: Symbol('state'),\n  kGuard: Symbol('guard'),\n  kRealm: Symbol('realm')\n}\n", "'use strict'\n\nconst { types } = require('util')\nconst { hasOwn, toUSVString } = require('./util')\n\n/** @type {import('../../types/webidl').Webidl} */\nconst webidl = {}\nwebidl.converters = {}\nwebidl.util = {}\nwebidl.errors = {}\n\nwebidl.errors.exception = function (message) {\n  return new TypeError(`${message.header}: ${message.message}`)\n}\n\nwebidl.errors.conversionFailed = function (context) {\n  const plural = context.types.length === 1 ? '' : ' one of'\n  const message =\n    `${context.argument} could not be converted to` +\n    `${plural}: ${context.types.join(', ')}.`\n\n  return webidl.errors.exception({\n    header: context.prefix,\n    message\n  })\n}\n\nwebidl.errors.invalidArgument = function (context) {\n  return webidl.errors.exception({\n    header: context.prefix,\n    message: `\"${context.value}\" is an invalid ${context.type}.`\n  })\n}\n\n// https://webidl.spec.whatwg.org/#implements\nwebidl.brandCheck = function (V, I, opts = undefined) {\n  if (opts?.strict !== false && !(V instanceof I)) {\n    throw new TypeError('Illegal invocation')\n  } else {\n    return V?.[Symbol.toStringTag] === I.prototype[Symbol.toStringTag]\n  }\n}\n\nwebidl.argumentLengthCheck = function ({ length }, min, ctx) {\n  if (length < min) {\n    throw webidl.errors.exception({\n      message: `${min} argument${min !== 1 ? 's' : ''} required, ` +\n               `but${length ? ' only' : ''} ${length} found.`,\n      ...ctx\n    })\n  }\n}\n\nwebidl.illegalConstructor = function () {\n  throw webidl.errors.exception({\n    header: 'TypeError',\n    message: 'Illegal constructor'\n  })\n}\n\n// https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values\nwebidl.util.Type = function (V) {\n  switch (typeof V) {\n    case 'undefined': return 'Undefined'\n    case 'boolean': return 'Boolean'\n    case 'string': return 'String'\n    case 'symbol': return 'Symbol'\n    case 'number': return 'Number'\n    case 'bigint': return 'BigInt'\n    case 'function':\n    case 'object': {\n      if (V === null) {\n        return 'Null'\n      }\n\n      return 'Object'\n    }\n  }\n}\n\n// https://webidl.spec.whatwg.org/#abstract-opdef-converttoint\nwebidl.util.ConvertToInt = function (V, bitLength, signedness, opts = {}) {\n  let upperBound\n  let lowerBound\n\n  // 1. If bitLength is 64, then:\n  if (bitLength === 64) {\n    // 1. Let upperBound be 2^53 \u2212 1.\n    upperBound = Math.pow(2, 53) - 1\n\n    // 2. If signedness is \"unsigned\", then let lowerBound be 0.\n    if (signedness === 'unsigned') {\n      lowerBound = 0\n    } else {\n      // 3. Otherwise let lowerBound be \u22122^53 + 1.\n      lowerBound = Math.pow(-2, 53) + 1\n    }\n  } else if (signedness === 'unsigned') {\n    // 2. Otherwise, if signedness is \"unsigned\", then:\n\n    // 1. Let lowerBound be 0.\n    lowerBound = 0\n\n    // 2. Let upperBound be 2^bitLength \u2212 1.\n    upperBound = Math.pow(2, bitLength) - 1\n  } else {\n    // 3. Otherwise:\n\n    // 1. Let lowerBound be -2^bitLength \u2212 1.\n    lowerBound = Math.pow(-2, bitLength) - 1\n\n    // 2. Let upperBound be 2^bitLength \u2212 1 \u2212 1.\n    upperBound = Math.pow(2, bitLength - 1) - 1\n  }\n\n  // 4. Let x be ? ToNumber(V).\n  let x = Number(V)\n\n  // 5. If x is \u22120, then set x to +0.\n  if (x === 0) {\n    x = 0\n  }\n\n  // 6. If the conversion is to an IDL type associated\n  //    with the [EnforceRange] extended attribute, then:\n  if (opts.enforceRange === true) {\n    // 1. If x is NaN, +\u221E, or \u2212\u221E, then throw a TypeError.\n    if (\n      Number.isNaN(x) ||\n      x === Number.POSITIVE_INFINITY ||\n      x === Number.NEGATIVE_INFINITY\n    ) {\n      throw webidl.errors.exception({\n        header: 'Integer conversion',\n        message: `Could not convert ${V} to an integer.`\n      })\n    }\n\n    // 2. Set x to IntegerPart(x).\n    x = webidl.util.IntegerPart(x)\n\n    // 3. If x < lowerBound or x > upperBound, then\n    //    throw a TypeError.\n    if (x < lowerBound || x > upperBound) {\n      throw webidl.errors.exception({\n        header: 'Integer conversion',\n        message: `Value must be between ${lowerBound}-${upperBound}, got ${x}.`\n      })\n    }\n\n    // 4. Return x.\n    return x\n  }\n\n  // 7. If x is not NaN and the conversion is to an IDL\n  //    type associated with the [Clamp] extended\n  //    attribute, then:\n  if (!Number.isNaN(x) && opts.clamp === true) {\n    // 1. Set x to min(max(x, lowerBound), upperBound).\n    x = Math.min(Math.max(x, lowerBound), upperBound)\n\n    // 2. Round x to the nearest integer, choosing the\n    //    even integer if it lies halfway between two,\n    //    and choosing +0 rather than \u22120.\n    if (Math.floor(x) % 2 === 0) {\n      x = Math.floor(x)\n    } else {\n      x = Math.ceil(x)\n    }\n\n    // 3. Return x.\n    return x\n  }\n\n  // 8. If x is NaN, +0, +\u221E, or \u2212\u221E, then return +0.\n  if (\n    Number.isNaN(x) ||\n    (x === 0 && Object.is(0, x)) ||\n    x === Number.POSITIVE_INFINITY ||\n    x === Number.NEGATIVE_INFINITY\n  ) {\n    return 0\n  }\n\n  // 9. Set x to IntegerPart(x).\n  x = webidl.util.IntegerPart(x)\n\n  // 10. Set x to x modulo 2^bitLength.\n  x = x % Math.pow(2, bitLength)\n\n  // 11. If signedness is \"signed\" and x \u2265 2^bitLength \u2212 1,\n  //    then return x \u2212 2^bitLength.\n  if (signedness === 'signed' && x >= Math.pow(2, bitLength) - 1) {\n    return x - Math.pow(2, bitLength)\n  }\n\n  // 12. Otherwise, return x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#abstract-opdef-integerpart\nwebidl.util.IntegerPart = function (n) {\n  // 1. Let r be floor(abs(n)).\n  const r = Math.floor(Math.abs(n))\n\n  // 2. If n < 0, then return -1 \u00D7 r.\n  if (n < 0) {\n    return -1 * r\n  }\n\n  // 3. Otherwise, return r.\n  return r\n}\n\n// https://webidl.spec.whatwg.org/#es-sequence\nwebidl.sequenceConverter = function (converter) {\n  return (V) => {\n    // 1. If Type(V) is not Object, throw a TypeError.\n    if (webidl.util.Type(V) !== 'Object') {\n      throw webidl.errors.exception({\n        header: 'Sequence',\n        message: `Value of type ${webidl.util.Type(V)} is not an Object.`\n      })\n    }\n\n    // 2. Let method be ? GetMethod(V, @@iterator).\n    /** @type {Generator} */\n    const method = V?.[Symbol.iterator]?.()\n    const seq = []\n\n    // 3. If method is undefined, throw a TypeError.\n    if (\n      method === undefined ||\n      typeof method.next !== 'function'\n    ) {\n      throw webidl.errors.exception({\n        header: 'Sequence',\n        message: 'Object is not an iterator.'\n      })\n    }\n\n    // https://webidl.spec.whatwg.org/#create-sequence-from-iterable\n    while (true) {\n      const { done, value } = method.next()\n\n      if (done) {\n        break\n      }\n\n      seq.push(converter(value))\n    }\n\n    return seq\n  }\n}\n\n// https://webidl.spec.whatwg.org/#es-to-record\nwebidl.recordConverter = function (keyConverter, valueConverter) {\n  return (O) => {\n    // 1. If Type(O) is not Object, throw a TypeError.\n    if (webidl.util.Type(O) !== 'Object') {\n      throw webidl.errors.exception({\n        header: 'Record',\n        message: `Value of type ${webidl.util.Type(O)} is not an Object.`\n      })\n    }\n\n    // 2. Let result be a new empty instance of record<K, V>.\n    const result = {}\n\n    if (!types.isProxy(O)) {\n      // Object.keys only returns enumerable properties\n      const keys = Object.keys(O)\n\n      for (const key of keys) {\n        // 1. Let typedKey be key converted to an IDL value of type K.\n        const typedKey = keyConverter(key)\n\n        // 2. Let value be ? Get(O, key).\n        // 3. Let typedValue be value converted to an IDL value of type V.\n        const typedValue = valueConverter(O[key])\n\n        // 4. Set result[typedKey] to typedValue.\n        result[typedKey] = typedValue\n      }\n\n      // 5. Return result.\n      return result\n    }\n\n    // 3. Let keys be ? O.[[OwnPropertyKeys]]().\n    const keys = Reflect.ownKeys(O)\n\n    // 4. For each key of keys.\n    for (const key of keys) {\n      // 1. Let desc be ? O.[[GetOwnProperty]](key).\n      const desc = Reflect.getOwnPropertyDescriptor(O, key)\n\n      // 2. If desc is not undefined and desc.[[Enumerable]] is true:\n      if (desc?.enumerable) {\n        // 1. Let typedKey be key converted to an IDL value of type K.\n        const typedKey = keyConverter(key)\n\n        // 2. Let value be ? Get(O, key).\n        // 3. Let typedValue be value converted to an IDL value of type V.\n        const typedValue = valueConverter(O[key])\n\n        // 4. Set result[typedKey] to typedValue.\n        result[typedKey] = typedValue\n      }\n    }\n\n    // 5. Return result.\n    return result\n  }\n}\n\nwebidl.interfaceConverter = function (i) {\n  return (V, opts = {}) => {\n    if (opts.strict !== false && !(V instanceof i)) {\n      throw webidl.errors.exception({\n        header: i.name,\n        message: `Expected ${V} to be an instance of ${i.name}.`\n      })\n    }\n\n    return V\n  }\n}\n\nwebidl.dictionaryConverter = function (converters) {\n  return (dictionary) => {\n    const type = webidl.util.Type(dictionary)\n    const dict = {}\n\n    if (type === 'Null' || type === 'Undefined') {\n      return dict\n    } else if (type !== 'Object') {\n      throw webidl.errors.exception({\n        header: 'Dictionary',\n        message: `Expected ${dictionary} to be one of: Null, Undefined, Object.`\n      })\n    }\n\n    for (const options of converters) {\n      const { key, defaultValue, required, converter } = options\n\n      if (required === true) {\n        if (!hasOwn(dictionary, key)) {\n          throw webidl.errors.exception({\n            header: 'Dictionary',\n            message: `Missing required key \"${key}\".`\n          })\n        }\n      }\n\n      let value = dictionary[key]\n      const hasDefault = hasOwn(options, 'defaultValue')\n\n      // Only use defaultValue if value is undefined and\n      // a defaultValue options was provided.\n      if (hasDefault && value !== null) {\n        value = value ?? defaultValue\n      }\n\n      // A key can be optional and have no default value.\n      // When this happens, do not perform a conversion,\n      // and do not assign the key a value.\n      if (required || hasDefault || value !== undefined) {\n        value = converter(value)\n\n        if (\n          options.allowedValues &&\n          !options.allowedValues.includes(value)\n        ) {\n          throw webidl.errors.exception({\n            header: 'Dictionary',\n            message: `${value} is not an accepted type. Expected one of ${options.allowedValues.join(', ')}.`\n          })\n        }\n\n        dict[key] = value\n      }\n    }\n\n    return dict\n  }\n}\n\nwebidl.nullableConverter = function (converter) {\n  return (V) => {\n    if (V === null) {\n      return V\n    }\n\n    return converter(V)\n  }\n}\n\n// https://webidl.spec.whatwg.org/#es-DOMString\nwebidl.converters.DOMString = function (V, opts = {}) {\n  // 1. If V is null and the conversion is to an IDL type\n  //    associated with the [LegacyNullToEmptyString]\n  //    extended attribute, then return the DOMString value\n  //    that represents the empty string.\n  if (V === null && opts.legacyNullToEmptyString) {\n    return ''\n  }\n\n  // 2. Let x be ? ToString(V).\n  if (typeof V === 'symbol') {\n    throw new TypeError('Could not convert argument of type symbol to string.')\n  }\n\n  // 3. Return the IDL DOMString value that represents the\n  //    same sequence of code units as the one the\n  //    ECMAScript String value x represents.\n  return String(V)\n}\n\n// https://webidl.spec.whatwg.org/#es-ByteString\nwebidl.converters.ByteString = function (V) {\n  // 1. Let x be ? ToString(V).\n  // Note: DOMString converter perform ? ToString(V)\n  const x = webidl.converters.DOMString(V)\n\n  // 2. If the value of any element of x is greater than\n  //    255, then throw a TypeError.\n  for (let index = 0; index < x.length; index++) {\n    if (x.charCodeAt(index) > 255) {\n      throw new TypeError(\n        'Cannot convert argument to a ByteString because the character at ' +\n        `index ${index} has a value of ${x.charCodeAt(index)} which is greater than 255.`\n      )\n    }\n  }\n\n  // 3. Return an IDL ByteString value whose length is the\n  //    length of x, and where the value of each element is\n  //    the value of the corresponding element of x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-USVString\nwebidl.converters.USVString = toUSVString\n\n// https://webidl.spec.whatwg.org/#es-boolean\nwebidl.converters.boolean = function (V) {\n  // 1. Let x be the result of computing ToBoolean(V).\n  const x = Boolean(V)\n\n  // 2. Return the IDL boolean value that is the one that represents\n  //    the same truth value as the ECMAScript Boolean value x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-any\nwebidl.converters.any = function (V) {\n  return V\n}\n\n// https://webidl.spec.whatwg.org/#es-long-long\nwebidl.converters['long long'] = function (V) {\n  // 1. Let x be ? ConvertToInt(V, 64, \"signed\").\n  const x = webidl.util.ConvertToInt(V, 64, 'signed')\n\n  // 2. Return the IDL long long value that represents\n  //    the same numeric value as x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-unsigned-long-long\nwebidl.converters['unsigned long long'] = function (V) {\n  // 1. Let x be ? ConvertToInt(V, 64, \"unsigned\").\n  const x = webidl.util.ConvertToInt(V, 64, 'unsigned')\n\n  // 2. Return the IDL unsigned long long value that\n  //    represents the same numeric value as x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-unsigned-long\nwebidl.converters['unsigned long'] = function (V) {\n  // 1. Let x be ? ConvertToInt(V, 32, \"unsigned\").\n  const x = webidl.util.ConvertToInt(V, 32, 'unsigned')\n\n  // 2. Return the IDL unsigned long value that\n  //    represents the same numeric value as x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-unsigned-short\nwebidl.converters['unsigned short'] = function (V, opts) {\n  // 1. Let x be ? ConvertToInt(V, 16, \"unsigned\").\n  const x = webidl.util.ConvertToInt(V, 16, 'unsigned', opts)\n\n  // 2. Return the IDL unsigned short value that represents\n  //    the same numeric value as x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#idl-ArrayBuffer\nwebidl.converters.ArrayBuffer = function (V, opts = {}) {\n  // 1. If Type(V) is not Object, or V does not have an\n  //    [[ArrayBufferData]] internal slot, then throw a\n  //    TypeError.\n  // see: https://tc39.es/ecma262/#sec-properties-of-the-arraybuffer-instances\n  // see: https://tc39.es/ecma262/#sec-properties-of-the-sharedarraybuffer-instances\n  if (\n    webidl.util.Type(V) !== 'Object' ||\n    !types.isAnyArrayBuffer(V)\n  ) {\n    throw webidl.errors.conversionFailed({\n      prefix: `${V}`,\n      argument: `${V}`,\n      types: ['ArrayBuffer']\n    })\n  }\n\n  // 2. If the conversion is not to an IDL type associated\n  //    with the [AllowShared] extended attribute, and\n  //    IsSharedArrayBuffer(V) is true, then throw a\n  //    TypeError.\n  if (opts.allowShared === false && types.isSharedArrayBuffer(V)) {\n    throw webidl.errors.exception({\n      header: 'ArrayBuffer',\n      message: 'SharedArrayBuffer is not allowed.'\n    })\n  }\n\n  // 3. If the conversion is not to an IDL type associated\n  //    with the [AllowResizable] extended attribute, and\n  //    IsResizableArrayBuffer(V) is true, then throw a\n  //    TypeError.\n  // Note: resizable ArrayBuffers are currently a proposal.\n\n  // 4. Return the IDL ArrayBuffer value that is a\n  //    reference to the same object as V.\n  return V\n}\n\nwebidl.converters.TypedArray = function (V, T, opts = {}) {\n  // 1. Let T be the IDL type V is being converted to.\n\n  // 2. If Type(V) is not Object, or V does not have a\n  //    [[TypedArrayName]] internal slot with a value\n  //    equal to T\u2019s name, then throw a TypeError.\n  if (\n    webidl.util.Type(V) !== 'Object' ||\n    !types.isTypedArray(V) ||\n    V.constructor.name !== T.name\n  ) {\n    throw webidl.errors.conversionFailed({\n      prefix: `${T.name}`,\n      argument: `${V}`,\n      types: [T.name]\n    })\n  }\n\n  // 3. If the conversion is not to an IDL type associated\n  //    with the [AllowShared] extended attribute, and\n  //    IsSharedArrayBuffer(V.[[ViewedArrayBuffer]]) is\n  //    true, then throw a TypeError.\n  if (opts.allowShared === false && types.isSharedArrayBuffer(V.buffer)) {\n    throw webidl.errors.exception({\n      header: 'ArrayBuffer',\n      message: 'SharedArrayBuffer is not allowed.'\n    })\n  }\n\n  // 4. If the conversion is not to an IDL type associated\n  //    with the [AllowResizable] extended attribute, and\n  //    IsResizableArrayBuffer(V.[[ViewedArrayBuffer]]) is\n  //    true, then throw a TypeError.\n  // Note: resizable array buffers are currently a proposal\n\n  // 5. Return the IDL value of type T that is a reference\n  //    to the same object as V.\n  return V\n}\n\nwebidl.converters.DataView = function (V, opts = {}) {\n  // 1. If Type(V) is not Object, or V does not have a\n  //    [[DataView]] internal slot, then throw a TypeError.\n  if (webidl.util.Type(V) !== 'Object' || !types.isDataView(V)) {\n    throw webidl.errors.exception({\n      header: 'DataView',\n      message: 'Object is not a DataView.'\n    })\n  }\n\n  // 2. If the conversion is not to an IDL type associated\n  //    with the [AllowShared] extended attribute, and\n  //    IsSharedArrayBuffer(V.[[ViewedArrayBuffer]]) is true,\n  //    then throw a TypeError.\n  if (opts.allowShared === false && types.isSharedArrayBuffer(V.buffer)) {\n    throw webidl.errors.exception({\n      header: 'ArrayBuffer',\n      message: 'SharedArrayBuffer is not allowed.'\n    })\n  }\n\n  // 3. If the conversion is not to an IDL type associated\n  //    with the [AllowResizable] extended attribute, and\n  //    IsResizableArrayBuffer(V.[[ViewedArrayBuffer]]) is\n  //    true, then throw a TypeError.\n  // Note: resizable ArrayBuffers are currently a proposal\n\n  // 4. Return the IDL DataView value that is a reference\n  //    to the same object as V.\n  return V\n}\n\n// https://webidl.spec.whatwg.org/#BufferSource\nwebidl.converters.BufferSource = function (V, opts = {}) {\n  if (types.isAnyArrayBuffer(V)) {\n    return webidl.converters.ArrayBuffer(V, opts)\n  }\n\n  if (types.isTypedArray(V)) {\n    return webidl.converters.TypedArray(V, V.constructor)\n  }\n\n  if (types.isDataView(V)) {\n    return webidl.converters.DataView(V, opts)\n  }\n\n  throw new TypeError(`Could not convert ${V} to a BufferSource.`)\n}\n\nwebidl.converters['sequence<ByteString>'] = webidl.sequenceConverter(\n  webidl.converters.ByteString\n)\n\nwebidl.converters['sequence<sequence<ByteString>>'] = webidl.sequenceConverter(\n  webidl.converters['sequence<ByteString>']\n)\n\nwebidl.converters['record<ByteString, ByteString>'] = webidl.recordConverter(\n  webidl.converters.ByteString,\n  webidl.converters.ByteString\n)\n\nmodule.exports = {\n  webidl\n}\n", "const assert = require('assert')\nconst { atob } = require('buffer')\nconst { isomorphicDecode } = require('./util')\n\nconst encoder = new TextEncoder()\n\n/**\n * @see https://mimesniff.spec.whatwg.org/#http-token-code-point\n */\nconst HTTP_TOKEN_CODEPOINTS = /^[!#$%&'*+-.^_|~A-Za-z0-9]+$/\nconst HTTP_WHITESPACE_REGEX = /(\\u000A|\\u000D|\\u0009|\\u0020)/ // eslint-disable-line\n/**\n * @see https://mimesniff.spec.whatwg.org/#http-quoted-string-token-code-point\n */\nconst HTTP_QUOTED_STRING_TOKENS = /[\\u0009|\\u0020-\\u007E|\\u0080-\\u00FF]/ // eslint-disable-line\n\n// https://fetch.spec.whatwg.org/#data-url-processor\n/** @param {URL} dataURL */\nfunction dataURLProcessor (dataURL) {\n  // 1. Assert: dataURL\u2019s scheme is \"data\".\n  assert(dataURL.protocol === 'data:')\n\n  // 2. Let input be the result of running the URL\n  // serializer on dataURL with exclude fragment\n  // set to true.\n  let input = URLSerializer(dataURL, true)\n\n  // 3. Remove the leading \"data:\" string from input.\n  input = input.slice(5)\n\n  // 4. Let position point at the start of input.\n  const position = { position: 0 }\n\n  // 5. Let mimeType be the result of collecting a\n  // sequence of code points that are not equal\n  // to U+002C (,), given position.\n  let mimeType = collectASequenceOfCodePointsFast(\n    ',',\n    input,\n    position\n  )\n\n  // 6. Strip leading and trailing ASCII whitespace\n  // from mimeType.\n  // Undici implementation note: we need to store the\n  // length because if the mimetype has spaces removed,\n  // the wrong amount will be sliced from the input in\n  // step #9\n  const mimeTypeLength = mimeType.length\n  mimeType = removeASCIIWhitespace(mimeType, true, true)\n\n  // 7. If position is past the end of input, then\n  // return failure\n  if (position.position >= input.length) {\n    return 'failure'\n  }\n\n  // 8. Advance position by 1.\n  position.position++\n\n  // 9. Let encodedBody be the remainder of input.\n  const encodedBody = input.slice(mimeTypeLength + 1)\n\n  // 10. Let body be the percent-decoding of encodedBody.\n  let body = stringPercentDecode(encodedBody)\n\n  // 11. If mimeType ends with U+003B (;), followed by\n  // zero or more U+0020 SPACE, followed by an ASCII\n  // case-insensitive match for \"base64\", then:\n  if (/;(\\u0020){0,}base64$/i.test(mimeType)) {\n    // 1. Let stringBody be the isomorphic decode of body.\n    const stringBody = isomorphicDecode(body)\n\n    // 2. Set body to the forgiving-base64 decode of\n    // stringBody.\n    body = forgivingBase64(stringBody)\n\n    // 3. If body is failure, then return failure.\n    if (body === 'failure') {\n      return 'failure'\n    }\n\n    // 4. Remove the last 6 code points from mimeType.\n    mimeType = mimeType.slice(0, -6)\n\n    // 5. Remove trailing U+0020 SPACE code points from mimeType,\n    // if any.\n    mimeType = mimeType.replace(/(\\u0020)+$/, '')\n\n    // 6. Remove the last U+003B (;) code point from mimeType.\n    mimeType = mimeType.slice(0, -1)\n  }\n\n  // 12. If mimeType starts with U+003B (;), then prepend\n  // \"text/plain\" to mimeType.\n  if (mimeType.startsWith(';')) {\n    mimeType = 'text/plain' + mimeType\n  }\n\n  // 13. Let mimeTypeRecord be the result of parsing\n  // mimeType.\n  let mimeTypeRecord = parseMIMEType(mimeType)\n\n  // 14. If mimeTypeRecord is failure, then set\n  // mimeTypeRecord to text/plain;charset=US-ASCII.\n  if (mimeTypeRecord === 'failure') {\n    mimeTypeRecord = parseMIMEType('text/plain;charset=US-ASCII')\n  }\n\n  // 15. Return a new data: URL struct whose MIME\n  // type is mimeTypeRecord and body is body.\n  // https://fetch.spec.whatwg.org/#data-url-struct\n  return { mimeType: mimeTypeRecord, body }\n}\n\n// https://url.spec.whatwg.org/#concept-url-serializer\n/**\n * @param {URL} url\n * @param {boolean} excludeFragment\n */\nfunction URLSerializer (url, excludeFragment = false) {\n  if (!excludeFragment) {\n    return url.href\n  }\n\n  const href = url.href\n  const hashLength = url.hash.length\n\n  return hashLength === 0 ? href : href.substring(0, href.length - hashLength)\n}\n\n// https://infra.spec.whatwg.org/#collect-a-sequence-of-code-points\n/**\n * @param {(char: string) => boolean} condition\n * @param {string} input\n * @param {{ position: number }} position\n */\nfunction collectASequenceOfCodePoints (condition, input, position) {\n  // 1. Let result be the empty string.\n  let result = ''\n\n  // 2. While position doesn\u2019t point past the end of input and the\n  // code point at position within input meets the condition condition:\n  while (position.position < input.length && condition(input[position.position])) {\n    // 1. Append that code point to the end of result.\n    result += input[position.position]\n\n    // 2. Advance position by 1.\n    position.position++\n  }\n\n  // 3. Return result.\n  return result\n}\n\n/**\n * A faster collectASequenceOfCodePoints that only works when comparing a single character.\n * @param {string} char\n * @param {string} input\n * @param {{ position: number }} position\n */\nfunction collectASequenceOfCodePointsFast (char, input, position) {\n  const idx = input.indexOf(char, position.position)\n  const start = position.position\n\n  if (idx === -1) {\n    position.position = input.length\n    return input.slice(start)\n  }\n\n  position.position = idx\n  return input.slice(start, position.position)\n}\n\n// https://url.spec.whatwg.org/#string-percent-decode\n/** @param {string} input */\nfunction stringPercentDecode (input) {\n  // 1. Let bytes be the UTF-8 encoding of input.\n  const bytes = encoder.encode(input)\n\n  // 2. Return the percent-decoding of bytes.\n  return percentDecode(bytes)\n}\n\n// https://url.spec.whatwg.org/#percent-decode\n/** @param {Uint8Array} input */\nfunction percentDecode (input) {\n  // 1. Let output be an empty byte sequence.\n  /** @type {number[]} */\n  const output = []\n\n  // 2. For each byte byte in input:\n  for (let i = 0; i < input.length; i++) {\n    const byte = input[i]\n\n    // 1. If byte is not 0x25 (%), then append byte to output.\n    if (byte !== 0x25) {\n      output.push(byte)\n\n    // 2. Otherwise, if byte is 0x25 (%) and the next two bytes\n    // after byte in input are not in the ranges\n    // 0x30 (0) to 0x39 (9), 0x41 (A) to 0x46 (F),\n    // and 0x61 (a) to 0x66 (f), all inclusive, append byte\n    // to output.\n    } else if (\n      byte === 0x25 &&\n      !/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(input[i + 1], input[i + 2]))\n    ) {\n      output.push(0x25)\n\n    // 3. Otherwise:\n    } else {\n      // 1. Let bytePoint be the two bytes after byte in input,\n      // decoded, and then interpreted as hexadecimal number.\n      const nextTwoBytes = String.fromCharCode(input[i + 1], input[i + 2])\n      const bytePoint = Number.parseInt(nextTwoBytes, 16)\n\n      // 2. Append a byte whose value is bytePoint to output.\n      output.push(bytePoint)\n\n      // 3. Skip the next two bytes in input.\n      i += 2\n    }\n  }\n\n  // 3. Return output.\n  return Uint8Array.from(output)\n}\n\n// https://mimesniff.spec.whatwg.org/#parse-a-mime-type\n/** @param {string} input */\nfunction parseMIMEType (input) {\n  // 1. Remove any leading and trailing HTTP whitespace\n  // from input.\n  input = removeHTTPWhitespace(input, true, true)\n\n  // 2. Let position be a position variable for input,\n  // initially pointing at the start of input.\n  const position = { position: 0 }\n\n  // 3. Let type be the result of collecting a sequence\n  // of code points that are not U+002F (/) from\n  // input, given position.\n  const type = collectASequenceOfCodePointsFast(\n    '/',\n    input,\n    position\n  )\n\n  // 4. If type is the empty string or does not solely\n  // contain HTTP token code points, then return failure.\n  // https://mimesniff.spec.whatwg.org/#http-token-code-point\n  if (type.length === 0 || !HTTP_TOKEN_CODEPOINTS.test(type)) {\n    return 'failure'\n  }\n\n  // 5. If position is past the end of input, then return\n  // failure\n  if (position.position > input.length) {\n    return 'failure'\n  }\n\n  // 6. Advance position by 1. (This skips past U+002F (/).)\n  position.position++\n\n  // 7. Let subtype be the result of collecting a sequence of\n  // code points that are not U+003B (;) from input, given\n  // position.\n  let subtype = collectASequenceOfCodePointsFast(\n    ';',\n    input,\n    position\n  )\n\n  // 8. Remove any trailing HTTP whitespace from subtype.\n  subtype = removeHTTPWhitespace(subtype, false, true)\n\n  // 9. If subtype is the empty string or does not solely\n  // contain HTTP token code points, then return failure.\n  if (subtype.length === 0 || !HTTP_TOKEN_CODEPOINTS.test(subtype)) {\n    return 'failure'\n  }\n\n  const typeLowercase = type.toLowerCase()\n  const subtypeLowercase = subtype.toLowerCase()\n\n  // 10. Let mimeType be a new MIME type record whose type\n  // is type, in ASCII lowercase, and subtype is subtype,\n  // in ASCII lowercase.\n  // https://mimesniff.spec.whatwg.org/#mime-type\n  const mimeType = {\n    type: typeLowercase,\n    subtype: subtypeLowercase,\n    /** @type {Map<string, string>} */\n    parameters: new Map(),\n    // https://mimesniff.spec.whatwg.org/#mime-type-essence\n    essence: `${typeLowercase}/${subtypeLowercase}`\n  }\n\n  // 11. While position is not past the end of input:\n  while (position.position < input.length) {\n    // 1. Advance position by 1. (This skips past U+003B (;).)\n    position.position++\n\n    // 2. Collect a sequence of code points that are HTTP\n    // whitespace from input given position.\n    collectASequenceOfCodePoints(\n      // https://fetch.spec.whatwg.org/#http-whitespace\n      char => HTTP_WHITESPACE_REGEX.test(char),\n      input,\n      position\n    )\n\n    // 3. Let parameterName be the result of collecting a\n    // sequence of code points that are not U+003B (;)\n    // or U+003D (=) from input, given position.\n    let parameterName = collectASequenceOfCodePoints(\n      (char) => char !== ';' && char !== '=',\n      input,\n      position\n    )\n\n    // 4. Set parameterName to parameterName, in ASCII\n    // lowercase.\n    parameterName = parameterName.toLowerCase()\n\n    // 5. If position is not past the end of input, then:\n    if (position.position < input.length) {\n      // 1. If the code point at position within input is\n      // U+003B (;), then continue.\n      if (input[position.position] === ';') {\n        continue\n      }\n\n      // 2. Advance position by 1. (This skips past U+003D (=).)\n      position.position++\n    }\n\n    // 6. If position is past the end of input, then break.\n    if (position.position > input.length) {\n      break\n    }\n\n    // 7. Let parameterValue be null.\n    let parameterValue = null\n\n    // 8. If the code point at position within input is\n    // U+0022 (\"), then:\n    if (input[position.position] === '\"') {\n      // 1. Set parameterValue to the result of collecting\n      // an HTTP quoted string from input, given position\n      // and the extract-value flag.\n      parameterValue = collectAnHTTPQuotedString(input, position, true)\n\n      // 2. Collect a sequence of code points that are not\n      // U+003B (;) from input, given position.\n      collectASequenceOfCodePointsFast(\n        ';',\n        input,\n        position\n      )\n\n    // 9. Otherwise:\n    } else {\n      // 1. Set parameterValue to the result of collecting\n      // a sequence of code points that are not U+003B (;)\n      // from input, given position.\n      parameterValue = collectASequenceOfCodePointsFast(\n        ';',\n        input,\n        position\n      )\n\n      // 2. Remove any trailing HTTP whitespace from parameterValue.\n      parameterValue = removeHTTPWhitespace(parameterValue, false, true)\n\n      // 3. If parameterValue is the empty string, then continue.\n      if (parameterValue.length === 0) {\n        continue\n      }\n    }\n\n    // 10. If all of the following are true\n    // - parameterName is not the empty string\n    // - parameterName solely contains HTTP token code points\n    // - parameterValue solely contains HTTP quoted-string token code points\n    // - mimeType\u2019s parameters[parameterName] does not exist\n    // then set mimeType\u2019s parameters[parameterName] to parameterValue.\n    if (\n      parameterName.length !== 0 &&\n      HTTP_TOKEN_CODEPOINTS.test(parameterName) &&\n      (parameterValue.length === 0 || HTTP_QUOTED_STRING_TOKENS.test(parameterValue)) &&\n      !mimeType.parameters.has(parameterName)\n    ) {\n      mimeType.parameters.set(parameterName, parameterValue)\n    }\n  }\n\n  // 12. Return mimeType.\n  return mimeType\n}\n\n// https://infra.spec.whatwg.org/#forgiving-base64-decode\n/** @param {string} data */\nfunction forgivingBase64 (data) {\n  // 1. Remove all ASCII whitespace from data.\n  data = data.replace(/[\\u0009\\u000A\\u000C\\u000D\\u0020]/g, '')  // eslint-disable-line\n\n  // 2. If data\u2019s code point length divides by 4 leaving\n  // no remainder, then:\n  if (data.length % 4 === 0) {\n    // 1. If data ends with one or two U+003D (=) code points,\n    // then remove them from data.\n    data = data.replace(/=?=$/, '')\n  }\n\n  // 3. If data\u2019s code point length divides by 4 leaving\n  // a remainder of 1, then return failure.\n  if (data.length % 4 === 1) {\n    return 'failure'\n  }\n\n  // 4. If data contains a code point that is not one of\n  //  U+002B (+)\n  //  U+002F (/)\n  //  ASCII alphanumeric\n  // then return failure.\n  if (/[^+/0-9A-Za-z]/.test(data)) {\n    return 'failure'\n  }\n\n  const binary = atob(data)\n  const bytes = new Uint8Array(binary.length)\n\n  for (let byte = 0; byte < binary.length; byte++) {\n    bytes[byte] = binary.charCodeAt(byte)\n  }\n\n  return bytes\n}\n\n// https://fetch.spec.whatwg.org/#collect-an-http-quoted-string\n// tests: https://fetch.spec.whatwg.org/#example-http-quoted-string\n/**\n * @param {string} input\n * @param {{ position: number }} position\n * @param {boolean?} extractValue\n */\nfunction collectAnHTTPQuotedString (input, position, extractValue) {\n  // 1. Let positionStart be position.\n  const positionStart = position.position\n\n  // 2. Let value be the empty string.\n  let value = ''\n\n  // 3. Assert: the code point at position within input\n  // is U+0022 (\").\n  assert(input[position.position] === '\"')\n\n  // 4. Advance position by 1.\n  position.position++\n\n  // 5. While true:\n  while (true) {\n    // 1. Append the result of collecting a sequence of code points\n    // that are not U+0022 (\") or U+005C (\\) from input, given\n    // position, to value.\n    value += collectASequenceOfCodePoints(\n      (char) => char !== '\"' && char !== '\\\\',\n      input,\n      position\n    )\n\n    // 2. If position is past the end of input, then break.\n    if (position.position >= input.length) {\n      break\n    }\n\n    // 3. Let quoteOrBackslash be the code point at position within\n    // input.\n    const quoteOrBackslash = input[position.position]\n\n    // 4. Advance position by 1.\n    position.position++\n\n    // 5. If quoteOrBackslash is U+005C (\\), then:\n    if (quoteOrBackslash === '\\\\') {\n      // 1. If position is past the end of input, then append\n      // U+005C (\\) to value and break.\n      if (position.position >= input.length) {\n        value += '\\\\'\n        break\n      }\n\n      // 2. Append the code point at position within input to value.\n      value += input[position.position]\n\n      // 3. Advance position by 1.\n      position.position++\n\n    // 6. Otherwise:\n    } else {\n      // 1. Assert: quoteOrBackslash is U+0022 (\").\n      assert(quoteOrBackslash === '\"')\n\n      // 2. Break.\n      break\n    }\n  }\n\n  // 6. If the extract-value flag is set, then return value.\n  if (extractValue) {\n    return value\n  }\n\n  // 7. Return the code points from positionStart to position,\n  // inclusive, within input.\n  return input.slice(positionStart, position.position)\n}\n\n/**\n * @see https://mimesniff.spec.whatwg.org/#serialize-a-mime-type\n */\nfunction serializeAMimeType (mimeType) {\n  assert(mimeType !== 'failure')\n  const { parameters, essence } = mimeType\n\n  // 1. Let serialization be the concatenation of mimeType\u2019s\n  //    type, U+002F (/), and mimeType\u2019s subtype.\n  let serialization = essence\n\n  // 2. For each name \u2192 value of mimeType\u2019s parameters:\n  for (let [name, value] of parameters.entries()) {\n    // 1. Append U+003B (;) to serialization.\n    serialization += ';'\n\n    // 2. Append name to serialization.\n    serialization += name\n\n    // 3. Append U+003D (=) to serialization.\n    serialization += '='\n\n    // 4. If value does not solely contain HTTP token code\n    //    points or value is the empty string, then:\n    if (!HTTP_TOKEN_CODEPOINTS.test(value)) {\n      // 1. Precede each occurence of U+0022 (\") or\n      //    U+005C (\\) in value with U+005C (\\).\n      value = value.replace(/(\\\\|\")/g, '\\\\$1')\n\n      // 2. Prepend U+0022 (\") to value.\n      value = '\"' + value\n\n      // 3. Append U+0022 (\") to value.\n      value += '\"'\n    }\n\n    // 5. Append value to serialization.\n    serialization += value\n  }\n\n  // 3. Return serialization.\n  return serialization\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#http-whitespace\n * @param {string} char\n */\nfunction isHTTPWhiteSpace (char) {\n  return char === '\\r' || char === '\\n' || char === '\\t' || char === ' '\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#http-whitespace\n * @param {string} str\n */\nfunction removeHTTPWhitespace (str, leading = true, trailing = true) {\n  let lead = 0\n  let trail = str.length - 1\n\n  if (leading) {\n    for (; lead < str.length && isHTTPWhiteSpace(str[lead]); lead++);\n  }\n\n  if (trailing) {\n    for (; trail > 0 && isHTTPWhiteSpace(str[trail]); trail--);\n  }\n\n  return str.slice(lead, trail + 1)\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n * @param {string} char\n */\nfunction isASCIIWhitespace (char) {\n  return char === '\\r' || char === '\\n' || char === '\\t' || char === '\\f' || char === ' '\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#strip-leading-and-trailing-ascii-whitespace\n */\nfunction removeASCIIWhitespace (str, leading = true, trailing = true) {\n  let lead = 0\n  let trail = str.length - 1\n\n  if (leading) {\n    for (; lead < str.length && isASCIIWhitespace(str[lead]); lead++);\n  }\n\n  if (trailing) {\n    for (; trail > 0 && isASCIIWhitespace(str[trail]); trail--);\n  }\n\n  return str.slice(lead, trail + 1)\n}\n\nmodule.exports = {\n  dataURLProcessor,\n  URLSerializer,\n  collectASequenceOfCodePoints,\n  collectASequenceOfCodePointsFast,\n  stringPercentDecode,\n  parseMIMEType,\n  collectAnHTTPQuotedString,\n  serializeAMimeType\n}\n", "'use strict'\n\nconst { Blob, File: NativeFile } = require('buffer')\nconst { types } = require('util')\nconst { kState } = require('./symbols')\nconst { isBlobLike } = require('./util')\nconst { webidl } = require('./webidl')\nconst { parseMIMEType, serializeAMimeType } = require('./dataURL')\nconst { kEnumerableProperty } = require('../core/util')\nconst encoder = new TextEncoder()\n\nclass File extends Blob {\n  constructor (fileBits, fileName, options = {}) {\n    // The File constructor is invoked with two or three parameters, depending\n    // on whether the optional dictionary parameter is used. When the File()\n    // constructor is invoked, user agents must run the following steps:\n    webidl.argumentLengthCheck(arguments, 2, { header: 'File constructor' })\n\n    fileBits = webidl.converters['sequence<BlobPart>'](fileBits)\n    fileName = webidl.converters.USVString(fileName)\n    options = webidl.converters.FilePropertyBag(options)\n\n    // 1. Let bytes be the result of processing blob parts given fileBits and\n    // options.\n    // Note: Blob handles this for us\n\n    // 2. Let n be the fileName argument to the constructor.\n    const n = fileName\n\n    // 3. Process FilePropertyBag dictionary argument by running the following\n    // substeps:\n\n    //    1. If the type member is provided and is not the empty string, let t\n    //    be set to the type dictionary member. If t contains any characters\n    //    outside the range U+0020 to U+007E, then set t to the empty string\n    //    and return from these substeps.\n    //    2. Convert every character in t to ASCII lowercase.\n    let t = options.type\n    let d\n\n    // eslint-disable-next-line no-labels\n    substep: {\n      if (t) {\n        t = parseMIMEType(t)\n\n        if (t === 'failure') {\n          t = ''\n          // eslint-disable-next-line no-labels\n          break substep\n        }\n\n        t = serializeAMimeType(t).toLowerCase()\n      }\n\n      //    3. If the lastModified member is provided, let d be set to the\n      //    lastModified dictionary member. If it is not provided, set d to the\n      //    current date and time represented as the number of milliseconds since\n      //    the Unix Epoch (which is the equivalent of Date.now() [ECMA-262]).\n      d = options.lastModified\n    }\n\n    // 4. Return a new File object F such that:\n    // F refers to the bytes byte sequence.\n    // F.size is set to the number of total bytes in bytes.\n    // F.name is set to n.\n    // F.type is set to t.\n    // F.lastModified is set to d.\n\n    super(processBlobParts(fileBits, options), { type: t })\n    this[kState] = {\n      name: n,\n      lastModified: d,\n      type: t\n    }\n  }\n\n  get name () {\n    webidl.brandCheck(this, File)\n\n    return this[kState].name\n  }\n\n  get lastModified () {\n    webidl.brandCheck(this, File)\n\n    return this[kState].lastModified\n  }\n\n  get type () {\n    webidl.brandCheck(this, File)\n\n    return this[kState].type\n  }\n}\n\nclass FileLike {\n  constructor (blobLike, fileName, options = {}) {\n    // TODO: argument idl type check\n\n    // The File constructor is invoked with two or three parameters, depending\n    // on whether the optional dictionary parameter is used. When the File()\n    // constructor is invoked, user agents must run the following steps:\n\n    // 1. Let bytes be the result of processing blob parts given fileBits and\n    // options.\n\n    // 2. Let n be the fileName argument to the constructor.\n    const n = fileName\n\n    // 3. Process FilePropertyBag dictionary argument by running the following\n    // substeps:\n\n    //    1. If the type member is provided and is not the empty string, let t\n    //    be set to the type dictionary member. If t contains any characters\n    //    outside the range U+0020 to U+007E, then set t to the empty string\n    //    and return from these substeps.\n    //    TODO\n    const t = options.type\n\n    //    2. Convert every character in t to ASCII lowercase.\n    //    TODO\n\n    //    3. If the lastModified member is provided, let d be set to the\n    //    lastModified dictionary member. If it is not provided, set d to the\n    //    current date and time represented as the number of milliseconds since\n    //    the Unix Epoch (which is the equivalent of Date.now() [ECMA-262]).\n    const d = options.lastModified ?? Date.now()\n\n    // 4. Return a new File object F such that:\n    // F refers to the bytes byte sequence.\n    // F.size is set to the number of total bytes in bytes.\n    // F.name is set to n.\n    // F.type is set to t.\n    // F.lastModified is set to d.\n\n    this[kState] = {\n      blobLike,\n      name: n,\n      type: t,\n      lastModified: d\n    }\n  }\n\n  stream (...args) {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.stream(...args)\n  }\n\n  arrayBuffer (...args) {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.arrayBuffer(...args)\n  }\n\n  slice (...args) {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.slice(...args)\n  }\n\n  text (...args) {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.text(...args)\n  }\n\n  get size () {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.size\n  }\n\n  get type () {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.type\n  }\n\n  get name () {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].name\n  }\n\n  get lastModified () {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].lastModified\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'File'\n  }\n}\n\nObject.defineProperties(File.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'File',\n    configurable: true\n  },\n  name: kEnumerableProperty,\n  lastModified: kEnumerableProperty\n})\n\nwebidl.converters.Blob = webidl.interfaceConverter(Blob)\n\nwebidl.converters.BlobPart = function (V, opts) {\n  if (webidl.util.Type(V) === 'Object') {\n    if (isBlobLike(V)) {\n      return webidl.converters.Blob(V, { strict: false })\n    }\n\n    if (\n      ArrayBuffer.isView(V) ||\n      types.isAnyArrayBuffer(V)\n    ) {\n      return webidl.converters.BufferSource(V, opts)\n    }\n  }\n\n  return webidl.converters.USVString(V, opts)\n}\n\nwebidl.converters['sequence<BlobPart>'] = webidl.sequenceConverter(\n  webidl.converters.BlobPart\n)\n\n// https://www.w3.org/TR/FileAPI/#dfn-FilePropertyBag\nwebidl.converters.FilePropertyBag = webidl.dictionaryConverter([\n  {\n    key: 'lastModified',\n    converter: webidl.converters['long long'],\n    get defaultValue () {\n      return Date.now()\n    }\n  },\n  {\n    key: 'type',\n    converter: webidl.converters.DOMString,\n    defaultValue: ''\n  },\n  {\n    key: 'endings',\n    converter: (value) => {\n      value = webidl.converters.DOMString(value)\n      value = value.toLowerCase()\n\n      if (value !== 'native') {\n        value = 'transparent'\n      }\n\n      return value\n    },\n    defaultValue: 'transparent'\n  }\n])\n\n/**\n * @see https://www.w3.org/TR/FileAPI/#process-blob-parts\n * @param {(NodeJS.TypedArray|Blob|string)[]} parts\n * @param {{ type: string, endings: string }} options\n */\nfunction processBlobParts (parts, options) {\n  // 1. Let bytes be an empty sequence of bytes.\n  /** @type {NodeJS.TypedArray[]} */\n  const bytes = []\n\n  // 2. For each element in parts:\n  for (const element of parts) {\n    // 1. If element is a USVString, run the following substeps:\n    if (typeof element === 'string') {\n      // 1. Let s be element.\n      let s = element\n\n      // 2. If the endings member of options is \"native\", set s\n      //    to the result of converting line endings to native\n      //    of element.\n      if (options.endings === 'native') {\n        s = convertLineEndingsNative(s)\n      }\n\n      // 3. Append the result of UTF-8 encoding s to bytes.\n      bytes.push(encoder.encode(s))\n    } else if (\n      types.isAnyArrayBuffer(element) ||\n      types.isTypedArray(element)\n    ) {\n      // 2. If element is a BufferSource, get a copy of the\n      //    bytes held by the buffer source, and append those\n      //    bytes to bytes.\n      if (!element.buffer) { // ArrayBuffer\n        bytes.push(new Uint8Array(element))\n      } else {\n        bytes.push(\n          new Uint8Array(element.buffer, element.byteOffset, element.byteLength)\n        )\n      }\n    } else if (isBlobLike(element)) {\n      // 3. If element is a Blob, append the bytes it represents\n      //    to bytes.\n      bytes.push(element)\n    }\n  }\n\n  // 3. Return bytes.\n  return bytes\n}\n\n/**\n * @see https://www.w3.org/TR/FileAPI/#convert-line-endings-to-native\n * @param {string} s\n */\nfunction convertLineEndingsNative (s) {\n  // 1. Let native line ending be be the code point U+000A LF.\n  let nativeLineEnding = '\\n'\n\n  // 2. If the underlying platform\u2019s conventions are to\n  //    represent newlines as a carriage return and line feed\n  //    sequence, set native line ending to the code point\n  //    U+000D CR followed by the code point U+000A LF.\n  if (process.platform === 'win32') {\n    nativeLineEnding = '\\r\\n'\n  }\n\n  return s.replace(/\\r?\\n/g, nativeLineEnding)\n}\n\n// If this function is moved to ./util.js, some tools (such as\n// rollup) will warn about circular dependencies. See:\n// https://github.com/nodejs/undici/issues/1629\nfunction isFileLike (object) {\n  return (\n    (NativeFile && object instanceof NativeFile) ||\n    object instanceof File || (\n      object &&\n      (typeof object.stream === 'function' ||\n      typeof object.arrayBuffer === 'function') &&\n      object[Symbol.toStringTag] === 'File'\n    )\n  )\n}\n\nmodule.exports = { File, FileLike, isFileLike }\n", "'use strict'\n\nconst { isBlobLike, toUSVString, makeIterator } = require('./util')\nconst { kState } = require('./symbols')\nconst { File: UndiciFile, FileLike, isFileLike } = require('./file')\nconst { webidl } = require('./webidl')\nconst { Blob, File: NativeFile } = require('buffer')\n\n/** @type {globalThis['File']} */\nconst File = NativeFile ?? UndiciFile\n\n// https://xhr.spec.whatwg.org/#formdata\nclass FormData {\n  constructor (form) {\n    if (form !== undefined) {\n      throw webidl.errors.conversionFailed({\n        prefix: 'FormData constructor',\n        argument: 'Argument 1',\n        types: ['undefined']\n      })\n    }\n\n    this[kState] = []\n  }\n\n  append (name, value, filename = undefined) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 2, { header: 'FormData.append' })\n\n    if (arguments.length === 3 && !isBlobLike(value)) {\n      throw new TypeError(\n        \"Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'\"\n      )\n    }\n\n    // 1. Let value be value if given; otherwise blobValue.\n\n    name = webidl.converters.USVString(name)\n    value = isBlobLike(value)\n      ? webidl.converters.Blob(value, { strict: false })\n      : webidl.converters.USVString(value)\n    filename = arguments.length === 3\n      ? webidl.converters.USVString(filename)\n      : undefined\n\n    // 2. Let entry be the result of creating an entry with\n    // name, value, and filename if given.\n    const entry = makeEntry(name, value, filename)\n\n    // 3. Append entry to this\u2019s entry list.\n    this[kState].push(entry)\n  }\n\n  delete (name) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.delete' })\n\n    name = webidl.converters.USVString(name)\n\n    // The delete(name) method steps are to remove all entries whose name\n    // is name from this\u2019s entry list.\n    this[kState] = this[kState].filter(entry => entry.name !== name)\n  }\n\n  get (name) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.get' })\n\n    name = webidl.converters.USVString(name)\n\n    // 1. If there is no entry whose name is name in this\u2019s entry list,\n    // then return null.\n    const idx = this[kState].findIndex((entry) => entry.name === name)\n    if (idx === -1) {\n      return null\n    }\n\n    // 2. Return the value of the first entry whose name is name from\n    // this\u2019s entry list.\n    return this[kState][idx].value\n  }\n\n  getAll (name) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.getAll' })\n\n    name = webidl.converters.USVString(name)\n\n    // 1. If there is no entry whose name is name in this\u2019s entry list,\n    // then return the empty list.\n    // 2. Return the values of all entries whose name is name, in order,\n    // from this\u2019s entry list.\n    return this[kState]\n      .filter((entry) => entry.name === name)\n      .map((entry) => entry.value)\n  }\n\n  has (name) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.has' })\n\n    name = webidl.converters.USVString(name)\n\n    // The has(name) method steps are to return true if there is an entry\n    // whose name is name in this\u2019s entry list; otherwise false.\n    return this[kState].findIndex((entry) => entry.name === name) !== -1\n  }\n\n  set (name, value, filename = undefined) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 2, { header: 'FormData.set' })\n\n    if (arguments.length === 3 && !isBlobLike(value)) {\n      throw new TypeError(\n        \"Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'\"\n      )\n    }\n\n    // The set(name, value) and set(name, blobValue, filename) method steps\n    // are:\n\n    // 1. Let value be value if given; otherwise blobValue.\n\n    name = webidl.converters.USVString(name)\n    value = isBlobLike(value)\n      ? webidl.converters.Blob(value, { strict: false })\n      : webidl.converters.USVString(value)\n    filename = arguments.length === 3\n      ? toUSVString(filename)\n      : undefined\n\n    // 2. Let entry be the result of creating an entry with name, value, and\n    // filename if given.\n    const entry = makeEntry(name, value, filename)\n\n    // 3. If there are entries in this\u2019s entry list whose name is name, then\n    // replace the first such entry with entry and remove the others.\n    const idx = this[kState].findIndex((entry) => entry.name === name)\n    if (idx !== -1) {\n      this[kState] = [\n        ...this[kState].slice(0, idx),\n        entry,\n        ...this[kState].slice(idx + 1).filter((entry) => entry.name !== name)\n      ]\n    } else {\n      // 4. Otherwise, append entry to this\u2019s entry list.\n      this[kState].push(entry)\n    }\n  }\n\n  entries () {\n    webidl.brandCheck(this, FormData)\n\n    return makeIterator(\n      () => this[kState].map(pair => [pair.name, pair.value]),\n      'FormData',\n      'key+value'\n    )\n  }\n\n  keys () {\n    webidl.brandCheck(this, FormData)\n\n    return makeIterator(\n      () => this[kState].map(pair => [pair.name, pair.value]),\n      'FormData',\n      'key'\n    )\n  }\n\n  values () {\n    webidl.brandCheck(this, FormData)\n\n    return makeIterator(\n      () => this[kState].map(pair => [pair.name, pair.value]),\n      'FormData',\n      'value'\n    )\n  }\n\n  /**\n   * @param {(value: string, key: string, self: FormData) => void} callbackFn\n   * @param {unknown} thisArg\n   */\n  forEach (callbackFn, thisArg = globalThis) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.forEach' })\n\n    if (typeof callbackFn !== 'function') {\n      throw new TypeError(\n        \"Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.\"\n      )\n    }\n\n    for (const [key, value] of this) {\n      callbackFn.apply(thisArg, [value, key, this])\n    }\n  }\n}\n\nFormData.prototype[Symbol.iterator] = FormData.prototype.entries\n\nObject.defineProperties(FormData.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'FormData',\n    configurable: true\n  }\n})\n\n/**\n * @see https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#create-an-entry\n * @param {string} name\n * @param {string|Blob} value\n * @param {?string} filename\n * @returns\n */\nfunction makeEntry (name, value, filename) {\n  // 1. Set name to the result of converting name into a scalar value string.\n  // \"To convert a string into a scalar value string, replace any surrogates\n  //  with U+FFFD.\"\n  // see: https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#buftostringencoding-start-end\n  name = Buffer.from(name).toString('utf8')\n\n  // 2. If value is a string, then set value to the result of converting\n  //    value into a scalar value string.\n  if (typeof value === 'string') {\n    value = Buffer.from(value).toString('utf8')\n  } else {\n    // 3. Otherwise:\n\n    // 1. If value is not a File object, then set value to a new File object,\n    //    representing the same bytes, whose name attribute value is \"blob\"\n    if (!isFileLike(value)) {\n      value = value instanceof Blob\n        ? new File([value], 'blob', { type: value.type })\n        : new FileLike(value, 'blob', { type: value.type })\n    }\n\n    // 2. If filename is given, then set value to a new File object,\n    //    representing the same bytes, whose name attribute is filename.\n    if (filename !== undefined) {\n      /** @type {FilePropertyBag} */\n      const options = {\n        type: value.type,\n        lastModified: value.lastModified\n      }\n\n      value = (NativeFile && value instanceof NativeFile) || value instanceof UndiciFile\n        ? new File([value], filename, options)\n        : new FileLike(value, filename, options)\n    }\n  }\n\n  // 4. Return an entry whose name is name and whose value is value.\n  return { name, value }\n}\n\nmodule.exports = { FormData }\n", "'use strict'\n\nconst Busboy = require('@fastify/busboy')\nconst util = require('../core/util')\nconst {\n  ReadableStreamFrom,\n  isBlobLike,\n  isReadableStreamLike,\n  readableStreamClose,\n  createDeferredPromise,\n  fullyReadBody\n} = require('./util')\nconst { FormData } = require('./formdata')\nconst { kState } = require('./symbols')\nconst { webidl } = require('./webidl')\nconst { DOMException, structuredClone } = require('./constants')\nconst { Blob, File: NativeFile } = require('buffer')\nconst { kBodyUsed } = require('../core/symbols')\nconst assert = require('assert')\nconst { isErrored } = require('../core/util')\nconst { isUint8Array, isArrayBuffer } = require('util/types')\nconst { File: UndiciFile } = require('./file')\nconst { parseMIMEType, serializeAMimeType } = require('./dataURL')\n\nlet random\ntry {\n  const crypto = require('node:crypto')\n  random = (max) => crypto.randomInt(0, max)\n} catch {\n  random = (max) => Math.floor(Math.random(max))\n}\n\nlet ReadableStream = globalThis.ReadableStream\n\n/** @type {globalThis['File']} */\nconst File = NativeFile ?? UndiciFile\nconst textEncoder = new TextEncoder()\nconst textDecoder = new TextDecoder()\n\n// https://fetch.spec.whatwg.org/#concept-bodyinit-extract\nfunction extractBody (object, keepalive = false) {\n  if (!ReadableStream) {\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  // 1. Let stream be null.\n  let stream = null\n\n  // 2. If object is a ReadableStream object, then set stream to object.\n  if (object instanceof ReadableStream) {\n    stream = object\n  } else if (isBlobLike(object)) {\n    // 3. Otherwise, if object is a Blob object, set stream to the\n    //    result of running object\u2019s get stream.\n    stream = object.stream()\n  } else {\n    // 4. Otherwise, set stream to a new ReadableStream object, and set\n    //    up stream.\n    stream = new ReadableStream({\n      async pull (controller) {\n        controller.enqueue(\n          typeof source === 'string' ? textEncoder.encode(source) : source\n        )\n        queueMicrotask(() => readableStreamClose(controller))\n      },\n      start () {},\n      type: undefined\n    })\n  }\n\n  // 5. Assert: stream is a ReadableStream object.\n  assert(isReadableStreamLike(stream))\n\n  // 6. Let action be null.\n  let action = null\n\n  // 7. Let source be null.\n  let source = null\n\n  // 8. Let length be null.\n  let length = null\n\n  // 9. Let type be null.\n  let type = null\n\n  // 10. Switch on object:\n  if (typeof object === 'string') {\n    // Set source to the UTF-8 encoding of object.\n    // Note: setting source to a Uint8Array here breaks some mocking assumptions.\n    source = object\n\n    // Set type to `text/plain;charset=UTF-8`.\n    type = 'text/plain;charset=UTF-8'\n  } else if (object instanceof URLSearchParams) {\n    // URLSearchParams\n\n    // spec says to run application/x-www-form-urlencoded on body.list\n    // this is implemented in Node.js as apart of an URLSearchParams instance toString method\n    // See: https://github.com/nodejs/node/blob/e46c680bf2b211bbd52cf959ca17ee98c7f657f5/lib/internal/url.js#L490\n    // and https://github.com/nodejs/node/blob/e46c680bf2b211bbd52cf959ca17ee98c7f657f5/lib/internal/url.js#L1100\n\n    // Set source to the result of running the application/x-www-form-urlencoded serializer with object\u2019s list.\n    source = object.toString()\n\n    // Set type to `application/x-www-form-urlencoded;charset=UTF-8`.\n    type = 'application/x-www-form-urlencoded;charset=UTF-8'\n  } else if (isArrayBuffer(object)) {\n    // BufferSource/ArrayBuffer\n\n    // Set source to a copy of the bytes held by object.\n    source = new Uint8Array(object.slice())\n  } else if (ArrayBuffer.isView(object)) {\n    // BufferSource/ArrayBufferView\n\n    // Set source to a copy of the bytes held by object.\n    source = new Uint8Array(object.buffer.slice(object.byteOffset, object.byteOffset + object.byteLength))\n  } else if (util.isFormDataLike(object)) {\n    const boundary = `----formdata-undici-0${`${random(1e11)}`.padStart(11, '0')}`\n    const prefix = `--${boundary}\\r\\nContent-Disposition: form-data`\n\n    /*! formdata-polyfill. MIT License. Jimmy W\u00E4rting <https://jimmy.warting.se/opensource> */\n    const escape = (str) =>\n      str.replace(/\\n/g, '%0A').replace(/\\r/g, '%0D').replace(/\"/g, '%22')\n    const normalizeLinefeeds = (value) => value.replace(/\\r?\\n|\\r/g, '\\r\\n')\n\n    // Set action to this step: run the multipart/form-data\n    // encoding algorithm, with object\u2019s entry list and UTF-8.\n    // - This ensures that the body is immutable and can't be changed afterwords\n    // - That the content-length is calculated in advance.\n    // - And that all parts are pre-encoded and ready to be sent.\n\n    const blobParts = []\n    const rn = new Uint8Array([13, 10]) // '\\r\\n'\n    length = 0\n    let hasUnknownSizeValue = false\n\n    for (const [name, value] of object) {\n      if (typeof value === 'string') {\n        const chunk = textEncoder.encode(prefix +\n          `; name=\"${escape(normalizeLinefeeds(name))}\"` +\n          `\\r\\n\\r\\n${normalizeLinefeeds(value)}\\r\\n`)\n        blobParts.push(chunk)\n        length += chunk.byteLength\n      } else {\n        const chunk = textEncoder.encode(`${prefix}; name=\"${escape(normalizeLinefeeds(name))}\"` +\n          (value.name ? `; filename=\"${escape(value.name)}\"` : '') + '\\r\\n' +\n          `Content-Type: ${\n            value.type || 'application/octet-stream'\n          }\\r\\n\\r\\n`)\n        blobParts.push(chunk, value, rn)\n        if (typeof value.size === 'number') {\n          length += chunk.byteLength + value.size + rn.byteLength\n        } else {\n          hasUnknownSizeValue = true\n        }\n      }\n    }\n\n    const chunk = textEncoder.encode(`--${boundary}--`)\n    blobParts.push(chunk)\n    length += chunk.byteLength\n    if (hasUnknownSizeValue) {\n      length = null\n    }\n\n    // Set source to object.\n    source = object\n\n    action = async function * () {\n      for (const part of blobParts) {\n        if (part.stream) {\n          yield * part.stream()\n        } else {\n          yield part\n        }\n      }\n    }\n\n    // Set type to `multipart/form-data; boundary=`,\n    // followed by the multipart/form-data boundary string generated\n    // by the multipart/form-data encoding algorithm.\n    type = 'multipart/form-data; boundary=' + boundary\n  } else if (isBlobLike(object)) {\n    // Blob\n\n    // Set source to object.\n    source = object\n\n    // Set length to object\u2019s size.\n    length = object.size\n\n    // If object\u2019s type attribute is not the empty byte sequence, set\n    // type to its value.\n    if (object.type) {\n      type = object.type\n    }\n  } else if (typeof object[Symbol.asyncIterator] === 'function') {\n    // If keepalive is true, then throw a TypeError.\n    if (keepalive) {\n      throw new TypeError('keepalive')\n    }\n\n    // If object is disturbed or locked, then throw a TypeError.\n    if (util.isDisturbed(object) || object.locked) {\n      throw new TypeError(\n        'Response body object should not be disturbed or locked'\n      )\n    }\n\n    stream =\n      object instanceof ReadableStream ? object : ReadableStreamFrom(object)\n  }\n\n  // 11. If source is a byte sequence, then set action to a\n  // step that returns source and length to source\u2019s length.\n  if (typeof source === 'string' || util.isBuffer(source)) {\n    length = Buffer.byteLength(source)\n  }\n\n  // 12. If action is non-null, then run these steps in in parallel:\n  if (action != null) {\n    // Run action.\n    let iterator\n    stream = new ReadableStream({\n      async start () {\n        iterator = action(object)[Symbol.asyncIterator]()\n      },\n      async pull (controller) {\n        const { value, done } = await iterator.next()\n        if (done) {\n          // When running action is done, close stream.\n          queueMicrotask(() => {\n            controller.close()\n          })\n        } else {\n          // Whenever one or more bytes are available and stream is not errored,\n          // enqueue a Uint8Array wrapping an ArrayBuffer containing the available\n          // bytes into stream.\n          if (!isErrored(stream)) {\n            controller.enqueue(new Uint8Array(value))\n          }\n        }\n        return controller.desiredSize > 0\n      },\n      async cancel (reason) {\n        await iterator.return()\n      },\n      type: undefined\n    })\n  }\n\n  // 13. Let body be a body whose stream is stream, source is source,\n  // and length is length.\n  const body = { stream, source, length }\n\n  // 14. Return (body, type).\n  return [body, type]\n}\n\n// https://fetch.spec.whatwg.org/#bodyinit-safely-extract\nfunction safelyExtractBody (object, keepalive = false) {\n  if (!ReadableStream) {\n    // istanbul ignore next\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  // To safely extract a body and a `Content-Type` value from\n  // a byte sequence or BodyInit object object, run these steps:\n\n  // 1. If object is a ReadableStream object, then:\n  if (object instanceof ReadableStream) {\n    // Assert: object is neither disturbed nor locked.\n    // istanbul ignore next\n    assert(!util.isDisturbed(object), 'The body has already been consumed.')\n    // istanbul ignore next\n    assert(!object.locked, 'The stream is locked.')\n  }\n\n  // 2. Return the results of extracting object.\n  return extractBody(object, keepalive)\n}\n\nfunction cloneBody (body) {\n  // To clone a body body, run these steps:\n\n  // https://fetch.spec.whatwg.org/#concept-body-clone\n\n  // 1. Let \u00AB out1, out2 \u00BB be the result of teeing body\u2019s stream.\n  const [out1, out2] = body.stream.tee()\n  const out2Clone = structuredClone(out2, { transfer: [out2] })\n  // This, for whatever reasons, unrefs out2Clone which allows\n  // the process to exit by itself.\n  const [, finalClone] = out2Clone.tee()\n\n  // 2. Set body\u2019s stream to out1.\n  body.stream = out1\n\n  // 3. Return a body whose stream is out2 and other members are copied from body.\n  return {\n    stream: finalClone,\n    length: body.length,\n    source: body.source\n  }\n}\n\nasync function * consumeBody (body) {\n  if (body) {\n    if (isUint8Array(body)) {\n      yield body\n    } else {\n      const stream = body.stream\n\n      if (util.isDisturbed(stream)) {\n        throw new TypeError('The body has already been consumed.')\n      }\n\n      if (stream.locked) {\n        throw new TypeError('The stream is locked.')\n      }\n\n      // Compat.\n      stream[kBodyUsed] = true\n\n      yield * stream\n    }\n  }\n}\n\nfunction throwIfAborted (state) {\n  if (state.aborted) {\n    throw new DOMException('The operation was aborted.', 'AbortError')\n  }\n}\n\nfunction bodyMixinMethods (instance) {\n  const methods = {\n    blob () {\n      // The blob() method steps are to return the result of\n      // running consume body with this and the following step\n      // given a byte sequence bytes: return a Blob whose\n      // contents are bytes and whose type attribute is this\u2019s\n      // MIME type.\n      return specConsumeBody(this, (bytes) => {\n        let mimeType = bodyMimeType(this)\n\n        if (mimeType === 'failure') {\n          mimeType = ''\n        } else if (mimeType) {\n          mimeType = serializeAMimeType(mimeType)\n        }\n\n        // Return a Blob whose contents are bytes and type attribute\n        // is mimeType.\n        return new Blob([bytes], { type: mimeType })\n      }, instance)\n    },\n\n    arrayBuffer () {\n      // The arrayBuffer() method steps are to return the result\n      // of running consume body with this and the following step\n      // given a byte sequence bytes: return a new ArrayBuffer\n      // whose contents are bytes.\n      return specConsumeBody(this, (bytes) => {\n        return new Uint8Array(bytes).buffer\n      }, instance)\n    },\n\n    text () {\n      // The text() method steps are to return the result of running\n      // consume body with this and UTF-8 decode.\n      return specConsumeBody(this, utf8DecodeBytes, instance)\n    },\n\n    json () {\n      // The json() method steps are to return the result of running\n      // consume body with this and parse JSON from bytes.\n      return specConsumeBody(this, parseJSONFromBytes, instance)\n    },\n\n    async formData () {\n      webidl.brandCheck(this, instance)\n\n      throwIfAborted(this[kState])\n\n      const contentType = this.headers.get('Content-Type')\n\n      // If mimeType\u2019s essence is \"multipart/form-data\", then:\n      if (/multipart\\/form-data/.test(contentType)) {\n        const headers = {}\n        for (const [key, value] of this.headers) headers[key.toLowerCase()] = value\n\n        const responseFormData = new FormData()\n\n        let busboy\n\n        try {\n          busboy = new Busboy({\n            headers,\n            preservePath: true\n          })\n        } catch (err) {\n          throw new DOMException(`${err}`, 'AbortError')\n        }\n\n        busboy.on('field', (name, value) => {\n          responseFormData.append(name, value)\n        })\n        busboy.on('file', (name, value, filename, encoding, mimeType) => {\n          const chunks = []\n\n          if (encoding === 'base64' || encoding.toLowerCase() === 'base64') {\n            let base64chunk = ''\n\n            value.on('data', (chunk) => {\n              base64chunk += chunk.toString().replace(/[\\r\\n]/gm, '')\n\n              const end = base64chunk.length - base64chunk.length % 4\n              chunks.push(Buffer.from(base64chunk.slice(0, end), 'base64'))\n\n              base64chunk = base64chunk.slice(end)\n            })\n            value.on('end', () => {\n              chunks.push(Buffer.from(base64chunk, 'base64'))\n              responseFormData.append(name, new File(chunks, filename, { type: mimeType }))\n            })\n          } else {\n            value.on('data', (chunk) => {\n              chunks.push(chunk)\n            })\n            value.on('end', () => {\n              responseFormData.append(name, new File(chunks, filename, { type: mimeType }))\n            })\n          }\n        })\n\n        const busboyResolve = new Promise((resolve, reject) => {\n          busboy.on('finish', resolve)\n          busboy.on('error', (err) => reject(new TypeError(err)))\n        })\n\n        if (this.body !== null) for await (const chunk of consumeBody(this[kState].body)) busboy.write(chunk)\n        busboy.end()\n        await busboyResolve\n\n        return responseFormData\n      } else if (/application\\/x-www-form-urlencoded/.test(contentType)) {\n        // Otherwise, if mimeType\u2019s essence is \"application/x-www-form-urlencoded\", then:\n\n        // 1. Let entries be the result of parsing bytes.\n        let entries\n        try {\n          let text = ''\n          // application/x-www-form-urlencoded parser will keep the BOM.\n          // https://url.spec.whatwg.org/#concept-urlencoded-parser\n          // Note that streaming decoder is stateful and cannot be reused\n          const streamingDecoder = new TextDecoder('utf-8', { ignoreBOM: true })\n\n          for await (const chunk of consumeBody(this[kState].body)) {\n            if (!isUint8Array(chunk)) {\n              throw new TypeError('Expected Uint8Array chunk')\n            }\n            text += streamingDecoder.decode(chunk, { stream: true })\n          }\n          text += streamingDecoder.decode()\n          entries = new URLSearchParams(text)\n        } catch (err) {\n          // istanbul ignore next: Unclear when new URLSearchParams can fail on a string.\n          // 2. If entries is failure, then throw a TypeError.\n          throw Object.assign(new TypeError(), { cause: err })\n        }\n\n        // 3. Return a new FormData object whose entries are entries.\n        const formData = new FormData()\n        for (const [name, value] of entries) {\n          formData.append(name, value)\n        }\n        return formData\n      } else {\n        // Wait a tick before checking if the request has been aborted.\n        // Otherwise, a TypeError can be thrown when an AbortError should.\n        await Promise.resolve()\n\n        throwIfAborted(this[kState])\n\n        // Otherwise, throw a TypeError.\n        throw webidl.errors.exception({\n          header: `${instance.name}.formData`,\n          message: 'Could not parse content as FormData.'\n        })\n      }\n    }\n  }\n\n  return methods\n}\n\nfunction mixinBody (prototype) {\n  Object.assign(prototype.prototype, bodyMixinMethods(prototype))\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-body-consume-body\n * @param {Response|Request} object\n * @param {(value: unknown) => unknown} convertBytesToJSValue\n * @param {Response|Request} instance\n */\nasync function specConsumeBody (object, convertBytesToJSValue, instance) {\n  webidl.brandCheck(object, instance)\n\n  throwIfAborted(object[kState])\n\n  // 1. If object is unusable, then return a promise rejected\n  //    with a TypeError.\n  if (bodyUnusable(object[kState].body)) {\n    throw new TypeError('Body is unusable')\n  }\n\n  // 2. Let promise be a new promise.\n  const promise = createDeferredPromise()\n\n  // 3. Let errorSteps given error be to reject promise with error.\n  const errorSteps = (error) => promise.reject(error)\n\n  // 4. Let successSteps given a byte sequence data be to resolve\n  //    promise with the result of running convertBytesToJSValue\n  //    with data. If that threw an exception, then run errorSteps\n  //    with that exception.\n  const successSteps = (data) => {\n    try {\n      promise.resolve(convertBytesToJSValue(data))\n    } catch (e) {\n      errorSteps(e)\n    }\n  }\n\n  // 5. If object\u2019s body is null, then run successSteps with an\n  //    empty byte sequence.\n  if (object[kState].body == null) {\n    successSteps(new Uint8Array())\n    return promise.promise\n  }\n\n  // 6. Otherwise, fully read object\u2019s body given successSteps,\n  //    errorSteps, and object\u2019s relevant global object.\n  await fullyReadBody(object[kState].body, successSteps, errorSteps)\n\n  // 7. Return promise.\n  return promise.promise\n}\n\n// https://fetch.spec.whatwg.org/#body-unusable\nfunction bodyUnusable (body) {\n  // An object including the Body interface mixin is\n  // said to be unusable if its body is non-null and\n  // its body\u2019s stream is disturbed or locked.\n  return body != null && (body.stream.locked || util.isDisturbed(body.stream))\n}\n\n/**\n * @see https://encoding.spec.whatwg.org/#utf-8-decode\n * @param {Buffer} buffer\n */\nfunction utf8DecodeBytes (buffer) {\n  if (buffer.length === 0) {\n    return ''\n  }\n\n  // 1. Let buffer be the result of peeking three bytes from\n  //    ioQueue, converted to a byte sequence.\n\n  // 2. If buffer is 0xEF 0xBB 0xBF, then read three\n  //    bytes from ioQueue. (Do nothing with those bytes.)\n  if (buffer[0] === 0xEF && buffer[1] === 0xBB && buffer[2] === 0xBF) {\n    buffer = buffer.subarray(3)\n  }\n\n  // 3. Process a queue with an instance of UTF-8\u2019s\n  //    decoder, ioQueue, output, and \"replacement\".\n  const output = textDecoder.decode(buffer)\n\n  // 4. Return output.\n  return output\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#parse-json-bytes-to-a-javascript-value\n * @param {Uint8Array} bytes\n */\nfunction parseJSONFromBytes (bytes) {\n  return JSON.parse(utf8DecodeBytes(bytes))\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-body-mime-type\n * @param {import('./response').Response|import('./request').Request} object\n */\nfunction bodyMimeType (object) {\n  const { headersList } = object[kState]\n  const contentType = headersList.get('content-type')\n\n  if (contentType === null) {\n    return 'failure'\n  }\n\n  return parseMIMEType(contentType)\n}\n\nmodule.exports = {\n  extractBody,\n  safelyExtractBody,\n  cloneBody,\n  mixinBody\n}\n", "'use strict'\n\nconst {\n  InvalidArgumentError,\n  NotSupportedError\n} = require('./errors')\nconst assert = require('assert')\nconst { kHTTP2BuildRequest, kHTTP2CopyHeaders, kHTTP1BuildRequest } = require('./symbols')\nconst util = require('./util')\n\n// tokenRegExp and headerCharRegex have been lifted from\n// https://github.com/nodejs/node/blob/main/lib/_http_common.js\n\n/**\n * Verifies that the given val is a valid HTTP token\n * per the rules defined in RFC 7230\n * See https://tools.ietf.org/html/rfc7230#section-3.2.6\n */\nconst tokenRegExp = /^[\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]+$/\n\n/**\n * Matches if val contains an invalid field-vchar\n *  field-value    = *( field-content / obs-fold )\n *  field-content  = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n *  field-vchar    = VCHAR / obs-text\n */\nconst headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/\n\n// Verifies that a given path is valid does not contain control chars \\x00 to \\x20\nconst invalidPathRegex = /[^\\u0021-\\u00ff]/\n\nconst kHandler = Symbol('handler')\n\nconst channels = {}\n\nlet extractBody\n\ntry {\n  const diagnosticsChannel = require('diagnostics_channel')\n  channels.create = diagnosticsChannel.channel('undici:request:create')\n  channels.bodySent = diagnosticsChannel.channel('undici:request:bodySent')\n  channels.headers = diagnosticsChannel.channel('undici:request:headers')\n  channels.trailers = diagnosticsChannel.channel('undici:request:trailers')\n  channels.error = diagnosticsChannel.channel('undici:request:error')\n} catch {\n  channels.create = { hasSubscribers: false }\n  channels.bodySent = { hasSubscribers: false }\n  channels.headers = { hasSubscribers: false }\n  channels.trailers = { hasSubscribers: false }\n  channels.error = { hasSubscribers: false }\n}\n\nclass Request {\n  constructor (origin, {\n    path,\n    method,\n    body,\n    headers,\n    query,\n    idempotent,\n    blocking,\n    upgrade,\n    headersTimeout,\n    bodyTimeout,\n    reset,\n    throwOnError,\n    expectContinue\n  }, handler) {\n    if (typeof path !== 'string') {\n      throw new InvalidArgumentError('path must be a string')\n    } else if (\n      path[0] !== '/' &&\n      !(path.startsWith('http://') || path.startsWith('https://')) &&\n      method !== 'CONNECT'\n    ) {\n      throw new InvalidArgumentError('path must be an absolute URL or start with a slash')\n    } else if (invalidPathRegex.exec(path) !== null) {\n      throw new InvalidArgumentError('invalid request path')\n    }\n\n    if (typeof method !== 'string') {\n      throw new InvalidArgumentError('method must be a string')\n    } else if (tokenRegExp.exec(method) === null) {\n      throw new InvalidArgumentError('invalid request method')\n    }\n\n    if (upgrade && typeof upgrade !== 'string') {\n      throw new InvalidArgumentError('upgrade must be a string')\n    }\n\n    if (headersTimeout != null && (!Number.isFinite(headersTimeout) || headersTimeout < 0)) {\n      throw new InvalidArgumentError('invalid headersTimeout')\n    }\n\n    if (bodyTimeout != null && (!Number.isFinite(bodyTimeout) || bodyTimeout < 0)) {\n      throw new InvalidArgumentError('invalid bodyTimeout')\n    }\n\n    if (reset != null && typeof reset !== 'boolean') {\n      throw new InvalidArgumentError('invalid reset')\n    }\n\n    if (expectContinue != null && typeof expectContinue !== 'boolean') {\n      throw new InvalidArgumentError('invalid expectContinue')\n    }\n\n    this.headersTimeout = headersTimeout\n\n    this.bodyTimeout = bodyTimeout\n\n    this.throwOnError = throwOnError === true\n\n    this.method = method\n\n    this.abort = null\n\n    if (body == null) {\n      this.body = null\n    } else if (util.isStream(body)) {\n      this.body = body\n\n      const rState = this.body._readableState\n      if (!rState || !rState.autoDestroy) {\n        this.endHandler = function autoDestroy () {\n          util.destroy(this)\n        }\n        this.body.on('end', this.endHandler)\n      }\n\n      this.errorHandler = err => {\n        if (this.abort) {\n          this.abort(err)\n        } else {\n          this.error = err\n        }\n      }\n      this.body.on('error', this.errorHandler)\n    } else if (util.isBuffer(body)) {\n      this.body = body.byteLength ? body : null\n    } else if (ArrayBuffer.isView(body)) {\n      this.body = body.buffer.byteLength ? Buffer.from(body.buffer, body.byteOffset, body.byteLength) : null\n    } else if (body instanceof ArrayBuffer) {\n      this.body = body.byteLength ? Buffer.from(body) : null\n    } else if (typeof body === 'string') {\n      this.body = body.length ? Buffer.from(body) : null\n    } else if (util.isFormDataLike(body) || util.isIterable(body) || util.isBlobLike(body)) {\n      this.body = body\n    } else {\n      throw new InvalidArgumentError('body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable')\n    }\n\n    this.completed = false\n\n    this.aborted = false\n\n    this.upgrade = upgrade || null\n\n    this.path = query ? util.buildURL(path, query) : path\n\n    this.origin = origin\n\n    this.idempotent = idempotent == null\n      ? method === 'HEAD' || method === 'GET'\n      : idempotent\n\n    this.blocking = blocking == null ? false : blocking\n\n    this.reset = reset == null ? null : reset\n\n    this.host = null\n\n    this.contentLength = null\n\n    this.contentType = null\n\n    this.headers = ''\n\n    // Only for H2\n    this.expectContinue = expectContinue != null ? expectContinue : false\n\n    if (Array.isArray(headers)) {\n      if (headers.length % 2 !== 0) {\n        throw new InvalidArgumentError('headers array must be even')\n      }\n      for (let i = 0; i < headers.length; i += 2) {\n        processHeader(this, headers[i], headers[i + 1])\n      }\n    } else if (headers && typeof headers === 'object') {\n      const keys = Object.keys(headers)\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        processHeader(this, key, headers[key])\n      }\n    } else if (headers != null) {\n      throw new InvalidArgumentError('headers must be an object or an array')\n    }\n\n    if (util.isFormDataLike(this.body)) {\n      if (util.nodeMajor < 16 || (util.nodeMajor === 16 && util.nodeMinor < 8)) {\n        throw new InvalidArgumentError('Form-Data bodies are only supported in node v16.8 and newer.')\n      }\n\n      if (!extractBody) {\n        extractBody = require('../fetch/body.js').extractBody\n      }\n\n      const [bodyStream, contentType] = extractBody(body)\n      if (this.contentType == null) {\n        this.contentType = contentType\n        this.headers += `content-type: ${contentType}\\r\\n`\n      }\n      this.body = bodyStream.stream\n      this.contentLength = bodyStream.length\n    } else if (util.isBlobLike(body) && this.contentType == null && body.type) {\n      this.contentType = body.type\n      this.headers += `content-type: ${body.type}\\r\\n`\n    }\n\n    util.validateHandler(handler, method, upgrade)\n\n    this.servername = util.getServerName(this.host)\n\n    this[kHandler] = handler\n\n    if (channels.create.hasSubscribers) {\n      channels.create.publish({ request: this })\n    }\n  }\n\n  onBodySent (chunk) {\n    if (this[kHandler].onBodySent) {\n      try {\n        return this[kHandler].onBodySent(chunk)\n      } catch (err) {\n        this.abort(err)\n      }\n    }\n  }\n\n  onRequestSent () {\n    if (channels.bodySent.hasSubscribers) {\n      channels.bodySent.publish({ request: this })\n    }\n\n    if (this[kHandler].onRequestSent) {\n      try {\n        return this[kHandler].onRequestSent()\n      } catch (err) {\n        this.abort(err)\n      }\n    }\n  }\n\n  onConnect (abort) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    if (this.error) {\n      abort(this.error)\n    } else {\n      this.abort = abort\n      return this[kHandler].onConnect(abort)\n    }\n  }\n\n  onHeaders (statusCode, headers, resume, statusText) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    if (channels.headers.hasSubscribers) {\n      channels.headers.publish({ request: this, response: { statusCode, headers, statusText } })\n    }\n\n    try {\n      return this[kHandler].onHeaders(statusCode, headers, resume, statusText)\n    } catch (err) {\n      this.abort(err)\n    }\n  }\n\n  onData (chunk) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    try {\n      return this[kHandler].onData(chunk)\n    } catch (err) {\n      this.abort(err)\n      return false\n    }\n  }\n\n  onUpgrade (statusCode, headers, socket) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    return this[kHandler].onUpgrade(statusCode, headers, socket)\n  }\n\n  onComplete (trailers) {\n    this.onFinally()\n\n    assert(!this.aborted)\n\n    this.completed = true\n    if (channels.trailers.hasSubscribers) {\n      channels.trailers.publish({ request: this, trailers })\n    }\n\n    try {\n      return this[kHandler].onComplete(trailers)\n    } catch (err) {\n      // TODO (fix): This might be a bad idea?\n      this.onError(err)\n    }\n  }\n\n  onError (error) {\n    this.onFinally()\n\n    if (channels.error.hasSubscribers) {\n      channels.error.publish({ request: this, error })\n    }\n\n    if (this.aborted) {\n      return\n    }\n    this.aborted = true\n\n    return this[kHandler].onError(error)\n  }\n\n  onFinally () {\n    if (this.errorHandler) {\n      this.body.off('error', this.errorHandler)\n      this.errorHandler = null\n    }\n\n    if (this.endHandler) {\n      this.body.off('end', this.endHandler)\n      this.endHandler = null\n    }\n  }\n\n  // TODO: adjust to support H2\n  addHeader (key, value) {\n    processHeader(this, key, value)\n    return this\n  }\n\n  static [kHTTP1BuildRequest] (origin, opts, handler) {\n    // TODO: Migrate header parsing here, to make Requests\n    // HTTP agnostic\n    return new Request(origin, opts, handler)\n  }\n\n  static [kHTTP2BuildRequest] (origin, opts, handler) {\n    const headers = opts.headers\n    opts = { ...opts, headers: null }\n\n    const request = new Request(origin, opts, handler)\n\n    request.headers = {}\n\n    if (Array.isArray(headers)) {\n      if (headers.length % 2 !== 0) {\n        throw new InvalidArgumentError('headers array must be even')\n      }\n      for (let i = 0; i < headers.length; i += 2) {\n        processHeader(request, headers[i], headers[i + 1], true)\n      }\n    } else if (headers && typeof headers === 'object') {\n      const keys = Object.keys(headers)\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        processHeader(request, key, headers[key], true)\n      }\n    } else if (headers != null) {\n      throw new InvalidArgumentError('headers must be an object or an array')\n    }\n\n    return request\n  }\n\n  static [kHTTP2CopyHeaders] (raw) {\n    const rawHeaders = raw.split('\\r\\n')\n    const headers = {}\n\n    for (const header of rawHeaders) {\n      const [key, value] = header.split(': ')\n\n      if (value == null || value.length === 0) continue\n\n      if (headers[key]) headers[key] += `,${value}`\n      else headers[key] = value\n    }\n\n    return headers\n  }\n}\n\nfunction processHeaderValue (key, val, skipAppend) {\n  if (val && typeof val === 'object') {\n    throw new InvalidArgumentError(`invalid ${key} header`)\n  }\n\n  val = val != null ? `${val}` : ''\n\n  if (headerCharRegex.exec(val) !== null) {\n    throw new InvalidArgumentError(`invalid ${key} header`)\n  }\n\n  return skipAppend ? val : `${key}: ${val}\\r\\n`\n}\n\nfunction processHeader (request, key, val, skipAppend = false) {\n  if (val && (typeof val === 'object' && !Array.isArray(val))) {\n    throw new InvalidArgumentError(`invalid ${key} header`)\n  } else if (val === undefined) {\n    return\n  }\n\n  if (\n    request.host === null &&\n    key.length === 4 &&\n    key.toLowerCase() === 'host'\n  ) {\n    if (headerCharRegex.exec(val) !== null) {\n      throw new InvalidArgumentError(`invalid ${key} header`)\n    }\n    // Consumed by Client\n    request.host = val\n  } else if (\n    request.contentLength === null &&\n    key.length === 14 &&\n    key.toLowerCase() === 'content-length'\n  ) {\n    request.contentLength = parseInt(val, 10)\n    if (!Number.isFinite(request.contentLength)) {\n      throw new InvalidArgumentError('invalid content-length header')\n    }\n  } else if (\n    request.contentType === null &&\n    key.length === 12 &&\n    key.toLowerCase() === 'content-type'\n  ) {\n    request.contentType = val\n    if (skipAppend) request.headers[key] = processHeaderValue(key, val, skipAppend)\n    else request.headers += processHeaderValue(key, val)\n  } else if (\n    key.length === 17 &&\n    key.toLowerCase() === 'transfer-encoding'\n  ) {\n    throw new InvalidArgumentError('invalid transfer-encoding header')\n  } else if (\n    key.length === 10 &&\n    key.toLowerCase() === 'connection'\n  ) {\n    const value = typeof val === 'string' ? val.toLowerCase() : null\n    if (value !== 'close' && value !== 'keep-alive') {\n      throw new InvalidArgumentError('invalid connection header')\n    } else if (value === 'close') {\n      request.reset = true\n    }\n  } else if (\n    key.length === 10 &&\n    key.toLowerCase() === 'keep-alive'\n  ) {\n    throw new InvalidArgumentError('invalid keep-alive header')\n  } else if (\n    key.length === 7 &&\n    key.toLowerCase() === 'upgrade'\n  ) {\n    throw new InvalidArgumentError('invalid upgrade header')\n  } else if (\n    key.length === 6 &&\n    key.toLowerCase() === 'expect'\n  ) {\n    throw new NotSupportedError('expect header not supported')\n  } else if (tokenRegExp.exec(key) === null) {\n    throw new InvalidArgumentError('invalid header key')\n  } else {\n    if (Array.isArray(val)) {\n      for (let i = 0; i < val.length; i++) {\n        if (skipAppend) {\n          if (request.headers[key]) request.headers[key] += `,${processHeaderValue(key, val[i], skipAppend)}`\n          else request.headers[key] = processHeaderValue(key, val[i], skipAppend)\n        } else {\n          request.headers += processHeaderValue(key, val[i])\n        }\n      }\n    } else {\n      if (skipAppend) request.headers[key] = processHeaderValue(key, val, skipAppend)\n      else request.headers += processHeaderValue(key, val)\n    }\n  }\n}\n\nmodule.exports = Request\n", "'use strict'\n\nconst EventEmitter = require('events')\n\nclass Dispatcher extends EventEmitter {\n  dispatch () {\n    throw new Error('not implemented')\n  }\n\n  close () {\n    throw new Error('not implemented')\n  }\n\n  destroy () {\n    throw new Error('not implemented')\n  }\n}\n\nmodule.exports = Dispatcher\n", "'use strict'\n\nconst Dispatcher = require('./dispatcher')\nconst {\n  ClientDestroyedError,\n  ClientClosedError,\n  InvalidArgumentError\n} = require('./core/errors')\nconst { kDestroy, kClose, kDispatch, kInterceptors } = require('./core/symbols')\n\nconst kDestroyed = Symbol('destroyed')\nconst kClosed = Symbol('closed')\nconst kOnDestroyed = Symbol('onDestroyed')\nconst kOnClosed = Symbol('onClosed')\nconst kInterceptedDispatch = Symbol('Intercepted Dispatch')\n\nclass DispatcherBase extends Dispatcher {\n  constructor () {\n    super()\n\n    this[kDestroyed] = false\n    this[kOnDestroyed] = null\n    this[kClosed] = false\n    this[kOnClosed] = []\n  }\n\n  get destroyed () {\n    return this[kDestroyed]\n  }\n\n  get closed () {\n    return this[kClosed]\n  }\n\n  get interceptors () {\n    return this[kInterceptors]\n  }\n\n  set interceptors (newInterceptors) {\n    if (newInterceptors) {\n      for (let i = newInterceptors.length - 1; i >= 0; i--) {\n        const interceptor = this[kInterceptors][i]\n        if (typeof interceptor !== 'function') {\n          throw new InvalidArgumentError('interceptor must be an function')\n        }\n      }\n    }\n\n    this[kInterceptors] = newInterceptors\n  }\n\n  close (callback) {\n    if (callback === undefined) {\n      return new Promise((resolve, reject) => {\n        this.close((err, data) => {\n          return err ? reject(err) : resolve(data)\n        })\n      })\n    }\n\n    if (typeof callback !== 'function') {\n      throw new InvalidArgumentError('invalid callback')\n    }\n\n    if (this[kDestroyed]) {\n      queueMicrotask(() => callback(new ClientDestroyedError(), null))\n      return\n    }\n\n    if (this[kClosed]) {\n      if (this[kOnClosed]) {\n        this[kOnClosed].push(callback)\n      } else {\n        queueMicrotask(() => callback(null, null))\n      }\n      return\n    }\n\n    this[kClosed] = true\n    this[kOnClosed].push(callback)\n\n    const onClosed = () => {\n      const callbacks = this[kOnClosed]\n      this[kOnClosed] = null\n      for (let i = 0; i < callbacks.length; i++) {\n        callbacks[i](null, null)\n      }\n    }\n\n    // Should not error.\n    this[kClose]()\n      .then(() => this.destroy())\n      .then(() => {\n        queueMicrotask(onClosed)\n      })\n  }\n\n  destroy (err, callback) {\n    if (typeof err === 'function') {\n      callback = err\n      err = null\n    }\n\n    if (callback === undefined) {\n      return new Promise((resolve, reject) => {\n        this.destroy(err, (err, data) => {\n          return err ? /* istanbul ignore next: should never error */ reject(err) : resolve(data)\n        })\n      })\n    }\n\n    if (typeof callback !== 'function') {\n      throw new InvalidArgumentError('invalid callback')\n    }\n\n    if (this[kDestroyed]) {\n      if (this[kOnDestroyed]) {\n        this[kOnDestroyed].push(callback)\n      } else {\n        queueMicrotask(() => callback(null, null))\n      }\n      return\n    }\n\n    if (!err) {\n      err = new ClientDestroyedError()\n    }\n\n    this[kDestroyed] = true\n    this[kOnDestroyed] = this[kOnDestroyed] || []\n    this[kOnDestroyed].push(callback)\n\n    const onDestroyed = () => {\n      const callbacks = this[kOnDestroyed]\n      this[kOnDestroyed] = null\n      for (let i = 0; i < callbacks.length; i++) {\n        callbacks[i](null, null)\n      }\n    }\n\n    // Should not error.\n    this[kDestroy](err).then(() => {\n      queueMicrotask(onDestroyed)\n    })\n  }\n\n  [kInterceptedDispatch] (opts, handler) {\n    if (!this[kInterceptors] || this[kInterceptors].length === 0) {\n      this[kInterceptedDispatch] = this[kDispatch]\n      return this[kDispatch](opts, handler)\n    }\n\n    let dispatch = this[kDispatch].bind(this)\n    for (let i = this[kInterceptors].length - 1; i >= 0; i--) {\n      dispatch = this[kInterceptors][i](dispatch)\n    }\n    this[kInterceptedDispatch] = dispatch\n    return dispatch(opts, handler)\n  }\n\n  dispatch (opts, handler) {\n    if (!handler || typeof handler !== 'object') {\n      throw new InvalidArgumentError('handler must be an object')\n    }\n\n    try {\n      if (!opts || typeof opts !== 'object') {\n        throw new InvalidArgumentError('opts must be an object.')\n      }\n\n      if (this[kDestroyed] || this[kOnDestroyed]) {\n        throw new ClientDestroyedError()\n      }\n\n      if (this[kClosed]) {\n        throw new ClientClosedError()\n      }\n\n      return this[kInterceptedDispatch](opts, handler)\n    } catch (err) {\n      if (typeof handler.onError !== 'function') {\n        throw new InvalidArgumentError('invalid onError method')\n      }\n\n      handler.onError(err)\n\n      return false\n    }\n  }\n}\n\nmodule.exports = DispatcherBase\n", "'use strict'\n\nconst net = require('net')\nconst assert = require('assert')\nconst util = require('./util')\nconst { InvalidArgumentError, ConnectTimeoutError } = require('./errors')\n\nlet tls // include tls conditionally since it is not always available\n\n// TODO: session re-use does not wait for the first\n// connection to resolve the session and might therefore\n// resolve the same servername multiple times even when\n// re-use is enabled.\n\nlet SessionCache\n// FIXME: remove workaround when the Node bug is fixed\n// https://github.com/nodejs/node/issues/49344#issuecomment-1741776308\nif (global.FinalizationRegistry && !process.env.NODE_V8_COVERAGE) {\n  SessionCache = class WeakSessionCache {\n    constructor (maxCachedSessions) {\n      this._maxCachedSessions = maxCachedSessions\n      this._sessionCache = new Map()\n      this._sessionRegistry = new global.FinalizationRegistry((key) => {\n        if (this._sessionCache.size < this._maxCachedSessions) {\n          return\n        }\n\n        const ref = this._sessionCache.get(key)\n        if (ref !== undefined && ref.deref() === undefined) {\n          this._sessionCache.delete(key)\n        }\n      })\n    }\n\n    get (sessionKey) {\n      const ref = this._sessionCache.get(sessionKey)\n      return ref ? ref.deref() : null\n    }\n\n    set (sessionKey, session) {\n      if (this._maxCachedSessions === 0) {\n        return\n      }\n\n      this._sessionCache.set(sessionKey, new WeakRef(session))\n      this._sessionRegistry.register(session, sessionKey)\n    }\n  }\n} else {\n  SessionCache = class SimpleSessionCache {\n    constructor (maxCachedSessions) {\n      this._maxCachedSessions = maxCachedSessions\n      this._sessionCache = new Map()\n    }\n\n    get (sessionKey) {\n      return this._sessionCache.get(sessionKey)\n    }\n\n    set (sessionKey, session) {\n      if (this._maxCachedSessions === 0) {\n        return\n      }\n\n      if (this._sessionCache.size >= this._maxCachedSessions) {\n        // remove the oldest session\n        const { value: oldestKey } = this._sessionCache.keys().next()\n        this._sessionCache.delete(oldestKey)\n      }\n\n      this._sessionCache.set(sessionKey, session)\n    }\n  }\n}\n\nfunction buildConnector ({ allowH2, maxCachedSessions, socketPath, timeout, ...opts }) {\n  if (maxCachedSessions != null && (!Number.isInteger(maxCachedSessions) || maxCachedSessions < 0)) {\n    throw new InvalidArgumentError('maxCachedSessions must be a positive integer or zero')\n  }\n\n  const options = { path: socketPath, ...opts }\n  const sessionCache = new SessionCache(maxCachedSessions == null ? 100 : maxCachedSessions)\n  timeout = timeout == null ? 10e3 : timeout\n  allowH2 = allowH2 != null ? allowH2 : false\n  return function connect ({ hostname, host, protocol, port, servername, localAddress, httpSocket }, callback) {\n    let socket\n    if (protocol === 'https:') {\n      if (!tls) {\n        tls = require('tls')\n      }\n      servername = servername || options.servername || util.getServerName(host) || null\n\n      const sessionKey = servername || hostname\n      const session = sessionCache.get(sessionKey) || null\n\n      assert(sessionKey)\n\n      socket = tls.connect({\n        highWaterMark: 16384, // TLS in node can't have bigger HWM anyway...\n        ...options,\n        servername,\n        session,\n        localAddress,\n        // TODO(HTTP/2): Add support for h2c\n        ALPNProtocols: allowH2 ? ['http/1.1', 'h2'] : ['http/1.1'],\n        socket: httpSocket, // upgrade socket connection\n        port: port || 443,\n        host: hostname\n      })\n\n      socket\n        .on('session', function (session) {\n          // TODO (fix): Can a session become invalid once established? Don't think so?\n          sessionCache.set(sessionKey, session)\n        })\n    } else {\n      assert(!httpSocket, 'httpSocket can only be sent on TLS update')\n      socket = net.connect({\n        highWaterMark: 64 * 1024, // Same as nodejs fs streams.\n        ...options,\n        localAddress,\n        port: port || 80,\n        host: hostname\n      })\n    }\n\n    // Set TCP keep alive options on the socket here instead of in connect() for the case of assigning the socket\n    if (options.keepAlive == null || options.keepAlive) {\n      const keepAliveInitialDelay = options.keepAliveInitialDelay === undefined ? 60e3 : options.keepAliveInitialDelay\n      socket.setKeepAlive(true, keepAliveInitialDelay)\n    }\n\n    const cancelTimeout = setupTimeout(() => onConnectTimeout(socket), timeout)\n\n    socket\n      .setNoDelay(true)\n      .once(protocol === 'https:' ? 'secureConnect' : 'connect', function () {\n        cancelTimeout()\n\n        if (callback) {\n          const cb = callback\n          callback = null\n          cb(null, this)\n        }\n      })\n      .on('error', function (err) {\n        cancelTimeout()\n\n        if (callback) {\n          const cb = callback\n          callback = null\n          cb(err)\n        }\n      })\n\n    return socket\n  }\n}\n\nfunction setupTimeout (onConnectTimeout, timeout) {\n  if (!timeout) {\n    return () => {}\n  }\n\n  let s1 = null\n  let s2 = null\n  const timeoutId = setTimeout(() => {\n    // setImmediate is added to make sure that we priotorise socket error events over timeouts\n    s1 = setImmediate(() => {\n      if (process.platform === 'win32') {\n        // Windows needs an extra setImmediate probably due to implementation differences in the socket logic\n        s2 = setImmediate(() => onConnectTimeout())\n      } else {\n        onConnectTimeout()\n      }\n    })\n  }, timeout)\n  return () => {\n    clearTimeout(timeoutId)\n    clearImmediate(s1)\n    clearImmediate(s2)\n  }\n}\n\nfunction onConnectTimeout (socket) {\n  util.destroy(socket, new ConnectTimeoutError())\n}\n\nmodule.exports = buildConnector\n", null, null, "'use strict'\n\nconst util = require('../core/util')\nconst { kBodyUsed } = require('../core/symbols')\nconst assert = require('assert')\nconst { InvalidArgumentError } = require('../core/errors')\nconst EE = require('events')\n\nconst redirectableStatusCodes = [300, 301, 302, 303, 307, 308]\n\nconst kBody = Symbol('body')\n\nclass BodyAsyncIterable {\n  constructor (body) {\n    this[kBody] = body\n    this[kBodyUsed] = false\n  }\n\n  async * [Symbol.asyncIterator] () {\n    assert(!this[kBodyUsed], 'disturbed')\n    this[kBodyUsed] = true\n    yield * this[kBody]\n  }\n}\n\nclass RedirectHandler {\n  constructor (dispatch, maxRedirections, opts, handler) {\n    if (maxRedirections != null && (!Number.isInteger(maxRedirections) || maxRedirections < 0)) {\n      throw new InvalidArgumentError('maxRedirections must be a positive number')\n    }\n\n    util.validateHandler(handler, opts.method, opts.upgrade)\n\n    this.dispatch = dispatch\n    this.location = null\n    this.abort = null\n    this.opts = { ...opts, maxRedirections: 0 } // opts must be a copy\n    this.maxRedirections = maxRedirections\n    this.handler = handler\n    this.history = []\n\n    if (util.isStream(this.opts.body)) {\n      // TODO (fix): Provide some way for the user to cache the file to e.g. /tmp\n      // so that it can be dispatched again?\n      // TODO (fix): Do we need 100-expect support to provide a way to do this properly?\n      if (util.bodyLength(this.opts.body) === 0) {\n        this.opts.body\n          .on('data', function () {\n            assert(false)\n          })\n      }\n\n      if (typeof this.opts.body.readableDidRead !== 'boolean') {\n        this.opts.body[kBodyUsed] = false\n        EE.prototype.on.call(this.opts.body, 'data', function () {\n          this[kBodyUsed] = true\n        })\n      }\n    } else if (this.opts.body && typeof this.opts.body.pipeTo === 'function') {\n      // TODO (fix): We can't access ReadableStream internal state\n      // to determine whether or not it has been disturbed. This is just\n      // a workaround.\n      this.opts.body = new BodyAsyncIterable(this.opts.body)\n    } else if (\n      this.opts.body &&\n      typeof this.opts.body !== 'string' &&\n      !ArrayBuffer.isView(this.opts.body) &&\n      util.isIterable(this.opts.body)\n    ) {\n      // TODO: Should we allow re-using iterable if !this.opts.idempotent\n      // or through some other flag?\n      this.opts.body = new BodyAsyncIterable(this.opts.body)\n    }\n  }\n\n  onConnect (abort) {\n    this.abort = abort\n    this.handler.onConnect(abort, { history: this.history })\n  }\n\n  onUpgrade (statusCode, headers, socket) {\n    this.handler.onUpgrade(statusCode, headers, socket)\n  }\n\n  onError (error) {\n    this.handler.onError(error)\n  }\n\n  onHeaders (statusCode, headers, resume, statusText) {\n    this.location = this.history.length >= this.maxRedirections || util.isDisturbed(this.opts.body)\n      ? null\n      : parseLocation(statusCode, headers)\n\n    if (this.opts.origin) {\n      this.history.push(new URL(this.opts.path, this.opts.origin))\n    }\n\n    if (!this.location) {\n      return this.handler.onHeaders(statusCode, headers, resume, statusText)\n    }\n\n    const { origin, pathname, search } = util.parseURL(new URL(this.location, this.opts.origin && new URL(this.opts.path, this.opts.origin)))\n    const path = search ? `${pathname}${search}` : pathname\n\n    // Remove headers referring to the original URL.\n    // By default it is Host only, unless it's a 303 (see below), which removes also all Content-* headers.\n    // https://tools.ietf.org/html/rfc7231#section-6.4\n    this.opts.headers = cleanRequestHeaders(this.opts.headers, statusCode === 303, this.opts.origin !== origin)\n    this.opts.path = path\n    this.opts.origin = origin\n    this.opts.maxRedirections = 0\n    this.opts.query = null\n\n    // https://tools.ietf.org/html/rfc7231#section-6.4.4\n    // In case of HTTP 303, always replace method to be either HEAD or GET\n    if (statusCode === 303 && this.opts.method !== 'HEAD') {\n      this.opts.method = 'GET'\n      this.opts.body = null\n    }\n  }\n\n  onData (chunk) {\n    if (this.location) {\n      /*\n        https://tools.ietf.org/html/rfc7231#section-6.4\n\n        TLDR: undici always ignores 3xx response bodies.\n\n        Redirection is used to serve the requested resource from another URL, so it is assumes that\n        no body is generated (and thus can be ignored). Even though generating a body is not prohibited.\n\n        For status 301, 302, 303, 307 and 308 (the latter from RFC 7238), the specs mention that the body usually\n        (which means it's optional and not mandated) contain just an hyperlink to the value of\n        the Location response header, so the body can be ignored safely.\n\n        For status 300, which is \"Multiple Choices\", the spec mentions both generating a Location\n        response header AND a response body with the other possible location to follow.\n        Since the spec explicitily chooses not to specify a format for such body and leave it to\n        servers and browsers implementors, we ignore the body as there is no specified way to eventually parse it.\n      */\n    } else {\n      return this.handler.onData(chunk)\n    }\n  }\n\n  onComplete (trailers) {\n    if (this.location) {\n      /*\n        https://tools.ietf.org/html/rfc7231#section-6.4\n\n        TLDR: undici always ignores 3xx response trailers as they are not expected in case of redirections\n        and neither are useful if present.\n\n        See comment on onData method above for more detailed informations.\n      */\n\n      this.location = null\n      this.abort = null\n\n      this.dispatch(this.opts, this)\n    } else {\n      this.handler.onComplete(trailers)\n    }\n  }\n\n  onBodySent (chunk) {\n    if (this.handler.onBodySent) {\n      this.handler.onBodySent(chunk)\n    }\n  }\n}\n\nfunction parseLocation (statusCode, headers) {\n  if (redirectableStatusCodes.indexOf(statusCode) === -1) {\n    return null\n  }\n\n  for (let i = 0; i < headers.length; i += 2) {\n    if (headers[i].toString().toLowerCase() === 'location') {\n      return headers[i + 1]\n    }\n  }\n}\n\n// https://tools.ietf.org/html/rfc7231#section-6.4.4\nfunction shouldRemoveHeader (header, removeContent, unknownOrigin) {\n  if (header.length === 4) {\n    return util.headerNameToString(header) === 'host'\n  }\n  if (removeContent && util.headerNameToString(header).startsWith('content-')) {\n    return true\n  }\n  if (unknownOrigin && (header.length === 13 || header.length === 6 || header.length === 19)) {\n    const name = util.headerNameToString(header)\n    return name === 'authorization' || name === 'cookie' || name === 'proxy-authorization'\n  }\n  return false\n}\n\n// https://tools.ietf.org/html/rfc7231#section-6.4\nfunction cleanRequestHeaders (headers, removeContent, unknownOrigin) {\n  const ret = []\n  if (Array.isArray(headers)) {\n    for (let i = 0; i < headers.length; i += 2) {\n      if (!shouldRemoveHeader(headers[i], removeContent, unknownOrigin)) {\n        ret.push(headers[i], headers[i + 1])\n      }\n    }\n  } else if (headers && typeof headers === 'object') {\n    for (const key of Object.keys(headers)) {\n      if (!shouldRemoveHeader(key, removeContent, unknownOrigin)) {\n        ret.push(key, headers[key])\n      }\n    }\n  } else {\n    assert(headers == null, 'headers must be an object or an array')\n  }\n  return ret\n}\n\nmodule.exports = RedirectHandler\n", "'use strict'\n\nconst RedirectHandler = require('../handler/RedirectHandler')\n\nfunction createRedirectInterceptor ({ maxRedirections: defaultMaxRedirections }) {\n  return (dispatch) => {\n    return function Intercept (opts, handler) {\n      const { maxRedirections = defaultMaxRedirections } = opts\n\n      if (!maxRedirections) {\n        return dispatch(opts, handler)\n      }\n\n      const redirectHandler = new RedirectHandler(dispatch, maxRedirections, opts, handler)\n      opts = { ...opts, maxRedirections: 0 } // Stop sub dispatcher from also redirecting.\n      return dispatch(opts, redirectHandler)\n    }\n  }\n}\n\nmodule.exports = createRedirectInterceptor\n", "module.exports = 'AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8='\n", "module.exports = 'AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=='\n", "// @ts-check\n\n'use strict'\n\n/* global WebAssembly */\n\nconst assert = require('assert')\nconst net = require('net')\nconst http = require('http')\nconst { pipeline } = require('stream')\nconst util = require('./core/util')\nconst timers = require('./timers')\nconst Request = require('./core/request')\nconst DispatcherBase = require('./dispatcher-base')\nconst {\n  RequestContentLengthMismatchError,\n  ResponseContentLengthMismatchError,\n  InvalidArgumentError,\n  RequestAbortedError,\n  HeadersTimeoutError,\n  HeadersOverflowError,\n  SocketError,\n  InformationalError,\n  BodyTimeoutError,\n  HTTPParserError,\n  ResponseExceededMaxSizeError,\n  ClientDestroyedError\n} = require('./core/errors')\nconst buildConnector = require('./core/connect')\nconst {\n  kUrl,\n  kReset,\n  kServerName,\n  kClient,\n  kBusy,\n  kParser,\n  kConnect,\n  kBlocking,\n  kResuming,\n  kRunning,\n  kPending,\n  kSize,\n  kWriting,\n  kQueue,\n  kConnected,\n  kConnecting,\n  kNeedDrain,\n  kNoRef,\n  kKeepAliveDefaultTimeout,\n  kHostHeader,\n  kPendingIdx,\n  kRunningIdx,\n  kError,\n  kPipelining,\n  kSocket,\n  kKeepAliveTimeoutValue,\n  kMaxHeadersSize,\n  kKeepAliveMaxTimeout,\n  kKeepAliveTimeoutThreshold,\n  kHeadersTimeout,\n  kBodyTimeout,\n  kStrictContentLength,\n  kConnector,\n  kMaxRedirections,\n  kMaxRequests,\n  kCounter,\n  kClose,\n  kDestroy,\n  kDispatch,\n  kInterceptors,\n  kLocalAddress,\n  kMaxResponseSize,\n  kHTTPConnVersion,\n  // HTTP2\n  kHost,\n  kHTTP2Session,\n  kHTTP2SessionState,\n  kHTTP2BuildRequest,\n  kHTTP2CopyHeaders,\n  kHTTP1BuildRequest\n} = require('./core/symbols')\n\n/** @type {import('http2')} */\nlet http2\ntry {\n  http2 = require('http2')\n} catch {\n  // @ts-ignore\n  http2 = { constants: {} }\n}\n\nconst {\n  constants: {\n    HTTP2_HEADER_AUTHORITY,\n    HTTP2_HEADER_METHOD,\n    HTTP2_HEADER_PATH,\n    HTTP2_HEADER_SCHEME,\n    HTTP2_HEADER_CONTENT_LENGTH,\n    HTTP2_HEADER_EXPECT,\n    HTTP2_HEADER_STATUS\n  }\n} = http2\n\n// Experimental\nlet h2ExperimentalWarned = false\n\nconst FastBuffer = Buffer[Symbol.species]\n\nconst kClosedResolve = Symbol('kClosedResolve')\n\nconst channels = {}\n\ntry {\n  const diagnosticsChannel = require('diagnostics_channel')\n  channels.sendHeaders = diagnosticsChannel.channel('undici:client:sendHeaders')\n  channels.beforeConnect = diagnosticsChannel.channel('undici:client:beforeConnect')\n  channels.connectError = diagnosticsChannel.channel('undici:client:connectError')\n  channels.connected = diagnosticsChannel.channel('undici:client:connected')\n} catch {\n  channels.sendHeaders = { hasSubscribers: false }\n  channels.beforeConnect = { hasSubscribers: false }\n  channels.connectError = { hasSubscribers: false }\n  channels.connected = { hasSubscribers: false }\n}\n\n/**\n * @type {import('../types/client').default}\n */\nclass Client extends DispatcherBase {\n  /**\n   *\n   * @param {string|URL} url\n   * @param {import('../types/client').Client.Options} options\n   */\n  constructor (url, {\n    interceptors,\n    maxHeaderSize,\n    headersTimeout,\n    socketTimeout,\n    requestTimeout,\n    connectTimeout,\n    bodyTimeout,\n    idleTimeout,\n    keepAlive,\n    keepAliveTimeout,\n    maxKeepAliveTimeout,\n    keepAliveMaxTimeout,\n    keepAliveTimeoutThreshold,\n    socketPath,\n    pipelining,\n    tls,\n    strictContentLength,\n    maxCachedSessions,\n    maxRedirections,\n    connect,\n    maxRequestsPerClient,\n    localAddress,\n    maxResponseSize,\n    autoSelectFamily,\n    autoSelectFamilyAttemptTimeout,\n    // h2\n    allowH2,\n    maxConcurrentStreams\n  } = {}) {\n    super()\n\n    if (keepAlive !== undefined) {\n      throw new InvalidArgumentError('unsupported keepAlive, use pipelining=0 instead')\n    }\n\n    if (socketTimeout !== undefined) {\n      throw new InvalidArgumentError('unsupported socketTimeout, use headersTimeout & bodyTimeout instead')\n    }\n\n    if (requestTimeout !== undefined) {\n      throw new InvalidArgumentError('unsupported requestTimeout, use headersTimeout & bodyTimeout instead')\n    }\n\n    if (idleTimeout !== undefined) {\n      throw new InvalidArgumentError('unsupported idleTimeout, use keepAliveTimeout instead')\n    }\n\n    if (maxKeepAliveTimeout !== undefined) {\n      throw new InvalidArgumentError('unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead')\n    }\n\n    if (maxHeaderSize != null && !Number.isFinite(maxHeaderSize)) {\n      throw new InvalidArgumentError('invalid maxHeaderSize')\n    }\n\n    if (socketPath != null && typeof socketPath !== 'string') {\n      throw new InvalidArgumentError('invalid socketPath')\n    }\n\n    if (connectTimeout != null && (!Number.isFinite(connectTimeout) || connectTimeout < 0)) {\n      throw new InvalidArgumentError('invalid connectTimeout')\n    }\n\n    if (keepAliveTimeout != null && (!Number.isFinite(keepAliveTimeout) || keepAliveTimeout <= 0)) {\n      throw new InvalidArgumentError('invalid keepAliveTimeout')\n    }\n\n    if (keepAliveMaxTimeout != null && (!Number.isFinite(keepAliveMaxTimeout) || keepAliveMaxTimeout <= 0)) {\n      throw new InvalidArgumentError('invalid keepAliveMaxTimeout')\n    }\n\n    if (keepAliveTimeoutThreshold != null && !Number.isFinite(keepAliveTimeoutThreshold)) {\n      throw new InvalidArgumentError('invalid keepAliveTimeoutThreshold')\n    }\n\n    if (headersTimeout != null && (!Number.isInteger(headersTimeout) || headersTimeout < 0)) {\n      throw new InvalidArgumentError('headersTimeout must be a positive integer or zero')\n    }\n\n    if (bodyTimeout != null && (!Number.isInteger(bodyTimeout) || bodyTimeout < 0)) {\n      throw new InvalidArgumentError('bodyTimeout must be a positive integer or zero')\n    }\n\n    if (connect != null && typeof connect !== 'function' && typeof connect !== 'object') {\n      throw new InvalidArgumentError('connect must be a function or an object')\n    }\n\n    if (maxRedirections != null && (!Number.isInteger(maxRedirections) || maxRedirections < 0)) {\n      throw new InvalidArgumentError('maxRedirections must be a positive number')\n    }\n\n    if (maxRequestsPerClient != null && (!Number.isInteger(maxRequestsPerClient) || maxRequestsPerClient < 0)) {\n      throw new InvalidArgumentError('maxRequestsPerClient must be a positive number')\n    }\n\n    if (localAddress != null && (typeof localAddress !== 'string' || net.isIP(localAddress) === 0)) {\n      throw new InvalidArgumentError('localAddress must be valid string IP address')\n    }\n\n    if (maxResponseSize != null && (!Number.isInteger(maxResponseSize) || maxResponseSize < -1)) {\n      throw new InvalidArgumentError('maxResponseSize must be a positive number')\n    }\n\n    if (\n      autoSelectFamilyAttemptTimeout != null &&\n      (!Number.isInteger(autoSelectFamilyAttemptTimeout) || autoSelectFamilyAttemptTimeout < -1)\n    ) {\n      throw new InvalidArgumentError('autoSelectFamilyAttemptTimeout must be a positive number')\n    }\n\n    // h2\n    if (allowH2 != null && typeof allowH2 !== 'boolean') {\n      throw new InvalidArgumentError('allowH2 must be a valid boolean value')\n    }\n\n    if (maxConcurrentStreams != null && (typeof maxConcurrentStreams !== 'number' || maxConcurrentStreams < 1)) {\n      throw new InvalidArgumentError('maxConcurrentStreams must be a possitive integer, greater than 0')\n    }\n\n    if (typeof connect !== 'function') {\n      connect = buildConnector({\n        ...tls,\n        maxCachedSessions,\n        allowH2,\n        socketPath,\n        timeout: connectTimeout,\n        ...(util.nodeHasAutoSelectFamily && autoSelectFamily ? { autoSelectFamily, autoSelectFamilyAttemptTimeout } : undefined),\n        ...connect\n      })\n    }\n\n    this[kInterceptors] = interceptors && interceptors.Client && Array.isArray(interceptors.Client)\n      ? interceptors.Client\n      : [createRedirectInterceptor({ maxRedirections })]\n    this[kUrl] = util.parseOrigin(url)\n    this[kConnector] = connect\n    this[kSocket] = null\n    this[kPipelining] = pipelining != null ? pipelining : 1\n    this[kMaxHeadersSize] = maxHeaderSize || http.maxHeaderSize\n    this[kKeepAliveDefaultTimeout] = keepAliveTimeout == null ? 4e3 : keepAliveTimeout\n    this[kKeepAliveMaxTimeout] = keepAliveMaxTimeout == null ? 600e3 : keepAliveMaxTimeout\n    this[kKeepAliveTimeoutThreshold] = keepAliveTimeoutThreshold == null ? 1e3 : keepAliveTimeoutThreshold\n    this[kKeepAliveTimeoutValue] = this[kKeepAliveDefaultTimeout]\n    this[kServerName] = null\n    this[kLocalAddress] = localAddress != null ? localAddress : null\n    this[kResuming] = 0 // 0, idle, 1, scheduled, 2 resuming\n    this[kNeedDrain] = 0 // 0, idle, 1, scheduled, 2 resuming\n    this[kHostHeader] = `host: ${this[kUrl].hostname}${this[kUrl].port ? `:${this[kUrl].port}` : ''}\\r\\n`\n    this[kBodyTimeout] = bodyTimeout != null ? bodyTimeout : 300e3\n    this[kHeadersTimeout] = headersTimeout != null ? headersTimeout : 300e3\n    this[kStrictContentLength] = strictContentLength == null ? true : strictContentLength\n    this[kMaxRedirections] = maxRedirections\n    this[kMaxRequests] = maxRequestsPerClient\n    this[kClosedResolve] = null\n    this[kMaxResponseSize] = maxResponseSize > -1 ? maxResponseSize : -1\n    this[kHTTPConnVersion] = 'h1'\n\n    // HTTP/2\n    this[kHTTP2Session] = null\n    this[kHTTP2SessionState] = !allowH2\n      ? null\n      : {\n        // streams: null, // Fixed queue of streams - For future support of `push`\n          openStreams: 0, // Keep track of them to decide wether or not unref the session\n          maxConcurrentStreams: maxConcurrentStreams != null ? maxConcurrentStreams : 100 // Max peerConcurrentStreams for a Node h2 server\n        }\n    this[kHost] = `${this[kUrl].hostname}${this[kUrl].port ? `:${this[kUrl].port}` : ''}`\n\n    // kQueue is built up of 3 sections separated by\n    // the kRunningIdx and kPendingIdx indices.\n    // |   complete   |   running   |   pending   |\n    //                ^ kRunningIdx ^ kPendingIdx ^ kQueue.length\n    // kRunningIdx points to the first running element.\n    // kPendingIdx points to the first pending element.\n    // This implements a fast queue with an amortized\n    // time of O(1).\n\n    this[kQueue] = []\n    this[kRunningIdx] = 0\n    this[kPendingIdx] = 0\n  }\n\n  get pipelining () {\n    return this[kPipelining]\n  }\n\n  set pipelining (value) {\n    this[kPipelining] = value\n    resume(this, true)\n  }\n\n  get [kPending] () {\n    return this[kQueue].length - this[kPendingIdx]\n  }\n\n  get [kRunning] () {\n    return this[kPendingIdx] - this[kRunningIdx]\n  }\n\n  get [kSize] () {\n    return this[kQueue].length - this[kRunningIdx]\n  }\n\n  get [kConnected] () {\n    return !!this[kSocket] && !this[kConnecting] && !this[kSocket].destroyed\n  }\n\n  get [kBusy] () {\n    const socket = this[kSocket]\n    return (\n      (socket && (socket[kReset] || socket[kWriting] || socket[kBlocking])) ||\n      (this[kSize] >= (this[kPipelining] || 1)) ||\n      this[kPending] > 0\n    )\n  }\n\n  /* istanbul ignore: only used for test */\n  [kConnect] (cb) {\n    connect(this)\n    this.once('connect', cb)\n  }\n\n  [kDispatch] (opts, handler) {\n    const origin = opts.origin || this[kUrl].origin\n\n    const request = this[kHTTPConnVersion] === 'h2'\n      ? Request[kHTTP2BuildRequest](origin, opts, handler)\n      : Request[kHTTP1BuildRequest](origin, opts, handler)\n\n    this[kQueue].push(request)\n    if (this[kResuming]) {\n      // Do nothing.\n    } else if (util.bodyLength(request.body) == null && util.isIterable(request.body)) {\n      // Wait a tick in case stream/iterator is ended in the same tick.\n      this[kResuming] = 1\n      process.nextTick(resume, this)\n    } else {\n      resume(this, true)\n    }\n\n    if (this[kResuming] && this[kNeedDrain] !== 2 && this[kBusy]) {\n      this[kNeedDrain] = 2\n    }\n\n    return this[kNeedDrain] < 2\n  }\n\n  async [kClose] () {\n    // TODO: for H2 we need to gracefully flush the remaining enqueued\n    // request and close each stream.\n    return new Promise((resolve) => {\n      if (!this[kSize]) {\n        resolve(null)\n      } else {\n        this[kClosedResolve] = resolve\n      }\n    })\n  }\n\n  async [kDestroy] (err) {\n    return new Promise((resolve) => {\n      const requests = this[kQueue].splice(this[kPendingIdx])\n      for (let i = 0; i < requests.length; i++) {\n        const request = requests[i]\n        errorRequest(this, request, err)\n      }\n\n      const callback = () => {\n        if (this[kClosedResolve]) {\n          // TODO (fix): Should we error here with ClientDestroyedError?\n          this[kClosedResolve]()\n          this[kClosedResolve] = null\n        }\n        resolve()\n      }\n\n      if (this[kHTTP2Session] != null) {\n        util.destroy(this[kHTTP2Session], err)\n        this[kHTTP2Session] = null\n        this[kHTTP2SessionState] = null\n      }\n\n      if (!this[kSocket]) {\n        queueMicrotask(callback)\n      } else {\n        util.destroy(this[kSocket].on('close', callback), err)\n      }\n\n      resume(this)\n    })\n  }\n}\n\nfunction onHttp2SessionError (err) {\n  assert(err.code !== 'ERR_TLS_CERT_ALTNAME_INVALID')\n\n  this[kSocket][kError] = err\n\n  onError(this[kClient], err)\n}\n\nfunction onHttp2FrameError (type, code, id) {\n  const err = new InformationalError(`HTTP/2: \"frameError\" received - type ${type}, code ${code}`)\n\n  if (id === 0) {\n    this[kSocket][kError] = err\n    onError(this[kClient], err)\n  }\n}\n\nfunction onHttp2SessionEnd () {\n  util.destroy(this, new SocketError('other side closed'))\n  util.destroy(this[kSocket], new SocketError('other side closed'))\n}\n\nfunction onHTTP2GoAway (code) {\n  const client = this[kClient]\n  const err = new InformationalError(`HTTP/2: \"GOAWAY\" frame received with code ${code}`)\n  client[kSocket] = null\n  client[kHTTP2Session] = null\n\n  if (client.destroyed) {\n    assert(this[kPending] === 0)\n\n    // Fail entire queue.\n    const requests = client[kQueue].splice(client[kRunningIdx])\n    for (let i = 0; i < requests.length; i++) {\n      const request = requests[i]\n      errorRequest(this, request, err)\n    }\n  } else if (client[kRunning] > 0) {\n    // Fail head of pipeline.\n    const request = client[kQueue][client[kRunningIdx]]\n    client[kQueue][client[kRunningIdx]++] = null\n\n    errorRequest(client, request, err)\n  }\n\n  client[kPendingIdx] = client[kRunningIdx]\n\n  assert(client[kRunning] === 0)\n\n  client.emit('disconnect',\n    client[kUrl],\n    [client],\n    err\n  )\n\n  resume(client)\n}\n\nconst constants = require('./llhttp/constants')\nconst createRedirectInterceptor = require('./interceptor/redirectInterceptor')\nconst EMPTY_BUF = Buffer.alloc(0)\n\nasync function lazyllhttp () {\n  const llhttpWasmData = process.env.JEST_WORKER_ID ? require('./llhttp/llhttp-wasm.js') : undefined\n\n  let mod\n  try {\n    mod = await WebAssembly.compile(Buffer.from(require('./llhttp/llhttp_simd-wasm.js'), 'base64'))\n  } catch (e) {\n    /* istanbul ignore next */\n\n    // We could check if the error was caused by the simd option not\n    // being enabled, but the occurring of this other error\n    // * https://github.com/emscripten-core/emscripten/issues/11495\n    // got me to remove that check to avoid breaking Node 12.\n    mod = await WebAssembly.compile(Buffer.from(llhttpWasmData || require('./llhttp/llhttp-wasm.js'), 'base64'))\n  }\n\n  return await WebAssembly.instantiate(mod, {\n    env: {\n      /* eslint-disable camelcase */\n\n      wasm_on_url: (p, at, len) => {\n        /* istanbul ignore next */\n        return 0\n      },\n      wasm_on_status: (p, at, len) => {\n        assert.strictEqual(currentParser.ptr, p)\n        const start = at - currentBufferPtr + currentBufferRef.byteOffset\n        return currentParser.onStatus(new FastBuffer(currentBufferRef.buffer, start, len)) || 0\n      },\n      wasm_on_message_begin: (p) => {\n        assert.strictEqual(currentParser.ptr, p)\n        return currentParser.onMessageBegin() || 0\n      },\n      wasm_on_header_field: (p, at, len) => {\n        assert.strictEqual(currentParser.ptr, p)\n        const start = at - currentBufferPtr + currentBufferRef.byteOffset\n        return currentParser.onHeaderField(new FastBuffer(currentBufferRef.buffer, start, len)) || 0\n      },\n      wasm_on_header_value: (p, at, len) => {\n        assert.strictEqual(currentParser.ptr, p)\n        const start = at - currentBufferPtr + currentBufferRef.byteOffset\n        return currentParser.onHeaderValue(new FastBuffer(currentBufferRef.buffer, start, len)) || 0\n      },\n      wasm_on_headers_complete: (p, statusCode, upgrade, shouldKeepAlive) => {\n        assert.strictEqual(currentParser.ptr, p)\n        return currentParser.onHeadersComplete(statusCode, Boolean(upgrade), Boolean(shouldKeepAlive)) || 0\n      },\n      wasm_on_body: (p, at, len) => {\n        assert.strictEqual(currentParser.ptr, p)\n        const start = at - currentBufferPtr + currentBufferRef.byteOffset\n        return currentParser.onBody(new FastBuffer(currentBufferRef.buffer, start, len)) || 0\n      },\n      wasm_on_message_complete: (p) => {\n        assert.strictEqual(currentParser.ptr, p)\n        return currentParser.onMessageComplete() || 0\n      }\n\n      /* eslint-enable camelcase */\n    }\n  })\n}\n\nlet llhttpInstance = null\nlet llhttpPromise = lazyllhttp()\nllhttpPromise.catch()\n\nlet currentParser = null\nlet currentBufferRef = null\nlet currentBufferSize = 0\nlet currentBufferPtr = null\n\nconst TIMEOUT_HEADERS = 1\nconst TIMEOUT_BODY = 2\nconst TIMEOUT_IDLE = 3\n\nclass Parser {\n  constructor (client, socket, { exports }) {\n    assert(Number.isFinite(client[kMaxHeadersSize]) && client[kMaxHeadersSize] > 0)\n\n    this.llhttp = exports\n    this.ptr = this.llhttp.llhttp_alloc(constants.TYPE.RESPONSE)\n    this.client = client\n    this.socket = socket\n    this.timeout = null\n    this.timeoutValue = null\n    this.timeoutType = null\n    this.statusCode = null\n    this.statusText = ''\n    this.upgrade = false\n    this.headers = []\n    this.headersSize = 0\n    this.headersMaxSize = client[kMaxHeadersSize]\n    this.shouldKeepAlive = false\n    this.paused = false\n    this.resume = this.resume.bind(this)\n\n    this.bytesRead = 0\n\n    this.keepAlive = ''\n    this.contentLength = ''\n    this.connection = ''\n    this.maxResponseSize = client[kMaxResponseSize]\n  }\n\n  setTimeout (value, type) {\n    this.timeoutType = type\n    if (value !== this.timeoutValue) {\n      timers.clearTimeout(this.timeout)\n      if (value) {\n        this.timeout = timers.setTimeout(onParserTimeout, value, this)\n        // istanbul ignore else: only for jest\n        if (this.timeout.unref) {\n          this.timeout.unref()\n        }\n      } else {\n        this.timeout = null\n      }\n      this.timeoutValue = value\n    } else if (this.timeout) {\n      // istanbul ignore else: only for jest\n      if (this.timeout.refresh) {\n        this.timeout.refresh()\n      }\n    }\n  }\n\n  resume () {\n    if (this.socket.destroyed || !this.paused) {\n      return\n    }\n\n    assert(this.ptr != null)\n    assert(currentParser == null)\n\n    this.llhttp.llhttp_resume(this.ptr)\n\n    assert(this.timeoutType === TIMEOUT_BODY)\n    if (this.timeout) {\n      // istanbul ignore else: only for jest\n      if (this.timeout.refresh) {\n        this.timeout.refresh()\n      }\n    }\n\n    this.paused = false\n    this.execute(this.socket.read() || EMPTY_BUF) // Flush parser.\n    this.readMore()\n  }\n\n  readMore () {\n    while (!this.paused && this.ptr) {\n      const chunk = this.socket.read()\n      if (chunk === null) {\n        break\n      }\n      this.execute(chunk)\n    }\n  }\n\n  execute (data) {\n    assert(this.ptr != null)\n    assert(currentParser == null)\n    assert(!this.paused)\n\n    const { socket, llhttp } = this\n\n    if (data.length > currentBufferSize) {\n      if (currentBufferPtr) {\n        llhttp.free(currentBufferPtr)\n      }\n      currentBufferSize = Math.ceil(data.length / 4096) * 4096\n      currentBufferPtr = llhttp.malloc(currentBufferSize)\n    }\n\n    new Uint8Array(llhttp.memory.buffer, currentBufferPtr, currentBufferSize).set(data)\n\n    // Call `execute` on the wasm parser.\n    // We pass the `llhttp_parser` pointer address, the pointer address of buffer view data,\n    // and finally the length of bytes to parse.\n    // The return value is an error code or `constants.ERROR.OK`.\n    try {\n      let ret\n\n      try {\n        currentBufferRef = data\n        currentParser = this\n        ret = llhttp.llhttp_execute(this.ptr, currentBufferPtr, data.length)\n        /* eslint-disable-next-line no-useless-catch */\n      } catch (err) {\n        /* istanbul ignore next: difficult to make a test case for */\n        throw err\n      } finally {\n        currentParser = null\n        currentBufferRef = null\n      }\n\n      const offset = llhttp.llhttp_get_error_pos(this.ptr) - currentBufferPtr\n\n      if (ret === constants.ERROR.PAUSED_UPGRADE) {\n        this.onUpgrade(data.slice(offset))\n      } else if (ret === constants.ERROR.PAUSED) {\n        this.paused = true\n        socket.unshift(data.slice(offset))\n      } else if (ret !== constants.ERROR.OK) {\n        const ptr = llhttp.llhttp_get_error_reason(this.ptr)\n        let message = ''\n        /* istanbul ignore else: difficult to make a test case for */\n        if (ptr) {\n          const len = new Uint8Array(llhttp.memory.buffer, ptr).indexOf(0)\n          message =\n            'Response does not match the HTTP/1.1 protocol (' +\n            Buffer.from(llhttp.memory.buffer, ptr, len).toString() +\n            ')'\n        }\n        throw new HTTPParserError(message, constants.ERROR[ret], data.slice(offset))\n      }\n    } catch (err) {\n      util.destroy(socket, err)\n    }\n  }\n\n  destroy () {\n    assert(this.ptr != null)\n    assert(currentParser == null)\n\n    this.llhttp.llhttp_free(this.ptr)\n    this.ptr = null\n\n    timers.clearTimeout(this.timeout)\n    this.timeout = null\n    this.timeoutValue = null\n    this.timeoutType = null\n\n    this.paused = false\n  }\n\n  onStatus (buf) {\n    this.statusText = buf.toString()\n  }\n\n  onMessageBegin () {\n    const { socket, client } = this\n\n    /* istanbul ignore next: difficult to make a test case for */\n    if (socket.destroyed) {\n      return -1\n    }\n\n    const request = client[kQueue][client[kRunningIdx]]\n    if (!request) {\n      return -1\n    }\n  }\n\n  onHeaderField (buf) {\n    const len = this.headers.length\n\n    if ((len & 1) === 0) {\n      this.headers.push(buf)\n    } else {\n      this.headers[len - 1] = Buffer.concat([this.headers[len - 1], buf])\n    }\n\n    this.trackHeader(buf.length)\n  }\n\n  onHeaderValue (buf) {\n    let len = this.headers.length\n\n    if ((len & 1) === 1) {\n      this.headers.push(buf)\n      len += 1\n    } else {\n      this.headers[len - 1] = Buffer.concat([this.headers[len - 1], buf])\n    }\n\n    const key = this.headers[len - 2]\n    if (key.length === 10 && key.toString().toLowerCase() === 'keep-alive') {\n      this.keepAlive += buf.toString()\n    } else if (key.length === 10 && key.toString().toLowerCase() === 'connection') {\n      this.connection += buf.toString()\n    } else if (key.length === 14 && key.toString().toLowerCase() === 'content-length') {\n      this.contentLength += buf.toString()\n    }\n\n    this.trackHeader(buf.length)\n  }\n\n  trackHeader (len) {\n    this.headersSize += len\n    if (this.headersSize >= this.headersMaxSize) {\n      util.destroy(this.socket, new HeadersOverflowError())\n    }\n  }\n\n  onUpgrade (head) {\n    const { upgrade, client, socket, headers, statusCode } = this\n\n    assert(upgrade)\n\n    const request = client[kQueue][client[kRunningIdx]]\n    assert(request)\n\n    assert(!socket.destroyed)\n    assert(socket === client[kSocket])\n    assert(!this.paused)\n    assert(request.upgrade || request.method === 'CONNECT')\n\n    this.statusCode = null\n    this.statusText = ''\n    this.shouldKeepAlive = null\n\n    assert(this.headers.length % 2 === 0)\n    this.headers = []\n    this.headersSize = 0\n\n    socket.unshift(head)\n\n    socket[kParser].destroy()\n    socket[kParser] = null\n\n    socket[kClient] = null\n    socket[kError] = null\n    socket\n      .removeListener('error', onSocketError)\n      .removeListener('readable', onSocketReadable)\n      .removeListener('end', onSocketEnd)\n      .removeListener('close', onSocketClose)\n\n    client[kSocket] = null\n    client[kQueue][client[kRunningIdx]++] = null\n    client.emit('disconnect', client[kUrl], [client], new InformationalError('upgrade'))\n\n    try {\n      request.onUpgrade(statusCode, headers, socket)\n    } catch (err) {\n      util.destroy(socket, err)\n    }\n\n    resume(client)\n  }\n\n  onHeadersComplete (statusCode, upgrade, shouldKeepAlive) {\n    const { client, socket, headers, statusText } = this\n\n    /* istanbul ignore next: difficult to make a test case for */\n    if (socket.destroyed) {\n      return -1\n    }\n\n    const request = client[kQueue][client[kRunningIdx]]\n\n    /* istanbul ignore next: difficult to make a test case for */\n    if (!request) {\n      return -1\n    }\n\n    assert(!this.upgrade)\n    assert(this.statusCode < 200)\n\n    if (statusCode === 100) {\n      util.destroy(socket, new SocketError('bad response', util.getSocketInfo(socket)))\n      return -1\n    }\n\n    /* this can only happen if server is misbehaving */\n    if (upgrade && !request.upgrade) {\n      util.destroy(socket, new SocketError('bad upgrade', util.getSocketInfo(socket)))\n      return -1\n    }\n\n    assert.strictEqual(this.timeoutType, TIMEOUT_HEADERS)\n\n    this.statusCode = statusCode\n    this.shouldKeepAlive = (\n      shouldKeepAlive ||\n      // Override llhttp value which does not allow keepAlive for HEAD.\n      (request.method === 'HEAD' && !socket[kReset] && this.connection.toLowerCase() === 'keep-alive')\n    )\n\n    if (this.statusCode >= 200) {\n      const bodyTimeout = request.bodyTimeout != null\n        ? request.bodyTimeout\n        : client[kBodyTimeout]\n      this.setTimeout(bodyTimeout, TIMEOUT_BODY)\n    } else if (this.timeout) {\n      // istanbul ignore else: only for jest\n      if (this.timeout.refresh) {\n        this.timeout.refresh()\n      }\n    }\n\n    if (request.method === 'CONNECT') {\n      assert(client[kRunning] === 1)\n      this.upgrade = true\n      return 2\n    }\n\n    if (upgrade) {\n      assert(client[kRunning] === 1)\n      this.upgrade = true\n      return 2\n    }\n\n    assert(this.headers.length % 2 === 0)\n    this.headers = []\n    this.headersSize = 0\n\n    if (this.shouldKeepAlive && client[kPipelining]) {\n      const keepAliveTimeout = this.keepAlive ? util.parseKeepAliveTimeout(this.keepAlive) : null\n\n      if (keepAliveTimeout != null) {\n        const timeout = Math.min(\n          keepAliveTimeout - client[kKeepAliveTimeoutThreshold],\n          client[kKeepAliveMaxTimeout]\n        )\n        if (timeout <= 0) {\n          socket[kReset] = true\n        } else {\n          client[kKeepAliveTimeoutValue] = timeout\n        }\n      } else {\n        client[kKeepAliveTimeoutValue] = client[kKeepAliveDefaultTimeout]\n      }\n    } else {\n      // Stop more requests from being dispatched.\n      socket[kReset] = true\n    }\n\n    const pause = request.onHeaders(statusCode, headers, this.resume, statusText) === false\n\n    if (request.aborted) {\n      return -1\n    }\n\n    if (request.method === 'HEAD') {\n      return 1\n    }\n\n    if (statusCode < 200) {\n      return 1\n    }\n\n    if (socket[kBlocking]) {\n      socket[kBlocking] = false\n      resume(client)\n    }\n\n    return pause ? constants.ERROR.PAUSED : 0\n  }\n\n  onBody (buf) {\n    const { client, socket, statusCode, maxResponseSize } = this\n\n    if (socket.destroyed) {\n      return -1\n    }\n\n    const request = client[kQueue][client[kRunningIdx]]\n    assert(request)\n\n    assert.strictEqual(this.timeoutType, TIMEOUT_BODY)\n    if (this.timeout) {\n      // istanbul ignore else: only for jest\n      if (this.timeout.refresh) {\n        this.timeout.refresh()\n      }\n    }\n\n    assert(statusCode >= 200)\n\n    if (maxResponseSize > -1 && this.bytesRead + buf.length > maxResponseSize) {\n      util.destroy(socket, new ResponseExceededMaxSizeError())\n      return -1\n    }\n\n    this.bytesRead += buf.length\n\n    if (request.onData(buf) === false) {\n      return constants.ERROR.PAUSED\n    }\n  }\n\n  onMessageComplete () {\n    const { client, socket, statusCode, upgrade, headers, contentLength, bytesRead, shouldKeepAlive } = this\n\n    if (socket.destroyed && (!statusCode || shouldKeepAlive)) {\n      return -1\n    }\n\n    if (upgrade) {\n      return\n    }\n\n    const request = client[kQueue][client[kRunningIdx]]\n    assert(request)\n\n    assert(statusCode >= 100)\n\n    this.statusCode = null\n    this.statusText = ''\n    this.bytesRead = 0\n    this.contentLength = ''\n    this.keepAlive = ''\n    this.connection = ''\n\n    assert(this.headers.length % 2 === 0)\n    this.headers = []\n    this.headersSize = 0\n\n    if (statusCode < 200) {\n      return\n    }\n\n    /* istanbul ignore next: should be handled by llhttp? */\n    if (request.method !== 'HEAD' && contentLength && bytesRead !== parseInt(contentLength, 10)) {\n      util.destroy(socket, new ResponseContentLengthMismatchError())\n      return -1\n    }\n\n    request.onComplete(headers)\n\n    client[kQueue][client[kRunningIdx]++] = null\n\n    if (socket[kWriting]) {\n      assert.strictEqual(client[kRunning], 0)\n      // Response completed before request.\n      util.destroy(socket, new InformationalError('reset'))\n      return constants.ERROR.PAUSED\n    } else if (!shouldKeepAlive) {\n      util.destroy(socket, new InformationalError('reset'))\n      return constants.ERROR.PAUSED\n    } else if (socket[kReset] && client[kRunning] === 0) {\n      // Destroy socket once all requests have completed.\n      // The request at the tail of the pipeline is the one\n      // that requested reset and no further requests should\n      // have been queued since then.\n      util.destroy(socket, new InformationalError('reset'))\n      return constants.ERROR.PAUSED\n    } else if (client[kPipelining] === 1) {\n      // We must wait a full event loop cycle to reuse this socket to make sure\n      // that non-spec compliant servers are not closing the connection even if they\n      // said they won't.\n      setImmediate(resume, client)\n    } else {\n      resume(client)\n    }\n  }\n}\n\nfunction onParserTimeout (parser) {\n  const { socket, timeoutType, client } = parser\n\n  /* istanbul ignore else */\n  if (timeoutType === TIMEOUT_HEADERS) {\n    if (!socket[kWriting] || socket.writableNeedDrain || client[kRunning] > 1) {\n      assert(!parser.paused, 'cannot be paused while waiting for headers')\n      util.destroy(socket, new HeadersTimeoutError())\n    }\n  } else if (timeoutType === TIMEOUT_BODY) {\n    if (!parser.paused) {\n      util.destroy(socket, new BodyTimeoutError())\n    }\n  } else if (timeoutType === TIMEOUT_IDLE) {\n    assert(client[kRunning] === 0 && client[kKeepAliveTimeoutValue])\n    util.destroy(socket, new InformationalError('socket idle timeout'))\n  }\n}\n\nfunction onSocketReadable () {\n  const { [kParser]: parser } = this\n  if (parser) {\n    parser.readMore()\n  }\n}\n\nfunction onSocketError (err) {\n  const { [kClient]: client, [kParser]: parser } = this\n\n  assert(err.code !== 'ERR_TLS_CERT_ALTNAME_INVALID')\n\n  if (client[kHTTPConnVersion] !== 'h2') {\n    // On Mac OS, we get an ECONNRESET even if there is a full body to be forwarded\n    // to the user.\n    if (err.code === 'ECONNRESET' && parser.statusCode && !parser.shouldKeepAlive) {\n      // We treat all incoming data so for as a valid response.\n      parser.onMessageComplete()\n      return\n    }\n  }\n\n  this[kError] = err\n\n  onError(this[kClient], err)\n}\n\nfunction onError (client, err) {\n  if (\n    client[kRunning] === 0 &&\n    err.code !== 'UND_ERR_INFO' &&\n    err.code !== 'UND_ERR_SOCKET'\n  ) {\n    // Error is not caused by running request and not a recoverable\n    // socket error.\n\n    assert(client[kPendingIdx] === client[kRunningIdx])\n\n    const requests = client[kQueue].splice(client[kRunningIdx])\n    for (let i = 0; i < requests.length; i++) {\n      const request = requests[i]\n      errorRequest(client, request, err)\n    }\n    assert(client[kSize] === 0)\n  }\n}\n\nfunction onSocketEnd () {\n  const { [kParser]: parser, [kClient]: client } = this\n\n  if (client[kHTTPConnVersion] !== 'h2') {\n    if (parser.statusCode && !parser.shouldKeepAlive) {\n      // We treat all incoming data so far as a valid response.\n      parser.onMessageComplete()\n      return\n    }\n  }\n\n  util.destroy(this, new SocketError('other side closed', util.getSocketInfo(this)))\n}\n\nfunction onSocketClose () {\n  const { [kClient]: client, [kParser]: parser } = this\n\n  if (client[kHTTPConnVersion] === 'h1' && parser) {\n    if (!this[kError] && parser.statusCode && !parser.shouldKeepAlive) {\n      // We treat all incoming data so far as a valid response.\n      parser.onMessageComplete()\n    }\n\n    this[kParser].destroy()\n    this[kParser] = null\n  }\n\n  const err = this[kError] || new SocketError('closed', util.getSocketInfo(this))\n\n  client[kSocket] = null\n\n  if (client.destroyed) {\n    assert(client[kPending] === 0)\n\n    // Fail entire queue.\n    const requests = client[kQueue].splice(client[kRunningIdx])\n    for (let i = 0; i < requests.length; i++) {\n      const request = requests[i]\n      errorRequest(client, request, err)\n    }\n  } else if (client[kRunning] > 0 && err.code !== 'UND_ERR_INFO') {\n    // Fail head of pipeline.\n    const request = client[kQueue][client[kRunningIdx]]\n    client[kQueue][client[kRunningIdx]++] = null\n\n    errorRequest(client, request, err)\n  }\n\n  client[kPendingIdx] = client[kRunningIdx]\n\n  assert(client[kRunning] === 0)\n\n  client.emit('disconnect', client[kUrl], [client], err)\n\n  resume(client)\n}\n\nasync function connect (client) {\n  assert(!client[kConnecting])\n  assert(!client[kSocket])\n\n  let { host, hostname, protocol, port } = client[kUrl]\n\n  // Resolve ipv6\n  if (hostname[0] === '[') {\n    const idx = hostname.indexOf(']')\n\n    assert(idx !== -1)\n    const ip = hostname.substring(1, idx)\n\n    assert(net.isIP(ip))\n    hostname = ip\n  }\n\n  client[kConnecting] = true\n\n  if (channels.beforeConnect.hasSubscribers) {\n    channels.beforeConnect.publish({\n      connectParams: {\n        host,\n        hostname,\n        protocol,\n        port,\n        servername: client[kServerName],\n        localAddress: client[kLocalAddress]\n      },\n      connector: client[kConnector]\n    })\n  }\n\n  try {\n    const socket = await new Promise((resolve, reject) => {\n      client[kConnector]({\n        host,\n        hostname,\n        protocol,\n        port,\n        servername: client[kServerName],\n        localAddress: client[kLocalAddress]\n      }, (err, socket) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(socket)\n        }\n      })\n    })\n\n    if (client.destroyed) {\n      util.destroy(socket.on('error', () => {}), new ClientDestroyedError())\n      return\n    }\n\n    client[kConnecting] = false\n\n    assert(socket)\n\n    const isH2 = socket.alpnProtocol === 'h2'\n    if (isH2) {\n      if (!h2ExperimentalWarned) {\n        h2ExperimentalWarned = true\n        process.emitWarning('H2 support is experimental, expect them to change at any time.', {\n          code: 'UNDICI-H2'\n        })\n      }\n\n      const session = http2.connect(client[kUrl], {\n        createConnection: () => socket,\n        peerMaxConcurrentStreams: client[kHTTP2SessionState].maxConcurrentStreams\n      })\n\n      client[kHTTPConnVersion] = 'h2'\n      session[kClient] = client\n      session[kSocket] = socket\n      session.on('error', onHttp2SessionError)\n      session.on('frameError', onHttp2FrameError)\n      session.on('end', onHttp2SessionEnd)\n      session.on('goaway', onHTTP2GoAway)\n      session.on('close', onSocketClose)\n      session.unref()\n\n      client[kHTTP2Session] = session\n      socket[kHTTP2Session] = session\n    } else {\n      if (!llhttpInstance) {\n        llhttpInstance = await llhttpPromise\n        llhttpPromise = null\n      }\n\n      socket[kNoRef] = false\n      socket[kWriting] = false\n      socket[kReset] = false\n      socket[kBlocking] = false\n      socket[kParser] = new Parser(client, socket, llhttpInstance)\n    }\n\n    socket[kCounter] = 0\n    socket[kMaxRequests] = client[kMaxRequests]\n    socket[kClient] = client\n    socket[kError] = null\n\n    socket\n      .on('error', onSocketError)\n      .on('readable', onSocketReadable)\n      .on('end', onSocketEnd)\n      .on('close', onSocketClose)\n\n    client[kSocket] = socket\n\n    if (channels.connected.hasSubscribers) {\n      channels.connected.publish({\n        connectParams: {\n          host,\n          hostname,\n          protocol,\n          port,\n          servername: client[kServerName],\n          localAddress: client[kLocalAddress]\n        },\n        connector: client[kConnector],\n        socket\n      })\n    }\n    client.emit('connect', client[kUrl], [client])\n  } catch (err) {\n    if (client.destroyed) {\n      return\n    }\n\n    client[kConnecting] = false\n\n    if (channels.connectError.hasSubscribers) {\n      channels.connectError.publish({\n        connectParams: {\n          host,\n          hostname,\n          protocol,\n          port,\n          servername: client[kServerName],\n          localAddress: client[kLocalAddress]\n        },\n        connector: client[kConnector],\n        error: err\n      })\n    }\n\n    if (err.code === 'ERR_TLS_CERT_ALTNAME_INVALID') {\n      assert(client[kRunning] === 0)\n      while (client[kPending] > 0 && client[kQueue][client[kPendingIdx]].servername === client[kServerName]) {\n        const request = client[kQueue][client[kPendingIdx]++]\n        errorRequest(client, request, err)\n      }\n    } else {\n      onError(client, err)\n    }\n\n    client.emit('connectionError', client[kUrl], [client], err)\n  }\n\n  resume(client)\n}\n\nfunction emitDrain (client) {\n  client[kNeedDrain] = 0\n  client.emit('drain', client[kUrl], [client])\n}\n\nfunction resume (client, sync) {\n  if (client[kResuming] === 2) {\n    return\n  }\n\n  client[kResuming] = 2\n\n  _resume(client, sync)\n  client[kResuming] = 0\n\n  if (client[kRunningIdx] > 256) {\n    client[kQueue].splice(0, client[kRunningIdx])\n    client[kPendingIdx] -= client[kRunningIdx]\n    client[kRunningIdx] = 0\n  }\n}\n\nfunction _resume (client, sync) {\n  while (true) {\n    if (client.destroyed) {\n      assert(client[kPending] === 0)\n      return\n    }\n\n    if (client[kClosedResolve] && !client[kSize]) {\n      client[kClosedResolve]()\n      client[kClosedResolve] = null\n      return\n    }\n\n    const socket = client[kSocket]\n\n    if (socket && !socket.destroyed && socket.alpnProtocol !== 'h2') {\n      if (client[kSize] === 0) {\n        if (!socket[kNoRef] && socket.unref) {\n          socket.unref()\n          socket[kNoRef] = true\n        }\n      } else if (socket[kNoRef] && socket.ref) {\n        socket.ref()\n        socket[kNoRef] = false\n      }\n\n      if (client[kSize] === 0) {\n        if (socket[kParser].timeoutType !== TIMEOUT_IDLE) {\n          socket[kParser].setTimeout(client[kKeepAliveTimeoutValue], TIMEOUT_IDLE)\n        }\n      } else if (client[kRunning] > 0 && socket[kParser].statusCode < 200) {\n        if (socket[kParser].timeoutType !== TIMEOUT_HEADERS) {\n          const request = client[kQueue][client[kRunningIdx]]\n          const headersTimeout = request.headersTimeout != null\n            ? request.headersTimeout\n            : client[kHeadersTimeout]\n          socket[kParser].setTimeout(headersTimeout, TIMEOUT_HEADERS)\n        }\n      }\n    }\n\n    if (client[kBusy]) {\n      client[kNeedDrain] = 2\n    } else if (client[kNeedDrain] === 2) {\n      if (sync) {\n        client[kNeedDrain] = 1\n        process.nextTick(emitDrain, client)\n      } else {\n        emitDrain(client)\n      }\n      continue\n    }\n\n    if (client[kPending] === 0) {\n      return\n    }\n\n    if (client[kRunning] >= (client[kPipelining] || 1)) {\n      return\n    }\n\n    const request = client[kQueue][client[kPendingIdx]]\n\n    if (client[kUrl].protocol === 'https:' && client[kServerName] !== request.servername) {\n      if (client[kRunning] > 0) {\n        return\n      }\n\n      client[kServerName] = request.servername\n\n      if (socket && socket.servername !== request.servername) {\n        util.destroy(socket, new InformationalError('servername changed'))\n        return\n      }\n    }\n\n    if (client[kConnecting]) {\n      return\n    }\n\n    if (!socket && !client[kHTTP2Session]) {\n      connect(client)\n      return\n    }\n\n    if (socket.destroyed || socket[kWriting] || socket[kReset] || socket[kBlocking]) {\n      return\n    }\n\n    if (client[kRunning] > 0 && !request.idempotent) {\n      // Non-idempotent request cannot be retried.\n      // Ensure that no other requests are inflight and\n      // could cause failure.\n      return\n    }\n\n    if (client[kRunning] > 0 && (request.upgrade || request.method === 'CONNECT')) {\n      // Don't dispatch an upgrade until all preceding requests have completed.\n      // A misbehaving server might upgrade the connection before all pipelined\n      // request has completed.\n      return\n    }\n\n    if (client[kRunning] > 0 && util.bodyLength(request.body) !== 0 &&\n      (util.isStream(request.body) || util.isAsyncIterable(request.body))) {\n      // Request with stream or iterator body can error while other requests\n      // are inflight and indirectly error those as well.\n      // Ensure this doesn't happen by waiting for inflight\n      // to complete before dispatching.\n\n      // Request with stream or iterator body cannot be retried.\n      // Ensure that no other requests are inflight and\n      // could cause failure.\n      return\n    }\n\n    if (!request.aborted && write(client, request)) {\n      client[kPendingIdx]++\n    } else {\n      client[kQueue].splice(client[kPendingIdx], 1)\n    }\n  }\n}\n\n// https://www.rfc-editor.org/rfc/rfc7230#section-3.3.2\nfunction shouldSendContentLength (method) {\n  return method !== 'GET' && method !== 'HEAD' && method !== 'OPTIONS' && method !== 'TRACE' && method !== 'CONNECT'\n}\n\nfunction write (client, request) {\n  if (client[kHTTPConnVersion] === 'h2') {\n    writeH2(client, client[kHTTP2Session], request)\n    return\n  }\n\n  const { body, method, path, host, upgrade, headers, blocking, reset } = request\n\n  // https://tools.ietf.org/html/rfc7231#section-4.3.1\n  // https://tools.ietf.org/html/rfc7231#section-4.3.2\n  // https://tools.ietf.org/html/rfc7231#section-4.3.5\n\n  // Sending a payload body on a request that does not\n  // expect it can cause undefined behavior on some\n  // servers and corrupt connection state. Do not\n  // re-use the connection for further requests.\n\n  const expectsPayload = (\n    method === 'PUT' ||\n    method === 'POST' ||\n    method === 'PATCH'\n  )\n\n  if (body && typeof body.read === 'function') {\n    // Try to read EOF in order to get length.\n    body.read(0)\n  }\n\n  const bodyLength = util.bodyLength(body)\n\n  let contentLength = bodyLength\n\n  if (contentLength === null) {\n    contentLength = request.contentLength\n  }\n\n  if (contentLength === 0 && !expectsPayload) {\n    // https://tools.ietf.org/html/rfc7230#section-3.3.2\n    // A user agent SHOULD NOT send a Content-Length header field when\n    // the request message does not contain a payload body and the method\n    // semantics do not anticipate such a body.\n\n    contentLength = null\n  }\n\n  // https://github.com/nodejs/undici/issues/2046\n  // A user agent may send a Content-Length header with 0 value, this should be allowed.\n  if (shouldSendContentLength(method) && contentLength > 0 && request.contentLength !== null && request.contentLength !== contentLength) {\n    if (client[kStrictContentLength]) {\n      errorRequest(client, request, new RequestContentLengthMismatchError())\n      return false\n    }\n\n    process.emitWarning(new RequestContentLengthMismatchError())\n  }\n\n  const socket = client[kSocket]\n\n  try {\n    request.onConnect((err) => {\n      if (request.aborted || request.completed) {\n        return\n      }\n\n      errorRequest(client, request, err || new RequestAbortedError())\n\n      util.destroy(socket, new InformationalError('aborted'))\n    })\n  } catch (err) {\n    errorRequest(client, request, err)\n  }\n\n  if (request.aborted) {\n    return false\n  }\n\n  if (method === 'HEAD') {\n    // https://github.com/mcollina/undici/issues/258\n    // Close after a HEAD request to interop with misbehaving servers\n    // that may send a body in the response.\n\n    socket[kReset] = true\n  }\n\n  if (upgrade || method === 'CONNECT') {\n    // On CONNECT or upgrade, block pipeline from dispatching further\n    // requests on this connection.\n\n    socket[kReset] = true\n  }\n\n  if (reset != null) {\n    socket[kReset] = reset\n  }\n\n  if (client[kMaxRequests] && socket[kCounter]++ >= client[kMaxRequests]) {\n    socket[kReset] = true\n  }\n\n  if (blocking) {\n    socket[kBlocking] = true\n  }\n\n  let header = `${method} ${path} HTTP/1.1\\r\\n`\n\n  if (typeof host === 'string') {\n    header += `host: ${host}\\r\\n`\n  } else {\n    header += client[kHostHeader]\n  }\n\n  if (upgrade) {\n    header += `connection: upgrade\\r\\nupgrade: ${upgrade}\\r\\n`\n  } else if (client[kPipelining] && !socket[kReset]) {\n    header += 'connection: keep-alive\\r\\n'\n  } else {\n    header += 'connection: close\\r\\n'\n  }\n\n  if (headers) {\n    header += headers\n  }\n\n  if (channels.sendHeaders.hasSubscribers) {\n    channels.sendHeaders.publish({ request, headers: header, socket })\n  }\n\n  /* istanbul ignore else: assertion */\n  if (!body || bodyLength === 0) {\n    if (contentLength === 0) {\n      socket.write(`${header}content-length: 0\\r\\n\\r\\n`, 'latin1')\n    } else {\n      assert(contentLength === null, 'no body must not have content length')\n      socket.write(`${header}\\r\\n`, 'latin1')\n    }\n    request.onRequestSent()\n  } else if (util.isBuffer(body)) {\n    assert(contentLength === body.byteLength, 'buffer body must have content length')\n\n    socket.cork()\n    socket.write(`${header}content-length: ${contentLength}\\r\\n\\r\\n`, 'latin1')\n    socket.write(body)\n    socket.uncork()\n    request.onBodySent(body)\n    request.onRequestSent()\n    if (!expectsPayload) {\n      socket[kReset] = true\n    }\n  } else if (util.isBlobLike(body)) {\n    if (typeof body.stream === 'function') {\n      writeIterable({ body: body.stream(), client, request, socket, contentLength, header, expectsPayload })\n    } else {\n      writeBlob({ body, client, request, socket, contentLength, header, expectsPayload })\n    }\n  } else if (util.isStream(body)) {\n    writeStream({ body, client, request, socket, contentLength, header, expectsPayload })\n  } else if (util.isIterable(body)) {\n    writeIterable({ body, client, request, socket, contentLength, header, expectsPayload })\n  } else {\n    assert(false)\n  }\n\n  return true\n}\n\nfunction writeH2 (client, session, request) {\n  const { body, method, path, host, upgrade, expectContinue, signal, headers: reqHeaders } = request\n\n  let headers\n  if (typeof reqHeaders === 'string') headers = Request[kHTTP2CopyHeaders](reqHeaders.trim())\n  else headers = reqHeaders\n\n  if (upgrade) {\n    errorRequest(client, request, new Error('Upgrade not supported for H2'))\n    return false\n  }\n\n  try {\n    // TODO(HTTP/2): Should we call onConnect immediately or on stream ready event?\n    request.onConnect((err) => {\n      if (request.aborted || request.completed) {\n        return\n      }\n\n      errorRequest(client, request, err || new RequestAbortedError())\n    })\n  } catch (err) {\n    errorRequest(client, request, err)\n  }\n\n  if (request.aborted) {\n    return false\n  }\n\n  /** @type {import('node:http2').ClientHttp2Stream} */\n  let stream\n  const h2State = client[kHTTP2SessionState]\n\n  headers[HTTP2_HEADER_AUTHORITY] = host || client[kHost]\n  headers[HTTP2_HEADER_METHOD] = method\n\n  if (method === 'CONNECT') {\n    session.ref()\n    // we are already connected, streams are pending, first request\n    // will create a new stream. We trigger a request to create the stream and wait until\n    // `ready` event is triggered\n    // We disabled endStream to allow the user to write to the stream\n    stream = session.request(headers, { endStream: false, signal })\n\n    if (stream.id && !stream.pending) {\n      request.onUpgrade(null, null, stream)\n      ++h2State.openStreams\n    } else {\n      stream.once('ready', () => {\n        request.onUpgrade(null, null, stream)\n        ++h2State.openStreams\n      })\n    }\n\n    stream.once('close', () => {\n      h2State.openStreams -= 1\n      // TODO(HTTP/2): unref only if current streams count is 0\n      if (h2State.openStreams === 0) session.unref()\n    })\n\n    return true\n  }\n\n  // https://tools.ietf.org/html/rfc7540#section-8.3\n  // :path and :scheme headers must be omited when sending CONNECT\n\n  headers[HTTP2_HEADER_PATH] = path\n  headers[HTTP2_HEADER_SCHEME] = 'https'\n\n  // https://tools.ietf.org/html/rfc7231#section-4.3.1\n  // https://tools.ietf.org/html/rfc7231#section-4.3.2\n  // https://tools.ietf.org/html/rfc7231#section-4.3.5\n\n  // Sending a payload body on a request that does not\n  // expect it can cause undefined behavior on some\n  // servers and corrupt connection state. Do not\n  // re-use the connection for further requests.\n\n  const expectsPayload = (\n    method === 'PUT' ||\n    method === 'POST' ||\n    method === 'PATCH'\n  )\n\n  if (body && typeof body.read === 'function') {\n    // Try to read EOF in order to get length.\n    body.read(0)\n  }\n\n  let contentLength = util.bodyLength(body)\n\n  if (contentLength == null) {\n    contentLength = request.contentLength\n  }\n\n  if (contentLength === 0 || !expectsPayload) {\n    // https://tools.ietf.org/html/rfc7230#section-3.3.2\n    // A user agent SHOULD NOT send a Content-Length header field when\n    // the request message does not contain a payload body and the method\n    // semantics do not anticipate such a body.\n\n    contentLength = null\n  }\n\n  // https://github.com/nodejs/undici/issues/2046\n  // A user agent may send a Content-Length header with 0 value, this should be allowed.\n  if (shouldSendContentLength(method) && contentLength > 0 && request.contentLength != null && request.contentLength !== contentLength) {\n    if (client[kStrictContentLength]) {\n      errorRequest(client, request, new RequestContentLengthMismatchError())\n      return false\n    }\n\n    process.emitWarning(new RequestContentLengthMismatchError())\n  }\n\n  if (contentLength != null) {\n    assert(body, 'no body must not have content length')\n    headers[HTTP2_HEADER_CONTENT_LENGTH] = `${contentLength}`\n  }\n\n  session.ref()\n\n  const shouldEndStream = method === 'GET' || method === 'HEAD'\n  if (expectContinue) {\n    headers[HTTP2_HEADER_EXPECT] = '100-continue'\n    stream = session.request(headers, { endStream: shouldEndStream, signal })\n\n    stream.once('continue', writeBodyH2)\n  } else {\n    stream = session.request(headers, {\n      endStream: shouldEndStream,\n      signal\n    })\n    writeBodyH2()\n  }\n\n  // Increment counter as we have new several streams open\n  ++h2State.openStreams\n\n  stream.once('response', headers => {\n    const { [HTTP2_HEADER_STATUS]: statusCode, ...realHeaders } = headers\n\n    if (request.onHeaders(Number(statusCode), realHeaders, stream.resume.bind(stream), '') === false) {\n      stream.pause()\n    }\n  })\n\n  stream.once('end', () => {\n    request.onComplete([])\n  })\n\n  stream.on('data', (chunk) => {\n    if (request.onData(chunk) === false) {\n      stream.pause()\n    }\n  })\n\n  stream.once('close', () => {\n    h2State.openStreams -= 1\n    // TODO(HTTP/2): unref only if current streams count is 0\n    if (h2State.openStreams === 0) {\n      session.unref()\n    }\n  })\n\n  stream.once('error', function (err) {\n    if (client[kHTTP2Session] && !client[kHTTP2Session].destroyed && !this.closed && !this.destroyed) {\n      h2State.streams -= 1\n      util.destroy(stream, err)\n    }\n  })\n\n  stream.once('frameError', (type, code) => {\n    const err = new InformationalError(`HTTP/2: \"frameError\" received - type ${type}, code ${code}`)\n    errorRequest(client, request, err)\n\n    if (client[kHTTP2Session] && !client[kHTTP2Session].destroyed && !this.closed && !this.destroyed) {\n      h2State.streams -= 1\n      util.destroy(stream, err)\n    }\n  })\n\n  // stream.on('aborted', () => {\n  //   // TODO(HTTP/2): Support aborted\n  // })\n\n  // stream.on('timeout', () => {\n  //   // TODO(HTTP/2): Support timeout\n  // })\n\n  // stream.on('push', headers => {\n  //   // TODO(HTTP/2): Suppor push\n  // })\n\n  // stream.on('trailers', headers => {\n  //   // TODO(HTTP/2): Support trailers\n  // })\n\n  return true\n\n  function writeBodyH2 () {\n    /* istanbul ignore else: assertion */\n    if (!body) {\n      request.onRequestSent()\n    } else if (util.isBuffer(body)) {\n      assert(contentLength === body.byteLength, 'buffer body must have content length')\n      stream.cork()\n      stream.write(body)\n      stream.uncork()\n      stream.end()\n      request.onBodySent(body)\n      request.onRequestSent()\n    } else if (util.isBlobLike(body)) {\n      if (typeof body.stream === 'function') {\n        writeIterable({\n          client,\n          request,\n          contentLength,\n          h2stream: stream,\n          expectsPayload,\n          body: body.stream(),\n          socket: client[kSocket],\n          header: ''\n        })\n      } else {\n        writeBlob({\n          body,\n          client,\n          request,\n          contentLength,\n          expectsPayload,\n          h2stream: stream,\n          header: '',\n          socket: client[kSocket]\n        })\n      }\n    } else if (util.isStream(body)) {\n      writeStream({\n        body,\n        client,\n        request,\n        contentLength,\n        expectsPayload,\n        socket: client[kSocket],\n        h2stream: stream,\n        header: ''\n      })\n    } else if (util.isIterable(body)) {\n      writeIterable({\n        body,\n        client,\n        request,\n        contentLength,\n        expectsPayload,\n        header: '',\n        h2stream: stream,\n        socket: client[kSocket]\n      })\n    } else {\n      assert(false)\n    }\n  }\n}\n\nfunction writeStream ({ h2stream, body, client, request, socket, contentLength, header, expectsPayload }) {\n  assert(contentLength !== 0 || client[kRunning] === 0, 'stream body cannot be pipelined')\n\n  if (client[kHTTPConnVersion] === 'h2') {\n    // For HTTP/2, is enough to pipe the stream\n    const pipe = pipeline(\n      body,\n      h2stream,\n      (err) => {\n        if (err) {\n          util.destroy(body, err)\n          util.destroy(h2stream, err)\n        } else {\n          request.onRequestSent()\n        }\n      }\n    )\n\n    pipe.on('data', onPipeData)\n    pipe.once('end', () => {\n      pipe.removeListener('data', onPipeData)\n      util.destroy(pipe)\n    })\n\n    function onPipeData (chunk) {\n      request.onBodySent(chunk)\n    }\n\n    return\n  }\n\n  let finished = false\n\n  const writer = new AsyncWriter({ socket, request, contentLength, client, expectsPayload, header })\n\n  const onData = function (chunk) {\n    if (finished) {\n      return\n    }\n\n    try {\n      if (!writer.write(chunk) && this.pause) {\n        this.pause()\n      }\n    } catch (err) {\n      util.destroy(this, err)\n    }\n  }\n  const onDrain = function () {\n    if (finished) {\n      return\n    }\n\n    if (body.resume) {\n      body.resume()\n    }\n  }\n  const onAbort = function () {\n    if (finished) {\n      return\n    }\n    const err = new RequestAbortedError()\n    queueMicrotask(() => onFinished(err))\n  }\n  const onFinished = function (err) {\n    if (finished) {\n      return\n    }\n\n    finished = true\n\n    assert(socket.destroyed || (socket[kWriting] && client[kRunning] <= 1))\n\n    socket\n      .off('drain', onDrain)\n      .off('error', onFinished)\n\n    body\n      .removeListener('data', onData)\n      .removeListener('end', onFinished)\n      .removeListener('error', onFinished)\n      .removeListener('close', onAbort)\n\n    if (!err) {\n      try {\n        writer.end()\n      } catch (er) {\n        err = er\n      }\n    }\n\n    writer.destroy(err)\n\n    if (err && (err.code !== 'UND_ERR_INFO' || err.message !== 'reset')) {\n      util.destroy(body, err)\n    } else {\n      util.destroy(body)\n    }\n  }\n\n  body\n    .on('data', onData)\n    .on('end', onFinished)\n    .on('error', onFinished)\n    .on('close', onAbort)\n\n  if (body.resume) {\n    body.resume()\n  }\n\n  socket\n    .on('drain', onDrain)\n    .on('error', onFinished)\n}\n\nasync function writeBlob ({ h2stream, body, client, request, socket, contentLength, header, expectsPayload }) {\n  assert(contentLength === body.size, 'blob body must have content length')\n\n  const isH2 = client[kHTTPConnVersion] === 'h2'\n  try {\n    if (contentLength != null && contentLength !== body.size) {\n      throw new RequestContentLengthMismatchError()\n    }\n\n    const buffer = Buffer.from(await body.arrayBuffer())\n\n    if (isH2) {\n      h2stream.cork()\n      h2stream.write(buffer)\n      h2stream.uncork()\n    } else {\n      socket.cork()\n      socket.write(`${header}content-length: ${contentLength}\\r\\n\\r\\n`, 'latin1')\n      socket.write(buffer)\n      socket.uncork()\n    }\n\n    request.onBodySent(buffer)\n    request.onRequestSent()\n\n    if (!expectsPayload) {\n      socket[kReset] = true\n    }\n\n    resume(client)\n  } catch (err) {\n    util.destroy(isH2 ? h2stream : socket, err)\n  }\n}\n\nasync function writeIterable ({ h2stream, body, client, request, socket, contentLength, header, expectsPayload }) {\n  assert(contentLength !== 0 || client[kRunning] === 0, 'iterator body cannot be pipelined')\n\n  let callback = null\n  function onDrain () {\n    if (callback) {\n      const cb = callback\n      callback = null\n      cb()\n    }\n  }\n\n  const waitForDrain = () => new Promise((resolve, reject) => {\n    assert(callback === null)\n\n    if (socket[kError]) {\n      reject(socket[kError])\n    } else {\n      callback = resolve\n    }\n  })\n\n  if (client[kHTTPConnVersion] === 'h2') {\n    h2stream\n      .on('close', onDrain)\n      .on('drain', onDrain)\n\n    try {\n      // It's up to the user to somehow abort the async iterable.\n      for await (const chunk of body) {\n        if (socket[kError]) {\n          throw socket[kError]\n        }\n\n        const res = h2stream.write(chunk)\n        request.onBodySent(chunk)\n        if (!res) {\n          await waitForDrain()\n        }\n      }\n    } catch (err) {\n      h2stream.destroy(err)\n    } finally {\n      request.onRequestSent()\n      h2stream.end()\n      h2stream\n        .off('close', onDrain)\n        .off('drain', onDrain)\n    }\n\n    return\n  }\n\n  socket\n    .on('close', onDrain)\n    .on('drain', onDrain)\n\n  const writer = new AsyncWriter({ socket, request, contentLength, client, expectsPayload, header })\n  try {\n    // It's up to the user to somehow abort the async iterable.\n    for await (const chunk of body) {\n      if (socket[kError]) {\n        throw socket[kError]\n      }\n\n      if (!writer.write(chunk)) {\n        await waitForDrain()\n      }\n    }\n\n    writer.end()\n  } catch (err) {\n    writer.destroy(err)\n  } finally {\n    socket\n      .off('close', onDrain)\n      .off('drain', onDrain)\n  }\n}\n\nclass AsyncWriter {\n  constructor ({ socket, request, contentLength, client, expectsPayload, header }) {\n    this.socket = socket\n    this.request = request\n    this.contentLength = contentLength\n    this.client = client\n    this.bytesWritten = 0\n    this.expectsPayload = expectsPayload\n    this.header = header\n\n    socket[kWriting] = true\n  }\n\n  write (chunk) {\n    const { socket, request, contentLength, client, bytesWritten, expectsPayload, header } = this\n\n    if (socket[kError]) {\n      throw socket[kError]\n    }\n\n    if (socket.destroyed) {\n      return false\n    }\n\n    const len = Buffer.byteLength(chunk)\n    if (!len) {\n      return true\n    }\n\n    // We should defer writing chunks.\n    if (contentLength !== null && bytesWritten + len > contentLength) {\n      if (client[kStrictContentLength]) {\n        throw new RequestContentLengthMismatchError()\n      }\n\n      process.emitWarning(new RequestContentLengthMismatchError())\n    }\n\n    socket.cork()\n\n    if (bytesWritten === 0) {\n      if (!expectsPayload) {\n        socket[kReset] = true\n      }\n\n      if (contentLength === null) {\n        socket.write(`${header}transfer-encoding: chunked\\r\\n`, 'latin1')\n      } else {\n        socket.write(`${header}content-length: ${contentLength}\\r\\n\\r\\n`, 'latin1')\n      }\n    }\n\n    if (contentLength === null) {\n      socket.write(`\\r\\n${len.toString(16)}\\r\\n`, 'latin1')\n    }\n\n    this.bytesWritten += len\n\n    const ret = socket.write(chunk)\n\n    socket.uncork()\n\n    request.onBodySent(chunk)\n\n    if (!ret) {\n      if (socket[kParser].timeout && socket[kParser].timeoutType === TIMEOUT_HEADERS) {\n        // istanbul ignore else: only for jest\n        if (socket[kParser].timeout.refresh) {\n          socket[kParser].timeout.refresh()\n        }\n      }\n    }\n\n    return ret\n  }\n\n  end () {\n    const { socket, contentLength, client, bytesWritten, expectsPayload, header, request } = this\n    request.onRequestSent()\n\n    socket[kWriting] = false\n\n    if (socket[kError]) {\n      throw socket[kError]\n    }\n\n    if (socket.destroyed) {\n      return\n    }\n\n    if (bytesWritten === 0) {\n      if (expectsPayload) {\n        // https://tools.ietf.org/html/rfc7230#section-3.3.2\n        // A user agent SHOULD send a Content-Length in a request message when\n        // no Transfer-Encoding is sent and the request method defines a meaning\n        // for an enclosed payload body.\n\n        socket.write(`${header}content-length: 0\\r\\n\\r\\n`, 'latin1')\n      } else {\n        socket.write(`${header}\\r\\n`, 'latin1')\n      }\n    } else if (contentLength === null) {\n      socket.write('\\r\\n0\\r\\n\\r\\n', 'latin1')\n    }\n\n    if (contentLength !== null && bytesWritten !== contentLength) {\n      if (client[kStrictContentLength]) {\n        throw new RequestContentLengthMismatchError()\n      } else {\n        process.emitWarning(new RequestContentLengthMismatchError())\n      }\n    }\n\n    if (socket[kParser].timeout && socket[kParser].timeoutType === TIMEOUT_HEADERS) {\n      // istanbul ignore else: only for jest\n      if (socket[kParser].timeout.refresh) {\n        socket[kParser].timeout.refresh()\n      }\n    }\n\n    resume(client)\n  }\n\n  destroy (err) {\n    const { socket, client } = this\n\n    socket[kWriting] = false\n\n    if (err) {\n      assert(client[kRunning] <= 1, 'pipeline should only contain this request')\n      util.destroy(socket, err)\n    }\n  }\n}\n\nfunction errorRequest (client, request, err) {\n  try {\n    request.onError(err)\n    assert(request.aborted)\n  } catch (err) {\n    client.emit('error', err)\n  }\n}\n\nmodule.exports = Client\n", "/* eslint-disable */\n\n'use strict'\n\n// Extracted from node/lib/internal/fixed_queue.js\n\n// Currently optimal queue size, tested on V8 6.0 - 6.6. Must be power of two.\nconst kSize = 2048;\nconst kMask = kSize - 1;\n\n// The FixedQueue is implemented as a singly-linked list of fixed-size\n// circular buffers. It looks something like this:\n//\n//  head                                                       tail\n//    |                                                          |\n//    v                                                          v\n// +-----------+ <-----\\       +-----------+ <------\\         +-----------+\n// |  [null]   |        \\----- |   next    |         \\------- |   next    |\n// +-----------+               +-----------+                  +-----------+\n// |   item    | <-- bottom    |   item    | <-- bottom       |  [empty]  |\n// |   item    |               |   item    |                  |  [empty]  |\n// |   item    |               |   item    |                  |  [empty]  |\n// |   item    |               |   item    |                  |  [empty]  |\n// |   item    |               |   item    |       bottom --> |   item    |\n// |   item    |               |   item    |                  |   item    |\n// |    ...    |               |    ...    |                  |    ...    |\n// |   item    |               |   item    |                  |   item    |\n// |   item    |               |   item    |                  |   item    |\n// |  [empty]  | <-- top       |   item    |                  |   item    |\n// |  [empty]  |               |   item    |                  |   item    |\n// |  [empty]  |               |  [empty]  | <-- top  top --> |  [empty]  |\n// +-----------+               +-----------+                  +-----------+\n//\n// Or, if there is only one circular buffer, it looks something\n// like either of these:\n//\n//  head   tail                                 head   tail\n//    |     |                                     |     |\n//    v     v                                     v     v\n// +-----------+                               +-----------+\n// |  [null]   |                               |  [null]   |\n// +-----------+                               +-----------+\n// |  [empty]  |                               |   item    |\n// |  [empty]  |                               |   item    |\n// |   item    | <-- bottom            top --> |  [empty]  |\n// |   item    |                               |  [empty]  |\n// |  [empty]  | <-- top            bottom --> |   item    |\n// |  [empty]  |                               |   item    |\n// +-----------+                               +-----------+\n//\n// Adding a value means moving `top` forward by one, removing means\n// moving `bottom` forward by one. After reaching the end, the queue\n// wraps around.\n//\n// When `top === bottom` the current queue is empty and when\n// `top + 1 === bottom` it's full. This wastes a single space of storage\n// but allows much quicker checks.\n\nclass FixedCircularBuffer {\n  constructor() {\n    this.bottom = 0;\n    this.top = 0;\n    this.list = new Array(kSize);\n    this.next = null;\n  }\n\n  isEmpty() {\n    return this.top === this.bottom;\n  }\n\n  isFull() {\n    return ((this.top + 1) & kMask) === this.bottom;\n  }\n\n  push(data) {\n    this.list[this.top] = data;\n    this.top = (this.top + 1) & kMask;\n  }\n\n  shift() {\n    const nextItem = this.list[this.bottom];\n    if (nextItem === undefined)\n      return null;\n    this.list[this.bottom] = undefined;\n    this.bottom = (this.bottom + 1) & kMask;\n    return nextItem;\n  }\n}\n\nmodule.exports = class FixedQueue {\n  constructor() {\n    this.head = this.tail = new FixedCircularBuffer();\n  }\n\n  isEmpty() {\n    return this.head.isEmpty();\n  }\n\n  push(data) {\n    if (this.head.isFull()) {\n      // Head is full: Creates a new queue, sets the old queue's `.next` to it,\n      // and sets it as the new main queue.\n      this.head = this.head.next = new FixedCircularBuffer();\n    }\n    this.head.push(data);\n  }\n\n  shift() {\n    const tail = this.tail;\n    const next = tail.shift();\n    if (tail.isEmpty() && tail.next !== null) {\n      // If there is another queue, it forms the new tail.\n      this.tail = tail.next;\n    }\n    return next;\n  }\n};\n", "const { kFree, kConnected, kPending, kQueued, kRunning, kSize } = require('./core/symbols')\nconst kPool = Symbol('pool')\n\nclass PoolStats {\n  constructor (pool) {\n    this[kPool] = pool\n  }\n\n  get connected () {\n    return this[kPool][kConnected]\n  }\n\n  get free () {\n    return this[kPool][kFree]\n  }\n\n  get pending () {\n    return this[kPool][kPending]\n  }\n\n  get queued () {\n    return this[kPool][kQueued]\n  }\n\n  get running () {\n    return this[kPool][kRunning]\n  }\n\n  get size () {\n    return this[kPool][kSize]\n  }\n}\n\nmodule.exports = PoolStats\n", "'use strict'\n\nconst DispatcherBase = require('./dispatcher-base')\nconst FixedQueue = require('./node/fixed-queue')\nconst { kConnected, kSize, kRunning, kPending, kQueued, kBusy, kFree, kUrl, kClose, kDestroy, kDispatch } = require('./core/symbols')\nconst PoolStats = require('./pool-stats')\n\nconst kClients = Symbol('clients')\nconst kNeedDrain = Symbol('needDrain')\nconst kQueue = Symbol('queue')\nconst kClosedResolve = Symbol('closed resolve')\nconst kOnDrain = Symbol('onDrain')\nconst kOnConnect = Symbol('onConnect')\nconst kOnDisconnect = Symbol('onDisconnect')\nconst kOnConnectionError = Symbol('onConnectionError')\nconst kGetDispatcher = Symbol('get dispatcher')\nconst kAddClient = Symbol('add client')\nconst kRemoveClient = Symbol('remove client')\nconst kStats = Symbol('stats')\n\nclass PoolBase extends DispatcherBase {\n  constructor () {\n    super()\n\n    this[kQueue] = new FixedQueue()\n    this[kClients] = []\n    this[kQueued] = 0\n\n    const pool = this\n\n    this[kOnDrain] = function onDrain (origin, targets) {\n      const queue = pool[kQueue]\n\n      let needDrain = false\n\n      while (!needDrain) {\n        const item = queue.shift()\n        if (!item) {\n          break\n        }\n        pool[kQueued]--\n        needDrain = !this.dispatch(item.opts, item.handler)\n      }\n\n      this[kNeedDrain] = needDrain\n\n      if (!this[kNeedDrain] && pool[kNeedDrain]) {\n        pool[kNeedDrain] = false\n        pool.emit('drain', origin, [pool, ...targets])\n      }\n\n      if (pool[kClosedResolve] && queue.isEmpty()) {\n        Promise\n          .all(pool[kClients].map(c => c.close()))\n          .then(pool[kClosedResolve])\n      }\n    }\n\n    this[kOnConnect] = (origin, targets) => {\n      pool.emit('connect', origin, [pool, ...targets])\n    }\n\n    this[kOnDisconnect] = (origin, targets, err) => {\n      pool.emit('disconnect', origin, [pool, ...targets], err)\n    }\n\n    this[kOnConnectionError] = (origin, targets, err) => {\n      pool.emit('connectionError', origin, [pool, ...targets], err)\n    }\n\n    this[kStats] = new PoolStats(this)\n  }\n\n  get [kBusy] () {\n    return this[kNeedDrain]\n  }\n\n  get [kConnected] () {\n    return this[kClients].filter(client => client[kConnected]).length\n  }\n\n  get [kFree] () {\n    return this[kClients].filter(client => client[kConnected] && !client[kNeedDrain]).length\n  }\n\n  get [kPending] () {\n    let ret = this[kQueued]\n    for (const { [kPending]: pending } of this[kClients]) {\n      ret += pending\n    }\n    return ret\n  }\n\n  get [kRunning] () {\n    let ret = 0\n    for (const { [kRunning]: running } of this[kClients]) {\n      ret += running\n    }\n    return ret\n  }\n\n  get [kSize] () {\n    let ret = this[kQueued]\n    for (const { [kSize]: size } of this[kClients]) {\n      ret += size\n    }\n    return ret\n  }\n\n  get stats () {\n    return this[kStats]\n  }\n\n  async [kClose] () {\n    if (this[kQueue].isEmpty()) {\n      return Promise.all(this[kClients].map(c => c.close()))\n    } else {\n      return new Promise((resolve) => {\n        this[kClosedResolve] = resolve\n      })\n    }\n  }\n\n  async [kDestroy] (err) {\n    while (true) {\n      const item = this[kQueue].shift()\n      if (!item) {\n        break\n      }\n      item.handler.onError(err)\n    }\n\n    return Promise.all(this[kClients].map(c => c.destroy(err)))\n  }\n\n  [kDispatch] (opts, handler) {\n    const dispatcher = this[kGetDispatcher]()\n\n    if (!dispatcher) {\n      this[kNeedDrain] = true\n      this[kQueue].push({ opts, handler })\n      this[kQueued]++\n    } else if (!dispatcher.dispatch(opts, handler)) {\n      dispatcher[kNeedDrain] = true\n      this[kNeedDrain] = !this[kGetDispatcher]()\n    }\n\n    return !this[kNeedDrain]\n  }\n\n  [kAddClient] (client) {\n    client\n      .on('drain', this[kOnDrain])\n      .on('connect', this[kOnConnect])\n      .on('disconnect', this[kOnDisconnect])\n      .on('connectionError', this[kOnConnectionError])\n\n    this[kClients].push(client)\n\n    if (this[kNeedDrain]) {\n      process.nextTick(() => {\n        if (this[kNeedDrain]) {\n          this[kOnDrain](client[kUrl], [this, client])\n        }\n      })\n    }\n\n    return this\n  }\n\n  [kRemoveClient] (client) {\n    client.close(() => {\n      const idx = this[kClients].indexOf(client)\n      if (idx !== -1) {\n        this[kClients].splice(idx, 1)\n      }\n    })\n\n    this[kNeedDrain] = this[kClients].some(dispatcher => (\n      !dispatcher[kNeedDrain] &&\n      dispatcher.closed !== true &&\n      dispatcher.destroyed !== true\n    ))\n  }\n}\n\nmodule.exports = {\n  PoolBase,\n  kClients,\n  kNeedDrain,\n  kAddClient,\n  kRemoveClient,\n  kGetDispatcher\n}\n", "'use strict'\n\nconst {\n  PoolBase,\n  kClients,\n  kNeedDrain,\n  kAddClient,\n  kGetDispatcher\n} = require('./pool-base')\nconst Client = require('./client')\nconst {\n  InvalidArgumentError\n} = require('./core/errors')\nconst util = require('./core/util')\nconst { kUrl, kInterceptors } = require('./core/symbols')\nconst buildConnector = require('./core/connect')\n\nconst kOptions = Symbol('options')\nconst kConnections = Symbol('connections')\nconst kFactory = Symbol('factory')\n\nfunction defaultFactory (origin, opts) {\n  return new Client(origin, opts)\n}\n\nclass Pool extends PoolBase {\n  constructor (origin, {\n    connections,\n    factory = defaultFactory,\n    connect,\n    connectTimeout,\n    tls,\n    maxCachedSessions,\n    socketPath,\n    autoSelectFamily,\n    autoSelectFamilyAttemptTimeout,\n    allowH2,\n    ...options\n  } = {}) {\n    super()\n\n    if (connections != null && (!Number.isFinite(connections) || connections < 0)) {\n      throw new InvalidArgumentError('invalid connections')\n    }\n\n    if (typeof factory !== 'function') {\n      throw new InvalidArgumentError('factory must be a function.')\n    }\n\n    if (connect != null && typeof connect !== 'function' && typeof connect !== 'object') {\n      throw new InvalidArgumentError('connect must be a function or an object')\n    }\n\n    if (typeof connect !== 'function') {\n      connect = buildConnector({\n        ...tls,\n        maxCachedSessions,\n        allowH2,\n        socketPath,\n        timeout: connectTimeout,\n        ...(util.nodeHasAutoSelectFamily && autoSelectFamily ? { autoSelectFamily, autoSelectFamilyAttemptTimeout } : undefined),\n        ...connect\n      })\n    }\n\n    this[kInterceptors] = options.interceptors && options.interceptors.Pool && Array.isArray(options.interceptors.Pool)\n      ? options.interceptors.Pool\n      : []\n    this[kConnections] = connections || null\n    this[kUrl] = util.parseOrigin(origin)\n    this[kOptions] = { ...util.deepClone(options), connect, allowH2 }\n    this[kOptions].interceptors = options.interceptors\n      ? { ...options.interceptors }\n      : undefined\n    this[kFactory] = factory\n\n    this.on('connectionError', (origin, targets, error) => {\n      // If a connection error occurs, we remove the client from the pool,\n      // and emit a connectionError event. They will not be re-used.\n      // Fixes https://github.com/nodejs/undici/issues/3895\n      for (const target of targets) {\n        // Do not use kRemoveClient here, as it will close the client,\n        // but the client cannot be closed in this state.\n        const idx = this[kClients].indexOf(target)\n        if (idx !== -1) {\n          this[kClients].splice(idx, 1)\n        }\n      }\n    })\n  }\n\n  [kGetDispatcher] () {\n    let dispatcher = this[kClients].find(dispatcher => !dispatcher[kNeedDrain])\n\n    if (dispatcher) {\n      return dispatcher\n    }\n\n    if (!this[kConnections] || this[kClients].length < this[kConnections]) {\n      dispatcher = this[kFactory](this[kUrl], this[kOptions])\n      this[kAddClient](dispatcher)\n    }\n\n    return dispatcher\n  }\n}\n\nmodule.exports = Pool\n", "'use strict'\n\nconst {\n  BalancedPoolMissingUpstreamError,\n  InvalidArgumentError\n} = require('./core/errors')\nconst {\n  PoolBase,\n  kClients,\n  kNeedDrain,\n  kAddClient,\n  kRemoveClient,\n  kGetDispatcher\n} = require('./pool-base')\nconst Pool = require('./pool')\nconst { kUrl, kInterceptors } = require('./core/symbols')\nconst { parseOrigin } = require('./core/util')\nconst kFactory = Symbol('factory')\n\nconst kOptions = Symbol('options')\nconst kGreatestCommonDivisor = Symbol('kGreatestCommonDivisor')\nconst kCurrentWeight = Symbol('kCurrentWeight')\nconst kIndex = Symbol('kIndex')\nconst kWeight = Symbol('kWeight')\nconst kMaxWeightPerServer = Symbol('kMaxWeightPerServer')\nconst kErrorPenalty = Symbol('kErrorPenalty')\n\nfunction getGreatestCommonDivisor (a, b) {\n  if (b === 0) return a\n  return getGreatestCommonDivisor(b, a % b)\n}\n\nfunction defaultFactory (origin, opts) {\n  return new Pool(origin, opts)\n}\n\nclass BalancedPool extends PoolBase {\n  constructor (upstreams = [], { factory = defaultFactory, ...opts } = {}) {\n    super()\n\n    this[kOptions] = opts\n    this[kIndex] = -1\n    this[kCurrentWeight] = 0\n\n    this[kMaxWeightPerServer] = this[kOptions].maxWeightPerServer || 100\n    this[kErrorPenalty] = this[kOptions].errorPenalty || 15\n\n    if (!Array.isArray(upstreams)) {\n      upstreams = [upstreams]\n    }\n\n    if (typeof factory !== 'function') {\n      throw new InvalidArgumentError('factory must be a function.')\n    }\n\n    this[kInterceptors] = opts.interceptors && opts.interceptors.BalancedPool && Array.isArray(opts.interceptors.BalancedPool)\n      ? opts.interceptors.BalancedPool\n      : []\n    this[kFactory] = factory\n\n    for (const upstream of upstreams) {\n      this.addUpstream(upstream)\n    }\n    this._updateBalancedPoolStats()\n  }\n\n  addUpstream (upstream) {\n    const upstreamOrigin = parseOrigin(upstream).origin\n\n    if (this[kClients].find((pool) => (\n      pool[kUrl].origin === upstreamOrigin &&\n      pool.closed !== true &&\n      pool.destroyed !== true\n    ))) {\n      return this\n    }\n    const pool = this[kFactory](upstreamOrigin, Object.assign({}, this[kOptions]))\n\n    this[kAddClient](pool)\n    pool.on('connect', () => {\n      pool[kWeight] = Math.min(this[kMaxWeightPerServer], pool[kWeight] + this[kErrorPenalty])\n    })\n\n    pool.on('connectionError', () => {\n      pool[kWeight] = Math.max(1, pool[kWeight] - this[kErrorPenalty])\n      this._updateBalancedPoolStats()\n    })\n\n    pool.on('disconnect', (...args) => {\n      const err = args[2]\n      if (err && err.code === 'UND_ERR_SOCKET') {\n        // decrease the weight of the pool.\n        pool[kWeight] = Math.max(1, pool[kWeight] - this[kErrorPenalty])\n        this._updateBalancedPoolStats()\n      }\n    })\n\n    for (const client of this[kClients]) {\n      client[kWeight] = this[kMaxWeightPerServer]\n    }\n\n    this._updateBalancedPoolStats()\n\n    return this\n  }\n\n  _updateBalancedPoolStats () {\n    this[kGreatestCommonDivisor] = this[kClients].map(p => p[kWeight]).reduce(getGreatestCommonDivisor, 0)\n  }\n\n  removeUpstream (upstream) {\n    const upstreamOrigin = parseOrigin(upstream).origin\n\n    const pool = this[kClients].find((pool) => (\n      pool[kUrl].origin === upstreamOrigin &&\n      pool.closed !== true &&\n      pool.destroyed !== true\n    ))\n\n    if (pool) {\n      this[kRemoveClient](pool)\n    }\n\n    return this\n  }\n\n  get upstreams () {\n    return this[kClients]\n      .filter(dispatcher => dispatcher.closed !== true && dispatcher.destroyed !== true)\n      .map((p) => p[kUrl].origin)\n  }\n\n  [kGetDispatcher] () {\n    // We validate that pools is greater than 0,\n    // otherwise we would have to wait until an upstream\n    // is added, which might never happen.\n    if (this[kClients].length === 0) {\n      throw new BalancedPoolMissingUpstreamError()\n    }\n\n    const dispatcher = this[kClients].find(dispatcher => (\n      !dispatcher[kNeedDrain] &&\n      dispatcher.closed !== true &&\n      dispatcher.destroyed !== true\n    ))\n\n    if (!dispatcher) {\n      return\n    }\n\n    const allClientsBusy = this[kClients].map(pool => pool[kNeedDrain]).reduce((a, b) => a && b, true)\n\n    if (allClientsBusy) {\n      return\n    }\n\n    let counter = 0\n\n    let maxWeightIndex = this[kClients].findIndex(pool => !pool[kNeedDrain])\n\n    while (counter++ < this[kClients].length) {\n      this[kIndex] = (this[kIndex] + 1) % this[kClients].length\n      const pool = this[kClients][this[kIndex]]\n\n      // find pool index with the largest weight\n      if (pool[kWeight] > this[kClients][maxWeightIndex][kWeight] && !pool[kNeedDrain]) {\n        maxWeightIndex = this[kIndex]\n      }\n\n      // decrease the current weight every `this[kClients].length`.\n      if (this[kIndex] === 0) {\n        // Set the current weight to the next lower weight.\n        this[kCurrentWeight] = this[kCurrentWeight] - this[kGreatestCommonDivisor]\n\n        if (this[kCurrentWeight] <= 0) {\n          this[kCurrentWeight] = this[kMaxWeightPerServer]\n        }\n      }\n      if (pool[kWeight] >= this[kCurrentWeight] && (!pool[kNeedDrain])) {\n        return pool\n      }\n    }\n\n    this[kCurrentWeight] = this[kClients][maxWeightIndex][kWeight]\n    this[kIndex] = maxWeightIndex\n    return this[kClients][maxWeightIndex]\n  }\n}\n\nmodule.exports = BalancedPool\n", "'use strict'\n\n/* istanbul ignore file: only for Node 12 */\n\nconst { kConnected, kSize } = require('../core/symbols')\n\nclass CompatWeakRef {\n  constructor (value) {\n    this.value = value\n  }\n\n  deref () {\n    return this.value[kConnected] === 0 && this.value[kSize] === 0\n      ? undefined\n      : this.value\n  }\n}\n\nclass CompatFinalizer {\n  constructor (finalizer) {\n    this.finalizer = finalizer\n  }\n\n  register (dispatcher, key) {\n    if (dispatcher.on) {\n      dispatcher.on('disconnect', () => {\n        if (dispatcher[kConnected] === 0 && dispatcher[kSize] === 0) {\n          this.finalizer(key)\n        }\n      })\n    }\n  }\n}\n\nmodule.exports = function () {\n  // FIXME: remove workaround when the Node bug is fixed\n  // https://github.com/nodejs/node/issues/49344#issuecomment-1741776308\n  if (process.env.NODE_V8_COVERAGE) {\n    return {\n      WeakRef: CompatWeakRef,\n      FinalizationRegistry: CompatFinalizer\n    }\n  }\n  return {\n    WeakRef: global.WeakRef || CompatWeakRef,\n    FinalizationRegistry: global.FinalizationRegistry || CompatFinalizer\n  }\n}\n", "'use strict'\n\nconst { InvalidArgumentError } = require('./core/errors')\nconst { kClients, kRunning, kClose, kDestroy, kDispatch, kInterceptors } = require('./core/symbols')\nconst DispatcherBase = require('./dispatcher-base')\nconst Pool = require('./pool')\nconst Client = require('./client')\nconst util = require('./core/util')\nconst createRedirectInterceptor = require('./interceptor/redirectInterceptor')\nconst { WeakRef, FinalizationRegistry } = require('./compat/dispatcher-weakref')()\n\nconst kOnConnect = Symbol('onConnect')\nconst kOnDisconnect = Symbol('onDisconnect')\nconst kOnConnectionError = Symbol('onConnectionError')\nconst kMaxRedirections = Symbol('maxRedirections')\nconst kOnDrain = Symbol('onDrain')\nconst kFactory = Symbol('factory')\nconst kFinalizer = Symbol('finalizer')\nconst kOptions = Symbol('options')\n\nfunction defaultFactory (origin, opts) {\n  return opts && opts.connections === 1\n    ? new Client(origin, opts)\n    : new Pool(origin, opts)\n}\n\nclass Agent extends DispatcherBase {\n  constructor ({ factory = defaultFactory, maxRedirections = 0, connect, ...options } = {}) {\n    super()\n\n    if (typeof factory !== 'function') {\n      throw new InvalidArgumentError('factory must be a function.')\n    }\n\n    if (connect != null && typeof connect !== 'function' && typeof connect !== 'object') {\n      throw new InvalidArgumentError('connect must be a function or an object')\n    }\n\n    if (!Number.isInteger(maxRedirections) || maxRedirections < 0) {\n      throw new InvalidArgumentError('maxRedirections must be a positive number')\n    }\n\n    if (connect && typeof connect !== 'function') {\n      connect = { ...connect }\n    }\n\n    this[kInterceptors] = options.interceptors && options.interceptors.Agent && Array.isArray(options.interceptors.Agent)\n      ? options.interceptors.Agent\n      : [createRedirectInterceptor({ maxRedirections })]\n\n    this[kOptions] = { ...util.deepClone(options), connect }\n    this[kOptions].interceptors = options.interceptors\n      ? { ...options.interceptors }\n      : undefined\n    this[kMaxRedirections] = maxRedirections\n    this[kFactory] = factory\n    this[kClients] = new Map()\n    this[kFinalizer] = new FinalizationRegistry(/* istanbul ignore next: gc is undeterministic */ key => {\n      const ref = this[kClients].get(key)\n      if (ref !== undefined && ref.deref() === undefined) {\n        this[kClients].delete(key)\n      }\n    })\n\n    const agent = this\n\n    this[kOnDrain] = (origin, targets) => {\n      agent.emit('drain', origin, [agent, ...targets])\n    }\n\n    this[kOnConnect] = (origin, targets) => {\n      agent.emit('connect', origin, [agent, ...targets])\n    }\n\n    this[kOnDisconnect] = (origin, targets, err) => {\n      agent.emit('disconnect', origin, [agent, ...targets], err)\n    }\n\n    this[kOnConnectionError] = (origin, targets, err) => {\n      agent.emit('connectionError', origin, [agent, ...targets], err)\n    }\n  }\n\n  get [kRunning] () {\n    let ret = 0\n    for (const ref of this[kClients].values()) {\n      const client = ref.deref()\n      /* istanbul ignore next: gc is undeterministic */\n      if (client) {\n        ret += client[kRunning]\n      }\n    }\n    return ret\n  }\n\n  [kDispatch] (opts, handler) {\n    let key\n    if (opts.origin && (typeof opts.origin === 'string' || opts.origin instanceof URL)) {\n      key = String(opts.origin)\n    } else {\n      throw new InvalidArgumentError('opts.origin must be a non-empty string or URL.')\n    }\n\n    const ref = this[kClients].get(key)\n\n    let dispatcher = ref ? ref.deref() : null\n    if (!dispatcher) {\n      dispatcher = this[kFactory](opts.origin, this[kOptions])\n        .on('drain', this[kOnDrain])\n        .on('connect', this[kOnConnect])\n        .on('disconnect', this[kOnDisconnect])\n        .on('connectionError', this[kOnConnectionError])\n\n      this[kClients].set(key, new WeakRef(dispatcher))\n      this[kFinalizer].register(dispatcher, key)\n    }\n\n    return dispatcher.dispatch(opts, handler)\n  }\n\n  async [kClose] () {\n    const closePromises = []\n    for (const ref of this[kClients].values()) {\n      const client = ref.deref()\n      /* istanbul ignore else: gc is undeterministic */\n      if (client) {\n        closePromises.push(client.close())\n      }\n    }\n\n    await Promise.all(closePromises)\n  }\n\n  async [kDestroy] (err) {\n    const destroyPromises = []\n    for (const ref of this[kClients].values()) {\n      const client = ref.deref()\n      /* istanbul ignore else: gc is undeterministic */\n      if (client) {\n        destroyPromises.push(client.destroy(err))\n      }\n    }\n\n    await Promise.all(destroyPromises)\n  }\n}\n\nmodule.exports = Agent\n", "// Ported from https://github.com/nodejs/undici/pull/907\n\n'use strict'\n\nconst assert = require('assert')\nconst { Readable } = require('stream')\nconst { RequestAbortedError, NotSupportedError, InvalidArgumentError } = require('../core/errors')\nconst util = require('../core/util')\nconst { ReadableStreamFrom, toUSVString } = require('../core/util')\n\nlet Blob\n\nconst kConsume = Symbol('kConsume')\nconst kReading = Symbol('kReading')\nconst kBody = Symbol('kBody')\nconst kAbort = Symbol('abort')\nconst kContentType = Symbol('kContentType')\n\nconst noop = () => {}\n\nmodule.exports = class BodyReadable extends Readable {\n  constructor ({\n    resume,\n    abort,\n    contentType = '',\n    highWaterMark = 64 * 1024 // Same as nodejs fs streams.\n  }) {\n    super({\n      autoDestroy: true,\n      read: resume,\n      highWaterMark\n    })\n\n    this._readableState.dataEmitted = false\n\n    this[kAbort] = abort\n    this[kConsume] = null\n    this[kBody] = null\n    this[kContentType] = contentType\n\n    // Is stream being consumed through Readable API?\n    // This is an optimization so that we avoid checking\n    // for 'data' and 'readable' listeners in the hot path\n    // inside push().\n    this[kReading] = false\n  }\n\n  destroy (err) {\n    if (this.destroyed) {\n      // Node < 16\n      return this\n    }\n\n    if (!err && !this._readableState.endEmitted) {\n      err = new RequestAbortedError()\n    }\n\n    if (err) {\n      this[kAbort]()\n    }\n\n    return super.destroy(err)\n  }\n\n  emit (ev, ...args) {\n    if (ev === 'data') {\n      // Node < 16.7\n      this._readableState.dataEmitted = true\n    } else if (ev === 'error') {\n      // Node < 16\n      this._readableState.errorEmitted = true\n    }\n    return super.emit(ev, ...args)\n  }\n\n  on (ev, ...args) {\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = true\n    }\n    return super.on(ev, ...args)\n  }\n\n  addListener (ev, ...args) {\n    return this.on(ev, ...args)\n  }\n\n  off (ev, ...args) {\n    const ret = super.off(ev, ...args)\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = (\n        this.listenerCount('data') > 0 ||\n        this.listenerCount('readable') > 0\n      )\n    }\n    return ret\n  }\n\n  removeListener (ev, ...args) {\n    return this.off(ev, ...args)\n  }\n\n  push (chunk) {\n    if (this[kConsume] && chunk !== null && this.readableLength === 0) {\n      consumePush(this[kConsume], chunk)\n      return this[kReading] ? super.push(chunk) : true\n    }\n    return super.push(chunk)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-text\n  async text () {\n    return consume(this, 'text')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-json\n  async json () {\n    return consume(this, 'json')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-blob\n  async blob () {\n    return consume(this, 'blob')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-arraybuffer\n  async arrayBuffer () {\n    return consume(this, 'arrayBuffer')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-formdata\n  async formData () {\n    // TODO: Implement.\n    throw new NotSupportedError()\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-bodyused\n  get bodyUsed () {\n    return util.isDisturbed(this)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-body\n  get body () {\n    if (!this[kBody]) {\n      this[kBody] = ReadableStreamFrom(this)\n      if (this[kConsume]) {\n        // TODO: Is this the best way to force a lock?\n        this[kBody].getReader() // Ensure stream is locked.\n        assert(this[kBody].locked)\n      }\n    }\n    return this[kBody]\n  }\n\n  dump (opts) {\n    let limit = opts && Number.isFinite(opts.limit) ? opts.limit : 262144\n    const signal = opts && opts.signal\n\n    if (signal) {\n      try {\n        if (typeof signal !== 'object' || !('aborted' in signal)) {\n          throw new InvalidArgumentError('signal must be an AbortSignal')\n        }\n        util.throwIfAborted(signal)\n      } catch (err) {\n        return Promise.reject(err)\n      }\n    }\n\n    if (this.closed) {\n      return Promise.resolve(null)\n    }\n\n    return new Promise((resolve, reject) => {\n      const signalListenerCleanup = signal\n        ? util.addAbortListener(signal, () => {\n          this.destroy()\n        })\n        : noop\n\n      this\n        .on('close', function () {\n          signalListenerCleanup()\n          if (signal && signal.aborted) {\n            reject(signal.reason || Object.assign(new Error('The operation was aborted'), { name: 'AbortError' }))\n          } else {\n            resolve(null)\n          }\n        })\n        .on('error', noop)\n        .on('data', function (chunk) {\n          limit -= chunk.length\n          if (limit <= 0) {\n            this.destroy()\n          }\n        })\n        .resume()\n    })\n  }\n}\n\n// https://streams.spec.whatwg.org/#readablestream-locked\nfunction isLocked (self) {\n  // Consume is an implicit lock.\n  return (self[kBody] && self[kBody].locked === true) || self[kConsume]\n}\n\n// https://fetch.spec.whatwg.org/#body-unusable\nfunction isUnusable (self) {\n  return util.isDisturbed(self) || isLocked(self)\n}\n\nasync function consume (stream, type) {\n  if (isUnusable(stream)) {\n    throw new TypeError('unusable')\n  }\n\n  assert(!stream[kConsume])\n\n  return new Promise((resolve, reject) => {\n    stream[kConsume] = {\n      type,\n      stream,\n      resolve,\n      reject,\n      length: 0,\n      body: []\n    }\n\n    stream\n      .on('error', function (err) {\n        consumeFinish(this[kConsume], err)\n      })\n      .on('close', function () {\n        if (this[kConsume].body !== null) {\n          consumeFinish(this[kConsume], new RequestAbortedError())\n        }\n      })\n\n    process.nextTick(consumeStart, stream[kConsume])\n  })\n}\n\nfunction consumeStart (consume) {\n  if (consume.body === null) {\n    return\n  }\n\n  const { _readableState: state } = consume.stream\n\n  for (const chunk of state.buffer) {\n    consumePush(consume, chunk)\n  }\n\n  if (state.endEmitted) {\n    consumeEnd(this[kConsume])\n  } else {\n    consume.stream.on('end', function () {\n      consumeEnd(this[kConsume])\n    })\n  }\n\n  consume.stream.resume()\n\n  while (consume.stream.read() != null) {\n    // Loop\n  }\n}\n\nfunction consumeEnd (consume) {\n  const { type, body, resolve, stream, length } = consume\n\n  try {\n    if (type === 'text') {\n      resolve(toUSVString(Buffer.concat(body)))\n    } else if (type === 'json') {\n      resolve(JSON.parse(Buffer.concat(body)))\n    } else if (type === 'arrayBuffer') {\n      const dst = new Uint8Array(length)\n\n      let pos = 0\n      for (const buf of body) {\n        dst.set(buf, pos)\n        pos += buf.byteLength\n      }\n\n      resolve(dst.buffer)\n    } else if (type === 'blob') {\n      if (!Blob) {\n        Blob = require('buffer').Blob\n      }\n      resolve(new Blob(body, { type: stream[kContentType] }))\n    }\n\n    consumeFinish(consume)\n  } catch (err) {\n    stream.destroy(err)\n  }\n}\n\nfunction consumePush (consume, chunk) {\n  consume.length += chunk.length\n  consume.body.push(chunk)\n}\n\nfunction consumeFinish (consume, err) {\n  if (consume.body === null) {\n    return\n  }\n\n  if (err) {\n    consume.reject(err)\n  } else {\n    consume.resolve()\n  }\n\n  consume.type = null\n  consume.stream = null\n  consume.resolve = null\n  consume.reject = null\n  consume.length = 0\n  consume.body = null\n}\n", "const assert = require('assert')\nconst {\n  ResponseStatusCodeError\n} = require('../core/errors')\nconst { toUSVString } = require('../core/util')\n\nasync function getResolveErrorBodyCallback ({ callback, body, contentType, statusCode, statusMessage, headers }) {\n  assert(body)\n\n  let chunks = []\n  let limit = 0\n\n  for await (const chunk of body) {\n    chunks.push(chunk)\n    limit += chunk.length\n    if (limit > 128 * 1024) {\n      chunks = null\n      break\n    }\n  }\n\n  if (statusCode === 204 || !contentType || !chunks) {\n    process.nextTick(callback, new ResponseStatusCodeError(`Response status code ${statusCode}${statusMessage ? `: ${statusMessage}` : ''}`, statusCode, headers))\n    return\n  }\n\n  try {\n    if (contentType.startsWith('application/json')) {\n      const payload = JSON.parse(toUSVString(Buffer.concat(chunks)))\n      process.nextTick(callback, new ResponseStatusCodeError(`Response status code ${statusCode}${statusMessage ? `: ${statusMessage}` : ''}`, statusCode, headers, payload))\n      return\n    }\n\n    if (contentType.startsWith('text/')) {\n      const payload = toUSVString(Buffer.concat(chunks))\n      process.nextTick(callback, new ResponseStatusCodeError(`Response status code ${statusCode}${statusMessage ? `: ${statusMessage}` : ''}`, statusCode, headers, payload))\n      return\n    }\n  } catch (err) {\n    // Process in a fallback if error\n  }\n\n  process.nextTick(callback, new ResponseStatusCodeError(`Response status code ${statusCode}${statusMessage ? `: ${statusMessage}` : ''}`, statusCode, headers))\n}\n\nmodule.exports = { getResolveErrorBodyCallback }\n", "const { addAbortListener } = require('../core/util')\nconst { RequestAbortedError } = require('../core/errors')\n\nconst kListener = Symbol('kListener')\nconst kSignal = Symbol('kSignal')\n\nfunction abort (self) {\n  if (self.abort) {\n    self.abort()\n  } else {\n    self.onError(new RequestAbortedError())\n  }\n}\n\nfunction addSignal (self, signal) {\n  self[kSignal] = null\n  self[kListener] = null\n\n  if (!signal) {\n    return\n  }\n\n  if (signal.aborted) {\n    abort(self)\n    return\n  }\n\n  self[kSignal] = signal\n  self[kListener] = () => {\n    abort(self)\n  }\n\n  addAbortListener(self[kSignal], self[kListener])\n}\n\nfunction removeSignal (self) {\n  if (!self[kSignal]) {\n    return\n  }\n\n  if ('removeEventListener' in self[kSignal]) {\n    self[kSignal].removeEventListener('abort', self[kListener])\n  } else {\n    self[kSignal].removeListener('abort', self[kListener])\n  }\n\n  self[kSignal] = null\n  self[kListener] = null\n}\n\nmodule.exports = {\n  addSignal,\n  removeSignal\n}\n", "'use strict'\n\nconst Readable = require('./readable')\nconst {\n  InvalidArgumentError,\n  RequestAbortedError\n} = require('../core/errors')\nconst util = require('../core/util')\nconst { getResolveErrorBodyCallback } = require('./util')\nconst { AsyncResource } = require('async_hooks')\nconst { addSignal, removeSignal } = require('./abort-signal')\n\nclass RequestHandler extends AsyncResource {\n  constructor (opts, callback) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    const { signal, method, opaque, body, onInfo, responseHeaders, throwOnError, highWaterMark } = opts\n\n    try {\n      if (typeof callback !== 'function') {\n        throw new InvalidArgumentError('invalid callback')\n      }\n\n      if (highWaterMark && (typeof highWaterMark !== 'number' || highWaterMark < 0)) {\n        throw new InvalidArgumentError('invalid highWaterMark')\n      }\n\n      if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n        throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n      }\n\n      if (method === 'CONNECT') {\n        throw new InvalidArgumentError('invalid method')\n      }\n\n      if (onInfo && typeof onInfo !== 'function') {\n        throw new InvalidArgumentError('invalid onInfo callback')\n      }\n\n      super('UNDICI_REQUEST')\n    } catch (err) {\n      if (util.isStream(body)) {\n        util.destroy(body.on('error', util.nop), err)\n      }\n      throw err\n    }\n\n    this.responseHeaders = responseHeaders || null\n    this.opaque = opaque || null\n    this.callback = callback\n    this.res = null\n    this.abort = null\n    this.body = body\n    this.trailers = {}\n    this.context = null\n    this.onInfo = onInfo || null\n    this.throwOnError = throwOnError\n    this.highWaterMark = highWaterMark\n\n    if (util.isStream(body)) {\n      body.on('error', (err) => {\n        this.onError(err)\n      })\n    }\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    if (!this.callback) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = context\n  }\n\n  onHeaders (statusCode, rawHeaders, resume, statusMessage) {\n    const { callback, opaque, abort, context, responseHeaders, highWaterMark } = this\n\n    const headers = responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n\n    if (statusCode < 200) {\n      if (this.onInfo) {\n        this.onInfo({ statusCode, headers })\n      }\n      return\n    }\n\n    const parsedHeaders = responseHeaders === 'raw' ? util.parseHeaders(rawHeaders) : headers\n    const contentType = parsedHeaders['content-type']\n    const body = new Readable({ resume, abort, contentType, highWaterMark })\n\n    this.callback = null\n    this.res = body\n    if (callback !== null) {\n      if (this.throwOnError && statusCode >= 400) {\n        this.runInAsyncScope(getResolveErrorBodyCallback, null,\n          { callback, body, contentType, statusCode, statusMessage, headers }\n        )\n      } else {\n        this.runInAsyncScope(callback, null, null, {\n          statusCode,\n          headers,\n          trailers: this.trailers,\n          opaque,\n          body,\n          context\n        })\n      }\n    }\n  }\n\n  onData (chunk) {\n    const { res } = this\n    return res.push(chunk)\n  }\n\n  onComplete (trailers) {\n    const { res } = this\n\n    removeSignal(this)\n\n    util.parseHeaders(trailers, this.trailers)\n\n    res.push(null)\n  }\n\n  onError (err) {\n    const { res, callback, body, opaque } = this\n\n    removeSignal(this)\n\n    if (callback) {\n      // TODO: Does this need queueMicrotask?\n      this.callback = null\n      queueMicrotask(() => {\n        this.runInAsyncScope(callback, null, err, { opaque })\n      })\n    }\n\n    if (res) {\n      this.res = null\n      // Ensure all queued handlers are invoked before destroying res.\n      queueMicrotask(() => {\n        util.destroy(res, err)\n      })\n    }\n\n    if (body) {\n      this.body = null\n      util.destroy(body, err)\n    }\n  }\n}\n\nfunction request (opts, callback) {\n  if (callback === undefined) {\n    return new Promise((resolve, reject) => {\n      request.call(this, opts, (err, data) => {\n        return err ? reject(err) : resolve(data)\n      })\n    })\n  }\n\n  try {\n    this.dispatch(opts, new RequestHandler(opts, callback))\n  } catch (err) {\n    if (typeof callback !== 'function') {\n      throw err\n    }\n    const opaque = opts && opts.opaque\n    queueMicrotask(() => callback(err, { opaque }))\n  }\n}\n\nmodule.exports = request\nmodule.exports.RequestHandler = RequestHandler\n", "'use strict'\n\nconst { finished, PassThrough } = require('stream')\nconst {\n  InvalidArgumentError,\n  InvalidReturnValueError,\n  RequestAbortedError\n} = require('../core/errors')\nconst util = require('../core/util')\nconst { getResolveErrorBodyCallback } = require('./util')\nconst { AsyncResource } = require('async_hooks')\nconst { addSignal, removeSignal } = require('./abort-signal')\n\nclass StreamHandler extends AsyncResource {\n  constructor (opts, factory, callback) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    const { signal, method, opaque, body, onInfo, responseHeaders, throwOnError } = opts\n\n    try {\n      if (typeof callback !== 'function') {\n        throw new InvalidArgumentError('invalid callback')\n      }\n\n      if (typeof factory !== 'function') {\n        throw new InvalidArgumentError('invalid factory')\n      }\n\n      if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n        throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n      }\n\n      if (method === 'CONNECT') {\n        throw new InvalidArgumentError('invalid method')\n      }\n\n      if (onInfo && typeof onInfo !== 'function') {\n        throw new InvalidArgumentError('invalid onInfo callback')\n      }\n\n      super('UNDICI_STREAM')\n    } catch (err) {\n      if (util.isStream(body)) {\n        util.destroy(body.on('error', util.nop), err)\n      }\n      throw err\n    }\n\n    this.responseHeaders = responseHeaders || null\n    this.opaque = opaque || null\n    this.factory = factory\n    this.callback = callback\n    this.res = null\n    this.abort = null\n    this.context = null\n    this.trailers = null\n    this.body = body\n    this.onInfo = onInfo || null\n    this.throwOnError = throwOnError || false\n\n    if (util.isStream(body)) {\n      body.on('error', (err) => {\n        this.onError(err)\n      })\n    }\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    if (!this.callback) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = context\n  }\n\n  onHeaders (statusCode, rawHeaders, resume, statusMessage) {\n    const { factory, opaque, context, callback, responseHeaders } = this\n\n    const headers = responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n\n    if (statusCode < 200) {\n      if (this.onInfo) {\n        this.onInfo({ statusCode, headers })\n      }\n      return\n    }\n\n    this.factory = null\n\n    let res\n\n    if (this.throwOnError && statusCode >= 400) {\n      const parsedHeaders = responseHeaders === 'raw' ? util.parseHeaders(rawHeaders) : headers\n      const contentType = parsedHeaders['content-type']\n      res = new PassThrough()\n\n      this.callback = null\n      this.runInAsyncScope(getResolveErrorBodyCallback, null,\n        { callback, body: res, contentType, statusCode, statusMessage, headers }\n      )\n    } else {\n      if (factory === null) {\n        return\n      }\n\n      res = this.runInAsyncScope(factory, null, {\n        statusCode,\n        headers,\n        opaque,\n        context\n      })\n\n      if (\n        !res ||\n        typeof res.write !== 'function' ||\n        typeof res.end !== 'function' ||\n        typeof res.on !== 'function'\n      ) {\n        throw new InvalidReturnValueError('expected Writable')\n      }\n\n      // TODO: Avoid finished. It registers an unnecessary amount of listeners.\n      finished(res, { readable: false }, (err) => {\n        const { callback, res, opaque, trailers, abort } = this\n\n        this.res = null\n        if (err || !res.readable) {\n          util.destroy(res, err)\n        }\n\n        this.callback = null\n        this.runInAsyncScope(callback, null, err || null, { opaque, trailers })\n\n        if (err) {\n          abort()\n        }\n      })\n    }\n\n    res.on('drain', resume)\n\n    this.res = res\n\n    const needDrain = res.writableNeedDrain !== undefined\n      ? res.writableNeedDrain\n      : res._writableState && res._writableState.needDrain\n\n    return needDrain !== true\n  }\n\n  onData (chunk) {\n    const { res } = this\n\n    return res ? res.write(chunk) : true\n  }\n\n  onComplete (trailers) {\n    const { res } = this\n\n    removeSignal(this)\n\n    if (!res) {\n      return\n    }\n\n    this.trailers = util.parseHeaders(trailers)\n\n    res.end()\n  }\n\n  onError (err) {\n    const { res, callback, opaque, body } = this\n\n    removeSignal(this)\n\n    this.factory = null\n\n    if (res) {\n      this.res = null\n      util.destroy(res, err)\n    } else if (callback) {\n      this.callback = null\n      queueMicrotask(() => {\n        this.runInAsyncScope(callback, null, err, { opaque })\n      })\n    }\n\n    if (body) {\n      this.body = null\n      util.destroy(body, err)\n    }\n  }\n}\n\nfunction stream (opts, factory, callback) {\n  if (callback === undefined) {\n    return new Promise((resolve, reject) => {\n      stream.call(this, opts, factory, (err, data) => {\n        return err ? reject(err) : resolve(data)\n      })\n    })\n  }\n\n  try {\n    this.dispatch(opts, new StreamHandler(opts, factory, callback))\n  } catch (err) {\n    if (typeof callback !== 'function') {\n      throw err\n    }\n    const opaque = opts && opts.opaque\n    queueMicrotask(() => callback(err, { opaque }))\n  }\n}\n\nmodule.exports = stream\n", "'use strict'\n\nconst {\n  Readable,\n  Duplex,\n  PassThrough\n} = require('stream')\nconst {\n  InvalidArgumentError,\n  InvalidReturnValueError,\n  RequestAbortedError\n} = require('../core/errors')\nconst util = require('../core/util')\nconst { AsyncResource } = require('async_hooks')\nconst { addSignal, removeSignal } = require('./abort-signal')\nconst assert = require('assert')\n\nconst kResume = Symbol('resume')\n\nclass PipelineRequest extends Readable {\n  constructor () {\n    super({ autoDestroy: true })\n\n    this[kResume] = null\n  }\n\n  _read () {\n    const { [kResume]: resume } = this\n\n    if (resume) {\n      this[kResume] = null\n      resume()\n    }\n  }\n\n  _destroy (err, callback) {\n    this._read()\n\n    callback(err)\n  }\n}\n\nclass PipelineResponse extends Readable {\n  constructor (resume) {\n    super({ autoDestroy: true })\n    this[kResume] = resume\n  }\n\n  _read () {\n    this[kResume]()\n  }\n\n  _destroy (err, callback) {\n    if (!err && !this._readableState.endEmitted) {\n      err = new RequestAbortedError()\n    }\n\n    callback(err)\n  }\n}\n\nclass PipelineHandler extends AsyncResource {\n  constructor (opts, handler) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    if (typeof handler !== 'function') {\n      throw new InvalidArgumentError('invalid handler')\n    }\n\n    const { signal, method, opaque, onInfo, responseHeaders } = opts\n\n    if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n      throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n    }\n\n    if (method === 'CONNECT') {\n      throw new InvalidArgumentError('invalid method')\n    }\n\n    if (onInfo && typeof onInfo !== 'function') {\n      throw new InvalidArgumentError('invalid onInfo callback')\n    }\n\n    super('UNDICI_PIPELINE')\n\n    this.opaque = opaque || null\n    this.responseHeaders = responseHeaders || null\n    this.handler = handler\n    this.abort = null\n    this.context = null\n    this.onInfo = onInfo || null\n\n    this.req = new PipelineRequest().on('error', util.nop)\n\n    this.ret = new Duplex({\n      readableObjectMode: opts.objectMode,\n      autoDestroy: true,\n      read: () => {\n        const { body } = this\n\n        if (body && body.resume) {\n          body.resume()\n        }\n      },\n      write: (chunk, encoding, callback) => {\n        const { req } = this\n\n        if (req.push(chunk, encoding) || req._readableState.destroyed) {\n          callback()\n        } else {\n          req[kResume] = callback\n        }\n      },\n      destroy: (err, callback) => {\n        const { body, req, res, ret, abort } = this\n\n        if (!err && !ret._readableState.endEmitted) {\n          err = new RequestAbortedError()\n        }\n\n        if (abort && err) {\n          abort()\n        }\n\n        util.destroy(body, err)\n        util.destroy(req, err)\n        util.destroy(res, err)\n\n        removeSignal(this)\n\n        callback(err)\n      }\n    }).on('prefinish', () => {\n      const { req } = this\n\n      // Node < 15 does not call _final in same tick.\n      req.push(null)\n    })\n\n    this.res = null\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    const { ret, res } = this\n\n    assert(!res, 'pipeline cannot be retried')\n\n    if (ret.destroyed) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = context\n  }\n\n  onHeaders (statusCode, rawHeaders, resume) {\n    const { opaque, handler, context } = this\n\n    if (statusCode < 200) {\n      if (this.onInfo) {\n        const headers = this.responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n        this.onInfo({ statusCode, headers })\n      }\n      return\n    }\n\n    this.res = new PipelineResponse(resume)\n\n    let body\n    try {\n      this.handler = null\n      const headers = this.responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n      body = this.runInAsyncScope(handler, null, {\n        statusCode,\n        headers,\n        opaque,\n        body: this.res,\n        context\n      })\n    } catch (err) {\n      this.res.on('error', util.nop)\n      throw err\n    }\n\n    if (!body || typeof body.on !== 'function') {\n      throw new InvalidReturnValueError('expected Readable')\n    }\n\n    body\n      .on('data', (chunk) => {\n        const { ret, body } = this\n\n        if (!ret.push(chunk) && body.pause) {\n          body.pause()\n        }\n      })\n      .on('error', (err) => {\n        const { ret } = this\n\n        util.destroy(ret, err)\n      })\n      .on('end', () => {\n        const { ret } = this\n\n        ret.push(null)\n      })\n      .on('close', () => {\n        const { ret } = this\n\n        if (!ret._readableState.ended) {\n          util.destroy(ret, new RequestAbortedError())\n        }\n      })\n\n    this.body = body\n  }\n\n  onData (chunk) {\n    const { res } = this\n    return res.push(chunk)\n  }\n\n  onComplete (trailers) {\n    const { res } = this\n    res.push(null)\n  }\n\n  onError (err) {\n    const { ret } = this\n    this.handler = null\n    util.destroy(ret, err)\n  }\n}\n\nfunction pipeline (opts, handler) {\n  try {\n    const pipelineHandler = new PipelineHandler(opts, handler)\n    this.dispatch({ ...opts, body: pipelineHandler.req }, pipelineHandler)\n    return pipelineHandler.ret\n  } catch (err) {\n    return new PassThrough().destroy(err)\n  }\n}\n\nmodule.exports = pipeline\n", "'use strict'\n\nconst { InvalidArgumentError, RequestAbortedError, SocketError } = require('../core/errors')\nconst { AsyncResource } = require('async_hooks')\nconst util = require('../core/util')\nconst { addSignal, removeSignal } = require('./abort-signal')\nconst assert = require('assert')\n\nclass UpgradeHandler extends AsyncResource {\n  constructor (opts, callback) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    if (typeof callback !== 'function') {\n      throw new InvalidArgumentError('invalid callback')\n    }\n\n    const { signal, opaque, responseHeaders } = opts\n\n    if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n      throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n    }\n\n    super('UNDICI_UPGRADE')\n\n    this.responseHeaders = responseHeaders || null\n    this.opaque = opaque || null\n    this.callback = callback\n    this.abort = null\n    this.context = null\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    if (!this.callback) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = null\n  }\n\n  onHeaders () {\n    throw new SocketError('bad upgrade', null)\n  }\n\n  onUpgrade (statusCode, rawHeaders, socket) {\n    const { callback, opaque, context } = this\n\n    assert.strictEqual(statusCode, 101)\n\n    removeSignal(this)\n\n    this.callback = null\n    const headers = this.responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n    this.runInAsyncScope(callback, null, null, {\n      headers,\n      socket,\n      opaque,\n      context\n    })\n  }\n\n  onError (err) {\n    const { callback, opaque } = this\n\n    removeSignal(this)\n\n    if (callback) {\n      this.callback = null\n      queueMicrotask(() => {\n        this.runInAsyncScope(callback, null, err, { opaque })\n      })\n    }\n  }\n}\n\nfunction upgrade (opts, callback) {\n  if (callback === undefined) {\n    return new Promise((resolve, reject) => {\n      upgrade.call(this, opts, (err, data) => {\n        return err ? reject(err) : resolve(data)\n      })\n    })\n  }\n\n  try {\n    const upgradeHandler = new UpgradeHandler(opts, callback)\n    this.dispatch({\n      ...opts,\n      method: opts.method || 'GET',\n      upgrade: opts.protocol || 'Websocket'\n    }, upgradeHandler)\n  } catch (err) {\n    if (typeof callback !== 'function') {\n      throw err\n    }\n    const opaque = opts && opts.opaque\n    queueMicrotask(() => callback(err, { opaque }))\n  }\n}\n\nmodule.exports = upgrade\n", "'use strict'\n\nconst { AsyncResource } = require('async_hooks')\nconst { InvalidArgumentError, RequestAbortedError, SocketError } = require('../core/errors')\nconst util = require('../core/util')\nconst { addSignal, removeSignal } = require('./abort-signal')\n\nclass ConnectHandler extends AsyncResource {\n  constructor (opts, callback) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    if (typeof callback !== 'function') {\n      throw new InvalidArgumentError('invalid callback')\n    }\n\n    const { signal, opaque, responseHeaders } = opts\n\n    if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n      throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n    }\n\n    super('UNDICI_CONNECT')\n\n    this.opaque = opaque || null\n    this.responseHeaders = responseHeaders || null\n    this.callback = callback\n    this.abort = null\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    if (!this.callback) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = context\n  }\n\n  onHeaders () {\n    throw new SocketError('bad connect', null)\n  }\n\n  onUpgrade (statusCode, rawHeaders, socket) {\n    const { callback, opaque, context } = this\n\n    removeSignal(this)\n\n    this.callback = null\n\n    let headers = rawHeaders\n    // Indicates is an HTTP2Session\n    if (headers != null) {\n      headers = this.responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n    }\n\n    this.runInAsyncScope(callback, null, null, {\n      statusCode,\n      headers,\n      socket,\n      opaque,\n      context\n    })\n  }\n\n  onError (err) {\n    const { callback, opaque } = this\n\n    removeSignal(this)\n\n    if (callback) {\n      this.callback = null\n      queueMicrotask(() => {\n        this.runInAsyncScope(callback, null, err, { opaque })\n      })\n    }\n  }\n}\n\nfunction connect (opts, callback) {\n  if (callback === undefined) {\n    return new Promise((resolve, reject) => {\n      connect.call(this, opts, (err, data) => {\n        return err ? reject(err) : resolve(data)\n      })\n    })\n  }\n\n  try {\n    const connectHandler = new ConnectHandler(opts, callback)\n    this.dispatch({ ...opts, method: 'CONNECT' }, connectHandler)\n  } catch (err) {\n    if (typeof callback !== 'function') {\n      throw err\n    }\n    const opaque = opts && opts.opaque\n    queueMicrotask(() => callback(err, { opaque }))\n  }\n}\n\nmodule.exports = connect\n", "'use strict'\n\nmodule.exports.request = require('./api-request')\nmodule.exports.stream = require('./api-stream')\nmodule.exports.pipeline = require('./api-pipeline')\nmodule.exports.upgrade = require('./api-upgrade')\nmodule.exports.connect = require('./api-connect')\n", "'use strict'\n\nconst { UndiciError } = require('../core/errors')\n\nclass MockNotMatchedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, MockNotMatchedError)\n    this.name = 'MockNotMatchedError'\n    this.message = message || 'The request does not match any registered mock dispatches'\n    this.code = 'UND_MOCK_ERR_MOCK_NOT_MATCHED'\n  }\n}\n\nmodule.exports = {\n  MockNotMatchedError\n}\n", "'use strict'\n\nmodule.exports = {\n  kAgent: Symbol('agent'),\n  kOptions: Symbol('options'),\n  kFactory: Symbol('factory'),\n  kDispatches: Symbol('dispatches'),\n  kDispatchKey: Symbol('dispatch key'),\n  kDefaultHeaders: Symbol('default headers'),\n  kDefaultTrailers: Symbol('default trailers'),\n  kContentLength: Symbol('content length'),\n  kMockAgent: Symbol('mock agent'),\n  kMockAgentSet: Symbol('mock agent set'),\n  kMockAgentGet: Symbol('mock agent get'),\n  kMockDispatch: Symbol('mock dispatch'),\n  kClose: Symbol('close'),\n  kOriginalClose: Symbol('original agent close'),\n  kOrigin: Symbol('origin'),\n  kIsMockActive: Symbol('is mock active'),\n  kNetConnect: Symbol('net connect'),\n  kGetNetConnect: Symbol('get net connect'),\n  kConnected: Symbol('connected')\n}\n", "'use strict'\n\nconst { MockNotMatchedError } = require('./mock-errors')\nconst {\n  kDispatches,\n  kMockAgent,\n  kOriginalDispatch,\n  kOrigin,\n  kGetNetConnect\n} = require('./mock-symbols')\nconst { buildURL, nop } = require('../core/util')\nconst { STATUS_CODES } = require('http')\nconst {\n  types: {\n    isPromise\n  }\n} = require('util')\n\nfunction matchValue (match, value) {\n  if (typeof match === 'string') {\n    return match === value\n  }\n  if (match instanceof RegExp) {\n    return match.test(value)\n  }\n  if (typeof match === 'function') {\n    return match(value) === true\n  }\n  return false\n}\n\nfunction lowerCaseEntries (headers) {\n  return Object.fromEntries(\n    Object.entries(headers).map(([headerName, headerValue]) => {\n      return [headerName.toLocaleLowerCase(), headerValue]\n    })\n  )\n}\n\n/**\n * @param {import('../../index').Headers|string[]|Record<string, string>} headers\n * @param {string} key\n */\nfunction getHeaderByName (headers, key) {\n  if (Array.isArray(headers)) {\n    for (let i = 0; i < headers.length; i += 2) {\n      if (headers[i].toLocaleLowerCase() === key.toLocaleLowerCase()) {\n        return headers[i + 1]\n      }\n    }\n\n    return undefined\n  } else if (typeof headers.get === 'function') {\n    return headers.get(key)\n  } else {\n    return lowerCaseEntries(headers)[key.toLocaleLowerCase()]\n  }\n}\n\n/** @param {string[]} headers */\nfunction buildHeadersFromArray (headers) { // fetch HeadersList\n  const clone = headers.slice()\n  const entries = []\n  for (let index = 0; index < clone.length; index += 2) {\n    entries.push([clone[index], clone[index + 1]])\n  }\n  return Object.fromEntries(entries)\n}\n\nfunction matchHeaders (mockDispatch, headers) {\n  if (typeof mockDispatch.headers === 'function') {\n    if (Array.isArray(headers)) { // fetch HeadersList\n      headers = buildHeadersFromArray(headers)\n    }\n    return mockDispatch.headers(headers ? lowerCaseEntries(headers) : {})\n  }\n  if (typeof mockDispatch.headers === 'undefined') {\n    return true\n  }\n  if (typeof headers !== 'object' || typeof mockDispatch.headers !== 'object') {\n    return false\n  }\n\n  for (const [matchHeaderName, matchHeaderValue] of Object.entries(mockDispatch.headers)) {\n    const headerValue = getHeaderByName(headers, matchHeaderName)\n\n    if (!matchValue(matchHeaderValue, headerValue)) {\n      return false\n    }\n  }\n  return true\n}\n\nfunction safeUrl (path) {\n  if (typeof path !== 'string') {\n    return path\n  }\n\n  const pathSegments = path.split('?')\n\n  if (pathSegments.length !== 2) {\n    return path\n  }\n\n  const qp = new URLSearchParams(pathSegments.pop())\n  qp.sort()\n  return [...pathSegments, qp.toString()].join('?')\n}\n\nfunction matchKey (mockDispatch, { path, method, body, headers }) {\n  const pathMatch = matchValue(mockDispatch.path, path)\n  const methodMatch = matchValue(mockDispatch.method, method)\n  const bodyMatch = typeof mockDispatch.body !== 'undefined' ? matchValue(mockDispatch.body, body) : true\n  const headersMatch = matchHeaders(mockDispatch, headers)\n  return pathMatch && methodMatch && bodyMatch && headersMatch\n}\n\nfunction getResponseData (data) {\n  if (Buffer.isBuffer(data)) {\n    return data\n  } else if (typeof data === 'object') {\n    return JSON.stringify(data)\n  } else {\n    return data.toString()\n  }\n}\n\nfunction getMockDispatch (mockDispatches, key) {\n  const basePath = key.query ? buildURL(key.path, key.query) : key.path\n  const resolvedPath = typeof basePath === 'string' ? safeUrl(basePath) : basePath\n\n  // Match path\n  let matchedMockDispatches = mockDispatches.filter(({ consumed }) => !consumed).filter(({ path }) => matchValue(safeUrl(path), resolvedPath))\n  if (matchedMockDispatches.length === 0) {\n    throw new MockNotMatchedError(`Mock dispatch not matched for path '${resolvedPath}'`)\n  }\n\n  // Match method\n  matchedMockDispatches = matchedMockDispatches.filter(({ method }) => matchValue(method, key.method))\n  if (matchedMockDispatches.length === 0) {\n    throw new MockNotMatchedError(`Mock dispatch not matched for method '${key.method}'`)\n  }\n\n  // Match body\n  matchedMockDispatches = matchedMockDispatches.filter(({ body }) => typeof body !== 'undefined' ? matchValue(body, key.body) : true)\n  if (matchedMockDispatches.length === 0) {\n    throw new MockNotMatchedError(`Mock dispatch not matched for body '${key.body}'`)\n  }\n\n  // Match headers\n  matchedMockDispatches = matchedMockDispatches.filter((mockDispatch) => matchHeaders(mockDispatch, key.headers))\n  if (matchedMockDispatches.length === 0) {\n    throw new MockNotMatchedError(`Mock dispatch not matched for headers '${typeof key.headers === 'object' ? JSON.stringify(key.headers) : key.headers}'`)\n  }\n\n  return matchedMockDispatches[0]\n}\n\nfunction addMockDispatch (mockDispatches, key, data) {\n  const baseData = { timesInvoked: 0, times: 1, persist: false, consumed: false }\n  const replyData = typeof data === 'function' ? { callback: data } : { ...data }\n  const newMockDispatch = { ...baseData, ...key, pending: true, data: { error: null, ...replyData } }\n  mockDispatches.push(newMockDispatch)\n  return newMockDispatch\n}\n\nfunction deleteMockDispatch (mockDispatches, key) {\n  const index = mockDispatches.findIndex(dispatch => {\n    if (!dispatch.consumed) {\n      return false\n    }\n    return matchKey(dispatch, key)\n  })\n  if (index !== -1) {\n    mockDispatches.splice(index, 1)\n  }\n}\n\nfunction buildKey (opts) {\n  const { path, method, body, headers, query } = opts\n  return {\n    path,\n    method,\n    body,\n    headers,\n    query\n  }\n}\n\nfunction generateKeyValues (data) {\n  return Object.entries(data).reduce((keyValuePairs, [key, value]) => [\n    ...keyValuePairs,\n    Buffer.from(`${key}`),\n    Array.isArray(value) ? value.map(x => Buffer.from(`${x}`)) : Buffer.from(`${value}`)\n  ], [])\n}\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\n * @param {number} statusCode\n */\nfunction getStatusText (statusCode) {\n  return STATUS_CODES[statusCode] || 'unknown'\n}\n\nasync function getResponse (body) {\n  const buffers = []\n  for await (const data of body) {\n    buffers.push(data)\n  }\n  return Buffer.concat(buffers).toString('utf8')\n}\n\n/**\n * Mock dispatch function used to simulate undici dispatches\n */\nfunction mockDispatch (opts, handler) {\n  // Get mock dispatch from built key\n  const key = buildKey(opts)\n  const mockDispatch = getMockDispatch(this[kDispatches], key)\n\n  mockDispatch.timesInvoked++\n\n  // Here's where we resolve a callback if a callback is present for the dispatch data.\n  if (mockDispatch.data.callback) {\n    mockDispatch.data = { ...mockDispatch.data, ...mockDispatch.data.callback(opts) }\n  }\n\n  // Parse mockDispatch data\n  const { data: { statusCode, data, headers, trailers, error }, delay, persist } = mockDispatch\n  const { timesInvoked, times } = mockDispatch\n\n  // If it's used up and not persistent, mark as consumed\n  mockDispatch.consumed = !persist && timesInvoked >= times\n  mockDispatch.pending = timesInvoked < times\n\n  // If specified, trigger dispatch error\n  if (error !== null) {\n    deleteMockDispatch(this[kDispatches], key)\n    handler.onError(error)\n    return true\n  }\n\n  // Handle the request with a delay if necessary\n  if (typeof delay === 'number' && delay > 0) {\n    setTimeout(() => {\n      handleReply(this[kDispatches])\n    }, delay)\n  } else {\n    handleReply(this[kDispatches])\n  }\n\n  function handleReply (mockDispatches, _data = data) {\n    // fetch's HeadersList is a 1D string array\n    const optsHeaders = Array.isArray(opts.headers)\n      ? buildHeadersFromArray(opts.headers)\n      : opts.headers\n    const body = typeof _data === 'function'\n      ? _data({ ...opts, headers: optsHeaders })\n      : _data\n\n    // util.types.isPromise is likely needed for jest.\n    if (isPromise(body)) {\n      // If handleReply is asynchronous, throwing an error\n      // in the callback will reject the promise, rather than\n      // synchronously throw the error, which breaks some tests.\n      // Rather, we wait for the callback to resolve if it is a\n      // promise, and then re-run handleReply with the new body.\n      body.then((newData) => handleReply(mockDispatches, newData))\n      return\n    }\n\n    const responseData = getResponseData(body)\n    const responseHeaders = generateKeyValues(headers)\n    const responseTrailers = generateKeyValues(trailers)\n\n    handler.abort = nop\n    handler.onHeaders(statusCode, responseHeaders, resume, getStatusText(statusCode))\n    handler.onData(Buffer.from(responseData))\n    handler.onComplete(responseTrailers)\n    deleteMockDispatch(mockDispatches, key)\n  }\n\n  function resume () {}\n\n  return true\n}\n\nfunction buildMockDispatch () {\n  const agent = this[kMockAgent]\n  const origin = this[kOrigin]\n  const originalDispatch = this[kOriginalDispatch]\n\n  return function dispatch (opts, handler) {\n    if (agent.isMockActive) {\n      try {\n        mockDispatch.call(this, opts, handler)\n      } catch (error) {\n        if (error instanceof MockNotMatchedError) {\n          const netConnect = agent[kGetNetConnect]()\n          if (netConnect === false) {\n            throw new MockNotMatchedError(`${error.message}: subsequent request to origin ${origin} was not allowed (net.connect disabled)`)\n          }\n          if (checkNetConnect(netConnect, origin)) {\n            originalDispatch.call(this, opts, handler)\n          } else {\n            throw new MockNotMatchedError(`${error.message}: subsequent request to origin ${origin} was not allowed (net.connect is not enabled for this origin)`)\n          }\n        } else {\n          throw error\n        }\n      }\n    } else {\n      originalDispatch.call(this, opts, handler)\n    }\n  }\n}\n\nfunction checkNetConnect (netConnect, origin) {\n  const url = new URL(origin)\n  if (netConnect === true) {\n    return true\n  } else if (Array.isArray(netConnect) && netConnect.some((matcher) => matchValue(matcher, url.host))) {\n    return true\n  }\n  return false\n}\n\nfunction buildMockOptions (opts) {\n  if (opts) {\n    const { agent, ...mockOptions } = opts\n    return mockOptions\n  }\n}\n\nmodule.exports = {\n  getResponseData,\n  getMockDispatch,\n  addMockDispatch,\n  deleteMockDispatch,\n  buildKey,\n  generateKeyValues,\n  matchValue,\n  getResponse,\n  getStatusText,\n  mockDispatch,\n  buildMockDispatch,\n  checkNetConnect,\n  buildMockOptions,\n  getHeaderByName\n}\n", "'use strict'\n\nconst { getResponseData, buildKey, addMockDispatch } = require('./mock-utils')\nconst {\n  kDispatches,\n  kDispatchKey,\n  kDefaultHeaders,\n  kDefaultTrailers,\n  kContentLength,\n  kMockDispatch\n} = require('./mock-symbols')\nconst { InvalidArgumentError } = require('../core/errors')\nconst { buildURL } = require('../core/util')\n\n/**\n * Defines the scope API for an interceptor reply\n */\nclass MockScope {\n  constructor (mockDispatch) {\n    this[kMockDispatch] = mockDispatch\n  }\n\n  /**\n   * Delay a reply by a set amount in ms.\n   */\n  delay (waitInMs) {\n    if (typeof waitInMs !== 'number' || !Number.isInteger(waitInMs) || waitInMs <= 0) {\n      throw new InvalidArgumentError('waitInMs must be a valid integer > 0')\n    }\n\n    this[kMockDispatch].delay = waitInMs\n    return this\n  }\n\n  /**\n   * For a defined reply, never mark as consumed.\n   */\n  persist () {\n    this[kMockDispatch].persist = true\n    return this\n  }\n\n  /**\n   * Allow one to define a reply for a set amount of matching requests.\n   */\n  times (repeatTimes) {\n    if (typeof repeatTimes !== 'number' || !Number.isInteger(repeatTimes) || repeatTimes <= 0) {\n      throw new InvalidArgumentError('repeatTimes must be a valid integer > 0')\n    }\n\n    this[kMockDispatch].times = repeatTimes\n    return this\n  }\n}\n\n/**\n * Defines an interceptor for a Mock\n */\nclass MockInterceptor {\n  constructor (opts, mockDispatches) {\n    if (typeof opts !== 'object') {\n      throw new InvalidArgumentError('opts must be an object')\n    }\n    if (typeof opts.path === 'undefined') {\n      throw new InvalidArgumentError('opts.path must be defined')\n    }\n    if (typeof opts.method === 'undefined') {\n      opts.method = 'GET'\n    }\n    // See https://github.com/nodejs/undici/issues/1245\n    // As per RFC 3986, clients are not supposed to send URI\n    // fragments to servers when they retrieve a document,\n    if (typeof opts.path === 'string') {\n      if (opts.query) {\n        opts.path = buildURL(opts.path, opts.query)\n      } else {\n        // Matches https://github.com/nodejs/undici/blob/main/lib/fetch/index.js#L1811\n        const parsedURL = new URL(opts.path, 'data://')\n        opts.path = parsedURL.pathname + parsedURL.search\n      }\n    }\n    if (typeof opts.method === 'string') {\n      opts.method = opts.method.toUpperCase()\n    }\n\n    this[kDispatchKey] = buildKey(opts)\n    this[kDispatches] = mockDispatches\n    this[kDefaultHeaders] = {}\n    this[kDefaultTrailers] = {}\n    this[kContentLength] = false\n  }\n\n  createMockScopeDispatchData (statusCode, data, responseOptions = {}) {\n    const responseData = getResponseData(data)\n    const contentLength = this[kContentLength] ? { 'content-length': responseData.length } : {}\n    const headers = { ...this[kDefaultHeaders], ...contentLength, ...responseOptions.headers }\n    const trailers = { ...this[kDefaultTrailers], ...responseOptions.trailers }\n\n    return { statusCode, data, headers, trailers }\n  }\n\n  validateReplyParameters (statusCode, data, responseOptions) {\n    if (typeof statusCode === 'undefined') {\n      throw new InvalidArgumentError('statusCode must be defined')\n    }\n    if (typeof data === 'undefined') {\n      throw new InvalidArgumentError('data must be defined')\n    }\n    if (typeof responseOptions !== 'object') {\n      throw new InvalidArgumentError('responseOptions must be an object')\n    }\n  }\n\n  /**\n   * Mock an undici request with a defined reply.\n   */\n  reply (replyData) {\n    // Values of reply aren't available right now as they\n    // can only be available when the reply callback is invoked.\n    if (typeof replyData === 'function') {\n      // We'll first wrap the provided callback in another function,\n      // this function will properly resolve the data from the callback\n      // when invoked.\n      const wrappedDefaultsCallback = (opts) => {\n        // Our reply options callback contains the parameter for statusCode, data and options.\n        const resolvedData = replyData(opts)\n\n        // Check if it is in the right format\n        if (typeof resolvedData !== 'object') {\n          throw new InvalidArgumentError('reply options callback must return an object')\n        }\n\n        const { statusCode, data = '', responseOptions = {} } = resolvedData\n        this.validateReplyParameters(statusCode, data, responseOptions)\n        // Since the values can be obtained immediately we return them\n        // from this higher order function that will be resolved later.\n        return {\n          ...this.createMockScopeDispatchData(statusCode, data, responseOptions)\n        }\n      }\n\n      // Add usual dispatch data, but this time set the data parameter to function that will eventually provide data.\n      const newMockDispatch = addMockDispatch(this[kDispatches], this[kDispatchKey], wrappedDefaultsCallback)\n      return new MockScope(newMockDispatch)\n    }\n\n    // We can have either one or three parameters, if we get here,\n    // we should have 1-3 parameters. So we spread the arguments of\n    // this function to obtain the parameters, since replyData will always\n    // just be the statusCode.\n    const [statusCode, data = '', responseOptions = {}] = [...arguments]\n    this.validateReplyParameters(statusCode, data, responseOptions)\n\n    // Send in-already provided data like usual\n    const dispatchData = this.createMockScopeDispatchData(statusCode, data, responseOptions)\n    const newMockDispatch = addMockDispatch(this[kDispatches], this[kDispatchKey], dispatchData)\n    return new MockScope(newMockDispatch)\n  }\n\n  /**\n   * Mock an undici request with a defined error.\n   */\n  replyWithError (error) {\n    if (typeof error === 'undefined') {\n      throw new InvalidArgumentError('error must be defined')\n    }\n\n    const newMockDispatch = addMockDispatch(this[kDispatches], this[kDispatchKey], { error })\n    return new MockScope(newMockDispatch)\n  }\n\n  /**\n   * Set default reply headers on the interceptor for subsequent replies\n   */\n  defaultReplyHeaders (headers) {\n    if (typeof headers === 'undefined') {\n      throw new InvalidArgumentError('headers must be defined')\n    }\n\n    this[kDefaultHeaders] = headers\n    return this\n  }\n\n  /**\n   * Set default reply trailers on the interceptor for subsequent replies\n   */\n  defaultReplyTrailers (trailers) {\n    if (typeof trailers === 'undefined') {\n      throw new InvalidArgumentError('trailers must be defined')\n    }\n\n    this[kDefaultTrailers] = trailers\n    return this\n  }\n\n  /**\n   * Set reply content length header for replies on the interceptor\n   */\n  replyContentLength () {\n    this[kContentLength] = true\n    return this\n  }\n}\n\nmodule.exports.MockInterceptor = MockInterceptor\nmodule.exports.MockScope = MockScope\n", "'use strict'\n\nconst { promisify } = require('util')\nconst Client = require('../client')\nconst { buildMockDispatch } = require('./mock-utils')\nconst {\n  kDispatches,\n  kMockAgent,\n  kClose,\n  kOriginalClose,\n  kOrigin,\n  kOriginalDispatch,\n  kConnected\n} = require('./mock-symbols')\nconst { MockInterceptor } = require('./mock-interceptor')\nconst Symbols = require('../core/symbols')\nconst { InvalidArgumentError } = require('../core/errors')\n\n/**\n * MockClient provides an API that extends the Client to influence the mockDispatches.\n */\nclass MockClient extends Client {\n  constructor (origin, opts) {\n    super(origin, opts)\n\n    if (!opts || !opts.agent || typeof opts.agent.dispatch !== 'function') {\n      throw new InvalidArgumentError('Argument opts.agent must implement Agent')\n    }\n\n    this[kMockAgent] = opts.agent\n    this[kOrigin] = origin\n    this[kDispatches] = []\n    this[kConnected] = 1\n    this[kOriginalDispatch] = this.dispatch\n    this[kOriginalClose] = this.close.bind(this)\n\n    this.dispatch = buildMockDispatch.call(this)\n    this.close = this[kClose]\n  }\n\n  get [Symbols.kConnected] () {\n    return this[kConnected]\n  }\n\n  /**\n   * Sets up the base interceptor for mocking replies from undici.\n   */\n  intercept (opts) {\n    return new MockInterceptor(opts, this[kDispatches])\n  }\n\n  async [kClose] () {\n    await promisify(this[kOriginalClose])()\n    this[kConnected] = 0\n    this[kMockAgent][Symbols.kClients].delete(this[kOrigin])\n  }\n}\n\nmodule.exports = MockClient\n", "'use strict'\n\nconst { promisify } = require('util')\nconst Pool = require('../pool')\nconst { buildMockDispatch } = require('./mock-utils')\nconst {\n  kDispatches,\n  kMockAgent,\n  kClose,\n  kOriginalClose,\n  kOrigin,\n  kOriginalDispatch,\n  kConnected\n} = require('./mock-symbols')\nconst { MockInterceptor } = require('./mock-interceptor')\nconst Symbols = require('../core/symbols')\nconst { InvalidArgumentError } = require('../core/errors')\n\n/**\n * MockPool provides an API that extends the Pool to influence the mockDispatches.\n */\nclass MockPool extends Pool {\n  constructor (origin, opts) {\n    super(origin, opts)\n\n    if (!opts || !opts.agent || typeof opts.agent.dispatch !== 'function') {\n      throw new InvalidArgumentError('Argument opts.agent must implement Agent')\n    }\n\n    this[kMockAgent] = opts.agent\n    this[kOrigin] = origin\n    this[kDispatches] = []\n    this[kConnected] = 1\n    this[kOriginalDispatch] = this.dispatch\n    this[kOriginalClose] = this.close.bind(this)\n\n    this.dispatch = buildMockDispatch.call(this)\n    this.close = this[kClose]\n  }\n\n  get [Symbols.kConnected] () {\n    return this[kConnected]\n  }\n\n  /**\n   * Sets up the base interceptor for mocking replies from undici.\n   */\n  intercept (opts) {\n    return new MockInterceptor(opts, this[kDispatches])\n  }\n\n  async [kClose] () {\n    await promisify(this[kOriginalClose])()\n    this[kConnected] = 0\n    this[kMockAgent][Symbols.kClients].delete(this[kOrigin])\n  }\n}\n\nmodule.exports = MockPool\n", "'use strict'\n\nconst singulars = {\n  pronoun: 'it',\n  is: 'is',\n  was: 'was',\n  this: 'this'\n}\n\nconst plurals = {\n  pronoun: 'they',\n  is: 'are',\n  was: 'were',\n  this: 'these'\n}\n\nmodule.exports = class Pluralizer {\n  constructor (singular, plural) {\n    this.singular = singular\n    this.plural = plural\n  }\n\n  pluralize (count) {\n    const one = count === 1\n    const keys = one ? singulars : plurals\n    const noun = one ? this.singular : this.plural\n    return { ...keys, count, noun }\n  }\n}\n", "'use strict'\n\nconst { Transform } = require('stream')\nconst { Console } = require('console')\n\n/**\n * Gets the output of `console.table(\u2026)` as a string.\n */\nmodule.exports = class PendingInterceptorsFormatter {\n  constructor ({ disableColors } = {}) {\n    this.transform = new Transform({\n      transform (chunk, _enc, cb) {\n        cb(null, chunk)\n      }\n    })\n\n    this.logger = new Console({\n      stdout: this.transform,\n      inspectOptions: {\n        colors: !disableColors && !process.env.CI\n      }\n    })\n  }\n\n  format (pendingInterceptors) {\n    const withPrettyHeaders = pendingInterceptors.map(\n      ({ method, path, data: { statusCode }, persist, times, timesInvoked, origin }) => ({\n        Method: method,\n        Origin: origin,\n        Path: path,\n        'Status code': statusCode,\n        Persistent: persist ? '\u2705' : '\u274C',\n        Invocations: timesInvoked,\n        Remaining: persist ? Infinity : times - timesInvoked\n      }))\n\n    this.logger.table(withPrettyHeaders)\n    return this.transform.read().toString()\n  }\n}\n", "'use strict'\n\nconst { kClients } = require('../core/symbols')\nconst Agent = require('../agent')\nconst {\n  kAgent,\n  kMockAgentSet,\n  kMockAgentGet,\n  kDispatches,\n  kIsMockActive,\n  kNetConnect,\n  kGetNetConnect,\n  kOptions,\n  kFactory\n} = require('./mock-symbols')\nconst MockClient = require('./mock-client')\nconst MockPool = require('./mock-pool')\nconst { matchValue, buildMockOptions } = require('./mock-utils')\nconst { InvalidArgumentError, UndiciError } = require('../core/errors')\nconst Dispatcher = require('../dispatcher')\nconst Pluralizer = require('./pluralizer')\nconst PendingInterceptorsFormatter = require('./pending-interceptors-formatter')\n\nclass FakeWeakRef {\n  constructor (value) {\n    this.value = value\n  }\n\n  deref () {\n    return this.value\n  }\n}\n\nclass MockAgent extends Dispatcher {\n  constructor (opts) {\n    super(opts)\n\n    this[kNetConnect] = true\n    this[kIsMockActive] = true\n\n    // Instantiate Agent and encapsulate\n    if ((opts && opts.agent && typeof opts.agent.dispatch !== 'function')) {\n      throw new InvalidArgumentError('Argument opts.agent must implement Agent')\n    }\n    const agent = opts && opts.agent ? opts.agent : new Agent(opts)\n    this[kAgent] = agent\n\n    this[kClients] = agent[kClients]\n    this[kOptions] = buildMockOptions(opts)\n  }\n\n  get (origin) {\n    let dispatcher = this[kMockAgentGet](origin)\n\n    if (!dispatcher) {\n      dispatcher = this[kFactory](origin)\n      this[kMockAgentSet](origin, dispatcher)\n    }\n    return dispatcher\n  }\n\n  dispatch (opts, handler) {\n    // Call MockAgent.get to perform additional setup before dispatching as normal\n    this.get(opts.origin)\n    return this[kAgent].dispatch(opts, handler)\n  }\n\n  async close () {\n    await this[kAgent].close()\n    this[kClients].clear()\n  }\n\n  deactivate () {\n    this[kIsMockActive] = false\n  }\n\n  activate () {\n    this[kIsMockActive] = true\n  }\n\n  enableNetConnect (matcher) {\n    if (typeof matcher === 'string' || typeof matcher === 'function' || matcher instanceof RegExp) {\n      if (Array.isArray(this[kNetConnect])) {\n        this[kNetConnect].push(matcher)\n      } else {\n        this[kNetConnect] = [matcher]\n      }\n    } else if (typeof matcher === 'undefined') {\n      this[kNetConnect] = true\n    } else {\n      throw new InvalidArgumentError('Unsupported matcher. Must be one of String|Function|RegExp.')\n    }\n  }\n\n  disableNetConnect () {\n    this[kNetConnect] = false\n  }\n\n  // This is required to bypass issues caused by using global symbols - see:\n  // https://github.com/nodejs/undici/issues/1447\n  get isMockActive () {\n    return this[kIsMockActive]\n  }\n\n  [kMockAgentSet] (origin, dispatcher) {\n    this[kClients].set(origin, new FakeWeakRef(dispatcher))\n  }\n\n  [kFactory] (origin) {\n    const mockOptions = Object.assign({ agent: this }, this[kOptions])\n    return this[kOptions] && this[kOptions].connections === 1\n      ? new MockClient(origin, mockOptions)\n      : new MockPool(origin, mockOptions)\n  }\n\n  [kMockAgentGet] (origin) {\n    // First check if we can immediately find it\n    const ref = this[kClients].get(origin)\n    if (ref) {\n      return ref.deref()\n    }\n\n    // If the origin is not a string create a dummy parent pool and return to user\n    if (typeof origin !== 'string') {\n      const dispatcher = this[kFactory]('http://localhost:9999')\n      this[kMockAgentSet](origin, dispatcher)\n      return dispatcher\n    }\n\n    // If we match, create a pool and assign the same dispatches\n    for (const [keyMatcher, nonExplicitRef] of Array.from(this[kClients])) {\n      const nonExplicitDispatcher = nonExplicitRef.deref()\n      if (nonExplicitDispatcher && typeof keyMatcher !== 'string' && matchValue(keyMatcher, origin)) {\n        const dispatcher = this[kFactory](origin)\n        this[kMockAgentSet](origin, dispatcher)\n        dispatcher[kDispatches] = nonExplicitDispatcher[kDispatches]\n        return dispatcher\n      }\n    }\n  }\n\n  [kGetNetConnect] () {\n    return this[kNetConnect]\n  }\n\n  pendingInterceptors () {\n    const mockAgentClients = this[kClients]\n\n    return Array.from(mockAgentClients.entries())\n      .flatMap(([origin, scope]) => scope.deref()[kDispatches].map(dispatch => ({ ...dispatch, origin })))\n      .filter(({ pending }) => pending)\n  }\n\n  assertNoPendingInterceptors ({ pendingInterceptorsFormatter = new PendingInterceptorsFormatter() } = {}) {\n    const pending = this.pendingInterceptors()\n\n    if (pending.length === 0) {\n      return\n    }\n\n    const pluralizer = new Pluralizer('interceptor', 'interceptors').pluralize(pending.length)\n\n    throw new UndiciError(`\n${pluralizer.count} ${pluralizer.noun} ${pluralizer.is} pending:\n\n${pendingInterceptorsFormatter.format(pending)}\n`.trim())\n  }\n}\n\nmodule.exports = MockAgent\n", "'use strict'\n\nconst { kProxy, kClose, kDestroy, kInterceptors } = require('./core/symbols')\nconst { URL } = require('url')\nconst Agent = require('./agent')\nconst Pool = require('./pool')\nconst DispatcherBase = require('./dispatcher-base')\nconst { InvalidArgumentError, RequestAbortedError } = require('./core/errors')\nconst buildConnector = require('./core/connect')\n\nconst kAgent = Symbol('proxy agent')\nconst kClient = Symbol('proxy client')\nconst kProxyHeaders = Symbol('proxy headers')\nconst kRequestTls = Symbol('request tls settings')\nconst kProxyTls = Symbol('proxy tls settings')\nconst kConnectEndpoint = Symbol('connect endpoint function')\n\nfunction defaultProtocolPort (protocol) {\n  return protocol === 'https:' ? 443 : 80\n}\n\nfunction buildProxyOptions (opts) {\n  if (typeof opts === 'string') {\n    opts = { uri: opts }\n  }\n\n  if (!opts || !opts.uri) {\n    throw new InvalidArgumentError('Proxy opts.uri is mandatory')\n  }\n\n  return {\n    uri: opts.uri,\n    protocol: opts.protocol || 'https'\n  }\n}\n\nfunction defaultFactory (origin, opts) {\n  return new Pool(origin, opts)\n}\n\nclass ProxyAgent extends DispatcherBase {\n  constructor (opts) {\n    super(opts)\n    this[kProxy] = buildProxyOptions(opts)\n    this[kAgent] = new Agent(opts)\n    this[kInterceptors] = opts.interceptors && opts.interceptors.ProxyAgent && Array.isArray(opts.interceptors.ProxyAgent)\n      ? opts.interceptors.ProxyAgent\n      : []\n\n    if (typeof opts === 'string') {\n      opts = { uri: opts }\n    }\n\n    if (!opts || !opts.uri) {\n      throw new InvalidArgumentError('Proxy opts.uri is mandatory')\n    }\n\n    const { clientFactory = defaultFactory } = opts\n\n    if (typeof clientFactory !== 'function') {\n      throw new InvalidArgumentError('Proxy opts.clientFactory must be a function.')\n    }\n\n    this[kRequestTls] = opts.requestTls\n    this[kProxyTls] = opts.proxyTls\n    this[kProxyHeaders] = opts.headers || {}\n\n    const resolvedUrl = new URL(opts.uri)\n    const { origin, port, host, username, password } = resolvedUrl\n\n    if (opts.auth && opts.token) {\n      throw new InvalidArgumentError('opts.auth cannot be used in combination with opts.token')\n    } else if (opts.auth) {\n      /* @deprecated in favour of opts.token */\n      this[kProxyHeaders]['proxy-authorization'] = `Basic ${opts.auth}`\n    } else if (opts.token) {\n      this[kProxyHeaders]['proxy-authorization'] = opts.token\n    } else if (username && password) {\n      this[kProxyHeaders]['proxy-authorization'] = `Basic ${Buffer.from(`${decodeURIComponent(username)}:${decodeURIComponent(password)}`).toString('base64')}`\n    }\n\n    const connect = buildConnector({ ...opts.proxyTls })\n    this[kConnectEndpoint] = buildConnector({ ...opts.requestTls })\n    this[kClient] = clientFactory(resolvedUrl, { connect })\n    this[kAgent] = new Agent({\n      ...opts,\n      connect: async (opts, callback) => {\n        let requestedHost = opts.host\n        if (!opts.port) {\n          requestedHost += `:${defaultProtocolPort(opts.protocol)}`\n        }\n        try {\n          const { socket, statusCode } = await this[kClient].connect({\n            origin,\n            port,\n            path: requestedHost,\n            signal: opts.signal,\n            headers: {\n              ...this[kProxyHeaders],\n              host\n            }\n          })\n          if (statusCode !== 200) {\n            socket.on('error', () => {}).destroy()\n            callback(new RequestAbortedError(`Proxy response (${statusCode}) !== 200 when HTTP Tunneling`))\n          }\n          if (opts.protocol !== 'https:') {\n            callback(null, socket)\n            return\n          }\n          let servername\n          if (this[kRequestTls]) {\n            servername = this[kRequestTls].servername\n          } else {\n            servername = opts.servername\n          }\n          this[kConnectEndpoint]({ ...opts, servername, httpSocket: socket }, callback)\n        } catch (err) {\n          callback(err)\n        }\n      }\n    })\n  }\n\n  dispatch (opts, handler) {\n    const { host } = new URL(opts.origin)\n    const headers = buildHeaders(opts.headers)\n    throwIfProxyAuthIsSent(headers)\n    return this[kAgent].dispatch(\n      {\n        ...opts,\n        headers: {\n          ...headers,\n          host\n        }\n      },\n      handler\n    )\n  }\n\n  async [kClose] () {\n    await this[kAgent].close()\n    await this[kClient].close()\n  }\n\n  async [kDestroy] () {\n    await this[kAgent].destroy()\n    await this[kClient].destroy()\n  }\n}\n\n/**\n * @param {string[] | Record<string, string>} headers\n * @returns {Record<string, string>}\n */\nfunction buildHeaders (headers) {\n  // When using undici.fetch, the headers list is stored\n  // as an array.\n  if (Array.isArray(headers)) {\n    /** @type {Record<string, string>} */\n    const headersPair = {}\n\n    for (let i = 0; i < headers.length; i += 2) {\n      headersPair[headers[i]] = headers[i + 1]\n    }\n\n    return headersPair\n  }\n\n  return headers\n}\n\n/**\n * @param {Record<string, string>} headers\n *\n * Previous versions of ProxyAgent suggests the Proxy-Authorization in request headers\n * Nevertheless, it was changed and to avoid a security vulnerability by end users\n * this check was created.\n * It should be removed in the next major version for performance reasons\n */\nfunction throwIfProxyAuthIsSent (headers) {\n  const existProxyAuth = headers && Object.keys(headers)\n    .find((key) => key.toLowerCase() === 'proxy-authorization')\n  if (existProxyAuth) {\n    throw new InvalidArgumentError('Proxy-Authorization should be sent in ProxyAgent constructor')\n  }\n}\n\nmodule.exports = ProxyAgent\n", "const assert = require('assert')\n\nconst { kRetryHandlerDefaultRetry } = require('../core/symbols')\nconst { RequestRetryError } = require('../core/errors')\nconst { isDisturbed, parseHeaders, parseRangeHeader } = require('../core/util')\n\nfunction calculateRetryAfterHeader (retryAfter) {\n  const current = Date.now()\n  const diff = new Date(retryAfter).getTime() - current\n\n  return diff\n}\n\nclass RetryHandler {\n  constructor (opts, handlers) {\n    const { retryOptions, ...dispatchOpts } = opts\n    const {\n      // Retry scoped\n      retry: retryFn,\n      maxRetries,\n      maxTimeout,\n      minTimeout,\n      timeoutFactor,\n      // Response scoped\n      methods,\n      errorCodes,\n      retryAfter,\n      statusCodes\n    } = retryOptions ?? {}\n\n    this.dispatch = handlers.dispatch\n    this.handler = handlers.handler\n    this.opts = dispatchOpts\n    this.abort = null\n    this.aborted = false\n    this.retryOpts = {\n      retry: retryFn ?? RetryHandler[kRetryHandlerDefaultRetry],\n      retryAfter: retryAfter ?? true,\n      maxTimeout: maxTimeout ?? 30 * 1000, // 30s,\n      timeout: minTimeout ?? 500, // .5s\n      timeoutFactor: timeoutFactor ?? 2,\n      maxRetries: maxRetries ?? 5,\n      // What errors we should retry\n      methods: methods ?? ['GET', 'HEAD', 'OPTIONS', 'PUT', 'DELETE', 'TRACE'],\n      // Indicates which errors to retry\n      statusCodes: statusCodes ?? [500, 502, 503, 504, 429],\n      // List of errors to retry\n      errorCodes: errorCodes ?? [\n        'ECONNRESET',\n        'ECONNREFUSED',\n        'ENOTFOUND',\n        'ENETDOWN',\n        'ENETUNREACH',\n        'EHOSTDOWN',\n        'EHOSTUNREACH',\n        'EPIPE'\n      ]\n    }\n\n    this.retryCount = 0\n    this.start = 0\n    this.end = null\n    this.etag = null\n    this.resume = null\n\n    // Handle possible onConnect duplication\n    this.handler.onConnect(reason => {\n      this.aborted = true\n      if (this.abort) {\n        this.abort(reason)\n      } else {\n        this.reason = reason\n      }\n    })\n  }\n\n  onRequestSent () {\n    if (this.handler.onRequestSent) {\n      this.handler.onRequestSent()\n    }\n  }\n\n  onUpgrade (statusCode, headers, socket) {\n    if (this.handler.onUpgrade) {\n      this.handler.onUpgrade(statusCode, headers, socket)\n    }\n  }\n\n  onConnect (abort) {\n    if (this.aborted) {\n      abort(this.reason)\n    } else {\n      this.abort = abort\n    }\n  }\n\n  onBodySent (chunk) {\n    if (this.handler.onBodySent) return this.handler.onBodySent(chunk)\n  }\n\n  static [kRetryHandlerDefaultRetry] (err, { state, opts }, cb) {\n    const { statusCode, code, headers } = err\n    const { method, retryOptions } = opts\n    const {\n      maxRetries,\n      timeout,\n      maxTimeout,\n      timeoutFactor,\n      statusCodes,\n      errorCodes,\n      methods\n    } = retryOptions\n    let { counter, currentTimeout } = state\n\n    currentTimeout =\n      currentTimeout != null && currentTimeout > 0 ? currentTimeout : timeout\n\n    // Any code that is not a Undici's originated and allowed to retry\n    if (\n      code &&\n      code !== 'UND_ERR_REQ_RETRY' &&\n      code !== 'UND_ERR_SOCKET' &&\n      !errorCodes.includes(code)\n    ) {\n      cb(err)\n      return\n    }\n\n    // If a set of method are provided and the current method is not in the list\n    if (Array.isArray(methods) && !methods.includes(method)) {\n      cb(err)\n      return\n    }\n\n    // If a set of status code are provided and the current status code is not in the list\n    if (\n      statusCode != null &&\n      Array.isArray(statusCodes) &&\n      !statusCodes.includes(statusCode)\n    ) {\n      cb(err)\n      return\n    }\n\n    // If we reached the max number of retries\n    if (counter > maxRetries) {\n      cb(err)\n      return\n    }\n\n    let retryAfterHeader = headers != null && headers['retry-after']\n    if (retryAfterHeader) {\n      retryAfterHeader = Number(retryAfterHeader)\n      retryAfterHeader = isNaN(retryAfterHeader)\n        ? calculateRetryAfterHeader(retryAfterHeader)\n        : retryAfterHeader * 1e3 // Retry-After is in seconds\n    }\n\n    const retryTimeout =\n      retryAfterHeader > 0\n        ? Math.min(retryAfterHeader, maxTimeout)\n        : Math.min(currentTimeout * timeoutFactor ** counter, maxTimeout)\n\n    state.currentTimeout = retryTimeout\n\n    setTimeout(() => cb(null), retryTimeout)\n  }\n\n  onHeaders (statusCode, rawHeaders, resume, statusMessage) {\n    const headers = parseHeaders(rawHeaders)\n\n    this.retryCount += 1\n\n    if (statusCode >= 300) {\n      this.abort(\n        new RequestRetryError('Request failed', statusCode, {\n          headers,\n          count: this.retryCount\n        })\n      )\n      return false\n    }\n\n    // Checkpoint for resume from where we left it\n    if (this.resume != null) {\n      this.resume = null\n\n      if (statusCode !== 206) {\n        return true\n      }\n\n      const contentRange = parseRangeHeader(headers['content-range'])\n      // If no content range\n      if (!contentRange) {\n        this.abort(\n          new RequestRetryError('Content-Range mismatch', statusCode, {\n            headers,\n            count: this.retryCount\n          })\n        )\n        return false\n      }\n\n      // Let's start with a weak etag check\n      if (this.etag != null && this.etag !== headers.etag) {\n        this.abort(\n          new RequestRetryError('ETag mismatch', statusCode, {\n            headers,\n            count: this.retryCount\n          })\n        )\n        return false\n      }\n\n      const { start, size, end = size } = contentRange\n\n      assert(this.start === start, 'content-range mismatch')\n      assert(this.end == null || this.end === end, 'content-range mismatch')\n\n      this.resume = resume\n      return true\n    }\n\n    if (this.end == null) {\n      if (statusCode === 206) {\n        // First time we receive 206\n        const range = parseRangeHeader(headers['content-range'])\n\n        if (range == null) {\n          return this.handler.onHeaders(\n            statusCode,\n            rawHeaders,\n            resume,\n            statusMessage\n          )\n        }\n\n        const { start, size, end = size } = range\n\n        assert(\n          start != null && Number.isFinite(start) && this.start !== start,\n          'content-range mismatch'\n        )\n        assert(Number.isFinite(start))\n        assert(\n          end != null && Number.isFinite(end) && this.end !== end,\n          'invalid content-length'\n        )\n\n        this.start = start\n        this.end = end\n      }\n\n      // We make our best to checkpoint the body for further range headers\n      if (this.end == null) {\n        const contentLength = headers['content-length']\n        this.end = contentLength != null ? Number(contentLength) : null\n      }\n\n      assert(Number.isFinite(this.start))\n      assert(\n        this.end == null || Number.isFinite(this.end),\n        'invalid content-length'\n      )\n\n      this.resume = resume\n      this.etag = headers.etag != null ? headers.etag : null\n\n      return this.handler.onHeaders(\n        statusCode,\n        rawHeaders,\n        resume,\n        statusMessage\n      )\n    }\n\n    const err = new RequestRetryError('Request failed', statusCode, {\n      headers,\n      count: this.retryCount\n    })\n\n    this.abort(err)\n\n    return false\n  }\n\n  onData (chunk) {\n    this.start += chunk.length\n\n    return this.handler.onData(chunk)\n  }\n\n  onComplete (rawTrailers) {\n    this.retryCount = 0\n    return this.handler.onComplete(rawTrailers)\n  }\n\n  onError (err) {\n    if (this.aborted || isDisturbed(this.opts.body)) {\n      return this.handler.onError(err)\n    }\n\n    this.retryOpts.retry(\n      err,\n      {\n        state: { counter: this.retryCount++, currentTimeout: this.retryAfter },\n        opts: { retryOptions: this.retryOpts, ...this.opts }\n      },\n      onRetry.bind(this)\n    )\n\n    function onRetry (err) {\n      if (err != null || this.aborted || isDisturbed(this.opts.body)) {\n        return this.handler.onError(err)\n      }\n\n      if (this.start !== 0) {\n        this.opts = {\n          ...this.opts,\n          headers: {\n            ...this.opts.headers,\n            range: `bytes=${this.start}-${this.end ?? ''}`\n          }\n        }\n      }\n\n      try {\n        this.dispatch(this.opts, this)\n      } catch (err) {\n        this.handler.onError(err)\n      }\n    }\n  }\n}\n\nmodule.exports = RetryHandler\n", "'use strict'\n\n// We include a version number for the Dispatcher API. In case of breaking changes,\n// this version number must be increased to avoid conflicts.\nconst globalDispatcher = Symbol.for('undici.globalDispatcher.1')\nconst { InvalidArgumentError } = require('./core/errors')\nconst Agent = require('./agent')\n\nif (getGlobalDispatcher() === undefined) {\n  setGlobalDispatcher(new Agent())\n}\n\nfunction setGlobalDispatcher (agent) {\n  if (!agent || typeof agent.dispatch !== 'function') {\n    throw new InvalidArgumentError('Argument agent must implement Agent')\n  }\n  Object.defineProperty(globalThis, globalDispatcher, {\n    value: agent,\n    writable: true,\n    enumerable: false,\n    configurable: false\n  })\n}\n\nfunction getGlobalDispatcher () {\n  return globalThis[globalDispatcher]\n}\n\nmodule.exports = {\n  setGlobalDispatcher,\n  getGlobalDispatcher\n}\n", "'use strict'\n\nmodule.exports = class DecoratorHandler {\n  constructor (handler) {\n    this.handler = handler\n  }\n\n  onConnect (...args) {\n    return this.handler.onConnect(...args)\n  }\n\n  onError (...args) {\n    return this.handler.onError(...args)\n  }\n\n  onUpgrade (...args) {\n    return this.handler.onUpgrade(...args)\n  }\n\n  onHeaders (...args) {\n    return this.handler.onHeaders(...args)\n  }\n\n  onData (...args) {\n    return this.handler.onData(...args)\n  }\n\n  onComplete (...args) {\n    return this.handler.onComplete(...args)\n  }\n\n  onBodySent (...args) {\n    return this.handler.onBodySent(...args)\n  }\n}\n", "// https://github.com/Ethan-Arrowood/undici-fetch\n\n'use strict'\n\nconst { kHeadersList, kConstruct } = require('../core/symbols')\nconst { kGuard } = require('./symbols')\nconst { kEnumerableProperty } = require('../core/util')\nconst {\n  makeIterator,\n  isValidHeaderName,\n  isValidHeaderValue\n} = require('./util')\nconst util = require('util')\nconst { webidl } = require('./webidl')\nconst assert = require('assert')\n\nconst kHeadersMap = Symbol('headers map')\nconst kHeadersSortedMap = Symbol('headers map sorted')\n\n/**\n * @param {number} code\n */\nfunction isHTTPWhiteSpaceCharCode (code) {\n  return code === 0x00a || code === 0x00d || code === 0x009 || code === 0x020\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-header-value-normalize\n * @param {string} potentialValue\n */\nfunction headerValueNormalize (potentialValue) {\n  //  To normalize a byte sequence potentialValue, remove\n  //  any leading and trailing HTTP whitespace bytes from\n  //  potentialValue.\n  let i = 0; let j = potentialValue.length\n\n  while (j > i && isHTTPWhiteSpaceCharCode(potentialValue.charCodeAt(j - 1))) --j\n  while (j > i && isHTTPWhiteSpaceCharCode(potentialValue.charCodeAt(i))) ++i\n\n  return i === 0 && j === potentialValue.length ? potentialValue : potentialValue.substring(i, j)\n}\n\nfunction fill (headers, object) {\n  // To fill a Headers object headers with a given object object, run these steps:\n\n  // 1. If object is a sequence, then for each header in object:\n  // Note: webidl conversion to array has already been done.\n  if (Array.isArray(object)) {\n    for (let i = 0; i < object.length; ++i) {\n      const header = object[i]\n      // 1. If header does not contain exactly two items, then throw a TypeError.\n      if (header.length !== 2) {\n        throw webidl.errors.exception({\n          header: 'Headers constructor',\n          message: `expected name/value pair to be length 2, found ${header.length}.`\n        })\n      }\n\n      // 2. Append (header\u2019s first item, header\u2019s second item) to headers.\n      appendHeader(headers, header[0], header[1])\n    }\n  } else if (typeof object === 'object' && object !== null) {\n    // Note: null should throw\n\n    // 2. Otherwise, object is a record, then for each key \u2192 value in object,\n    //    append (key, value) to headers\n    const keys = Object.keys(object)\n    for (let i = 0; i < keys.length; ++i) {\n      appendHeader(headers, keys[i], object[keys[i]])\n    }\n  } else {\n    throw webidl.errors.conversionFailed({\n      prefix: 'Headers constructor',\n      argument: 'Argument 1',\n      types: ['sequence<sequence<ByteString>>', 'record<ByteString, ByteString>']\n    })\n  }\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-headers-append\n */\nfunction appendHeader (headers, name, value) {\n  // 1. Normalize value.\n  value = headerValueNormalize(value)\n\n  // 2. If name is not a header name or value is not a\n  //    header value, then throw a TypeError.\n  if (!isValidHeaderName(name)) {\n    throw webidl.errors.invalidArgument({\n      prefix: 'Headers.append',\n      value: name,\n      type: 'header name'\n    })\n  } else if (!isValidHeaderValue(value)) {\n    throw webidl.errors.invalidArgument({\n      prefix: 'Headers.append',\n      value,\n      type: 'header value'\n    })\n  }\n\n  // 3. If headers\u2019s guard is \"immutable\", then throw a TypeError.\n  // 4. Otherwise, if headers\u2019s guard is \"request\" and name is a\n  //    forbidden header name, return.\n  // Note: undici does not implement forbidden header names\n  if (headers[kGuard] === 'immutable') {\n    throw new TypeError('immutable')\n  } else if (headers[kGuard] === 'request-no-cors') {\n    // 5. Otherwise, if headers\u2019s guard is \"request-no-cors\":\n    // TODO\n  }\n\n  // 6. Otherwise, if headers\u2019s guard is \"response\" and name is a\n  //    forbidden response-header name, return.\n\n  // 7. Append (name, value) to headers\u2019s header list.\n  return headers[kHeadersList].append(name, value)\n\n  // 8. If headers\u2019s guard is \"request-no-cors\", then remove\n  //    privileged no-CORS request headers from headers\n}\n\nclass HeadersList {\n  /** @type {[string, string][]|null} */\n  cookies = null\n\n  constructor (init) {\n    if (init instanceof HeadersList) {\n      this[kHeadersMap] = new Map(init[kHeadersMap])\n      this[kHeadersSortedMap] = init[kHeadersSortedMap]\n      this.cookies = init.cookies === null ? null : [...init.cookies]\n    } else {\n      this[kHeadersMap] = new Map(init)\n      this[kHeadersSortedMap] = null\n    }\n  }\n\n  // https://fetch.spec.whatwg.org/#header-list-contains\n  contains (name) {\n    // A header list list contains a header name name if list\n    // contains a header whose name is a byte-case-insensitive\n    // match for name.\n    name = name.toLowerCase()\n\n    return this[kHeadersMap].has(name)\n  }\n\n  clear () {\n    this[kHeadersMap].clear()\n    this[kHeadersSortedMap] = null\n    this.cookies = null\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-append\n  append (name, value) {\n    this[kHeadersSortedMap] = null\n\n    // 1. If list contains name, then set name to the first such\n    //    header\u2019s name.\n    const lowercaseName = name.toLowerCase()\n    const exists = this[kHeadersMap].get(lowercaseName)\n\n    // 2. Append (name, value) to list.\n    if (exists) {\n      const delimiter = lowercaseName === 'cookie' ? '; ' : ', '\n      this[kHeadersMap].set(lowercaseName, {\n        name: exists.name,\n        value: `${exists.value}${delimiter}${value}`\n      })\n    } else {\n      this[kHeadersMap].set(lowercaseName, { name, value })\n    }\n\n    if (lowercaseName === 'set-cookie') {\n      this.cookies ??= []\n      this.cookies.push(value)\n    }\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-set\n  set (name, value) {\n    this[kHeadersSortedMap] = null\n    const lowercaseName = name.toLowerCase()\n\n    if (lowercaseName === 'set-cookie') {\n      this.cookies = [value]\n    }\n\n    // 1. If list contains name, then set the value of\n    //    the first such header to value and remove the\n    //    others.\n    // 2. Otherwise, append header (name, value) to list.\n    this[kHeadersMap].set(lowercaseName, { name, value })\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-delete\n  delete (name) {\n    this[kHeadersSortedMap] = null\n\n    name = name.toLowerCase()\n\n    if (name === 'set-cookie') {\n      this.cookies = null\n    }\n\n    this[kHeadersMap].delete(name)\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-get\n  get (name) {\n    const value = this[kHeadersMap].get(name.toLowerCase())\n\n    // 1. If list does not contain name, then return null.\n    // 2. Return the values of all headers in list whose name\n    //    is a byte-case-insensitive match for name,\n    //    separated from each other by 0x2C 0x20, in order.\n    return value === undefined ? null : value.value\n  }\n\n  * [Symbol.iterator] () {\n    // use the lowercased name\n    for (const [name, { value }] of this[kHeadersMap]) {\n      yield [name, value]\n    }\n  }\n\n  get entries () {\n    const headers = {}\n\n    if (this[kHeadersMap].size) {\n      for (const { name, value } of this[kHeadersMap].values()) {\n        headers[name] = value\n      }\n    }\n\n    return headers\n  }\n}\n\n// https://fetch.spec.whatwg.org/#headers-class\nclass Headers {\n  constructor (init = undefined) {\n    if (init === kConstruct) {\n      return\n    }\n    this[kHeadersList] = new HeadersList()\n\n    // The new Headers(init) constructor steps are:\n\n    // 1. Set this\u2019s guard to \"none\".\n    this[kGuard] = 'none'\n\n    // 2. If init is given, then fill this with init.\n    if (init !== undefined) {\n      init = webidl.converters.HeadersInit(init)\n      fill(this, init)\n    }\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-append\n  append (name, value) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 2, { header: 'Headers.append' })\n\n    name = webidl.converters.ByteString(name)\n    value = webidl.converters.ByteString(value)\n\n    return appendHeader(this, name, value)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-delete\n  delete (name) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Headers.delete' })\n\n    name = webidl.converters.ByteString(name)\n\n    // 1. If name is not a header name, then throw a TypeError.\n    if (!isValidHeaderName(name)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.delete',\n        value: name,\n        type: 'header name'\n      })\n    }\n\n    // 2. If this\u2019s guard is \"immutable\", then throw a TypeError.\n    // 3. Otherwise, if this\u2019s guard is \"request\" and name is a\n    //    forbidden header name, return.\n    // 4. Otherwise, if this\u2019s guard is \"request-no-cors\", name\n    //    is not a no-CORS-safelisted request-header name, and\n    //    name is not a privileged no-CORS request-header name,\n    //    return.\n    // 5. Otherwise, if this\u2019s guard is \"response\" and name is\n    //    a forbidden response-header name, return.\n    // Note: undici does not implement forbidden header names\n    if (this[kGuard] === 'immutable') {\n      throw new TypeError('immutable')\n    } else if (this[kGuard] === 'request-no-cors') {\n      // TODO\n    }\n\n    // 6. If this\u2019s header list does not contain name, then\n    //    return.\n    if (!this[kHeadersList].contains(name)) {\n      return\n    }\n\n    // 7. Delete name from this\u2019s header list.\n    // 8. If this\u2019s guard is \"request-no-cors\", then remove\n    //    privileged no-CORS request headers from this.\n    this[kHeadersList].delete(name)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-get\n  get (name) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Headers.get' })\n\n    name = webidl.converters.ByteString(name)\n\n    // 1. If name is not a header name, then throw a TypeError.\n    if (!isValidHeaderName(name)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.get',\n        value: name,\n        type: 'header name'\n      })\n    }\n\n    // 2. Return the result of getting name from this\u2019s header\n    //    list.\n    return this[kHeadersList].get(name)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-has\n  has (name) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Headers.has' })\n\n    name = webidl.converters.ByteString(name)\n\n    // 1. If name is not a header name, then throw a TypeError.\n    if (!isValidHeaderName(name)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.has',\n        value: name,\n        type: 'header name'\n      })\n    }\n\n    // 2. Return true if this\u2019s header list contains name;\n    //    otherwise false.\n    return this[kHeadersList].contains(name)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-set\n  set (name, value) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 2, { header: 'Headers.set' })\n\n    name = webidl.converters.ByteString(name)\n    value = webidl.converters.ByteString(value)\n\n    // 1. Normalize value.\n    value = headerValueNormalize(value)\n\n    // 2. If name is not a header name or value is not a\n    //    header value, then throw a TypeError.\n    if (!isValidHeaderName(name)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.set',\n        value: name,\n        type: 'header name'\n      })\n    } else if (!isValidHeaderValue(value)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.set',\n        value,\n        type: 'header value'\n      })\n    }\n\n    // 3. If this\u2019s guard is \"immutable\", then throw a TypeError.\n    // 4. Otherwise, if this\u2019s guard is \"request\" and name is a\n    //    forbidden header name, return.\n    // 5. Otherwise, if this\u2019s guard is \"request-no-cors\" and\n    //    name/value is not a no-CORS-safelisted request-header,\n    //    return.\n    // 6. Otherwise, if this\u2019s guard is \"response\" and name is a\n    //    forbidden response-header name, return.\n    // Note: undici does not implement forbidden header names\n    if (this[kGuard] === 'immutable') {\n      throw new TypeError('immutable')\n    } else if (this[kGuard] === 'request-no-cors') {\n      // TODO\n    }\n\n    // 7. Set (name, value) in this\u2019s header list.\n    // 8. If this\u2019s guard is \"request-no-cors\", then remove\n    //    privileged no-CORS request headers from this\n    this[kHeadersList].set(name, value)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-getsetcookie\n  getSetCookie () {\n    webidl.brandCheck(this, Headers)\n\n    // 1. If this\u2019s header list does not contain `Set-Cookie`, then return \u00AB \u00BB.\n    // 2. Return the values of all headers in this\u2019s header list whose name is\n    //    a byte-case-insensitive match for `Set-Cookie`, in order.\n\n    const list = this[kHeadersList].cookies\n\n    if (list) {\n      return [...list]\n    }\n\n    return []\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-sort-and-combine\n  get [kHeadersSortedMap] () {\n    if (this[kHeadersList][kHeadersSortedMap]) {\n      return this[kHeadersList][kHeadersSortedMap]\n    }\n\n    // 1. Let headers be an empty list of headers with the key being the name\n    //    and value the value.\n    const headers = []\n\n    // 2. Let names be the result of convert header names to a sorted-lowercase\n    //    set with all the names of the headers in list.\n    const names = [...this[kHeadersList]].sort((a, b) => a[0] < b[0] ? -1 : 1)\n    const cookies = this[kHeadersList].cookies\n\n    // 3. For each name of names:\n    for (let i = 0; i < names.length; ++i) {\n      const [name, value] = names[i]\n      // 1. If name is `set-cookie`, then:\n      if (name === 'set-cookie') {\n        // 1. Let values be a list of all values of headers in list whose name\n        //    is a byte-case-insensitive match for name, in order.\n\n        // 2. For each value of values:\n        // 1. Append (name, value) to headers.\n        for (let j = 0; j < cookies.length; ++j) {\n          headers.push([name, cookies[j]])\n        }\n      } else {\n        // 2. Otherwise:\n\n        // 1. Let value be the result of getting name from list.\n\n        // 2. Assert: value is non-null.\n        assert(value !== null)\n\n        // 3. Append (name, value) to headers.\n        headers.push([name, value])\n      }\n    }\n\n    this[kHeadersList][kHeadersSortedMap] = headers\n\n    // 4. Return headers.\n    return headers\n  }\n\n  keys () {\n    webidl.brandCheck(this, Headers)\n\n    if (this[kGuard] === 'immutable') {\n      const value = this[kHeadersSortedMap]\n      return makeIterator(() => value, 'Headers',\n        'key')\n    }\n\n    return makeIterator(\n      () => [...this[kHeadersSortedMap].values()],\n      'Headers',\n      'key'\n    )\n  }\n\n  values () {\n    webidl.brandCheck(this, Headers)\n\n    if (this[kGuard] === 'immutable') {\n      const value = this[kHeadersSortedMap]\n      return makeIterator(() => value, 'Headers',\n        'value')\n    }\n\n    return makeIterator(\n      () => [...this[kHeadersSortedMap].values()],\n      'Headers',\n      'value'\n    )\n  }\n\n  entries () {\n    webidl.brandCheck(this, Headers)\n\n    if (this[kGuard] === 'immutable') {\n      const value = this[kHeadersSortedMap]\n      return makeIterator(() => value, 'Headers',\n        'key+value')\n    }\n\n    return makeIterator(\n      () => [...this[kHeadersSortedMap].values()],\n      'Headers',\n      'key+value'\n    )\n  }\n\n  /**\n   * @param {(value: string, key: string, self: Headers) => void} callbackFn\n   * @param {unknown} thisArg\n   */\n  forEach (callbackFn, thisArg = globalThis) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Headers.forEach' })\n\n    if (typeof callbackFn !== 'function') {\n      throw new TypeError(\n        \"Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.\"\n      )\n    }\n\n    for (const [key, value] of this) {\n      callbackFn.apply(thisArg, [value, key, this])\n    }\n  }\n\n  [Symbol.for('nodejs.util.inspect.custom')] () {\n    webidl.brandCheck(this, Headers)\n\n    return this[kHeadersList]\n  }\n}\n\nHeaders.prototype[Symbol.iterator] = Headers.prototype.entries\n\nObject.defineProperties(Headers.prototype, {\n  append: kEnumerableProperty,\n  delete: kEnumerableProperty,\n  get: kEnumerableProperty,\n  has: kEnumerableProperty,\n  set: kEnumerableProperty,\n  getSetCookie: kEnumerableProperty,\n  keys: kEnumerableProperty,\n  values: kEnumerableProperty,\n  entries: kEnumerableProperty,\n  forEach: kEnumerableProperty,\n  [Symbol.iterator]: { enumerable: false },\n  [Symbol.toStringTag]: {\n    value: 'Headers',\n    configurable: true\n  },\n  [util.inspect.custom]: {\n    enumerable: false\n  }\n})\n\nwebidl.converters.HeadersInit = function (V) {\n  if (webidl.util.Type(V) === 'Object') {\n    if (V[Symbol.iterator]) {\n      return webidl.converters['sequence<sequence<ByteString>>'](V)\n    }\n\n    return webidl.converters['record<ByteString, ByteString>'](V)\n  }\n\n  throw webidl.errors.conversionFailed({\n    prefix: 'Headers constructor',\n    argument: 'Argument 1',\n    types: ['sequence<sequence<ByteString>>', 'record<ByteString, ByteString>']\n  })\n}\n\nmodule.exports = {\n  fill,\n  Headers,\n  HeadersList\n}\n", "'use strict'\n\nconst { Headers, HeadersList, fill } = require('./headers')\nconst { extractBody, cloneBody, mixinBody } = require('./body')\nconst util = require('../core/util')\nconst { kEnumerableProperty } = util\nconst {\n  isValidReasonPhrase,\n  isCancelled,\n  isAborted,\n  isBlobLike,\n  serializeJavascriptValueToJSONString,\n  isErrorLike,\n  isomorphicEncode\n} = require('./util')\nconst {\n  redirectStatusSet,\n  nullBodyStatus,\n  DOMException\n} = require('./constants')\nconst { kState, kHeaders, kGuard, kRealm } = require('./symbols')\nconst { webidl } = require('./webidl')\nconst { FormData } = require('./formdata')\nconst { getGlobalOrigin } = require('./global')\nconst { URLSerializer } = require('./dataURL')\nconst { kHeadersList, kConstruct } = require('../core/symbols')\nconst assert = require('assert')\nconst { types } = require('util')\n\nconst ReadableStream = globalThis.ReadableStream || require('stream/web').ReadableStream\nconst textEncoder = new TextEncoder('utf-8')\n\n// https://fetch.spec.whatwg.org/#response-class\nclass Response {\n  // Creates network error Response.\n  static error () {\n    // TODO\n    const relevantRealm = { settingsObject: {} }\n\n    // The static error() method steps are to return the result of creating a\n    // Response object, given a new network error, \"immutable\", and this\u2019s\n    // relevant Realm.\n    const responseObject = new Response()\n    responseObject[kState] = makeNetworkError()\n    responseObject[kRealm] = relevantRealm\n    responseObject[kHeaders][kHeadersList] = responseObject[kState].headersList\n    responseObject[kHeaders][kGuard] = 'immutable'\n    responseObject[kHeaders][kRealm] = relevantRealm\n    return responseObject\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-response-json\n  static json (data, init = {}) {\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Response.json' })\n\n    if (init !== null) {\n      init = webidl.converters.ResponseInit(init)\n    }\n\n    // 1. Let bytes the result of running serialize a JavaScript value to JSON bytes on data.\n    const bytes = textEncoder.encode(\n      serializeJavascriptValueToJSONString(data)\n    )\n\n    // 2. Let body be the result of extracting bytes.\n    const body = extractBody(bytes)\n\n    // 3. Let responseObject be the result of creating a Response object, given a new response,\n    //    \"response\", and this\u2019s relevant Realm.\n    const relevantRealm = { settingsObject: {} }\n    const responseObject = new Response()\n    responseObject[kRealm] = relevantRealm\n    responseObject[kHeaders][kGuard] = 'response'\n    responseObject[kHeaders][kRealm] = relevantRealm\n\n    // 4. Perform initialize a response given responseObject, init, and (body, \"application/json\").\n    initializeResponse(responseObject, init, { body: body[0], type: 'application/json' })\n\n    // 5. Return responseObject.\n    return responseObject\n  }\n\n  // Creates a redirect Response that redirects to url with status status.\n  static redirect (url, status = 302) {\n    const relevantRealm = { settingsObject: {} }\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Response.redirect' })\n\n    url = webidl.converters.USVString(url)\n    status = webidl.converters['unsigned short'](status)\n\n    // 1. Let parsedURL be the result of parsing url with current settings\n    // object\u2019s API base URL.\n    // 2. If parsedURL is failure, then throw a TypeError.\n    // TODO: base-URL?\n    let parsedURL\n    try {\n      parsedURL = new URL(url, getGlobalOrigin())\n    } catch (err) {\n      throw Object.assign(new TypeError('Failed to parse URL from ' + url), {\n        cause: err\n      })\n    }\n\n    // 3. If status is not a redirect status, then throw a RangeError.\n    if (!redirectStatusSet.has(status)) {\n      throw new RangeError('Invalid status code ' + status)\n    }\n\n    // 4. Let responseObject be the result of creating a Response object,\n    // given a new response, \"immutable\", and this\u2019s relevant Realm.\n    const responseObject = new Response()\n    responseObject[kRealm] = relevantRealm\n    responseObject[kHeaders][kGuard] = 'immutable'\n    responseObject[kHeaders][kRealm] = relevantRealm\n\n    // 5. Set responseObject\u2019s response\u2019s status to status.\n    responseObject[kState].status = status\n\n    // 6. Let value be parsedURL, serialized and isomorphic encoded.\n    const value = isomorphicEncode(URLSerializer(parsedURL))\n\n    // 7. Append `Location`/value to responseObject\u2019s response\u2019s header list.\n    responseObject[kState].headersList.append('location', value)\n\n    // 8. Return responseObject.\n    return responseObject\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-response\n  constructor (body = null, init = {}) {\n    if (body !== null) {\n      body = webidl.converters.BodyInit(body)\n    }\n\n    init = webidl.converters.ResponseInit(init)\n\n    // TODO\n    this[kRealm] = { settingsObject: {} }\n\n    // 1. Set this\u2019s response to a new response.\n    this[kState] = makeResponse({})\n\n    // 2. Set this\u2019s headers to a new Headers object with this\u2019s relevant\n    // Realm, whose header list is this\u2019s response\u2019s header list and guard\n    // is \"response\".\n    this[kHeaders] = new Headers(kConstruct)\n    this[kHeaders][kGuard] = 'response'\n    this[kHeaders][kHeadersList] = this[kState].headersList\n    this[kHeaders][kRealm] = this[kRealm]\n\n    // 3. Let bodyWithType be null.\n    let bodyWithType = null\n\n    // 4. If body is non-null, then set bodyWithType to the result of extracting body.\n    if (body != null) {\n      const [extractedBody, type] = extractBody(body)\n      bodyWithType = { body: extractedBody, type }\n    }\n\n    // 5. Perform initialize a response given this, init, and bodyWithType.\n    initializeResponse(this, init, bodyWithType)\n  }\n\n  // Returns response\u2019s type, e.g., \"cors\".\n  get type () {\n    webidl.brandCheck(this, Response)\n\n    // The type getter steps are to return this\u2019s response\u2019s type.\n    return this[kState].type\n  }\n\n  // Returns response\u2019s URL, if it has one; otherwise the empty string.\n  get url () {\n    webidl.brandCheck(this, Response)\n\n    const urlList = this[kState].urlList\n\n    // The url getter steps are to return the empty string if this\u2019s\n    // response\u2019s URL is null; otherwise this\u2019s response\u2019s URL,\n    // serialized with exclude fragment set to true.\n    const url = urlList[urlList.length - 1] ?? null\n\n    if (url === null) {\n      return ''\n    }\n\n    return URLSerializer(url, true)\n  }\n\n  // Returns whether response was obtained through a redirect.\n  get redirected () {\n    webidl.brandCheck(this, Response)\n\n    // The redirected getter steps are to return true if this\u2019s response\u2019s URL\n    // list has more than one item; otherwise false.\n    return this[kState].urlList.length > 1\n  }\n\n  // Returns response\u2019s status.\n  get status () {\n    webidl.brandCheck(this, Response)\n\n    // The status getter steps are to return this\u2019s response\u2019s status.\n    return this[kState].status\n  }\n\n  // Returns whether response\u2019s status is an ok status.\n  get ok () {\n    webidl.brandCheck(this, Response)\n\n    // The ok getter steps are to return true if this\u2019s response\u2019s status is an\n    // ok status; otherwise false.\n    return this[kState].status >= 200 && this[kState].status <= 299\n  }\n\n  // Returns response\u2019s status message.\n  get statusText () {\n    webidl.brandCheck(this, Response)\n\n    // The statusText getter steps are to return this\u2019s response\u2019s status\n    // message.\n    return this[kState].statusText\n  }\n\n  // Returns response\u2019s headers as Headers.\n  get headers () {\n    webidl.brandCheck(this, Response)\n\n    // The headers getter steps are to return this\u2019s headers.\n    return this[kHeaders]\n  }\n\n  get body () {\n    webidl.brandCheck(this, Response)\n\n    return this[kState].body ? this[kState].body.stream : null\n  }\n\n  get bodyUsed () {\n    webidl.brandCheck(this, Response)\n\n    return !!this[kState].body && util.isDisturbed(this[kState].body.stream)\n  }\n\n  // Returns a clone of response.\n  clone () {\n    webidl.brandCheck(this, Response)\n\n    // 1. If this is unusable, then throw a TypeError.\n    if (this.bodyUsed || (this.body && this.body.locked)) {\n      throw webidl.errors.exception({\n        header: 'Response.clone',\n        message: 'Body has already been consumed.'\n      })\n    }\n\n    // 2. Let clonedResponse be the result of cloning this\u2019s response.\n    const clonedResponse = cloneResponse(this[kState])\n\n    // 3. Return the result of creating a Response object, given\n    // clonedResponse, this\u2019s headers\u2019s guard, and this\u2019s relevant Realm.\n    const clonedResponseObject = new Response()\n    clonedResponseObject[kState] = clonedResponse\n    clonedResponseObject[kRealm] = this[kRealm]\n    clonedResponseObject[kHeaders][kHeadersList] = clonedResponse.headersList\n    clonedResponseObject[kHeaders][kGuard] = this[kHeaders][kGuard]\n    clonedResponseObject[kHeaders][kRealm] = this[kHeaders][kRealm]\n\n    return clonedResponseObject\n  }\n}\n\nmixinBody(Response)\n\nObject.defineProperties(Response.prototype, {\n  type: kEnumerableProperty,\n  url: kEnumerableProperty,\n  status: kEnumerableProperty,\n  ok: kEnumerableProperty,\n  redirected: kEnumerableProperty,\n  statusText: kEnumerableProperty,\n  headers: kEnumerableProperty,\n  clone: kEnumerableProperty,\n  body: kEnumerableProperty,\n  bodyUsed: kEnumerableProperty,\n  [Symbol.toStringTag]: {\n    value: 'Response',\n    configurable: true\n  }\n})\n\nObject.defineProperties(Response, {\n  json: kEnumerableProperty,\n  redirect: kEnumerableProperty,\n  error: kEnumerableProperty\n})\n\n// https://fetch.spec.whatwg.org/#concept-response-clone\nfunction cloneResponse (response) {\n  // To clone a response response, run these steps:\n\n  // 1. If response is a filtered response, then return a new identical\n  // filtered response whose internal response is a clone of response\u2019s\n  // internal response.\n  if (response.internalResponse) {\n    return filterResponse(\n      cloneResponse(response.internalResponse),\n      response.type\n    )\n  }\n\n  // 2. Let newResponse be a copy of response, except for its body.\n  const newResponse = makeResponse({ ...response, body: null })\n\n  // 3. If response\u2019s body is non-null, then set newResponse\u2019s body to the\n  // result of cloning response\u2019s body.\n  if (response.body != null) {\n    newResponse.body = cloneBody(response.body)\n  }\n\n  // 4. Return newResponse.\n  return newResponse\n}\n\nfunction makeResponse (init) {\n  return {\n    aborted: false,\n    rangeRequested: false,\n    timingAllowPassed: false,\n    requestIncludesCredentials: false,\n    type: 'default',\n    status: 200,\n    timingInfo: null,\n    cacheState: '',\n    statusText: '',\n    ...init,\n    headersList: init.headersList\n      ? new HeadersList(init.headersList)\n      : new HeadersList(),\n    urlList: init.urlList ? [...init.urlList] : []\n  }\n}\n\nfunction makeNetworkError (reason) {\n  const isError = isErrorLike(reason)\n  return makeResponse({\n    type: 'error',\n    status: 0,\n    error: isError\n      ? reason\n      : new Error(reason ? String(reason) : reason),\n    aborted: reason && reason.name === 'AbortError'\n  })\n}\n\nfunction makeFilteredResponse (response, state) {\n  state = {\n    internalResponse: response,\n    ...state\n  }\n\n  return new Proxy(response, {\n    get (target, p) {\n      return p in state ? state[p] : target[p]\n    },\n    set (target, p, value) {\n      assert(!(p in state))\n      target[p] = value\n      return true\n    }\n  })\n}\n\n// https://fetch.spec.whatwg.org/#concept-filtered-response\nfunction filterResponse (response, type) {\n  // Set response to the following filtered response with response as its\n  // internal response, depending on request\u2019s response tainting:\n  if (type === 'basic') {\n    // A basic filtered response is a filtered response whose type is \"basic\"\n    // and header list excludes any headers in internal response\u2019s header list\n    // whose name is a forbidden response-header name.\n\n    // Note: undici does not implement forbidden response-header names\n    return makeFilteredResponse(response, {\n      type: 'basic',\n      headersList: response.headersList\n    })\n  } else if (type === 'cors') {\n    // A CORS filtered response is a filtered response whose type is \"cors\"\n    // and header list excludes any headers in internal response\u2019s header\n    // list whose name is not a CORS-safelisted response-header name, given\n    // internal response\u2019s CORS-exposed header-name list.\n\n    // Note: undici does not implement CORS-safelisted response-header names\n    return makeFilteredResponse(response, {\n      type: 'cors',\n      headersList: response.headersList\n    })\n  } else if (type === 'opaque') {\n    // An opaque filtered response is a filtered response whose type is\n    // \"opaque\", URL list is the empty list, status is 0, status message\n    // is the empty byte sequence, header list is empty, and body is null.\n\n    return makeFilteredResponse(response, {\n      type: 'opaque',\n      urlList: Object.freeze([]),\n      status: 0,\n      statusText: '',\n      body: null\n    })\n  } else if (type === 'opaqueredirect') {\n    // An opaque-redirect filtered response is a filtered response whose type\n    // is \"opaqueredirect\", status is 0, status message is the empty byte\n    // sequence, header list is empty, and body is null.\n\n    return makeFilteredResponse(response, {\n      type: 'opaqueredirect',\n      status: 0,\n      statusText: '',\n      headersList: [],\n      body: null\n    })\n  } else {\n    assert(false)\n  }\n}\n\n// https://fetch.spec.whatwg.org/#appropriate-network-error\nfunction makeAppropriateNetworkError (fetchParams, err = null) {\n  // 1. Assert: fetchParams is canceled.\n  assert(isCancelled(fetchParams))\n\n  // 2. Return an aborted network error if fetchParams is aborted;\n  // otherwise return a network error.\n  return isAborted(fetchParams)\n    ? makeNetworkError(Object.assign(new DOMException('The operation was aborted.', 'AbortError'), { cause: err }))\n    : makeNetworkError(Object.assign(new DOMException('Request was cancelled.'), { cause: err }))\n}\n\n// https://whatpr.org/fetch/1392.html#initialize-a-response\nfunction initializeResponse (response, init, body) {\n  // 1. If init[\"status\"] is not in the range 200 to 599, inclusive, then\n  //    throw a RangeError.\n  if (init.status !== null && (init.status < 200 || init.status > 599)) {\n    throw new RangeError('init[\"status\"] must be in the range of 200 to 599, inclusive.')\n  }\n\n  // 2. If init[\"statusText\"] does not match the reason-phrase token production,\n  //    then throw a TypeError.\n  if ('statusText' in init && init.statusText != null) {\n    // See, https://datatracker.ietf.org/doc/html/rfc7230#section-3.1.2:\n    //   reason-phrase  = *( HTAB / SP / VCHAR / obs-text )\n    if (!isValidReasonPhrase(String(init.statusText))) {\n      throw new TypeError('Invalid statusText')\n    }\n  }\n\n  // 3. Set response\u2019s response\u2019s status to init[\"status\"].\n  if ('status' in init && init.status != null) {\n    response[kState].status = init.status\n  }\n\n  // 4. Set response\u2019s response\u2019s status message to init[\"statusText\"].\n  if ('statusText' in init && init.statusText != null) {\n    response[kState].statusText = init.statusText\n  }\n\n  // 5. If init[\"headers\"] exists, then fill response\u2019s headers with init[\"headers\"].\n  if ('headers' in init && init.headers != null) {\n    fill(response[kHeaders], init.headers)\n  }\n\n  // 6. If body was given, then:\n  if (body) {\n    // 1. If response's status is a null body status, then throw a TypeError.\n    if (nullBodyStatus.includes(response.status)) {\n      throw webidl.errors.exception({\n        header: 'Response constructor',\n        message: 'Invalid response status code ' + response.status\n      })\n    }\n\n    // 2. Set response's body to body's body.\n    response[kState].body = body.body\n\n    // 3. If body's type is non-null and response's header list does not contain\n    //    `Content-Type`, then append (`Content-Type`, body's type) to response's header list.\n    if (body.type != null && !response[kState].headersList.contains('Content-Type')) {\n      response[kState].headersList.append('content-type', body.type)\n    }\n  }\n}\n\nwebidl.converters.ReadableStream = webidl.interfaceConverter(\n  ReadableStream\n)\n\nwebidl.converters.FormData = webidl.interfaceConverter(\n  FormData\n)\n\nwebidl.converters.URLSearchParams = webidl.interfaceConverter(\n  URLSearchParams\n)\n\n// https://fetch.spec.whatwg.org/#typedefdef-xmlhttprequestbodyinit\nwebidl.converters.XMLHttpRequestBodyInit = function (V) {\n  if (typeof V === 'string') {\n    return webidl.converters.USVString(V)\n  }\n\n  if (isBlobLike(V)) {\n    return webidl.converters.Blob(V, { strict: false })\n  }\n\n  if (types.isArrayBuffer(V) || types.isTypedArray(V) || types.isDataView(V)) {\n    return webidl.converters.BufferSource(V)\n  }\n\n  if (util.isFormDataLike(V)) {\n    return webidl.converters.FormData(V, { strict: false })\n  }\n\n  if (V instanceof URLSearchParams) {\n    return webidl.converters.URLSearchParams(V)\n  }\n\n  return webidl.converters.DOMString(V)\n}\n\n// https://fetch.spec.whatwg.org/#bodyinit\nwebidl.converters.BodyInit = function (V) {\n  if (V instanceof ReadableStream) {\n    return webidl.converters.ReadableStream(V)\n  }\n\n  // Note: the spec doesn't include async iterables,\n  // this is an undici extension.\n  if (V?.[Symbol.asyncIterator]) {\n    return V\n  }\n\n  return webidl.converters.XMLHttpRequestBodyInit(V)\n}\n\nwebidl.converters.ResponseInit = webidl.dictionaryConverter([\n  {\n    key: 'status',\n    converter: webidl.converters['unsigned short'],\n    defaultValue: 200\n  },\n  {\n    key: 'statusText',\n    converter: webidl.converters.ByteString,\n    defaultValue: ''\n  },\n  {\n    key: 'headers',\n    converter: webidl.converters.HeadersInit\n  }\n])\n\nmodule.exports = {\n  makeNetworkError,\n  makeResponse,\n  makeAppropriateNetworkError,\n  filterResponse,\n  Response,\n  cloneResponse\n}\n", "/* globals AbortController */\n\n'use strict'\n\nconst { extractBody, mixinBody, cloneBody } = require('./body')\nconst { Headers, fill: fillHeaders, HeadersList } = require('./headers')\nconst { FinalizationRegistry } = require('../compat/dispatcher-weakref')()\nconst util = require('../core/util')\nconst {\n  isValidHTTPToken,\n  sameOrigin,\n  normalizeMethod,\n  makePolicyContainer,\n  normalizeMethodRecord\n} = require('./util')\nconst {\n  forbiddenMethodsSet,\n  corsSafeListedMethodsSet,\n  referrerPolicy,\n  requestRedirect,\n  requestMode,\n  requestCredentials,\n  requestCache,\n  requestDuplex\n} = require('./constants')\nconst { kEnumerableProperty } = util\nconst { kHeaders, kSignal, kState, kGuard, kRealm } = require('./symbols')\nconst { webidl } = require('./webidl')\nconst { getGlobalOrigin } = require('./global')\nconst { URLSerializer } = require('./dataURL')\nconst { kHeadersList, kConstruct } = require('../core/symbols')\nconst assert = require('assert')\nconst { getMaxListeners, setMaxListeners, getEventListeners, defaultMaxListeners } = require('events')\n\nlet TransformStream = globalThis.TransformStream\n\nconst kAbortController = Symbol('abortController')\n\nconst requestFinalizer = new FinalizationRegistry(({ signal, abort }) => {\n  signal.removeEventListener('abort', abort)\n})\n\n// https://fetch.spec.whatwg.org/#request-class\nclass Request {\n  // https://fetch.spec.whatwg.org/#dom-request\n  constructor (input, init = {}) {\n    if (input === kConstruct) {\n      return\n    }\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Request constructor' })\n\n    input = webidl.converters.RequestInfo(input)\n    init = webidl.converters.RequestInit(init)\n\n    // https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\n    this[kRealm] = {\n      settingsObject: {\n        baseUrl: getGlobalOrigin(),\n        get origin () {\n          return this.baseUrl?.origin\n        },\n        policyContainer: makePolicyContainer()\n      }\n    }\n\n    // 1. Let request be null.\n    let request = null\n\n    // 2. Let fallbackMode be null.\n    let fallbackMode = null\n\n    // 3. Let baseURL be this\u2019s relevant settings object\u2019s API base URL.\n    const baseUrl = this[kRealm].settingsObject.baseUrl\n\n    // 4. Let signal be null.\n    let signal = null\n\n    // 5. If input is a string, then:\n    if (typeof input === 'string') {\n      // 1. Let parsedURL be the result of parsing input with baseURL.\n      // 2. If parsedURL is failure, then throw a TypeError.\n      let parsedURL\n      try {\n        parsedURL = new URL(input, baseUrl)\n      } catch (err) {\n        throw new TypeError('Failed to parse URL from ' + input, { cause: err })\n      }\n\n      // 3. If parsedURL includes credentials, then throw a TypeError.\n      if (parsedURL.username || parsedURL.password) {\n        throw new TypeError(\n          'Request cannot be constructed from a URL that includes credentials: ' +\n            input\n        )\n      }\n\n      // 4. Set request to a new request whose URL is parsedURL.\n      request = makeRequest({ urlList: [parsedURL] })\n\n      // 5. Set fallbackMode to \"cors\".\n      fallbackMode = 'cors'\n    } else {\n      // 6. Otherwise:\n\n      // 7. Assert: input is a Request object.\n      assert(input instanceof Request)\n\n      // 8. Set request to input\u2019s request.\n      request = input[kState]\n\n      // 9. Set signal to input\u2019s signal.\n      signal = input[kSignal]\n    }\n\n    // 7. Let origin be this\u2019s relevant settings object\u2019s origin.\n    const origin = this[kRealm].settingsObject.origin\n\n    // 8. Let window be \"client\".\n    let window = 'client'\n\n    // 9. If request\u2019s window is an environment settings object and its origin\n    // is same origin with origin, then set window to request\u2019s window.\n    if (\n      request.window?.constructor?.name === 'EnvironmentSettingsObject' &&\n      sameOrigin(request.window, origin)\n    ) {\n      window = request.window\n    }\n\n    // 10. If init[\"window\"] exists and is non-null, then throw a TypeError.\n    if (init.window != null) {\n      throw new TypeError(`'window' option '${window}' must be null`)\n    }\n\n    // 11. If init[\"window\"] exists, then set window to \"no-window\".\n    if ('window' in init) {\n      window = 'no-window'\n    }\n\n    // 12. Set request to a new request with the following properties:\n    request = makeRequest({\n      // URL request\u2019s URL.\n      // undici implementation note: this is set as the first item in request's urlList in makeRequest\n      // method request\u2019s method.\n      method: request.method,\n      // header list A copy of request\u2019s header list.\n      // undici implementation note: headersList is cloned in makeRequest\n      headersList: request.headersList,\n      // unsafe-request flag Set.\n      unsafeRequest: request.unsafeRequest,\n      // client This\u2019s relevant settings object.\n      client: this[kRealm].settingsObject,\n      // window window.\n      window,\n      // priority request\u2019s priority.\n      priority: request.priority,\n      // origin request\u2019s origin. The propagation of the origin is only significant for navigation requests\n      // being handled by a service worker. In this scenario a request can have an origin that is different\n      // from the current client.\n      origin: request.origin,\n      // referrer request\u2019s referrer.\n      referrer: request.referrer,\n      // referrer policy request\u2019s referrer policy.\n      referrerPolicy: request.referrerPolicy,\n      // mode request\u2019s mode.\n      mode: request.mode,\n      // credentials mode request\u2019s credentials mode.\n      credentials: request.credentials,\n      // cache mode request\u2019s cache mode.\n      cache: request.cache,\n      // redirect mode request\u2019s redirect mode.\n      redirect: request.redirect,\n      // integrity metadata request\u2019s integrity metadata.\n      integrity: request.integrity,\n      // keepalive request\u2019s keepalive.\n      keepalive: request.keepalive,\n      // reload-navigation flag request\u2019s reload-navigation flag.\n      reloadNavigation: request.reloadNavigation,\n      // history-navigation flag request\u2019s history-navigation flag.\n      historyNavigation: request.historyNavigation,\n      // URL list A clone of request\u2019s URL list.\n      urlList: [...request.urlList]\n    })\n\n    const initHasKey = Object.keys(init).length !== 0\n\n    // 13. If init is not empty, then:\n    if (initHasKey) {\n      // 1. If request\u2019s mode is \"navigate\", then set it to \"same-origin\".\n      if (request.mode === 'navigate') {\n        request.mode = 'same-origin'\n      }\n\n      // 2. Unset request\u2019s reload-navigation flag.\n      request.reloadNavigation = false\n\n      // 3. Unset request\u2019s history-navigation flag.\n      request.historyNavigation = false\n\n      // 4. Set request\u2019s origin to \"client\".\n      request.origin = 'client'\n\n      // 5. Set request\u2019s referrer to \"client\"\n      request.referrer = 'client'\n\n      // 6. Set request\u2019s referrer policy to the empty string.\n      request.referrerPolicy = ''\n\n      // 7. Set request\u2019s URL to request\u2019s current URL.\n      request.url = request.urlList[request.urlList.length - 1]\n\n      // 8. Set request\u2019s URL list to \u00AB request\u2019s URL \u00BB.\n      request.urlList = [request.url]\n    }\n\n    // 14. If init[\"referrer\"] exists, then:\n    if (init.referrer !== undefined) {\n      // 1. Let referrer be init[\"referrer\"].\n      const referrer = init.referrer\n\n      // 2. If referrer is the empty string, then set request\u2019s referrer to \"no-referrer\".\n      if (referrer === '') {\n        request.referrer = 'no-referrer'\n      } else {\n        // 1. Let parsedReferrer be the result of parsing referrer with\n        // baseURL.\n        // 2. If parsedReferrer is failure, then throw a TypeError.\n        let parsedReferrer\n        try {\n          parsedReferrer = new URL(referrer, baseUrl)\n        } catch (err) {\n          throw new TypeError(`Referrer \"${referrer}\" is not a valid URL.`, { cause: err })\n        }\n\n        // 3. If one of the following is true\n        // - parsedReferrer\u2019s scheme is \"about\" and path is the string \"client\"\n        // - parsedReferrer\u2019s origin is not same origin with origin\n        // then set request\u2019s referrer to \"client\".\n        if (\n          (parsedReferrer.protocol === 'about:' && parsedReferrer.hostname === 'client') ||\n          (origin && !sameOrigin(parsedReferrer, this[kRealm].settingsObject.baseUrl))\n        ) {\n          request.referrer = 'client'\n        } else {\n          // 4. Otherwise, set request\u2019s referrer to parsedReferrer.\n          request.referrer = parsedReferrer\n        }\n      }\n    }\n\n    // 15. If init[\"referrerPolicy\"] exists, then set request\u2019s referrer policy\n    // to it.\n    if (init.referrerPolicy !== undefined) {\n      request.referrerPolicy = init.referrerPolicy\n    }\n\n    // 16. Let mode be init[\"mode\"] if it exists, and fallbackMode otherwise.\n    let mode\n    if (init.mode !== undefined) {\n      mode = init.mode\n    } else {\n      mode = fallbackMode\n    }\n\n    // 17. If mode is \"navigate\", then throw a TypeError.\n    if (mode === 'navigate') {\n      throw webidl.errors.exception({\n        header: 'Request constructor',\n        message: 'invalid request mode navigate.'\n      })\n    }\n\n    // 18. If mode is non-null, set request\u2019s mode to mode.\n    if (mode != null) {\n      request.mode = mode\n    }\n\n    // 19. If init[\"credentials\"] exists, then set request\u2019s credentials mode\n    // to it.\n    if (init.credentials !== undefined) {\n      request.credentials = init.credentials\n    }\n\n    // 18. If init[\"cache\"] exists, then set request\u2019s cache mode to it.\n    if (init.cache !== undefined) {\n      request.cache = init.cache\n    }\n\n    // 21. If request\u2019s cache mode is \"only-if-cached\" and request\u2019s mode is\n    // not \"same-origin\", then throw a TypeError.\n    if (request.cache === 'only-if-cached' && request.mode !== 'same-origin') {\n      throw new TypeError(\n        \"'only-if-cached' can be set only with 'same-origin' mode\"\n      )\n    }\n\n    // 22. If init[\"redirect\"] exists, then set request\u2019s redirect mode to it.\n    if (init.redirect !== undefined) {\n      request.redirect = init.redirect\n    }\n\n    // 23. If init[\"integrity\"] exists, then set request\u2019s integrity metadata to it.\n    if (init.integrity != null) {\n      request.integrity = String(init.integrity)\n    }\n\n    // 24. If init[\"keepalive\"] exists, then set request\u2019s keepalive to it.\n    if (init.keepalive !== undefined) {\n      request.keepalive = Boolean(init.keepalive)\n    }\n\n    // 25. If init[\"method\"] exists, then:\n    if (init.method !== undefined) {\n      // 1. Let method be init[\"method\"].\n      let method = init.method\n\n      // 2. If method is not a method or method is a forbidden method, then\n      // throw a TypeError.\n      if (!isValidHTTPToken(method)) {\n        throw new TypeError(`'${method}' is not a valid HTTP method.`)\n      }\n\n      if (forbiddenMethodsSet.has(method.toUpperCase())) {\n        throw new TypeError(`'${method}' HTTP method is unsupported.`)\n      }\n\n      // 3. Normalize method.\n      method = normalizeMethodRecord[method] ?? normalizeMethod(method)\n\n      // 4. Set request\u2019s method to method.\n      request.method = method\n    }\n\n    // 26. If init[\"signal\"] exists, then set signal to it.\n    if (init.signal !== undefined) {\n      signal = init.signal\n    }\n\n    // 27. Set this\u2019s request to request.\n    this[kState] = request\n\n    // 28. Set this\u2019s signal to a new AbortSignal object with this\u2019s relevant\n    // Realm.\n    // TODO: could this be simplified with AbortSignal.any\n    // (https://dom.spec.whatwg.org/#dom-abortsignal-any)\n    const ac = new AbortController()\n    this[kSignal] = ac.signal\n    this[kSignal][kRealm] = this[kRealm]\n\n    // 29. If signal is not null, then make this\u2019s signal follow signal.\n    if (signal != null) {\n      if (\n        !signal ||\n        typeof signal.aborted !== 'boolean' ||\n        typeof signal.addEventListener !== 'function'\n      ) {\n        throw new TypeError(\n          \"Failed to construct 'Request': member signal is not of type AbortSignal.\"\n        )\n      }\n\n      if (signal.aborted) {\n        ac.abort(signal.reason)\n      } else {\n        // Keep a strong ref to ac while request object\n        // is alive. This is needed to prevent AbortController\n        // from being prematurely garbage collected.\n        // See, https://github.com/nodejs/undici/issues/1926.\n        this[kAbortController] = ac\n\n        const acRef = new WeakRef(ac)\n        const abort = function () {\n          const ac = acRef.deref()\n          if (ac !== undefined) {\n            ac.abort(this.reason)\n          }\n        }\n\n        // Third-party AbortControllers may not work with these.\n        // See, https://github.com/nodejs/undici/pull/1910#issuecomment-1464495619.\n        try {\n          // If the max amount of listeners is equal to the default, increase it\n          // This is only available in node >= v19.9.0\n          if (typeof getMaxListeners === 'function' && getMaxListeners(signal) === defaultMaxListeners) {\n            setMaxListeners(100, signal)\n          } else if (getEventListeners(signal, 'abort').length >= defaultMaxListeners) {\n            setMaxListeners(100, signal)\n          }\n        } catch {}\n\n        util.addAbortListener(signal, abort)\n        requestFinalizer.register(ac, { signal, abort })\n      }\n    }\n\n    // 30. Set this\u2019s headers to a new Headers object with this\u2019s relevant\n    // Realm, whose header list is request\u2019s header list and guard is\n    // \"request\".\n    this[kHeaders] = new Headers(kConstruct)\n    this[kHeaders][kHeadersList] = request.headersList\n    this[kHeaders][kGuard] = 'request'\n    this[kHeaders][kRealm] = this[kRealm]\n\n    // 31. If this\u2019s request\u2019s mode is \"no-cors\", then:\n    if (mode === 'no-cors') {\n      // 1. If this\u2019s request\u2019s method is not a CORS-safelisted method,\n      // then throw a TypeError.\n      if (!corsSafeListedMethodsSet.has(request.method)) {\n        throw new TypeError(\n          `'${request.method} is unsupported in no-cors mode.`\n        )\n      }\n\n      // 2. Set this\u2019s headers\u2019s guard to \"request-no-cors\".\n      this[kHeaders][kGuard] = 'request-no-cors'\n    }\n\n    // 32. If init is not empty, then:\n    if (initHasKey) {\n      /** @type {HeadersList} */\n      const headersList = this[kHeaders][kHeadersList]\n      // 1. Let headers be a copy of this\u2019s headers and its associated header\n      // list.\n      // 2. If init[\"headers\"] exists, then set headers to init[\"headers\"].\n      const headers = init.headers !== undefined ? init.headers : new HeadersList(headersList)\n\n      // 3. Empty this\u2019s headers\u2019s header list.\n      headersList.clear()\n\n      // 4. If headers is a Headers object, then for each header in its header\n      // list, append header\u2019s name/header\u2019s value to this\u2019s headers.\n      if (headers instanceof HeadersList) {\n        for (const [key, val] of headers) {\n          headersList.append(key, val)\n        }\n        // Note: Copy the `set-cookie` meta-data.\n        headersList.cookies = headers.cookies\n      } else {\n        // 5. Otherwise, fill this\u2019s headers with headers.\n        fillHeaders(this[kHeaders], headers)\n      }\n    }\n\n    // 33. Let inputBody be input\u2019s request\u2019s body if input is a Request\n    // object; otherwise null.\n    const inputBody = input instanceof Request ? input[kState].body : null\n\n    // 34. If either init[\"body\"] exists and is non-null or inputBody is\n    // non-null, and request\u2019s method is `GET` or `HEAD`, then throw a\n    // TypeError.\n    if (\n      (init.body != null || inputBody != null) &&\n      (request.method === 'GET' || request.method === 'HEAD')\n    ) {\n      throw new TypeError('Request with GET/HEAD method cannot have body.')\n    }\n\n    // 35. Let initBody be null.\n    let initBody = null\n\n    // 36. If init[\"body\"] exists and is non-null, then:\n    if (init.body != null) {\n      // 1. Let Content-Type be null.\n      // 2. Set initBody and Content-Type to the result of extracting\n      // init[\"body\"], with keepalive set to request\u2019s keepalive.\n      const [extractedBody, contentType] = extractBody(\n        init.body,\n        request.keepalive\n      )\n      initBody = extractedBody\n\n      // 3, If Content-Type is non-null and this\u2019s headers\u2019s header list does\n      // not contain `Content-Type`, then append `Content-Type`/Content-Type to\n      // this\u2019s headers.\n      if (contentType && !this[kHeaders][kHeadersList].contains('content-type')) {\n        this[kHeaders].append('content-type', contentType)\n      }\n    }\n\n    // 37. Let inputOrInitBody be initBody if it is non-null; otherwise\n    // inputBody.\n    const inputOrInitBody = initBody ?? inputBody\n\n    // 38. If inputOrInitBody is non-null and inputOrInitBody\u2019s source is\n    // null, then:\n    if (inputOrInitBody != null && inputOrInitBody.source == null) {\n      // 1. If initBody is non-null and init[\"duplex\"] does not exist,\n      //    then throw a TypeError.\n      if (initBody != null && init.duplex == null) {\n        throw new TypeError('RequestInit: duplex option is required when sending a body.')\n      }\n\n      // 2. If this\u2019s request\u2019s mode is neither \"same-origin\" nor \"cors\",\n      // then throw a TypeError.\n      if (request.mode !== 'same-origin' && request.mode !== 'cors') {\n        throw new TypeError(\n          'If request is made from ReadableStream, mode should be \"same-origin\" or \"cors\"'\n        )\n      }\n\n      // 3. Set this\u2019s request\u2019s use-CORS-preflight flag.\n      request.useCORSPreflightFlag = true\n    }\n\n    // 39. Let finalBody be inputOrInitBody.\n    let finalBody = inputOrInitBody\n\n    // 40. If initBody is null and inputBody is non-null, then:\n    if (initBody == null && inputBody != null) {\n      // 1. If input is unusable, then throw a TypeError.\n      if (util.isDisturbed(inputBody.stream) || inputBody.stream.locked) {\n        throw new TypeError(\n          'Cannot construct a Request with a Request object that has already been used.'\n        )\n      }\n\n      // 2. Set finalBody to the result of creating a proxy for inputBody.\n      if (!TransformStream) {\n        TransformStream = require('stream/web').TransformStream\n      }\n\n      // https://streams.spec.whatwg.org/#readablestream-create-a-proxy\n      const identityTransform = new TransformStream()\n      inputBody.stream.pipeThrough(identityTransform)\n      finalBody = {\n        source: inputBody.source,\n        length: inputBody.length,\n        stream: identityTransform.readable\n      }\n    }\n\n    // 41. Set this\u2019s request\u2019s body to finalBody.\n    this[kState].body = finalBody\n  }\n\n  // Returns request\u2019s HTTP method, which is \"GET\" by default.\n  get method () {\n    webidl.brandCheck(this, Request)\n\n    // The method getter steps are to return this\u2019s request\u2019s method.\n    return this[kState].method\n  }\n\n  // Returns the URL of request as a string.\n  get url () {\n    webidl.brandCheck(this, Request)\n\n    // The url getter steps are to return this\u2019s request\u2019s URL, serialized.\n    return URLSerializer(this[kState].url)\n  }\n\n  // Returns a Headers object consisting of the headers associated with request.\n  // Note that headers added in the network layer by the user agent will not\n  // be accounted for in this object, e.g., the \"Host\" header.\n  get headers () {\n    webidl.brandCheck(this, Request)\n\n    // The headers getter steps are to return this\u2019s headers.\n    return this[kHeaders]\n  }\n\n  // Returns the kind of resource requested by request, e.g., \"document\"\n  // or \"script\".\n  get destination () {\n    webidl.brandCheck(this, Request)\n\n    // The destination getter are to return this\u2019s request\u2019s destination.\n    return this[kState].destination\n  }\n\n  // Returns the referrer of request. Its value can be a same-origin URL if\n  // explicitly set in init, the empty string to indicate no referrer, and\n  // \"about:client\" when defaulting to the global\u2019s default. This is used\n  // during fetching to determine the value of the `Referer` header of the\n  // request being made.\n  get referrer () {\n    webidl.brandCheck(this, Request)\n\n    // 1. If this\u2019s request\u2019s referrer is \"no-referrer\", then return the\n    // empty string.\n    if (this[kState].referrer === 'no-referrer') {\n      return ''\n    }\n\n    // 2. If this\u2019s request\u2019s referrer is \"client\", then return\n    // \"about:client\".\n    if (this[kState].referrer === 'client') {\n      return 'about:client'\n    }\n\n    // Return this\u2019s request\u2019s referrer, serialized.\n    return this[kState].referrer.toString()\n  }\n\n  // Returns the referrer policy associated with request.\n  // This is used during fetching to compute the value of the request\u2019s\n  // referrer.\n  get referrerPolicy () {\n    webidl.brandCheck(this, Request)\n\n    // The referrerPolicy getter steps are to return this\u2019s request\u2019s referrer policy.\n    return this[kState].referrerPolicy\n  }\n\n  // Returns the mode associated with request, which is a string indicating\n  // whether the request will use CORS, or will be restricted to same-origin\n  // URLs.\n  get mode () {\n    webidl.brandCheck(this, Request)\n\n    // The mode getter steps are to return this\u2019s request\u2019s mode.\n    return this[kState].mode\n  }\n\n  // Returns the credentials mode associated with request,\n  // which is a string indicating whether credentials will be sent with the\n  // request always, never, or only when sent to a same-origin URL.\n  get credentials () {\n    // The credentials getter steps are to return this\u2019s request\u2019s credentials mode.\n    return this[kState].credentials\n  }\n\n  // Returns the cache mode associated with request,\n  // which is a string indicating how the request will\n  // interact with the browser\u2019s cache when fetching.\n  get cache () {\n    webidl.brandCheck(this, Request)\n\n    // The cache getter steps are to return this\u2019s request\u2019s cache mode.\n    return this[kState].cache\n  }\n\n  // Returns the redirect mode associated with request,\n  // which is a string indicating how redirects for the\n  // request will be handled during fetching. A request\n  // will follow redirects by default.\n  get redirect () {\n    webidl.brandCheck(this, Request)\n\n    // The redirect getter steps are to return this\u2019s request\u2019s redirect mode.\n    return this[kState].redirect\n  }\n\n  // Returns request\u2019s subresource integrity metadata, which is a\n  // cryptographic hash of the resource being fetched. Its value\n  // consists of multiple hashes separated by whitespace. [SRI]\n  get integrity () {\n    webidl.brandCheck(this, Request)\n\n    // The integrity getter steps are to return this\u2019s request\u2019s integrity\n    // metadata.\n    return this[kState].integrity\n  }\n\n  // Returns a boolean indicating whether or not request can outlive the\n  // global in which it was created.\n  get keepalive () {\n    webidl.brandCheck(this, Request)\n\n    // The keepalive getter steps are to return this\u2019s request\u2019s keepalive.\n    return this[kState].keepalive\n  }\n\n  // Returns a boolean indicating whether or not request is for a reload\n  // navigation.\n  get isReloadNavigation () {\n    webidl.brandCheck(this, Request)\n\n    // The isReloadNavigation getter steps are to return true if this\u2019s\n    // request\u2019s reload-navigation flag is set; otherwise false.\n    return this[kState].reloadNavigation\n  }\n\n  // Returns a boolean indicating whether or not request is for a history\n  // navigation (a.k.a. back-foward navigation).\n  get isHistoryNavigation () {\n    webidl.brandCheck(this, Request)\n\n    // The isHistoryNavigation getter steps are to return true if this\u2019s request\u2019s\n    // history-navigation flag is set; otherwise false.\n    return this[kState].historyNavigation\n  }\n\n  // Returns the signal associated with request, which is an AbortSignal\n  // object indicating whether or not request has been aborted, and its\n  // abort event handler.\n  get signal () {\n    webidl.brandCheck(this, Request)\n\n    // The signal getter steps are to return this\u2019s signal.\n    return this[kSignal]\n  }\n\n  get body () {\n    webidl.brandCheck(this, Request)\n\n    return this[kState].body ? this[kState].body.stream : null\n  }\n\n  get bodyUsed () {\n    webidl.brandCheck(this, Request)\n\n    return !!this[kState].body && util.isDisturbed(this[kState].body.stream)\n  }\n\n  get duplex () {\n    webidl.brandCheck(this, Request)\n\n    return 'half'\n  }\n\n  // Returns a clone of request.\n  clone () {\n    webidl.brandCheck(this, Request)\n\n    // 1. If this is unusable, then throw a TypeError.\n    if (this.bodyUsed || this.body?.locked) {\n      throw new TypeError('unusable')\n    }\n\n    // 2. Let clonedRequest be the result of cloning this\u2019s request.\n    const clonedRequest = cloneRequest(this[kState])\n\n    // 3. Let clonedRequestObject be the result of creating a Request object,\n    // given clonedRequest, this\u2019s headers\u2019s guard, and this\u2019s relevant Realm.\n    const clonedRequestObject = new Request(kConstruct)\n    clonedRequestObject[kState] = clonedRequest\n    clonedRequestObject[kRealm] = this[kRealm]\n    clonedRequestObject[kHeaders] = new Headers(kConstruct)\n    clonedRequestObject[kHeaders][kHeadersList] = clonedRequest.headersList\n    clonedRequestObject[kHeaders][kGuard] = this[kHeaders][kGuard]\n    clonedRequestObject[kHeaders][kRealm] = this[kHeaders][kRealm]\n\n    // 4. Make clonedRequestObject\u2019s signal follow this\u2019s signal.\n    const ac = new AbortController()\n    if (this.signal.aborted) {\n      ac.abort(this.signal.reason)\n    } else {\n      util.addAbortListener(\n        this.signal,\n        () => {\n          ac.abort(this.signal.reason)\n        }\n      )\n    }\n    clonedRequestObject[kSignal] = ac.signal\n\n    // 4. Return clonedRequestObject.\n    return clonedRequestObject\n  }\n}\n\nmixinBody(Request)\n\nfunction makeRequest (init) {\n  // https://fetch.spec.whatwg.org/#requests\n  const request = {\n    method: 'GET',\n    localURLsOnly: false,\n    unsafeRequest: false,\n    body: null,\n    client: null,\n    reservedClient: null,\n    replacesClientId: '',\n    window: 'client',\n    keepalive: false,\n    serviceWorkers: 'all',\n    initiator: '',\n    destination: '',\n    priority: null,\n    origin: 'client',\n    policyContainer: 'client',\n    referrer: 'client',\n    referrerPolicy: '',\n    mode: 'no-cors',\n    useCORSPreflightFlag: false,\n    credentials: 'same-origin',\n    useCredentials: false,\n    cache: 'default',\n    redirect: 'follow',\n    integrity: '',\n    cryptoGraphicsNonceMetadata: '',\n    parserMetadata: '',\n    reloadNavigation: false,\n    historyNavigation: false,\n    userActivation: false,\n    taintedOrigin: false,\n    redirectCount: 0,\n    responseTainting: 'basic',\n    preventNoCacheCacheControlHeaderModification: false,\n    done: false,\n    timingAllowFailed: false,\n    ...init,\n    headersList: init.headersList\n      ? new HeadersList(init.headersList)\n      : new HeadersList()\n  }\n  request.url = request.urlList[0]\n  return request\n}\n\n// https://fetch.spec.whatwg.org/#concept-request-clone\nfunction cloneRequest (request) {\n  // To clone a request request, run these steps:\n\n  // 1. Let newRequest be a copy of request, except for its body.\n  const newRequest = makeRequest({ ...request, body: null })\n\n  // 2. If request\u2019s body is non-null, set newRequest\u2019s body to the\n  // result of cloning request\u2019s body.\n  if (request.body != null) {\n    newRequest.body = cloneBody(request.body)\n  }\n\n  // 3. Return newRequest.\n  return newRequest\n}\n\nObject.defineProperties(Request.prototype, {\n  method: kEnumerableProperty,\n  url: kEnumerableProperty,\n  headers: kEnumerableProperty,\n  redirect: kEnumerableProperty,\n  clone: kEnumerableProperty,\n  signal: kEnumerableProperty,\n  duplex: kEnumerableProperty,\n  destination: kEnumerableProperty,\n  body: kEnumerableProperty,\n  bodyUsed: kEnumerableProperty,\n  isHistoryNavigation: kEnumerableProperty,\n  isReloadNavigation: kEnumerableProperty,\n  keepalive: kEnumerableProperty,\n  integrity: kEnumerableProperty,\n  cache: kEnumerableProperty,\n  credentials: kEnumerableProperty,\n  attribute: kEnumerableProperty,\n  referrerPolicy: kEnumerableProperty,\n  referrer: kEnumerableProperty,\n  mode: kEnumerableProperty,\n  [Symbol.toStringTag]: {\n    value: 'Request',\n    configurable: true\n  }\n})\n\nwebidl.converters.Request = webidl.interfaceConverter(\n  Request\n)\n\n// https://fetch.spec.whatwg.org/#requestinfo\nwebidl.converters.RequestInfo = function (V) {\n  if (typeof V === 'string') {\n    return webidl.converters.USVString(V)\n  }\n\n  if (V instanceof Request) {\n    return webidl.converters.Request(V)\n  }\n\n  return webidl.converters.USVString(V)\n}\n\nwebidl.converters.AbortSignal = webidl.interfaceConverter(\n  AbortSignal\n)\n\n// https://fetch.spec.whatwg.org/#requestinit\nwebidl.converters.RequestInit = webidl.dictionaryConverter([\n  {\n    key: 'method',\n    converter: webidl.converters.ByteString\n  },\n  {\n    key: 'headers',\n    converter: webidl.converters.HeadersInit\n  },\n  {\n    key: 'body',\n    converter: webidl.nullableConverter(\n      webidl.converters.BodyInit\n    )\n  },\n  {\n    key: 'referrer',\n    converter: webidl.converters.USVString\n  },\n  {\n    key: 'referrerPolicy',\n    converter: webidl.converters.DOMString,\n    // https://w3c.github.io/webappsec-referrer-policy/#referrer-policy\n    allowedValues: referrerPolicy\n  },\n  {\n    key: 'mode',\n    converter: webidl.converters.DOMString,\n    // https://fetch.spec.whatwg.org/#concept-request-mode\n    allowedValues: requestMode\n  },\n  {\n    key: 'credentials',\n    converter: webidl.converters.DOMString,\n    // https://fetch.spec.whatwg.org/#requestcredentials\n    allowedValues: requestCredentials\n  },\n  {\n    key: 'cache',\n    converter: webidl.converters.DOMString,\n    // https://fetch.spec.whatwg.org/#requestcache\n    allowedValues: requestCache\n  },\n  {\n    key: 'redirect',\n    converter: webidl.converters.DOMString,\n    // https://fetch.spec.whatwg.org/#requestredirect\n    allowedValues: requestRedirect\n  },\n  {\n    key: 'integrity',\n    converter: webidl.converters.DOMString\n  },\n  {\n    key: 'keepalive',\n    converter: webidl.converters.boolean\n  },\n  {\n    key: 'signal',\n    converter: webidl.nullableConverter(\n      (signal) => webidl.converters.AbortSignal(\n        signal,\n        { strict: false }\n      )\n    )\n  },\n  {\n    key: 'window',\n    converter: webidl.converters.any\n  },\n  {\n    key: 'duplex',\n    converter: webidl.converters.DOMString,\n    allowedValues: requestDuplex\n  }\n])\n\nmodule.exports = { Request, makeRequest }\n", "// https://github.com/Ethan-Arrowood/undici-fetch\n\n'use strict'\n\nconst {\n  Response,\n  makeNetworkError,\n  makeAppropriateNetworkError,\n  filterResponse,\n  makeResponse\n} = require('./response')\nconst { Headers } = require('./headers')\nconst { Request, makeRequest } = require('./request')\nconst zlib = require('zlib')\nconst {\n  bytesMatch,\n  makePolicyContainer,\n  clonePolicyContainer,\n  requestBadPort,\n  TAOCheck,\n  appendRequestOriginHeader,\n  responseLocationURL,\n  requestCurrentURL,\n  setRequestReferrerPolicyOnRedirect,\n  tryUpgradeRequestToAPotentiallyTrustworthyURL,\n  createOpaqueTimingInfo,\n  appendFetchMetadata,\n  corsCheck,\n  crossOriginResourcePolicyCheck,\n  determineRequestsReferrer,\n  coarsenedSharedCurrentTime,\n  createDeferredPromise,\n  isBlobLike,\n  sameOrigin,\n  isCancelled,\n  isAborted,\n  isErrorLike,\n  fullyReadBody,\n  readableStreamClose,\n  isomorphicEncode,\n  urlIsLocal,\n  urlIsHttpHttpsScheme,\n  urlHasHttpsScheme\n} = require('./util')\nconst { kState, kHeaders, kGuard, kRealm } = require('./symbols')\nconst assert = require('assert')\nconst { safelyExtractBody } = require('./body')\nconst {\n  redirectStatusSet,\n  nullBodyStatus,\n  safeMethodsSet,\n  requestBodyHeader,\n  subresourceSet,\n  DOMException\n} = require('./constants')\nconst { kHeadersList } = require('../core/symbols')\nconst EE = require('events')\nconst { Readable, pipeline } = require('stream')\nconst { addAbortListener, isErrored, isReadable, nodeMajor, nodeMinor } = require('../core/util')\nconst { dataURLProcessor, serializeAMimeType } = require('./dataURL')\nconst { TransformStream } = require('stream/web')\nconst { getGlobalDispatcher } = require('../global')\nconst { webidl } = require('./webidl')\nconst { STATUS_CODES } = require('http')\nconst GET_OR_HEAD = ['GET', 'HEAD']\n\n/** @type {import('buffer').resolveObjectURL} */\nlet resolveObjectURL\nlet ReadableStream = globalThis.ReadableStream\n\nclass Fetch extends EE {\n  constructor (dispatcher) {\n    super()\n\n    this.dispatcher = dispatcher\n    this.connection = null\n    this.dump = false\n    this.state = 'ongoing'\n    // 2 terminated listeners get added per request,\n    // but only 1 gets removed. If there are 20 redirects,\n    // 21 listeners will be added.\n    // See https://github.com/nodejs/undici/issues/1711\n    // TODO (fix): Find and fix root cause for leaked listener.\n    this.setMaxListeners(21)\n  }\n\n  terminate (reason) {\n    if (this.state !== 'ongoing') {\n      return\n    }\n\n    this.state = 'terminated'\n    this.connection?.destroy(reason)\n    this.emit('terminated', reason)\n  }\n\n  // https://fetch.spec.whatwg.org/#fetch-controller-abort\n  abort (error) {\n    if (this.state !== 'ongoing') {\n      return\n    }\n\n    // 1. Set controller\u2019s state to \"aborted\".\n    this.state = 'aborted'\n\n    // 2. Let fallbackError be an \"AbortError\" DOMException.\n    // 3. Set error to fallbackError if it is not given.\n    if (!error) {\n      error = new DOMException('The operation was aborted.', 'AbortError')\n    }\n\n    // 4. Let serializedError be StructuredSerialize(error).\n    //    If that threw an exception, catch it, and let\n    //    serializedError be StructuredSerialize(fallbackError).\n\n    // 5. Set controller\u2019s serialized abort reason to serializedError.\n    this.serializedAbortReason = error\n\n    this.connection?.destroy(error)\n    this.emit('terminated', error)\n  }\n}\n\n// https://fetch.spec.whatwg.org/#fetch-method\nfunction fetch (input, init = {}) {\n  webidl.argumentLengthCheck(arguments, 1, { header: 'globalThis.fetch' })\n\n  // 1. Let p be a new promise.\n  const p = createDeferredPromise()\n\n  // 2. Let requestObject be the result of invoking the initial value of\n  // Request as constructor with input and init as arguments. If this throws\n  // an exception, reject p with it and return p.\n  let requestObject\n\n  try {\n    requestObject = new Request(input, init)\n  } catch (e) {\n    p.reject(e)\n    return p.promise\n  }\n\n  // 3. Let request be requestObject\u2019s request.\n  const request = requestObject[kState]\n\n  // 4. If requestObject\u2019s signal\u2019s aborted flag is set, then:\n  if (requestObject.signal.aborted) {\n    // 1. Abort the fetch() call with p, request, null, and\n    //    requestObject\u2019s signal\u2019s abort reason.\n    abortFetch(p, request, null, requestObject.signal.reason)\n\n    // 2. Return p.\n    return p.promise\n  }\n\n  // 5. Let globalObject be request\u2019s client\u2019s global object.\n  const globalObject = request.client.globalObject\n\n  // 6. If globalObject is a ServiceWorkerGlobalScope object, then set\n  // request\u2019s service-workers mode to \"none\".\n  if (globalObject?.constructor?.name === 'ServiceWorkerGlobalScope') {\n    request.serviceWorkers = 'none'\n  }\n\n  // 7. Let responseObject be null.\n  let responseObject = null\n\n  // 8. Let relevantRealm be this\u2019s relevant Realm.\n  const relevantRealm = null\n\n  // 9. Let locallyAborted be false.\n  let locallyAborted = false\n\n  // 10. Let controller be null.\n  let controller = null\n\n  // 11. Add the following abort steps to requestObject\u2019s signal:\n  addAbortListener(\n    requestObject.signal,\n    () => {\n      // 1. Set locallyAborted to true.\n      locallyAborted = true\n\n      // 2. Assert: controller is non-null.\n      assert(controller != null)\n\n      // 3. Abort controller with requestObject\u2019s signal\u2019s abort reason.\n      controller.abort(requestObject.signal.reason)\n\n      // 4. Abort the fetch() call with p, request, responseObject,\n      //    and requestObject\u2019s signal\u2019s abort reason.\n      abortFetch(p, request, responseObject, requestObject.signal.reason)\n    }\n  )\n\n  // 12. Let handleFetchDone given response response be to finalize and\n  // report timing with response, globalObject, and \"fetch\".\n  const handleFetchDone = (response) =>\n    finalizeAndReportTiming(response, 'fetch')\n\n  // 13. Set controller to the result of calling fetch given request,\n  // with processResponseEndOfBody set to handleFetchDone, and processResponse\n  // given response being these substeps:\n\n  const processResponse = (response) => {\n    // 1. If locallyAborted is true, terminate these substeps.\n    if (locallyAborted) {\n      return Promise.resolve()\n    }\n\n    // 2. If response\u2019s aborted flag is set, then:\n    if (response.aborted) {\n      // 1. Let deserializedError be the result of deserialize a serialized\n      //    abort reason given controller\u2019s serialized abort reason and\n      //    relevantRealm.\n\n      // 2. Abort the fetch() call with p, request, responseObject, and\n      //    deserializedError.\n\n      abortFetch(p, request, responseObject, controller.serializedAbortReason)\n      return Promise.resolve()\n    }\n\n    // 3. If response is a network error, then reject p with a TypeError\n    // and terminate these substeps.\n    if (response.type === 'error') {\n      p.reject(\n        Object.assign(new TypeError('fetch failed'), { cause: response.error })\n      )\n      return Promise.resolve()\n    }\n\n    // 4. Set responseObject to the result of creating a Response object,\n    // given response, \"immutable\", and relevantRealm.\n    responseObject = new Response()\n    responseObject[kState] = response\n    responseObject[kRealm] = relevantRealm\n    responseObject[kHeaders][kHeadersList] = response.headersList\n    responseObject[kHeaders][kGuard] = 'immutable'\n    responseObject[kHeaders][kRealm] = relevantRealm\n\n    // 5. Resolve p with responseObject.\n    p.resolve(responseObject)\n  }\n\n  controller = fetching({\n    request,\n    processResponseEndOfBody: handleFetchDone,\n    processResponse,\n    dispatcher: init.dispatcher ?? getGlobalDispatcher() // undici\n  })\n\n  // 14. Return p.\n  return p.promise\n}\n\n// https://fetch.spec.whatwg.org/#finalize-and-report-timing\nfunction finalizeAndReportTiming (response, initiatorType = 'other') {\n  // 1. If response is an aborted network error, then return.\n  if (response.type === 'error' && response.aborted) {\n    return\n  }\n\n  // 2. If response\u2019s URL list is null or empty, then return.\n  if (!response.urlList?.length) {\n    return\n  }\n\n  // 3. Let originalURL be response\u2019s URL list[0].\n  const originalURL = response.urlList[0]\n\n  // 4. Let timingInfo be response\u2019s timing info.\n  let timingInfo = response.timingInfo\n\n  // 5. Let cacheState be response\u2019s cache state.\n  let cacheState = response.cacheState\n\n  // 6. If originalURL\u2019s scheme is not an HTTP(S) scheme, then return.\n  if (!urlIsHttpHttpsScheme(originalURL)) {\n    return\n  }\n\n  // 7. If timingInfo is null, then return.\n  if (timingInfo === null) {\n    return\n  }\n\n  // 8. If response\u2019s timing allow passed flag is not set, then:\n  if (!response.timingAllowPassed) {\n    //  1. Set timingInfo to a the result of creating an opaque timing info for timingInfo.\n    timingInfo = createOpaqueTimingInfo({\n      startTime: timingInfo.startTime\n    })\n\n    //  2. Set cacheState to the empty string.\n    cacheState = ''\n  }\n\n  // 9. Set timingInfo\u2019s end time to the coarsened shared current time\n  // given global\u2019s relevant settings object\u2019s cross-origin isolated\n  // capability.\n  // TODO: given global\u2019s relevant settings object\u2019s cross-origin isolated\n  // capability?\n  timingInfo.endTime = coarsenedSharedCurrentTime()\n\n  // 10. Set response\u2019s timing info to timingInfo.\n  response.timingInfo = timingInfo\n\n  // 11. Mark resource timing for timingInfo, originalURL, initiatorType,\n  // global, and cacheState.\n  markResourceTiming(\n    timingInfo,\n    originalURL,\n    initiatorType,\n    globalThis,\n    cacheState\n  )\n}\n\n// https://w3c.github.io/resource-timing/#dfn-mark-resource-timing\nfunction markResourceTiming (timingInfo, originalURL, initiatorType, globalThis, cacheState) {\n  if (nodeMajor > 18 || (nodeMajor === 18 && nodeMinor >= 2)) {\n    performance.markResourceTiming(timingInfo, originalURL.href, initiatorType, globalThis, cacheState)\n  }\n}\n\n// https://fetch.spec.whatwg.org/#abort-fetch\nfunction abortFetch (p, request, responseObject, error) {\n  // Note: AbortSignal.reason was added in node v17.2.0\n  // which would give us an undefined error to reject with.\n  // Remove this once node v16 is no longer supported.\n  if (!error) {\n    error = new DOMException('The operation was aborted.', 'AbortError')\n  }\n\n  // 1. Reject promise with error.\n  p.reject(error)\n\n  // 2. If request\u2019s body is not null and is readable, then cancel request\u2019s\n  // body with error.\n  if (request.body != null && isReadable(request.body?.stream)) {\n    request.body.stream.cancel(error).catch((err) => {\n      if (err.code === 'ERR_INVALID_STATE') {\n        // Node bug?\n        return\n      }\n      throw err\n    })\n  }\n\n  // 3. If responseObject is null, then return.\n  if (responseObject == null) {\n    return\n  }\n\n  // 4. Let response be responseObject\u2019s response.\n  const response = responseObject[kState]\n\n  // 5. If response\u2019s body is not null and is readable, then error response\u2019s\n  // body with error.\n  if (response.body != null && isReadable(response.body?.stream)) {\n    response.body.stream.cancel(error).catch((err) => {\n      if (err.code === 'ERR_INVALID_STATE') {\n        // Node bug?\n        return\n      }\n      throw err\n    })\n  }\n}\n\n// https://fetch.spec.whatwg.org/#fetching\nfunction fetching ({\n  request,\n  processRequestBodyChunkLength,\n  processRequestEndOfBody,\n  processResponse,\n  processResponseEndOfBody,\n  processResponseConsumeBody,\n  useParallelQueue = false,\n  dispatcher // undici\n}) {\n  // 1. Let taskDestination be null.\n  let taskDestination = null\n\n  // 2. Let crossOriginIsolatedCapability be false.\n  let crossOriginIsolatedCapability = false\n\n  // 3. If request\u2019s client is non-null, then:\n  if (request.client != null) {\n    // 1. Set taskDestination to request\u2019s client\u2019s global object.\n    taskDestination = request.client.globalObject\n\n    // 2. Set crossOriginIsolatedCapability to request\u2019s client\u2019s cross-origin\n    // isolated capability.\n    crossOriginIsolatedCapability =\n      request.client.crossOriginIsolatedCapability\n  }\n\n  // 4. If useParallelQueue is true, then set taskDestination to the result of\n  // starting a new parallel queue.\n  // TODO\n\n  // 5. Let timingInfo be a new fetch timing info whose start time and\n  // post-redirect start time are the coarsened shared current time given\n  // crossOriginIsolatedCapability.\n  const currenTime = coarsenedSharedCurrentTime(crossOriginIsolatedCapability)\n  const timingInfo = createOpaqueTimingInfo({\n    startTime: currenTime\n  })\n\n  // 6. Let fetchParams be a new fetch params whose\n  // request is request,\n  // timing info is timingInfo,\n  // process request body chunk length is processRequestBodyChunkLength,\n  // process request end-of-body is processRequestEndOfBody,\n  // process response is processResponse,\n  // process response consume body is processResponseConsumeBody,\n  // process response end-of-body is processResponseEndOfBody,\n  // task destination is taskDestination,\n  // and cross-origin isolated capability is crossOriginIsolatedCapability.\n  const fetchParams = {\n    controller: new Fetch(dispatcher),\n    request,\n    timingInfo,\n    processRequestBodyChunkLength,\n    processRequestEndOfBody,\n    processResponse,\n    processResponseConsumeBody,\n    processResponseEndOfBody,\n    taskDestination,\n    crossOriginIsolatedCapability\n  }\n\n  // 7. If request\u2019s body is a byte sequence, then set request\u2019s body to\n  //    request\u2019s body as a body.\n  // NOTE: Since fetching is only called from fetch, body should already be\n  // extracted.\n  assert(!request.body || request.body.stream)\n\n  // 8. If request\u2019s window is \"client\", then set request\u2019s window to request\u2019s\n  // client, if request\u2019s client\u2019s global object is a Window object; otherwise\n  // \"no-window\".\n  if (request.window === 'client') {\n    // TODO: What if request.client is null?\n    request.window =\n      request.client?.globalObject?.constructor?.name === 'Window'\n        ? request.client\n        : 'no-window'\n  }\n\n  // 9. If request\u2019s origin is \"client\", then set request\u2019s origin to request\u2019s\n  // client\u2019s origin.\n  if (request.origin === 'client') {\n    // TODO: What if request.client is null?\n    request.origin = request.client?.origin\n  }\n\n  // 10. If all of the following conditions are true:\n  // TODO\n\n  // 11. If request\u2019s policy container is \"client\", then:\n  if (request.policyContainer === 'client') {\n    // 1. If request\u2019s client is non-null, then set request\u2019s policy\n    // container to a clone of request\u2019s client\u2019s policy container. [HTML]\n    if (request.client != null) {\n      request.policyContainer = clonePolicyContainer(\n        request.client.policyContainer\n      )\n    } else {\n      // 2. Otherwise, set request\u2019s policy container to a new policy\n      // container.\n      request.policyContainer = makePolicyContainer()\n    }\n  }\n\n  // 12. If request\u2019s header list does not contain `Accept`, then:\n  if (!request.headersList.contains('accept')) {\n    // 1. Let value be `*/*`.\n    const value = '*/*'\n\n    // 2. A user agent should set value to the first matching statement, if\n    // any, switching on request\u2019s destination:\n    // \"document\"\n    // \"frame\"\n    // \"iframe\"\n    // `text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8`\n    // \"image\"\n    // `image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5`\n    // \"style\"\n    // `text/css,*/*;q=0.1`\n    // TODO\n\n    // 3. Append `Accept`/value to request\u2019s header list.\n    request.headersList.append('accept', value)\n  }\n\n  // 13. If request\u2019s header list does not contain `Accept-Language`, then\n  // user agents should append `Accept-Language`/an appropriate value to\n  // request\u2019s header list.\n  if (!request.headersList.contains('accept-language')) {\n    request.headersList.append('accept-language', '*')\n  }\n\n  // 14. If request\u2019s priority is null, then use request\u2019s initiator and\n  // destination appropriately in setting request\u2019s priority to a\n  // user-agent-defined object.\n  if (request.priority === null) {\n    // TODO\n  }\n\n  // 15. If request is a subresource request, then:\n  if (subresourceSet.has(request.destination)) {\n    // TODO\n  }\n\n  // 16. Run main fetch given fetchParams.\n  mainFetch(fetchParams)\n    .catch(err => {\n      fetchParams.controller.terminate(err)\n    })\n\n  // 17. Return fetchParam's controller\n  return fetchParams.controller\n}\n\n// https://fetch.spec.whatwg.org/#concept-main-fetch\nasync function mainFetch (fetchParams, recursive = false) {\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let response be null.\n  let response = null\n\n  // 3. If request\u2019s local-URLs-only flag is set and request\u2019s current URL is\n  // not local, then set response to a network error.\n  if (request.localURLsOnly && !urlIsLocal(requestCurrentURL(request))) {\n    response = makeNetworkError('local URLs only')\n  }\n\n  // 4. Run report Content Security Policy violations for request.\n  // TODO\n\n  // 5. Upgrade request to a potentially trustworthy URL, if appropriate.\n  tryUpgradeRequestToAPotentiallyTrustworthyURL(request)\n\n  // 6. If should request be blocked due to a bad port, should fetching request\n  // be blocked as mixed content, or should request be blocked by Content\n  // Security Policy returns blocked, then set response to a network error.\n  if (requestBadPort(request) === 'blocked') {\n    response = makeNetworkError('bad port')\n  }\n  // TODO: should fetching request be blocked as mixed content?\n  // TODO: should request be blocked by Content Security Policy?\n\n  // 7. If request\u2019s referrer policy is the empty string, then set request\u2019s\n  // referrer policy to request\u2019s policy container\u2019s referrer policy.\n  if (request.referrerPolicy === '') {\n    request.referrerPolicy = request.policyContainer.referrerPolicy\n  }\n\n  // 8. If request\u2019s referrer is not \"no-referrer\", then set request\u2019s\n  // referrer to the result of invoking determine request\u2019s referrer.\n  if (request.referrer !== 'no-referrer') {\n    request.referrer = determineRequestsReferrer(request)\n  }\n\n  // 9. Set request\u2019s current URL\u2019s scheme to \"https\" if all of the following\n  // conditions are true:\n  // - request\u2019s current URL\u2019s scheme is \"http\"\n  // - request\u2019s current URL\u2019s host is a domain\n  // - Matching request\u2019s current URL\u2019s host per Known HSTS Host Domain Name\n  //   Matching results in either a superdomain match with an asserted\n  //   includeSubDomains directive or a congruent match (with or without an\n  //   asserted includeSubDomains directive). [HSTS]\n  // TODO\n\n  // 10. If recursive is false, then run the remaining steps in parallel.\n  // TODO\n\n  // 11. If response is null, then set response to the result of running\n  // the steps corresponding to the first matching statement:\n  if (response === null) {\n    response = await (async () => {\n      const currentURL = requestCurrentURL(request)\n\n      if (\n        // - request\u2019s current URL\u2019s origin is same origin with request\u2019s origin,\n        //   and request\u2019s response tainting is \"basic\"\n        (sameOrigin(currentURL, request.url) && request.responseTainting === 'basic') ||\n        // request\u2019s current URL\u2019s scheme is \"data\"\n        (currentURL.protocol === 'data:') ||\n        // - request\u2019s mode is \"navigate\" or \"websocket\"\n        (request.mode === 'navigate' || request.mode === 'websocket')\n      ) {\n        // 1. Set request\u2019s response tainting to \"basic\".\n        request.responseTainting = 'basic'\n\n        // 2. Return the result of running scheme fetch given fetchParams.\n        return await schemeFetch(fetchParams)\n      }\n\n      // request\u2019s mode is \"same-origin\"\n      if (request.mode === 'same-origin') {\n        // 1. Return a network error.\n        return makeNetworkError('request mode cannot be \"same-origin\"')\n      }\n\n      // request\u2019s mode is \"no-cors\"\n      if (request.mode === 'no-cors') {\n        // 1. If request\u2019s redirect mode is not \"follow\", then return a network\n        // error.\n        if (request.redirect !== 'follow') {\n          return makeNetworkError(\n            'redirect mode cannot be \"follow\" for \"no-cors\" request'\n          )\n        }\n\n        // 2. Set request\u2019s response tainting to \"opaque\".\n        request.responseTainting = 'opaque'\n\n        // 3. Return the result of running scheme fetch given fetchParams.\n        return await schemeFetch(fetchParams)\n      }\n\n      // request\u2019s current URL\u2019s scheme is not an HTTP(S) scheme\n      if (!urlIsHttpHttpsScheme(requestCurrentURL(request))) {\n        // Return a network error.\n        return makeNetworkError('URL scheme must be a HTTP(S) scheme')\n      }\n\n      // - request\u2019s use-CORS-preflight flag is set\n      // - request\u2019s unsafe-request flag is set and either request\u2019s method is\n      //   not a CORS-safelisted method or CORS-unsafe request-header names with\n      //   request\u2019s header list is not empty\n      //    1. Set request\u2019s response tainting to \"cors\".\n      //    2. Let corsWithPreflightResponse be the result of running HTTP fetch\n      //    given fetchParams and true.\n      //    3. If corsWithPreflightResponse is a network error, then clear cache\n      //    entries using request.\n      //    4. Return corsWithPreflightResponse.\n      // TODO\n\n      // Otherwise\n      //    1. Set request\u2019s response tainting to \"cors\".\n      request.responseTainting = 'cors'\n\n      //    2. Return the result of running HTTP fetch given fetchParams.\n      return await httpFetch(fetchParams)\n    })()\n  }\n\n  // 12. If recursive is true, then return response.\n  if (recursive) {\n    return response\n  }\n\n  // 13. If response is not a network error and response is not a filtered\n  // response, then:\n  if (response.status !== 0 && !response.internalResponse) {\n    // If request\u2019s response tainting is \"cors\", then:\n    if (request.responseTainting === 'cors') {\n      // 1. Let headerNames be the result of extracting header list values\n      // given `Access-Control-Expose-Headers` and response\u2019s header list.\n      // TODO\n      // 2. If request\u2019s credentials mode is not \"include\" and headerNames\n      // contains `*`, then set response\u2019s CORS-exposed header-name list to\n      // all unique header names in response\u2019s header list.\n      // TODO\n      // 3. Otherwise, if headerNames is not null or failure, then set\n      // response\u2019s CORS-exposed header-name list to headerNames.\n      // TODO\n    }\n\n    // Set response to the following filtered response with response as its\n    // internal response, depending on request\u2019s response tainting:\n    if (request.responseTainting === 'basic') {\n      response = filterResponse(response, 'basic')\n    } else if (request.responseTainting === 'cors') {\n      response = filterResponse(response, 'cors')\n    } else if (request.responseTainting === 'opaque') {\n      response = filterResponse(response, 'opaque')\n    } else {\n      assert(false)\n    }\n  }\n\n  // 14. Let internalResponse be response, if response is a network error,\n  // and response\u2019s internal response otherwise.\n  let internalResponse =\n    response.status === 0 ? response : response.internalResponse\n\n  // 15. If internalResponse\u2019s URL list is empty, then set it to a clone of\n  // request\u2019s URL list.\n  if (internalResponse.urlList.length === 0) {\n    internalResponse.urlList.push(...request.urlList)\n  }\n\n  // 16. If request\u2019s timing allow failed flag is unset, then set\n  // internalResponse\u2019s timing allow passed flag.\n  if (!request.timingAllowFailed) {\n    response.timingAllowPassed = true\n  }\n\n  // 17. If response is not a network error and any of the following returns\n  // blocked\n  // - should internalResponse to request be blocked as mixed content\n  // - should internalResponse to request be blocked by Content Security Policy\n  // - should internalResponse to request be blocked due to its MIME type\n  // - should internalResponse to request be blocked due to nosniff\n  // TODO\n\n  // 18. If response\u2019s type is \"opaque\", internalResponse\u2019s status is 206,\n  // internalResponse\u2019s range-requested flag is set, and request\u2019s header\n  // list does not contain `Range`, then set response and internalResponse\n  // to a network error.\n  if (\n    response.type === 'opaque' &&\n    internalResponse.status === 206 &&\n    internalResponse.rangeRequested &&\n    !request.headers.contains('range')\n  ) {\n    response = internalResponse = makeNetworkError()\n  }\n\n  // 19. If response is not a network error and either request\u2019s method is\n  // `HEAD` or `CONNECT`, or internalResponse\u2019s status is a null body status,\n  // set internalResponse\u2019s body to null and disregard any enqueuing toward\n  // it (if any).\n  if (\n    response.status !== 0 &&\n    (request.method === 'HEAD' ||\n      request.method === 'CONNECT' ||\n      nullBodyStatus.includes(internalResponse.status))\n  ) {\n    internalResponse.body = null\n    fetchParams.controller.dump = true\n  }\n\n  // 20. If request\u2019s integrity metadata is not the empty string, then:\n  if (request.integrity) {\n    // 1. Let processBodyError be this step: run fetch finale given fetchParams\n    // and a network error.\n    const processBodyError = (reason) =>\n      fetchFinale(fetchParams, makeNetworkError(reason))\n\n    // 2. If request\u2019s response tainting is \"opaque\", or response\u2019s body is null,\n    // then run processBodyError and abort these steps.\n    if (request.responseTainting === 'opaque' || response.body == null) {\n      processBodyError(response.error)\n      return\n    }\n\n    // 3. Let processBody given bytes be these steps:\n    const processBody = (bytes) => {\n      // 1. If bytes do not match request\u2019s integrity metadata,\n      // then run processBodyError and abort these steps. [SRI]\n      if (!bytesMatch(bytes, request.integrity)) {\n        processBodyError('integrity mismatch')\n        return\n      }\n\n      // 2. Set response\u2019s body to bytes as a body.\n      response.body = safelyExtractBody(bytes)[0]\n\n      // 3. Run fetch finale given fetchParams and response.\n      fetchFinale(fetchParams, response)\n    }\n\n    // 4. Fully read response\u2019s body given processBody and processBodyError.\n    await fullyReadBody(response.body, processBody, processBodyError)\n  } else {\n    // 21. Otherwise, run fetch finale given fetchParams and response.\n    fetchFinale(fetchParams, response)\n  }\n}\n\n// https://fetch.spec.whatwg.org/#concept-scheme-fetch\n// given a fetch params fetchParams\nfunction schemeFetch (fetchParams) {\n  // Note: since the connection is destroyed on redirect, which sets fetchParams to a\n  // cancelled state, we do not want this condition to trigger *unless* there have been\n  // no redirects. See https://github.com/nodejs/undici/issues/1776\n  // 1. If fetchParams is canceled, then return the appropriate network error for fetchParams.\n  if (isCancelled(fetchParams) && fetchParams.request.redirectCount === 0) {\n    return Promise.resolve(makeAppropriateNetworkError(fetchParams))\n  }\n\n  // 2. Let request be fetchParams\u2019s request.\n  const { request } = fetchParams\n\n  const { protocol: scheme } = requestCurrentURL(request)\n\n  // 3. Switch on request\u2019s current URL\u2019s scheme and run the associated steps:\n  switch (scheme) {\n    case 'about:': {\n      // If request\u2019s current URL\u2019s path is the string \"blank\", then return a new response\n      // whose status message is `OK`, header list is \u00AB (`Content-Type`, `text/html;charset=utf-8`) \u00BB,\n      // and body is the empty byte sequence as a body.\n\n      // Otherwise, return a network error.\n      return Promise.resolve(makeNetworkError('about scheme is not supported'))\n    }\n    case 'blob:': {\n      if (!resolveObjectURL) {\n        resolveObjectURL = require('buffer').resolveObjectURL\n      }\n\n      // 1. Let blobURLEntry be request\u2019s current URL\u2019s blob URL entry.\n      const blobURLEntry = requestCurrentURL(request)\n\n      // https://github.com/web-platform-tests/wpt/blob/7b0ebaccc62b566a1965396e5be7bb2bc06f841f/FileAPI/url/resources/fetch-tests.js#L52-L56\n      // Buffer.resolveObjectURL does not ignore URL queries.\n      if (blobURLEntry.search.length !== 0) {\n        return Promise.resolve(makeNetworkError('NetworkError when attempting to fetch resource.'))\n      }\n\n      const blobURLEntryObject = resolveObjectURL(blobURLEntry.toString())\n\n      // 2. If request\u2019s method is not `GET`, blobURLEntry is null, or blobURLEntry\u2019s\n      //    object is not a Blob object, then return a network error.\n      if (request.method !== 'GET' || !isBlobLike(blobURLEntryObject)) {\n        return Promise.resolve(makeNetworkError('invalid method'))\n      }\n\n      // 3. Let bodyWithType be the result of safely extracting blobURLEntry\u2019s object.\n      const bodyWithType = safelyExtractBody(blobURLEntryObject)\n\n      // 4. Let body be bodyWithType\u2019s body.\n      const body = bodyWithType[0]\n\n      // 5. Let length be body\u2019s length, serialized and isomorphic encoded.\n      const length = isomorphicEncode(`${body.length}`)\n\n      // 6. Let type be bodyWithType\u2019s type if it is non-null; otherwise the empty byte sequence.\n      const type = bodyWithType[1] ?? ''\n\n      // 7. Return a new response whose status message is `OK`, header list is\n      //    \u00AB (`Content-Length`, length), (`Content-Type`, type) \u00BB, and body is body.\n      const response = makeResponse({\n        statusText: 'OK',\n        headersList: [\n          ['content-length', { name: 'Content-Length', value: length }],\n          ['content-type', { name: 'Content-Type', value: type }]\n        ]\n      })\n\n      response.body = body\n\n      return Promise.resolve(response)\n    }\n    case 'data:': {\n      // 1. Let dataURLStruct be the result of running the\n      //    data: URL processor on request\u2019s current URL.\n      const currentURL = requestCurrentURL(request)\n      const dataURLStruct = dataURLProcessor(currentURL)\n\n      // 2. If dataURLStruct is failure, then return a\n      //    network error.\n      if (dataURLStruct === 'failure') {\n        return Promise.resolve(makeNetworkError('failed to fetch the data URL'))\n      }\n\n      // 3. Let mimeType be dataURLStruct\u2019s MIME type, serialized.\n      const mimeType = serializeAMimeType(dataURLStruct.mimeType)\n\n      // 4. Return a response whose status message is `OK`,\n      //    header list is \u00AB (`Content-Type`, mimeType) \u00BB,\n      //    and body is dataURLStruct\u2019s body as a body.\n      return Promise.resolve(makeResponse({\n        statusText: 'OK',\n        headersList: [\n          ['content-type', { name: 'Content-Type', value: mimeType }]\n        ],\n        body: safelyExtractBody(dataURLStruct.body)[0]\n      }))\n    }\n    case 'file:': {\n      // For now, unfortunate as it is, file URLs are left as an exercise for the reader.\n      // When in doubt, return a network error.\n      return Promise.resolve(makeNetworkError('not implemented... yet...'))\n    }\n    case 'http:':\n    case 'https:': {\n      // Return the result of running HTTP fetch given fetchParams.\n\n      return httpFetch(fetchParams)\n        .catch((err) => makeNetworkError(err))\n    }\n    default: {\n      return Promise.resolve(makeNetworkError('unknown scheme'))\n    }\n  }\n}\n\n// https://fetch.spec.whatwg.org/#finalize-response\nfunction finalizeResponse (fetchParams, response) {\n  // 1. Set fetchParams\u2019s request\u2019s done flag.\n  fetchParams.request.done = true\n\n  // 2, If fetchParams\u2019s process response done is not null, then queue a fetch\n  // task to run fetchParams\u2019s process response done given response, with\n  // fetchParams\u2019s task destination.\n  if (fetchParams.processResponseDone != null) {\n    queueMicrotask(() => fetchParams.processResponseDone(response))\n  }\n}\n\n// https://fetch.spec.whatwg.org/#fetch-finale\nfunction fetchFinale (fetchParams, response) {\n  // 1. If response is a network error, then:\n  if (response.type === 'error') {\n    // 1. Set response\u2019s URL list to \u00AB fetchParams\u2019s request\u2019s URL list[0] \u00BB.\n    response.urlList = [fetchParams.request.urlList[0]]\n\n    // 2. Set response\u2019s timing info to the result of creating an opaque timing\n    // info for fetchParams\u2019s timing info.\n    response.timingInfo = createOpaqueTimingInfo({\n      startTime: fetchParams.timingInfo.startTime\n    })\n  }\n\n  // 2. Let processResponseEndOfBody be the following steps:\n  const processResponseEndOfBody = () => {\n    // 1. Set fetchParams\u2019s request\u2019s done flag.\n    fetchParams.request.done = true\n\n    // If fetchParams\u2019s process response end-of-body is not null,\n    // then queue a fetch task to run fetchParams\u2019s process response\n    // end-of-body given response with fetchParams\u2019s task destination.\n    if (fetchParams.processResponseEndOfBody != null) {\n      queueMicrotask(() => fetchParams.processResponseEndOfBody(response))\n    }\n  }\n\n  // 3. If fetchParams\u2019s process response is non-null, then queue a fetch task\n  // to run fetchParams\u2019s process response given response, with fetchParams\u2019s\n  // task destination.\n  if (fetchParams.processResponse != null) {\n    queueMicrotask(() => fetchParams.processResponse(response))\n  }\n\n  // 4. If response\u2019s body is null, then run processResponseEndOfBody.\n  if (response.body == null) {\n    processResponseEndOfBody()\n  } else {\n  // 5. Otherwise:\n\n    // 1. Let transformStream be a new a TransformStream.\n\n    // 2. Let identityTransformAlgorithm be an algorithm which, given chunk,\n    // enqueues chunk in transformStream.\n    const identityTransformAlgorithm = (chunk, controller) => {\n      controller.enqueue(chunk)\n    }\n\n    // 3. Set up transformStream with transformAlgorithm set to identityTransformAlgorithm\n    // and flushAlgorithm set to processResponseEndOfBody.\n    const transformStream = new TransformStream({\n      start () {},\n      transform: identityTransformAlgorithm,\n      flush: processResponseEndOfBody\n    }, {\n      size () {\n        return 1\n      }\n    }, {\n      size () {\n        return 1\n      }\n    })\n\n    // 4. Set response\u2019s body to the result of piping response\u2019s body through transformStream.\n    response.body = { stream: response.body.stream.pipeThrough(transformStream) }\n  }\n\n  // 6. If fetchParams\u2019s process response consume body is non-null, then:\n  if (fetchParams.processResponseConsumeBody != null) {\n    // 1. Let processBody given nullOrBytes be this step: run fetchParams\u2019s\n    // process response consume body given response and nullOrBytes.\n    const processBody = (nullOrBytes) => fetchParams.processResponseConsumeBody(response, nullOrBytes)\n\n    // 2. Let processBodyError be this step: run fetchParams\u2019s process\n    // response consume body given response and failure.\n    const processBodyError = (failure) => fetchParams.processResponseConsumeBody(response, failure)\n\n    // 3. If response\u2019s body is null, then queue a fetch task to run processBody\n    // given null, with fetchParams\u2019s task destination.\n    if (response.body == null) {\n      queueMicrotask(() => processBody(null))\n    } else {\n      // 4. Otherwise, fully read response\u2019s body given processBody, processBodyError,\n      // and fetchParams\u2019s task destination.\n      return fullyReadBody(response.body, processBody, processBodyError)\n    }\n    return Promise.resolve()\n  }\n}\n\n// https://fetch.spec.whatwg.org/#http-fetch\nasync function httpFetch (fetchParams) {\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let response be null.\n  let response = null\n\n  // 3. Let actualResponse be null.\n  let actualResponse = null\n\n  // 4. Let timingInfo be fetchParams\u2019s timing info.\n  const timingInfo = fetchParams.timingInfo\n\n  // 5. If request\u2019s service-workers mode is \"all\", then:\n  if (request.serviceWorkers === 'all') {\n    // TODO\n  }\n\n  // 6. If response is null, then:\n  if (response === null) {\n    // 1. If makeCORSPreflight is true and one of these conditions is true:\n    // TODO\n\n    // 2. If request\u2019s redirect mode is \"follow\", then set request\u2019s\n    // service-workers mode to \"none\".\n    if (request.redirect === 'follow') {\n      request.serviceWorkers = 'none'\n    }\n\n    // 3. Set response and actualResponse to the result of running\n    // HTTP-network-or-cache fetch given fetchParams.\n    actualResponse = response = await httpNetworkOrCacheFetch(fetchParams)\n\n    // 4. If request\u2019s response tainting is \"cors\" and a CORS check\n    // for request and response returns failure, then return a network error.\n    if (\n      request.responseTainting === 'cors' &&\n      corsCheck(request, response) === 'failure'\n    ) {\n      return makeNetworkError('cors failure')\n    }\n\n    // 5. If the TAO check for request and response returns failure, then set\n    // request\u2019s timing allow failed flag.\n    if (TAOCheck(request, response) === 'failure') {\n      request.timingAllowFailed = true\n    }\n  }\n\n  // 7. If either request\u2019s response tainting or response\u2019s type\n  // is \"opaque\", and the cross-origin resource policy check with\n  // request\u2019s origin, request\u2019s client, request\u2019s destination,\n  // and actualResponse returns blocked, then return a network error.\n  if (\n    (request.responseTainting === 'opaque' || response.type === 'opaque') &&\n    crossOriginResourcePolicyCheck(\n      request.origin,\n      request.client,\n      request.destination,\n      actualResponse\n    ) === 'blocked'\n  ) {\n    return makeNetworkError('blocked')\n  }\n\n  // 8. If actualResponse\u2019s status is a redirect status, then:\n  if (redirectStatusSet.has(actualResponse.status)) {\n    // 1. If actualResponse\u2019s status is not 303, request\u2019s body is not null,\n    // and the connection uses HTTP/2, then user agents may, and are even\n    // encouraged to, transmit an RST_STREAM frame.\n    // See, https://github.com/whatwg/fetch/issues/1288\n    if (request.redirect !== 'manual') {\n      fetchParams.controller.connection.destroy()\n    }\n\n    // 2. Switch on request\u2019s redirect mode:\n    if (request.redirect === 'error') {\n      // Set response to a network error.\n      response = makeNetworkError('unexpected redirect')\n    } else if (request.redirect === 'manual') {\n      // Set response to an opaque-redirect filtered response whose internal\n      // response is actualResponse.\n      // NOTE(spec): On the web this would return an `opaqueredirect` response,\n      // but that doesn't make sense server side.\n      // See https://github.com/nodejs/undici/issues/1193.\n      response = actualResponse\n    } else if (request.redirect === 'follow') {\n      // Set response to the result of running HTTP-redirect fetch given\n      // fetchParams and response.\n      response = await httpRedirectFetch(fetchParams, response)\n    } else {\n      assert(false)\n    }\n  }\n\n  // 9. Set response\u2019s timing info to timingInfo.\n  response.timingInfo = timingInfo\n\n  // 10. Return response.\n  return response\n}\n\n// https://fetch.spec.whatwg.org/#http-redirect-fetch\nfunction httpRedirectFetch (fetchParams, response) {\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let actualResponse be response, if response is not a filtered response,\n  // and response\u2019s internal response otherwise.\n  const actualResponse = response.internalResponse\n    ? response.internalResponse\n    : response\n\n  // 3. Let locationURL be actualResponse\u2019s location URL given request\u2019s current\n  // URL\u2019s fragment.\n  let locationURL\n\n  try {\n    locationURL = responseLocationURL(\n      actualResponse,\n      requestCurrentURL(request).hash\n    )\n\n    // 4. If locationURL is null, then return response.\n    if (locationURL == null) {\n      return response\n    }\n  } catch (err) {\n    // 5. If locationURL is failure, then return a network error.\n    return Promise.resolve(makeNetworkError(err))\n  }\n\n  // 6. If locationURL\u2019s scheme is not an HTTP(S) scheme, then return a network\n  // error.\n  if (!urlIsHttpHttpsScheme(locationURL)) {\n    return Promise.resolve(makeNetworkError('URL scheme must be a HTTP(S) scheme'))\n  }\n\n  // 7. If request\u2019s redirect count is 20, then return a network error.\n  if (request.redirectCount === 20) {\n    return Promise.resolve(makeNetworkError('redirect count exceeded'))\n  }\n\n  // 8. Increase request\u2019s redirect count by 1.\n  request.redirectCount += 1\n\n  // 9. If request\u2019s mode is \"cors\", locationURL includes credentials, and\n  // request\u2019s origin is not same origin with locationURL\u2019s origin, then return\n  //  a network error.\n  if (\n    request.mode === 'cors' &&\n    (locationURL.username || locationURL.password) &&\n    !sameOrigin(request, locationURL)\n  ) {\n    return Promise.resolve(makeNetworkError('cross origin not allowed for request mode \"cors\"'))\n  }\n\n  // 10. If request\u2019s response tainting is \"cors\" and locationURL includes\n  // credentials, then return a network error.\n  if (\n    request.responseTainting === 'cors' &&\n    (locationURL.username || locationURL.password)\n  ) {\n    return Promise.resolve(makeNetworkError(\n      'URL cannot contain credentials for request mode \"cors\"'\n    ))\n  }\n\n  // 11. If actualResponse\u2019s status is not 303, request\u2019s body is non-null,\n  // and request\u2019s body\u2019s source is null, then return a network error.\n  if (\n    actualResponse.status !== 303 &&\n    request.body != null &&\n    request.body.source == null\n  ) {\n    return Promise.resolve(makeNetworkError())\n  }\n\n  // 12. If one of the following is true\n  // - actualResponse\u2019s status is 301 or 302 and request\u2019s method is `POST`\n  // - actualResponse\u2019s status is 303 and request\u2019s method is not `GET` or `HEAD`\n  if (\n    ([301, 302].includes(actualResponse.status) && request.method === 'POST') ||\n    (actualResponse.status === 303 &&\n      !GET_OR_HEAD.includes(request.method))\n  ) {\n    // then:\n    // 1. Set request\u2019s method to `GET` and request\u2019s body to null.\n    request.method = 'GET'\n    request.body = null\n\n    // 2. For each headerName of request-body-header name, delete headerName from\n    // request\u2019s header list.\n    for (const headerName of requestBodyHeader) {\n      request.headersList.delete(headerName)\n    }\n  }\n\n  // 13. If request\u2019s current URL\u2019s origin is not same origin with locationURL\u2019s\n  //     origin, then for each headerName of CORS non-wildcard request-header name,\n  //     delete headerName from request\u2019s header list.\n  if (!sameOrigin(requestCurrentURL(request), locationURL)) {\n    // https://fetch.spec.whatwg.org/#cors-non-wildcard-request-header-name\n    request.headersList.delete('authorization')\n\n    // https://fetch.spec.whatwg.org/#authentication-entries\n    request.headersList.delete('proxy-authorization', true)\n\n    // \"Cookie\" and \"Host\" are forbidden request-headers, which undici doesn't implement.\n    request.headersList.delete('cookie')\n    request.headersList.delete('host')\n  }\n\n  // 14. If request\u2019s body is non-null, then set request\u2019s body to the first return\n  // value of safely extracting request\u2019s body\u2019s source.\n  if (request.body != null) {\n    assert(request.body.source != null)\n    request.body = safelyExtractBody(request.body.source)[0]\n  }\n\n  // 15. Let timingInfo be fetchParams\u2019s timing info.\n  const timingInfo = fetchParams.timingInfo\n\n  // 16. Set timingInfo\u2019s redirect end time and post-redirect start time to the\n  // coarsened shared current time given fetchParams\u2019s cross-origin isolated\n  // capability.\n  timingInfo.redirectEndTime = timingInfo.postRedirectStartTime =\n    coarsenedSharedCurrentTime(fetchParams.crossOriginIsolatedCapability)\n\n  // 17. If timingInfo\u2019s redirect start time is 0, then set timingInfo\u2019s\n  //  redirect start time to timingInfo\u2019s start time.\n  if (timingInfo.redirectStartTime === 0) {\n    timingInfo.redirectStartTime = timingInfo.startTime\n  }\n\n  // 18. Append locationURL to request\u2019s URL list.\n  request.urlList.push(locationURL)\n\n  // 19. Invoke set request\u2019s referrer policy on redirect on request and\n  // actualResponse.\n  setRequestReferrerPolicyOnRedirect(request, actualResponse)\n\n  // 20. Return the result of running main fetch given fetchParams and true.\n  return mainFetch(fetchParams, true)\n}\n\n// https://fetch.spec.whatwg.org/#http-network-or-cache-fetch\nasync function httpNetworkOrCacheFetch (\n  fetchParams,\n  isAuthenticationFetch = false,\n  isNewConnectionFetch = false\n) {\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let httpFetchParams be null.\n  let httpFetchParams = null\n\n  // 3. Let httpRequest be null.\n  let httpRequest = null\n\n  // 4. Let response be null.\n  let response = null\n\n  // 5. Let storedResponse be null.\n  // TODO: cache\n\n  // 6. Let httpCache be null.\n  const httpCache = null\n\n  // 7. Let the revalidatingFlag be unset.\n  const revalidatingFlag = false\n\n  // 8. Run these steps, but abort when the ongoing fetch is terminated:\n\n  //    1. If request\u2019s window is \"no-window\" and request\u2019s redirect mode is\n  //    \"error\", then set httpFetchParams to fetchParams and httpRequest to\n  //    request.\n  if (request.window === 'no-window' && request.redirect === 'error') {\n    httpFetchParams = fetchParams\n    httpRequest = request\n  } else {\n    // Otherwise:\n\n    // 1. Set httpRequest to a clone of request.\n    httpRequest = makeRequest(request)\n\n    // 2. Set httpFetchParams to a copy of fetchParams.\n    httpFetchParams = { ...fetchParams }\n\n    // 3. Set httpFetchParams\u2019s request to httpRequest.\n    httpFetchParams.request = httpRequest\n  }\n\n  //    3. Let includeCredentials be true if one of\n  const includeCredentials =\n    request.credentials === 'include' ||\n    (request.credentials === 'same-origin' &&\n      request.responseTainting === 'basic')\n\n  //    4. Let contentLength be httpRequest\u2019s body\u2019s length, if httpRequest\u2019s\n  //    body is non-null; otherwise null.\n  const contentLength = httpRequest.body ? httpRequest.body.length : null\n\n  //    5. Let contentLengthHeaderValue be null.\n  let contentLengthHeaderValue = null\n\n  //    6. If httpRequest\u2019s body is null and httpRequest\u2019s method is `POST` or\n  //    `PUT`, then set contentLengthHeaderValue to `0`.\n  if (\n    httpRequest.body == null &&\n    ['POST', 'PUT'].includes(httpRequest.method)\n  ) {\n    contentLengthHeaderValue = '0'\n  }\n\n  //    7. If contentLength is non-null, then set contentLengthHeaderValue to\n  //    contentLength, serialized and isomorphic encoded.\n  if (contentLength != null) {\n    contentLengthHeaderValue = isomorphicEncode(`${contentLength}`)\n  }\n\n  //    8. If contentLengthHeaderValue is non-null, then append\n  //    `Content-Length`/contentLengthHeaderValue to httpRequest\u2019s header\n  //    list.\n  if (contentLengthHeaderValue != null) {\n    httpRequest.headersList.append('content-length', contentLengthHeaderValue)\n  }\n\n  //    9. If contentLengthHeaderValue is non-null, then append (`Content-Length`,\n  //    contentLengthHeaderValue) to httpRequest\u2019s header list.\n\n  //    10. If contentLength is non-null and httpRequest\u2019s keepalive is true,\n  //    then:\n  if (contentLength != null && httpRequest.keepalive) {\n    // NOTE: keepalive is a noop outside of browser context.\n  }\n\n  //    11. If httpRequest\u2019s referrer is a URL, then append\n  //    `Referer`/httpRequest\u2019s referrer, serialized and isomorphic encoded,\n  //     to httpRequest\u2019s header list.\n  if (httpRequest.referrer instanceof URL) {\n    httpRequest.headersList.append('referer', isomorphicEncode(httpRequest.referrer.href))\n  }\n\n  //    12. Append a request `Origin` header for httpRequest.\n  appendRequestOriginHeader(httpRequest)\n\n  //    13. Append the Fetch metadata headers for httpRequest. [FETCH-METADATA]\n  appendFetchMetadata(httpRequest)\n\n  //    14. If httpRequest\u2019s header list does not contain `User-Agent`, then\n  //    user agents should append `User-Agent`/default `User-Agent` value to\n  //    httpRequest\u2019s header list.\n  if (!httpRequest.headersList.contains('user-agent')) {\n    httpRequest.headersList.append('user-agent', typeof esbuildDetection === 'undefined' ? 'undici' : 'node')\n  }\n\n  //    15. If httpRequest\u2019s cache mode is \"default\" and httpRequest\u2019s header\n  //    list contains `If-Modified-Since`, `If-None-Match`,\n  //    `If-Unmodified-Since`, `If-Match`, or `If-Range`, then set\n  //    httpRequest\u2019s cache mode to \"no-store\".\n  if (\n    httpRequest.cache === 'default' &&\n    (httpRequest.headersList.contains('if-modified-since') ||\n      httpRequest.headersList.contains('if-none-match') ||\n      httpRequest.headersList.contains('if-unmodified-since') ||\n      httpRequest.headersList.contains('if-match') ||\n      httpRequest.headersList.contains('if-range'))\n  ) {\n    httpRequest.cache = 'no-store'\n  }\n\n  //    16. If httpRequest\u2019s cache mode is \"no-cache\", httpRequest\u2019s prevent\n  //    no-cache cache-control header modification flag is unset, and\n  //    httpRequest\u2019s header list does not contain `Cache-Control`, then append\n  //    `Cache-Control`/`max-age=0` to httpRequest\u2019s header list.\n  if (\n    httpRequest.cache === 'no-cache' &&\n    !httpRequest.preventNoCacheCacheControlHeaderModification &&\n    !httpRequest.headersList.contains('cache-control')\n  ) {\n    httpRequest.headersList.append('cache-control', 'max-age=0')\n  }\n\n  //    17. If httpRequest\u2019s cache mode is \"no-store\" or \"reload\", then:\n  if (httpRequest.cache === 'no-store' || httpRequest.cache === 'reload') {\n    // 1. If httpRequest\u2019s header list does not contain `Pragma`, then append\n    // `Pragma`/`no-cache` to httpRequest\u2019s header list.\n    if (!httpRequest.headersList.contains('pragma')) {\n      httpRequest.headersList.append('pragma', 'no-cache')\n    }\n\n    // 2. If httpRequest\u2019s header list does not contain `Cache-Control`,\n    // then append `Cache-Control`/`no-cache` to httpRequest\u2019s header list.\n    if (!httpRequest.headersList.contains('cache-control')) {\n      httpRequest.headersList.append('cache-control', 'no-cache')\n    }\n  }\n\n  //    18. If httpRequest\u2019s header list contains `Range`, then append\n  //    `Accept-Encoding`/`identity` to httpRequest\u2019s header list.\n  if (httpRequest.headersList.contains('range')) {\n    httpRequest.headersList.append('accept-encoding', 'identity')\n  }\n\n  //    19. Modify httpRequest\u2019s header list per HTTP. Do not append a given\n  //    header if httpRequest\u2019s header list contains that header\u2019s name.\n  //    TODO: https://github.com/whatwg/fetch/issues/1285#issuecomment-896560129\n  if (!httpRequest.headersList.contains('accept-encoding')) {\n    if (urlHasHttpsScheme(requestCurrentURL(httpRequest))) {\n      httpRequest.headersList.append('accept-encoding', 'br, gzip, deflate')\n    } else {\n      httpRequest.headersList.append('accept-encoding', 'gzip, deflate')\n    }\n  }\n\n  httpRequest.headersList.delete('host')\n\n  //    20. If includeCredentials is true, then:\n  if (includeCredentials) {\n    // 1. If the user agent is not configured to block cookies for httpRequest\n    // (see section 7 of [COOKIES]), then:\n    // TODO: credentials\n    // 2. If httpRequest\u2019s header list does not contain `Authorization`, then:\n    // TODO: credentials\n  }\n\n  //    21. If there\u2019s a proxy-authentication entry, use it as appropriate.\n  //    TODO: proxy-authentication\n\n  //    22. Set httpCache to the result of determining the HTTP cache\n  //    partition, given httpRequest.\n  //    TODO: cache\n\n  //    23. If httpCache is null, then set httpRequest\u2019s cache mode to\n  //    \"no-store\".\n  if (httpCache == null) {\n    httpRequest.cache = 'no-store'\n  }\n\n  //    24. If httpRequest\u2019s cache mode is neither \"no-store\" nor \"reload\",\n  //    then:\n  if (httpRequest.mode !== 'no-store' && httpRequest.mode !== 'reload') {\n    // TODO: cache\n  }\n\n  // 9. If aborted, then return the appropriate network error for fetchParams.\n  // TODO\n\n  // 10. If response is null, then:\n  if (response == null) {\n    // 1. If httpRequest\u2019s cache mode is \"only-if-cached\", then return a\n    // network error.\n    if (httpRequest.mode === 'only-if-cached') {\n      return makeNetworkError('only if cached')\n    }\n\n    // 2. Let forwardResponse be the result of running HTTP-network fetch\n    // given httpFetchParams, includeCredentials, and isNewConnectionFetch.\n    const forwardResponse = await httpNetworkFetch(\n      httpFetchParams,\n      includeCredentials,\n      isNewConnectionFetch\n    )\n\n    // 3. If httpRequest\u2019s method is unsafe and forwardResponse\u2019s status is\n    // in the range 200 to 399, inclusive, invalidate appropriate stored\n    // responses in httpCache, as per the \"Invalidation\" chapter of HTTP\n    // Caching, and set storedResponse to null. [HTTP-CACHING]\n    if (\n      !safeMethodsSet.has(httpRequest.method) &&\n      forwardResponse.status >= 200 &&\n      forwardResponse.status <= 399\n    ) {\n      // TODO: cache\n    }\n\n    // 4. If the revalidatingFlag is set and forwardResponse\u2019s status is 304,\n    // then:\n    if (revalidatingFlag && forwardResponse.status === 304) {\n      // TODO: cache\n    }\n\n    // 5. If response is null, then:\n    if (response == null) {\n      // 1. Set response to forwardResponse.\n      response = forwardResponse\n\n      // 2. Store httpRequest and forwardResponse in httpCache, as per the\n      // \"Storing Responses in Caches\" chapter of HTTP Caching. [HTTP-CACHING]\n      // TODO: cache\n    }\n  }\n\n  // 11. Set response\u2019s URL list to a clone of httpRequest\u2019s URL list.\n  response.urlList = [...httpRequest.urlList]\n\n  // 12. If httpRequest\u2019s header list contains `Range`, then set response\u2019s\n  // range-requested flag.\n  if (httpRequest.headersList.contains('range')) {\n    response.rangeRequested = true\n  }\n\n  // 13. Set response\u2019s request-includes-credentials to includeCredentials.\n  response.requestIncludesCredentials = includeCredentials\n\n  // 14. If response\u2019s status is 401, httpRequest\u2019s response tainting is not\n  // \"cors\", includeCredentials is true, and request\u2019s window is an environment\n  // settings object, then:\n  // TODO\n\n  // 15. If response\u2019s status is 407, then:\n  if (response.status === 407) {\n    // 1. If request\u2019s window is \"no-window\", then return a network error.\n    if (request.window === 'no-window') {\n      return makeNetworkError()\n    }\n\n    // 2. ???\n\n    // 3. If fetchParams is canceled, then return the appropriate network error for fetchParams.\n    if (isCancelled(fetchParams)) {\n      return makeAppropriateNetworkError(fetchParams)\n    }\n\n    // 4. Prompt the end user as appropriate in request\u2019s window and store\n    // the result as a proxy-authentication entry. [HTTP-AUTH]\n    // TODO: Invoke some kind of callback?\n\n    // 5. Set response to the result of running HTTP-network-or-cache fetch given\n    // fetchParams.\n    // TODO\n    return makeNetworkError('proxy authentication required')\n  }\n\n  // 16. If all of the following are true\n  if (\n    // response\u2019s status is 421\n    response.status === 421 &&\n    // isNewConnectionFetch is false\n    !isNewConnectionFetch &&\n    // request\u2019s body is null, or request\u2019s body is non-null and request\u2019s body\u2019s source is non-null\n    (request.body == null || request.body.source != null)\n  ) {\n    // then:\n\n    // 1. If fetchParams is canceled, then return the appropriate network error for fetchParams.\n    if (isCancelled(fetchParams)) {\n      return makeAppropriateNetworkError(fetchParams)\n    }\n\n    // 2. Set response to the result of running HTTP-network-or-cache\n    // fetch given fetchParams, isAuthenticationFetch, and true.\n\n    // TODO (spec): The spec doesn't specify this but we need to cancel\n    // the active response before we can start a new one.\n    // https://github.com/whatwg/fetch/issues/1293\n    fetchParams.controller.connection.destroy()\n\n    response = await httpNetworkOrCacheFetch(\n      fetchParams,\n      isAuthenticationFetch,\n      true\n    )\n  }\n\n  // 17. If isAuthenticationFetch is true, then create an authentication entry\n  if (isAuthenticationFetch) {\n    // TODO\n  }\n\n  // 18. Return response.\n  return response\n}\n\n// https://fetch.spec.whatwg.org/#http-network-fetch\nasync function httpNetworkFetch (\n  fetchParams,\n  includeCredentials = false,\n  forceNewConnection = false\n) {\n  assert(!fetchParams.controller.connection || fetchParams.controller.connection.destroyed)\n\n  fetchParams.controller.connection = {\n    abort: null,\n    destroyed: false,\n    destroy (err) {\n      if (!this.destroyed) {\n        this.destroyed = true\n        this.abort?.(err ?? new DOMException('The operation was aborted.', 'AbortError'))\n      }\n    }\n  }\n\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let response be null.\n  let response = null\n\n  // 3. Let timingInfo be fetchParams\u2019s timing info.\n  const timingInfo = fetchParams.timingInfo\n\n  // 4. Let httpCache be the result of determining the HTTP cache partition,\n  // given request.\n  // TODO: cache\n  const httpCache = null\n\n  // 5. If httpCache is null, then set request\u2019s cache mode to \"no-store\".\n  if (httpCache == null) {\n    request.cache = 'no-store'\n  }\n\n  // 6. Let networkPartitionKey be the result of determining the network\n  // partition key given request.\n  // TODO\n\n  // 7. Let newConnection be \"yes\" if forceNewConnection is true; otherwise\n  // \"no\".\n  const newConnection = forceNewConnection ? 'yes' : 'no' // eslint-disable-line no-unused-vars\n\n  // 8. Switch on request\u2019s mode:\n  if (request.mode === 'websocket') {\n    // Let connection be the result of obtaining a WebSocket connection,\n    // given request\u2019s current URL.\n    // TODO\n  } else {\n    // Let connection be the result of obtaining a connection, given\n    // networkPartitionKey, request\u2019s current URL\u2019s origin,\n    // includeCredentials, and forceNewConnection.\n    // TODO\n  }\n\n  // 9. Run these steps, but abort when the ongoing fetch is terminated:\n\n  //    1. If connection is failure, then return a network error.\n\n  //    2. Set timingInfo\u2019s final connection timing info to the result of\n  //    calling clamp and coarsen connection timing info with connection\u2019s\n  //    timing info, timingInfo\u2019s post-redirect start time, and fetchParams\u2019s\n  //    cross-origin isolated capability.\n\n  //    3. If connection is not an HTTP/2 connection, request\u2019s body is non-null,\n  //    and request\u2019s body\u2019s source is null, then append (`Transfer-Encoding`,\n  //    `chunked`) to request\u2019s header list.\n\n  //    4. Set timingInfo\u2019s final network-request start time to the coarsened\n  //    shared current time given fetchParams\u2019s cross-origin isolated\n  //    capability.\n\n  //    5. Set response to the result of making an HTTP request over connection\n  //    using request with the following caveats:\n\n  //        - Follow the relevant requirements from HTTP. [HTTP] [HTTP-SEMANTICS]\n  //        [HTTP-COND] [HTTP-CACHING] [HTTP-AUTH]\n\n  //        - If request\u2019s body is non-null, and request\u2019s body\u2019s source is null,\n  //        then the user agent may have a buffer of up to 64 kibibytes and store\n  //        a part of request\u2019s body in that buffer. If the user agent reads from\n  //        request\u2019s body beyond that buffer\u2019s size and the user agent needs to\n  //        resend request, then instead return a network error.\n\n  //        - Set timingInfo\u2019s final network-response start time to the coarsened\n  //        shared current time given fetchParams\u2019s cross-origin isolated capability,\n  //        immediately after the user agent\u2019s HTTP parser receives the first byte\n  //        of the response (e.g., frame header bytes for HTTP/2 or response status\n  //        line for HTTP/1.x).\n\n  //        - Wait until all the headers are transmitted.\n\n  //        - Any responses whose status is in the range 100 to 199, inclusive,\n  //        and is not 101, are to be ignored, except for the purposes of setting\n  //        timingInfo\u2019s final network-response start time above.\n\n  //    - If request\u2019s header list contains `Transfer-Encoding`/`chunked` and\n  //    response is transferred via HTTP/1.0 or older, then return a network\n  //    error.\n\n  //    - If the HTTP request results in a TLS client certificate dialog, then:\n\n  //        1. If request\u2019s window is an environment settings object, make the\n  //        dialog available in request\u2019s window.\n\n  //        2. Otherwise, return a network error.\n\n  // To transmit request\u2019s body body, run these steps:\n  let requestBody = null\n  // 1. If body is null and fetchParams\u2019s process request end-of-body is\n  // non-null, then queue a fetch task given fetchParams\u2019s process request\n  // end-of-body and fetchParams\u2019s task destination.\n  if (request.body == null && fetchParams.processRequestEndOfBody) {\n    queueMicrotask(() => fetchParams.processRequestEndOfBody())\n  } else if (request.body != null) {\n    // 2. Otherwise, if body is non-null:\n\n    //    1. Let processBodyChunk given bytes be these steps:\n    const processBodyChunk = async function * (bytes) {\n      // 1. If the ongoing fetch is terminated, then abort these steps.\n      if (isCancelled(fetchParams)) {\n        return\n      }\n\n      // 2. Run this step in parallel: transmit bytes.\n      yield bytes\n\n      // 3. If fetchParams\u2019s process request body is non-null, then run\n      // fetchParams\u2019s process request body given bytes\u2019s length.\n      fetchParams.processRequestBodyChunkLength?.(bytes.byteLength)\n    }\n\n    // 2. Let processEndOfBody be these steps:\n    const processEndOfBody = () => {\n      // 1. If fetchParams is canceled, then abort these steps.\n      if (isCancelled(fetchParams)) {\n        return\n      }\n\n      // 2. If fetchParams\u2019s process request end-of-body is non-null,\n      // then run fetchParams\u2019s process request end-of-body.\n      if (fetchParams.processRequestEndOfBody) {\n        fetchParams.processRequestEndOfBody()\n      }\n    }\n\n    // 3. Let processBodyError given e be these steps:\n    const processBodyError = (e) => {\n      // 1. If fetchParams is canceled, then abort these steps.\n      if (isCancelled(fetchParams)) {\n        return\n      }\n\n      // 2. If e is an \"AbortError\" DOMException, then abort fetchParams\u2019s controller.\n      if (e.name === 'AbortError') {\n        fetchParams.controller.abort()\n      } else {\n        fetchParams.controller.terminate(e)\n      }\n    }\n\n    // 4. Incrementally read request\u2019s body given processBodyChunk, processEndOfBody,\n    // processBodyError, and fetchParams\u2019s task destination.\n    requestBody = (async function * () {\n      try {\n        for await (const bytes of request.body.stream) {\n          yield * processBodyChunk(bytes)\n        }\n        processEndOfBody()\n      } catch (err) {\n        processBodyError(err)\n      }\n    })()\n  }\n\n  try {\n    // socket is only provided for websockets\n    const { body, status, statusText, headersList, socket } = await dispatch({ body: requestBody })\n\n    if (socket) {\n      response = makeResponse({ status, statusText, headersList, socket })\n    } else {\n      const iterator = body[Symbol.asyncIterator]()\n      fetchParams.controller.next = () => iterator.next()\n\n      response = makeResponse({ status, statusText, headersList })\n    }\n  } catch (err) {\n    // 10. If aborted, then:\n    if (err.name === 'AbortError') {\n      // 1. If connection uses HTTP/2, then transmit an RST_STREAM frame.\n      fetchParams.controller.connection.destroy()\n\n      // 2. Return the appropriate network error for fetchParams.\n      return makeAppropriateNetworkError(fetchParams, err)\n    }\n\n    return makeNetworkError(err)\n  }\n\n  // 11. Let pullAlgorithm be an action that resumes the ongoing fetch\n  // if it is suspended.\n  const pullAlgorithm = () => {\n    fetchParams.controller.resume()\n  }\n\n  // 12. Let cancelAlgorithm be an algorithm that aborts fetchParams\u2019s\n  // controller with reason, given reason.\n  const cancelAlgorithm = (reason) => {\n    fetchParams.controller.abort(reason)\n  }\n\n  // 13. Let highWaterMark be a non-negative, non-NaN number, chosen by\n  // the user agent.\n  // TODO\n\n  // 14. Let sizeAlgorithm be an algorithm that accepts a chunk object\n  // and returns a non-negative, non-NaN, non-infinite number, chosen by the user agent.\n  // TODO\n\n  // 15. Let stream be a new ReadableStream.\n  // 16. Set up stream with pullAlgorithm set to pullAlgorithm,\n  // cancelAlgorithm set to cancelAlgorithm, highWaterMark set to\n  // highWaterMark, and sizeAlgorithm set to sizeAlgorithm.\n  if (!ReadableStream) {\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  const stream = new ReadableStream(\n    {\n      async start (controller) {\n        fetchParams.controller.controller = controller\n      },\n      async pull (controller) {\n        await pullAlgorithm(controller)\n      },\n      async cancel (reason) {\n        await cancelAlgorithm(reason)\n      }\n    },\n    {\n      highWaterMark: 0,\n      size () {\n        return 1\n      }\n    }\n  )\n\n  // 17. Run these steps, but abort when the ongoing fetch is terminated:\n\n  //    1. Set response\u2019s body to a new body whose stream is stream.\n  response.body = { stream }\n\n  //    2. If response is not a network error and request\u2019s cache mode is\n  //    not \"no-store\", then update response in httpCache for request.\n  //    TODO\n\n  //    3. If includeCredentials is true and the user agent is not configured\n  //    to block cookies for request (see section 7 of [COOKIES]), then run the\n  //    \"set-cookie-string\" parsing algorithm (see section 5.2 of [COOKIES]) on\n  //    the value of each header whose name is a byte-case-insensitive match for\n  //    `Set-Cookie` in response\u2019s header list, if any, and request\u2019s current URL.\n  //    TODO\n\n  // 18. If aborted, then:\n  // TODO\n\n  // 19. Run these steps in parallel:\n\n  //    1. Run these steps, but abort when fetchParams is canceled:\n  fetchParams.controller.on('terminated', onAborted)\n  fetchParams.controller.resume = async () => {\n    // 1. While true\n    while (true) {\n      // 1-3. See onData...\n\n      // 4. Set bytes to the result of handling content codings given\n      // codings and bytes.\n      let bytes\n      let isFailure\n      try {\n        const { done, value } = await fetchParams.controller.next()\n\n        if (isAborted(fetchParams)) {\n          break\n        }\n\n        bytes = done ? undefined : value\n      } catch (err) {\n        if (fetchParams.controller.ended && !timingInfo.encodedBodySize) {\n          // zlib doesn't like empty streams.\n          bytes = undefined\n        } else {\n          bytes = err\n\n          // err may be propagated from the result of calling readablestream.cancel,\n          // which might not be an error. https://github.com/nodejs/undici/issues/2009\n          isFailure = true\n        }\n      }\n\n      if (bytes === undefined) {\n        // 2. Otherwise, if the bytes transmission for response\u2019s message\n        // body is done normally and stream is readable, then close\n        // stream, finalize response for fetchParams and response, and\n        // abort these in-parallel steps.\n        readableStreamClose(fetchParams.controller.controller)\n\n        finalizeResponse(fetchParams, response)\n\n        return\n      }\n\n      // 5. Increase timingInfo\u2019s decoded body size by bytes\u2019s length.\n      timingInfo.decodedBodySize += bytes?.byteLength ?? 0\n\n      // 6. If bytes is failure, then terminate fetchParams\u2019s controller.\n      if (isFailure) {\n        fetchParams.controller.terminate(bytes)\n        return\n      }\n\n      // 7. Enqueue a Uint8Array wrapping an ArrayBuffer containing bytes\n      // into stream.\n      fetchParams.controller.controller.enqueue(new Uint8Array(bytes))\n\n      // 8. If stream is errored, then terminate the ongoing fetch.\n      if (isErrored(stream)) {\n        fetchParams.controller.terminate()\n        return\n      }\n\n      // 9. If stream doesn\u2019t need more data ask the user agent to suspend\n      // the ongoing fetch.\n      if (!fetchParams.controller.controller.desiredSize) {\n        return\n      }\n    }\n  }\n\n  //    2. If aborted, then:\n  function onAborted (reason) {\n    // 2. If fetchParams is aborted, then:\n    if (isAborted(fetchParams)) {\n      // 1. Set response\u2019s aborted flag.\n      response.aborted = true\n\n      // 2. If stream is readable, then error stream with the result of\n      //    deserialize a serialized abort reason given fetchParams\u2019s\n      //    controller\u2019s serialized abort reason and an\n      //    implementation-defined realm.\n      if (isReadable(stream)) {\n        fetchParams.controller.controller.error(\n          fetchParams.controller.serializedAbortReason\n        )\n      }\n    } else {\n      // 3. Otherwise, if stream is readable, error stream with a TypeError.\n      if (isReadable(stream)) {\n        fetchParams.controller.controller.error(new TypeError('terminated', {\n          cause: isErrorLike(reason) ? reason : undefined\n        }))\n      }\n    }\n\n    // 4. If connection uses HTTP/2, then transmit an RST_STREAM frame.\n    // 5. Otherwise, the user agent should close connection unless it would be bad for performance to do so.\n    fetchParams.controller.connection.destroy()\n  }\n\n  // 20. Return response.\n  return response\n\n  async function dispatch ({ body }) {\n    const url = requestCurrentURL(request)\n    /** @type {import('../..').Agent} */\n    const agent = fetchParams.controller.dispatcher\n\n    return new Promise((resolve, reject) => agent.dispatch(\n      {\n        path: url.pathname + url.search,\n        origin: url.origin,\n        method: request.method,\n        body: fetchParams.controller.dispatcher.isMockActive ? request.body && (request.body.source || request.body.stream) : body,\n        headers: request.headersList.entries,\n        maxRedirections: 0,\n        upgrade: request.mode === 'websocket' ? 'websocket' : undefined\n      },\n      {\n        body: null,\n        abort: null,\n\n        onConnect (abort) {\n          // TODO (fix): Do we need connection here?\n          const { connection } = fetchParams.controller\n\n          if (connection.destroyed) {\n            abort(new DOMException('The operation was aborted.', 'AbortError'))\n          } else {\n            fetchParams.controller.on('terminated', abort)\n            this.abort = connection.abort = abort\n          }\n        },\n\n        onHeaders (status, headersList, resume, statusText) {\n          if (status < 200) {\n            return\n          }\n\n          let codings = []\n          let location = ''\n\n          const headers = new Headers()\n\n          // For H2, the headers are a plain JS object\n          // We distinguish between them and iterate accordingly\n          if (Array.isArray(headersList)) {\n            for (let n = 0; n < headersList.length; n += 2) {\n              const key = headersList[n + 0].toString('latin1')\n              const val = headersList[n + 1].toString('latin1')\n              if (key.toLowerCase() === 'content-encoding') {\n                // https://www.rfc-editor.org/rfc/rfc7231#section-3.1.2.1\n                // \"All content-coding values are case-insensitive...\"\n                codings = val.toLowerCase().split(',').map((x) => x.trim())\n              } else if (key.toLowerCase() === 'location') {\n                location = val\n              }\n\n              headers[kHeadersList].append(key, val)\n            }\n          } else {\n            const keys = Object.keys(headersList)\n            for (const key of keys) {\n              const val = headersList[key]\n              if (key.toLowerCase() === 'content-encoding') {\n                // https://www.rfc-editor.org/rfc/rfc7231#section-3.1.2.1\n                // \"All content-coding values are case-insensitive...\"\n                codings = val.toLowerCase().split(',').map((x) => x.trim()).reverse()\n              } else if (key.toLowerCase() === 'location') {\n                location = val\n              }\n\n              headers[kHeadersList].append(key, val)\n            }\n          }\n\n          this.body = new Readable({ read: resume })\n\n          const decoders = []\n\n          const willFollow = request.redirect === 'follow' &&\n            location &&\n            redirectStatusSet.has(status)\n\n          // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding\n          if (request.method !== 'HEAD' && request.method !== 'CONNECT' && !nullBodyStatus.includes(status) && !willFollow) {\n            for (const coding of codings) {\n              // https://www.rfc-editor.org/rfc/rfc9112.html#section-7.2\n              if (coding === 'x-gzip' || coding === 'gzip') {\n                decoders.push(zlib.createGunzip({\n                  // Be less strict when decoding compressed responses, since sometimes\n                  // servers send slightly invalid responses that are still accepted\n                  // by common browsers.\n                  // Always using Z_SYNC_FLUSH is what cURL does.\n                  flush: zlib.constants.Z_SYNC_FLUSH,\n                  finishFlush: zlib.constants.Z_SYNC_FLUSH\n                }))\n              } else if (coding === 'deflate') {\n                decoders.push(zlib.createInflate())\n              } else if (coding === 'br') {\n                decoders.push(zlib.createBrotliDecompress())\n              } else {\n                decoders.length = 0\n                break\n              }\n            }\n          }\n\n          resolve({\n            status,\n            statusText,\n            headersList: headers[kHeadersList],\n            body: decoders.length\n              ? pipeline(this.body, ...decoders, () => { })\n              : this.body.on('error', () => {})\n          })\n\n          return true\n        },\n\n        onData (chunk) {\n          if (fetchParams.controller.dump) {\n            return\n          }\n\n          // 1. If one or more bytes have been transmitted from response\u2019s\n          // message body, then:\n\n          //  1. Let bytes be the transmitted bytes.\n          const bytes = chunk\n\n          //  2. Let codings be the result of extracting header list values\n          //  given `Content-Encoding` and response\u2019s header list.\n          //  See pullAlgorithm.\n\n          //  3. Increase timingInfo\u2019s encoded body size by bytes\u2019s length.\n          timingInfo.encodedBodySize += bytes.byteLength\n\n          //  4. See pullAlgorithm...\n\n          return this.body.push(bytes)\n        },\n\n        onComplete () {\n          if (this.abort) {\n            fetchParams.controller.off('terminated', this.abort)\n          }\n\n          fetchParams.controller.ended = true\n\n          this.body.push(null)\n        },\n\n        onError (error) {\n          if (this.abort) {\n            fetchParams.controller.off('terminated', this.abort)\n          }\n\n          this.body?.destroy(error)\n\n          fetchParams.controller.terminate(error)\n\n          reject(error)\n        },\n\n        onUpgrade (status, headersList, socket) {\n          if (status !== 101) {\n            return\n          }\n\n          const headers = new Headers()\n\n          for (let n = 0; n < headersList.length; n += 2) {\n            const key = headersList[n + 0].toString('latin1')\n            const val = headersList[n + 1].toString('latin1')\n\n            headers[kHeadersList].append(key, val)\n          }\n\n          resolve({\n            status,\n            statusText: STATUS_CODES[status],\n            headersList: headers[kHeadersList],\n            socket\n          })\n\n          return true\n        }\n      }\n    ))\n  }\n}\n\nmodule.exports = {\n  fetch,\n  Fetch,\n  fetching,\n  finalizeAndReportTiming\n}\n", "'use strict'\n\nmodule.exports = {\n  kState: Symbol('FileReader state'),\n  kResult: Symbol('FileReader result'),\n  kError: Symbol('FileReader error'),\n  kLastProgressEventFired: Symbol('FileReader last progress event fired timestamp'),\n  kEvents: Symbol('FileReader events'),\n  kAborted: Symbol('FileReader aborted')\n}\n", "'use strict'\n\nconst { webidl } = require('../fetch/webidl')\n\nconst kState = Symbol('ProgressEvent state')\n\n/**\n * @see https://xhr.spec.whatwg.org/#progressevent\n */\nclass ProgressEvent extends Event {\n  constructor (type, eventInitDict = {}) {\n    type = webidl.converters.DOMString(type)\n    eventInitDict = webidl.converters.ProgressEventInit(eventInitDict ?? {})\n\n    super(type, eventInitDict)\n\n    this[kState] = {\n      lengthComputable: eventInitDict.lengthComputable,\n      loaded: eventInitDict.loaded,\n      total: eventInitDict.total\n    }\n  }\n\n  get lengthComputable () {\n    webidl.brandCheck(this, ProgressEvent)\n\n    return this[kState].lengthComputable\n  }\n\n  get loaded () {\n    webidl.brandCheck(this, ProgressEvent)\n\n    return this[kState].loaded\n  }\n\n  get total () {\n    webidl.brandCheck(this, ProgressEvent)\n\n    return this[kState].total\n  }\n}\n\nwebidl.converters.ProgressEventInit = webidl.dictionaryConverter([\n  {\n    key: 'lengthComputable',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'loaded',\n    converter: webidl.converters['unsigned long long'],\n    defaultValue: 0\n  },\n  {\n    key: 'total',\n    converter: webidl.converters['unsigned long long'],\n    defaultValue: 0\n  },\n  {\n    key: 'bubbles',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'cancelable',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'composed',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  }\n])\n\nmodule.exports = {\n  ProgressEvent\n}\n", "'use strict'\n\n/**\n * @see https://encoding.spec.whatwg.org/#concept-encoding-get\n * @param {string|undefined} label\n */\nfunction getEncoding (label) {\n  if (!label) {\n    return 'failure'\n  }\n\n  // 1. Remove any leading and trailing ASCII whitespace from label.\n  // 2. If label is an ASCII case-insensitive match for any of the\n  //    labels listed in the table below, then return the\n  //    corresponding encoding; otherwise return failure.\n  switch (label.trim().toLowerCase()) {\n    case 'unicode-1-1-utf-8':\n    case 'unicode11utf8':\n    case 'unicode20utf8':\n    case 'utf-8':\n    case 'utf8':\n    case 'x-unicode20utf8':\n      return 'UTF-8'\n    case '866':\n    case 'cp866':\n    case 'csibm866':\n    case 'ibm866':\n      return 'IBM866'\n    case 'csisolatin2':\n    case 'iso-8859-2':\n    case 'iso-ir-101':\n    case 'iso8859-2':\n    case 'iso88592':\n    case 'iso_8859-2':\n    case 'iso_8859-2:1987':\n    case 'l2':\n    case 'latin2':\n      return 'ISO-8859-2'\n    case 'csisolatin3':\n    case 'iso-8859-3':\n    case 'iso-ir-109':\n    case 'iso8859-3':\n    case 'iso88593':\n    case 'iso_8859-3':\n    case 'iso_8859-3:1988':\n    case 'l3':\n    case 'latin3':\n      return 'ISO-8859-3'\n    case 'csisolatin4':\n    case 'iso-8859-4':\n    case 'iso-ir-110':\n    case 'iso8859-4':\n    case 'iso88594':\n    case 'iso_8859-4':\n    case 'iso_8859-4:1988':\n    case 'l4':\n    case 'latin4':\n      return 'ISO-8859-4'\n    case 'csisolatincyrillic':\n    case 'cyrillic':\n    case 'iso-8859-5':\n    case 'iso-ir-144':\n    case 'iso8859-5':\n    case 'iso88595':\n    case 'iso_8859-5':\n    case 'iso_8859-5:1988':\n      return 'ISO-8859-5'\n    case 'arabic':\n    case 'asmo-708':\n    case 'csiso88596e':\n    case 'csiso88596i':\n    case 'csisolatinarabic':\n    case 'ecma-114':\n    case 'iso-8859-6':\n    case 'iso-8859-6-e':\n    case 'iso-8859-6-i':\n    case 'iso-ir-127':\n    case 'iso8859-6':\n    case 'iso88596':\n    case 'iso_8859-6':\n    case 'iso_8859-6:1987':\n      return 'ISO-8859-6'\n    case 'csisolatingreek':\n    case 'ecma-118':\n    case 'elot_928':\n    case 'greek':\n    case 'greek8':\n    case 'iso-8859-7':\n    case 'iso-ir-126':\n    case 'iso8859-7':\n    case 'iso88597':\n    case 'iso_8859-7':\n    case 'iso_8859-7:1987':\n    case 'sun_eu_greek':\n      return 'ISO-8859-7'\n    case 'csiso88598e':\n    case 'csisolatinhebrew':\n    case 'hebrew':\n    case 'iso-8859-8':\n    case 'iso-8859-8-e':\n    case 'iso-ir-138':\n    case 'iso8859-8':\n    case 'iso88598':\n    case 'iso_8859-8':\n    case 'iso_8859-8:1988':\n    case 'visual':\n      return 'ISO-8859-8'\n    case 'csiso88598i':\n    case 'iso-8859-8-i':\n    case 'logical':\n      return 'ISO-8859-8-I'\n    case 'csisolatin6':\n    case 'iso-8859-10':\n    case 'iso-ir-157':\n    case 'iso8859-10':\n    case 'iso885910':\n    case 'l6':\n    case 'latin6':\n      return 'ISO-8859-10'\n    case 'iso-8859-13':\n    case 'iso8859-13':\n    case 'iso885913':\n      return 'ISO-8859-13'\n    case 'iso-8859-14':\n    case 'iso8859-14':\n    case 'iso885914':\n      return 'ISO-8859-14'\n    case 'csisolatin9':\n    case 'iso-8859-15':\n    case 'iso8859-15':\n    case 'iso885915':\n    case 'iso_8859-15':\n    case 'l9':\n      return 'ISO-8859-15'\n    case 'iso-8859-16':\n      return 'ISO-8859-16'\n    case 'cskoi8r':\n    case 'koi':\n    case 'koi8':\n    case 'koi8-r':\n    case 'koi8_r':\n      return 'KOI8-R'\n    case 'koi8-ru':\n    case 'koi8-u':\n      return 'KOI8-U'\n    case 'csmacintosh':\n    case 'mac':\n    case 'macintosh':\n    case 'x-mac-roman':\n      return 'macintosh'\n    case 'iso-8859-11':\n    case 'iso8859-11':\n    case 'iso885911':\n    case 'tis-620':\n    case 'windows-874':\n      return 'windows-874'\n    case 'cp1250':\n    case 'windows-1250':\n    case 'x-cp1250':\n      return 'windows-1250'\n    case 'cp1251':\n    case 'windows-1251':\n    case 'x-cp1251':\n      return 'windows-1251'\n    case 'ansi_x3.4-1968':\n    case 'ascii':\n    case 'cp1252':\n    case 'cp819':\n    case 'csisolatin1':\n    case 'ibm819':\n    case 'iso-8859-1':\n    case 'iso-ir-100':\n    case 'iso8859-1':\n    case 'iso88591':\n    case 'iso_8859-1':\n    case 'iso_8859-1:1987':\n    case 'l1':\n    case 'latin1':\n    case 'us-ascii':\n    case 'windows-1252':\n    case 'x-cp1252':\n      return 'windows-1252'\n    case 'cp1253':\n    case 'windows-1253':\n    case 'x-cp1253':\n      return 'windows-1253'\n    case 'cp1254':\n    case 'csisolatin5':\n    case 'iso-8859-9':\n    case 'iso-ir-148':\n    case 'iso8859-9':\n    case 'iso88599':\n    case 'iso_8859-9':\n    case 'iso_8859-9:1989':\n    case 'l5':\n    case 'latin5':\n    case 'windows-1254':\n    case 'x-cp1254':\n      return 'windows-1254'\n    case 'cp1255':\n    case 'windows-1255':\n    case 'x-cp1255':\n      return 'windows-1255'\n    case 'cp1256':\n    case 'windows-1256':\n    case 'x-cp1256':\n      return 'windows-1256'\n    case 'cp1257':\n    case 'windows-1257':\n    case 'x-cp1257':\n      return 'windows-1257'\n    case 'cp1258':\n    case 'windows-1258':\n    case 'x-cp1258':\n      return 'windows-1258'\n    case 'x-mac-cyrillic':\n    case 'x-mac-ukrainian':\n      return 'x-mac-cyrillic'\n    case 'chinese':\n    case 'csgb2312':\n    case 'csiso58gb231280':\n    case 'gb2312':\n    case 'gb_2312':\n    case 'gb_2312-80':\n    case 'gbk':\n    case 'iso-ir-58':\n    case 'x-gbk':\n      return 'GBK'\n    case 'gb18030':\n      return 'gb18030'\n    case 'big5':\n    case 'big5-hkscs':\n    case 'cn-big5':\n    case 'csbig5':\n    case 'x-x-big5':\n      return 'Big5'\n    case 'cseucpkdfmtjapanese':\n    case 'euc-jp':\n    case 'x-euc-jp':\n      return 'EUC-JP'\n    case 'csiso2022jp':\n    case 'iso-2022-jp':\n      return 'ISO-2022-JP'\n    case 'csshiftjis':\n    case 'ms932':\n    case 'ms_kanji':\n    case 'shift-jis':\n    case 'shift_jis':\n    case 'sjis':\n    case 'windows-31j':\n    case 'x-sjis':\n      return 'Shift_JIS'\n    case 'cseuckr':\n    case 'csksc56011987':\n    case 'euc-kr':\n    case 'iso-ir-149':\n    case 'korean':\n    case 'ks_c_5601-1987':\n    case 'ks_c_5601-1989':\n    case 'ksc5601':\n    case 'ksc_5601':\n    case 'windows-949':\n      return 'EUC-KR'\n    case 'csiso2022kr':\n    case 'hz-gb-2312':\n    case 'iso-2022-cn':\n    case 'iso-2022-cn-ext':\n    case 'iso-2022-kr':\n    case 'replacement':\n      return 'replacement'\n    case 'unicodefffe':\n    case 'utf-16be':\n      return 'UTF-16BE'\n    case 'csunicode':\n    case 'iso-10646-ucs-2':\n    case 'ucs-2':\n    case 'unicode':\n    case 'unicodefeff':\n    case 'utf-16':\n    case 'utf-16le':\n      return 'UTF-16LE'\n    case 'x-user-defined':\n      return 'x-user-defined'\n    default: return 'failure'\n  }\n}\n\nmodule.exports = {\n  getEncoding\n}\n", "'use strict'\n\nconst {\n  kState,\n  kError,\n  kResult,\n  kAborted,\n  kLastProgressEventFired\n} = require('./symbols')\nconst { ProgressEvent } = require('./progressevent')\nconst { getEncoding } = require('./encoding')\nconst { DOMException } = require('../fetch/constants')\nconst { serializeAMimeType, parseMIMEType } = require('../fetch/dataURL')\nconst { types } = require('util')\nconst { StringDecoder } = require('string_decoder')\nconst { btoa } = require('buffer')\n\n/** @type {PropertyDescriptor} */\nconst staticPropertyDescriptors = {\n  enumerable: true,\n  writable: false,\n  configurable: false\n}\n\n/**\n * @see https://w3c.github.io/FileAPI/#readOperation\n * @param {import('./filereader').FileReader} fr\n * @param {import('buffer').Blob} blob\n * @param {string} type\n * @param {string?} encodingName\n */\nfunction readOperation (fr, blob, type, encodingName) {\n  // 1. If fr\u2019s state is \"loading\", throw an InvalidStateError\n  //    DOMException.\n  if (fr[kState] === 'loading') {\n    throw new DOMException('Invalid state', 'InvalidStateError')\n  }\n\n  // 2. Set fr\u2019s state to \"loading\".\n  fr[kState] = 'loading'\n\n  // 3. Set fr\u2019s result to null.\n  fr[kResult] = null\n\n  // 4. Set fr\u2019s error to null.\n  fr[kError] = null\n\n  // 5. Let stream be the result of calling get stream on blob.\n  /** @type {import('stream/web').ReadableStream} */\n  const stream = blob.stream()\n\n  // 6. Let reader be the result of getting a reader from stream.\n  const reader = stream.getReader()\n\n  // 7. Let bytes be an empty byte sequence.\n  /** @type {Uint8Array[]} */\n  const bytes = []\n\n  // 8. Let chunkPromise be the result of reading a chunk from\n  //    stream with reader.\n  let chunkPromise = reader.read()\n\n  // 9. Let isFirstChunk be true.\n  let isFirstChunk = true\n\n  // 10. In parallel, while true:\n  // Note: \"In parallel\" just means non-blocking\n  // Note 2: readOperation itself cannot be async as double\n  // reading the body would then reject the promise, instead\n  // of throwing an error.\n  ;(async () => {\n    while (!fr[kAborted]) {\n      // 1. Wait for chunkPromise to be fulfilled or rejected.\n      try {\n        const { done, value } = await chunkPromise\n\n        // 2. If chunkPromise is fulfilled, and isFirstChunk is\n        //    true, queue a task to fire a progress event called\n        //    loadstart at fr.\n        if (isFirstChunk && !fr[kAborted]) {\n          queueMicrotask(() => {\n            fireAProgressEvent('loadstart', fr)\n          })\n        }\n\n        // 3. Set isFirstChunk to false.\n        isFirstChunk = false\n\n        // 4. If chunkPromise is fulfilled with an object whose\n        //    done property is false and whose value property is\n        //    a Uint8Array object, run these steps:\n        if (!done && types.isUint8Array(value)) {\n          // 1. Let bs be the byte sequence represented by the\n          //    Uint8Array object.\n\n          // 2. Append bs to bytes.\n          bytes.push(value)\n\n          // 3. If roughly 50ms have passed since these steps\n          //    were last invoked, queue a task to fire a\n          //    progress event called progress at fr.\n          if (\n            (\n              fr[kLastProgressEventFired] === undefined ||\n              Date.now() - fr[kLastProgressEventFired] >= 50\n            ) &&\n            !fr[kAborted]\n          ) {\n            fr[kLastProgressEventFired] = Date.now()\n            queueMicrotask(() => {\n              fireAProgressEvent('progress', fr)\n            })\n          }\n\n          // 4. Set chunkPromise to the result of reading a\n          //    chunk from stream with reader.\n          chunkPromise = reader.read()\n        } else if (done) {\n          // 5. Otherwise, if chunkPromise is fulfilled with an\n          //    object whose done property is true, queue a task\n          //    to run the following steps and abort this algorithm:\n          queueMicrotask(() => {\n            // 1. Set fr\u2019s state to \"done\".\n            fr[kState] = 'done'\n\n            // 2. Let result be the result of package data given\n            //    bytes, type, blob\u2019s type, and encodingName.\n            try {\n              const result = packageData(bytes, type, blob.type, encodingName)\n\n              // 4. Else:\n\n              if (fr[kAborted]) {\n                return\n              }\n\n              // 1. Set fr\u2019s result to result.\n              fr[kResult] = result\n\n              // 2. Fire a progress event called load at the fr.\n              fireAProgressEvent('load', fr)\n            } catch (error) {\n              // 3. If package data threw an exception error:\n\n              // 1. Set fr\u2019s error to error.\n              fr[kError] = error\n\n              // 2. Fire a progress event called error at fr.\n              fireAProgressEvent('error', fr)\n            }\n\n            // 5. If fr\u2019s state is not \"loading\", fire a progress\n            //    event called loadend at the fr.\n            if (fr[kState] !== 'loading') {\n              fireAProgressEvent('loadend', fr)\n            }\n          })\n\n          break\n        }\n      } catch (error) {\n        if (fr[kAborted]) {\n          return\n        }\n\n        // 6. Otherwise, if chunkPromise is rejected with an\n        //    error error, queue a task to run the following\n        //    steps and abort this algorithm:\n        queueMicrotask(() => {\n          // 1. Set fr\u2019s state to \"done\".\n          fr[kState] = 'done'\n\n          // 2. Set fr\u2019s error to error.\n          fr[kError] = error\n\n          // 3. Fire a progress event called error at fr.\n          fireAProgressEvent('error', fr)\n\n          // 4. If fr\u2019s state is not \"loading\", fire a progress\n          //    event called loadend at fr.\n          if (fr[kState] !== 'loading') {\n            fireAProgressEvent('loadend', fr)\n          }\n        })\n\n        break\n      }\n    }\n  })()\n}\n\n/**\n * @see https://w3c.github.io/FileAPI/#fire-a-progress-event\n * @see https://dom.spec.whatwg.org/#concept-event-fire\n * @param {string} e The name of the event\n * @param {import('./filereader').FileReader} reader\n */\nfunction fireAProgressEvent (e, reader) {\n  // The progress event e does not bubble. e.bubbles must be false\n  // The progress event e is NOT cancelable. e.cancelable must be false\n  const event = new ProgressEvent(e, {\n    bubbles: false,\n    cancelable: false\n  })\n\n  reader.dispatchEvent(event)\n}\n\n/**\n * @see https://w3c.github.io/FileAPI/#blob-package-data\n * @param {Uint8Array[]} bytes\n * @param {string} type\n * @param {string?} mimeType\n * @param {string?} encodingName\n */\nfunction packageData (bytes, type, mimeType, encodingName) {\n  // 1. A Blob has an associated package data algorithm, given\n  //    bytes, a type, a optional mimeType, and a optional\n  //    encodingName, which switches on type and runs the\n  //    associated steps:\n\n  switch (type) {\n    case 'DataURL': {\n      // 1. Return bytes as a DataURL [RFC2397] subject to\n      //    the considerations below:\n      //  * Use mimeType as part of the Data URL if it is\n      //    available in keeping with the Data URL\n      //    specification [RFC2397].\n      //  * If mimeType is not available return a Data URL\n      //    without a media-type. [RFC2397].\n\n      // https://datatracker.ietf.org/doc/html/rfc2397#section-3\n      // dataurl    := \"data:\" [ mediatype ] [ \";base64\" ] \",\" data\n      // mediatype  := [ type \"/\" subtype ] *( \";\" parameter )\n      // data       := *urlchar\n      // parameter  := attribute \"=\" value\n      let dataURL = 'data:'\n\n      const parsed = parseMIMEType(mimeType || 'application/octet-stream')\n\n      if (parsed !== 'failure') {\n        dataURL += serializeAMimeType(parsed)\n      }\n\n      dataURL += ';base64,'\n\n      const decoder = new StringDecoder('latin1')\n\n      for (const chunk of bytes) {\n        dataURL += btoa(decoder.write(chunk))\n      }\n\n      dataURL += btoa(decoder.end())\n\n      return dataURL\n    }\n    case 'Text': {\n      // 1. Let encoding be failure\n      let encoding = 'failure'\n\n      // 2. If the encodingName is present, set encoding to the\n      //    result of getting an encoding from encodingName.\n      if (encodingName) {\n        encoding = getEncoding(encodingName)\n      }\n\n      // 3. If encoding is failure, and mimeType is present:\n      if (encoding === 'failure' && mimeType) {\n        // 1. Let type be the result of parse a MIME type\n        //    given mimeType.\n        const type = parseMIMEType(mimeType)\n\n        // 2. If type is not failure, set encoding to the result\n        //    of getting an encoding from type\u2019s parameters[\"charset\"].\n        if (type !== 'failure') {\n          encoding = getEncoding(type.parameters.get('charset'))\n        }\n      }\n\n      // 4. If encoding is failure, then set encoding to UTF-8.\n      if (encoding === 'failure') {\n        encoding = 'UTF-8'\n      }\n\n      // 5. Decode bytes using fallback encoding encoding, and\n      //    return the result.\n      return decode(bytes, encoding)\n    }\n    case 'ArrayBuffer': {\n      // Return a new ArrayBuffer whose contents are bytes.\n      const sequence = combineByteSequences(bytes)\n\n      return sequence.buffer\n    }\n    case 'BinaryString': {\n      // Return bytes as a binary string, in which every byte\n      //  is represented by a code unit of equal value [0..255].\n      let binaryString = ''\n\n      const decoder = new StringDecoder('latin1')\n\n      for (const chunk of bytes) {\n        binaryString += decoder.write(chunk)\n      }\n\n      binaryString += decoder.end()\n\n      return binaryString\n    }\n  }\n}\n\n/**\n * @see https://encoding.spec.whatwg.org/#decode\n * @param {Uint8Array[]} ioQueue\n * @param {string} encoding\n */\nfunction decode (ioQueue, encoding) {\n  const bytes = combineByteSequences(ioQueue)\n\n  // 1. Let BOMEncoding be the result of BOM sniffing ioQueue.\n  const BOMEncoding = BOMSniffing(bytes)\n\n  let slice = 0\n\n  // 2. If BOMEncoding is non-null:\n  if (BOMEncoding !== null) {\n    // 1. Set encoding to BOMEncoding.\n    encoding = BOMEncoding\n\n    // 2. Read three bytes from ioQueue, if BOMEncoding is\n    //    UTF-8; otherwise read two bytes.\n    //    (Do nothing with those bytes.)\n    slice = BOMEncoding === 'UTF-8' ? 3 : 2\n  }\n\n  // 3. Process a queue with an instance of encoding\u2019s\n  //    decoder, ioQueue, output, and \"replacement\".\n\n  // 4. Return output.\n\n  const sliced = bytes.slice(slice)\n  return new TextDecoder(encoding).decode(sliced)\n}\n\n/**\n * @see https://encoding.spec.whatwg.org/#bom-sniff\n * @param {Uint8Array} ioQueue\n */\nfunction BOMSniffing (ioQueue) {\n  // 1. Let BOM be the result of peeking 3 bytes from ioQueue,\n  //    converted to a byte sequence.\n  const [a, b, c] = ioQueue\n\n  // 2. For each of the rows in the table below, starting with\n  //    the first one and going down, if BOM starts with the\n  //    bytes given in the first column, then return the\n  //    encoding given in the cell in the second column of that\n  //    row. Otherwise, return null.\n  if (a === 0xEF && b === 0xBB && c === 0xBF) {\n    return 'UTF-8'\n  } else if (a === 0xFE && b === 0xFF) {\n    return 'UTF-16BE'\n  } else if (a === 0xFF && b === 0xFE) {\n    return 'UTF-16LE'\n  }\n\n  return null\n}\n\n/**\n * @param {Uint8Array[]} sequences\n */\nfunction combineByteSequences (sequences) {\n  const size = sequences.reduce((a, b) => {\n    return a + b.byteLength\n  }, 0)\n\n  let offset = 0\n\n  return sequences.reduce((a, b) => {\n    a.set(b, offset)\n    offset += b.byteLength\n    return a\n  }, new Uint8Array(size))\n}\n\nmodule.exports = {\n  staticPropertyDescriptors,\n  readOperation,\n  fireAProgressEvent\n}\n", "'use strict'\n\nconst {\n  staticPropertyDescriptors,\n  readOperation,\n  fireAProgressEvent\n} = require('./util')\nconst {\n  kState,\n  kError,\n  kResult,\n  kEvents,\n  kAborted\n} = require('./symbols')\nconst { webidl } = require('../fetch/webidl')\nconst { kEnumerableProperty } = require('../core/util')\n\nclass FileReader extends EventTarget {\n  constructor () {\n    super()\n\n    this[kState] = 'empty'\n    this[kResult] = null\n    this[kError] = null\n    this[kEvents] = {\n      loadend: null,\n      error: null,\n      abort: null,\n      load: null,\n      progress: null,\n      loadstart: null\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dfn-readAsArrayBuffer\n   * @param {import('buffer').Blob} blob\n   */\n  readAsArrayBuffer (blob) {\n    webidl.brandCheck(this, FileReader)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FileReader.readAsArrayBuffer' })\n\n    blob = webidl.converters.Blob(blob, { strict: false })\n\n    // The readAsArrayBuffer(blob) method, when invoked,\n    // must initiate a read operation for blob with ArrayBuffer.\n    readOperation(this, blob, 'ArrayBuffer')\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#readAsBinaryString\n   * @param {import('buffer').Blob} blob\n   */\n  readAsBinaryString (blob) {\n    webidl.brandCheck(this, FileReader)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FileReader.readAsBinaryString' })\n\n    blob = webidl.converters.Blob(blob, { strict: false })\n\n    // The readAsBinaryString(blob) method, when invoked,\n    // must initiate a read operation for blob with BinaryString.\n    readOperation(this, blob, 'BinaryString')\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#readAsDataText\n   * @param {import('buffer').Blob} blob\n   * @param {string?} encoding\n   */\n  readAsText (blob, encoding = undefined) {\n    webidl.brandCheck(this, FileReader)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FileReader.readAsText' })\n\n    blob = webidl.converters.Blob(blob, { strict: false })\n\n    if (encoding !== undefined) {\n      encoding = webidl.converters.DOMString(encoding)\n    }\n\n    // The readAsText(blob, encoding) method, when invoked,\n    // must initiate a read operation for blob with Text and encoding.\n    readOperation(this, blob, 'Text', encoding)\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dfn-readAsDataURL\n   * @param {import('buffer').Blob} blob\n   */\n  readAsDataURL (blob) {\n    webidl.brandCheck(this, FileReader)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FileReader.readAsDataURL' })\n\n    blob = webidl.converters.Blob(blob, { strict: false })\n\n    // The readAsDataURL(blob) method, when invoked, must\n    // initiate a read operation for blob with DataURL.\n    readOperation(this, blob, 'DataURL')\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dfn-abort\n   */\n  abort () {\n    // 1. If this's state is \"empty\" or if this's state is\n    //    \"done\" set this's result to null and terminate\n    //    this algorithm.\n    if (this[kState] === 'empty' || this[kState] === 'done') {\n      this[kResult] = null\n      return\n    }\n\n    // 2. If this's state is \"loading\" set this's state to\n    //    \"done\" and set this's result to null.\n    if (this[kState] === 'loading') {\n      this[kState] = 'done'\n      this[kResult] = null\n    }\n\n    // 3. If there are any tasks from this on the file reading\n    //    task source in an affiliated task queue, then remove\n    //    those tasks from that task queue.\n    this[kAborted] = true\n\n    // 4. Terminate the algorithm for the read method being processed.\n    // TODO\n\n    // 5. Fire a progress event called abort at this.\n    fireAProgressEvent('abort', this)\n\n    // 6. If this's state is not \"loading\", fire a progress\n    //    event called loadend at this.\n    if (this[kState] !== 'loading') {\n      fireAProgressEvent('loadend', this)\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dom-filereader-readystate\n   */\n  get readyState () {\n    webidl.brandCheck(this, FileReader)\n\n    switch (this[kState]) {\n      case 'empty': return this.EMPTY\n      case 'loading': return this.LOADING\n      case 'done': return this.DONE\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dom-filereader-result\n   */\n  get result () {\n    webidl.brandCheck(this, FileReader)\n\n    // The result attribute\u2019s getter, when invoked, must return\n    // this's result.\n    return this[kResult]\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dom-filereader-error\n   */\n  get error () {\n    webidl.brandCheck(this, FileReader)\n\n    // The error attribute\u2019s getter, when invoked, must return\n    // this's error.\n    return this[kError]\n  }\n\n  get onloadend () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].loadend\n  }\n\n  set onloadend (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].loadend) {\n      this.removeEventListener('loadend', this[kEvents].loadend)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].loadend = fn\n      this.addEventListener('loadend', fn)\n    } else {\n      this[kEvents].loadend = null\n    }\n  }\n\n  get onerror () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].error\n  }\n\n  set onerror (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].error) {\n      this.removeEventListener('error', this[kEvents].error)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].error = fn\n      this.addEventListener('error', fn)\n    } else {\n      this[kEvents].error = null\n    }\n  }\n\n  get onloadstart () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].loadstart\n  }\n\n  set onloadstart (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].loadstart) {\n      this.removeEventListener('loadstart', this[kEvents].loadstart)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].loadstart = fn\n      this.addEventListener('loadstart', fn)\n    } else {\n      this[kEvents].loadstart = null\n    }\n  }\n\n  get onprogress () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].progress\n  }\n\n  set onprogress (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].progress) {\n      this.removeEventListener('progress', this[kEvents].progress)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].progress = fn\n      this.addEventListener('progress', fn)\n    } else {\n      this[kEvents].progress = null\n    }\n  }\n\n  get onload () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].load\n  }\n\n  set onload (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].load) {\n      this.removeEventListener('load', this[kEvents].load)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].load = fn\n      this.addEventListener('load', fn)\n    } else {\n      this[kEvents].load = null\n    }\n  }\n\n  get onabort () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].abort\n  }\n\n  set onabort (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].abort) {\n      this.removeEventListener('abort', this[kEvents].abort)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].abort = fn\n      this.addEventListener('abort', fn)\n    } else {\n      this[kEvents].abort = null\n    }\n  }\n}\n\n// https://w3c.github.io/FileAPI/#dom-filereader-empty\nFileReader.EMPTY = FileReader.prototype.EMPTY = 0\n// https://w3c.github.io/FileAPI/#dom-filereader-loading\nFileReader.LOADING = FileReader.prototype.LOADING = 1\n// https://w3c.github.io/FileAPI/#dom-filereader-done\nFileReader.DONE = FileReader.prototype.DONE = 2\n\nObject.defineProperties(FileReader.prototype, {\n  EMPTY: staticPropertyDescriptors,\n  LOADING: staticPropertyDescriptors,\n  DONE: staticPropertyDescriptors,\n  readAsArrayBuffer: kEnumerableProperty,\n  readAsBinaryString: kEnumerableProperty,\n  readAsText: kEnumerableProperty,\n  readAsDataURL: kEnumerableProperty,\n  abort: kEnumerableProperty,\n  readyState: kEnumerableProperty,\n  result: kEnumerableProperty,\n  error: kEnumerableProperty,\n  onloadstart: kEnumerableProperty,\n  onprogress: kEnumerableProperty,\n  onload: kEnumerableProperty,\n  onabort: kEnumerableProperty,\n  onerror: kEnumerableProperty,\n  onloadend: kEnumerableProperty,\n  [Symbol.toStringTag]: {\n    value: 'FileReader',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  }\n})\n\nObject.defineProperties(FileReader, {\n  EMPTY: staticPropertyDescriptors,\n  LOADING: staticPropertyDescriptors,\n  DONE: staticPropertyDescriptors\n})\n\nmodule.exports = {\n  FileReader\n}\n", "'use strict'\n\nmodule.exports = {\n  kConstruct: require('../core/symbols').kConstruct\n}\n", "'use strict'\n\nconst assert = require('assert')\nconst { URLSerializer } = require('../fetch/dataURL')\nconst { isValidHeaderName } = require('../fetch/util')\n\n/**\n * @see https://url.spec.whatwg.org/#concept-url-equals\n * @param {URL} A\n * @param {URL} B\n * @param {boolean | undefined} excludeFragment\n * @returns {boolean}\n */\nfunction urlEquals (A, B, excludeFragment = false) {\n  const serializedA = URLSerializer(A, excludeFragment)\n\n  const serializedB = URLSerializer(B, excludeFragment)\n\n  return serializedA === serializedB\n}\n\n/**\n * @see https://github.com/chromium/chromium/blob/694d20d134cb553d8d89e5500b9148012b1ba299/content/browser/cache_storage/cache_storage_cache.cc#L260-L262\n * @param {string} header\n */\nfunction fieldValues (header) {\n  assert(header !== null)\n\n  const values = []\n\n  for (let value of header.split(',')) {\n    value = value.trim()\n\n    if (!value.length) {\n      continue\n    } else if (!isValidHeaderName(value)) {\n      continue\n    }\n\n    values.push(value)\n  }\n\n  return values\n}\n\nmodule.exports = {\n  urlEquals,\n  fieldValues\n}\n", "'use strict'\n\nconst { kConstruct } = require('./symbols')\nconst { urlEquals, fieldValues: getFieldValues } = require('./util')\nconst { kEnumerableProperty, isDisturbed } = require('../core/util')\nconst { kHeadersList } = require('../core/symbols')\nconst { webidl } = require('../fetch/webidl')\nconst { Response, cloneResponse } = require('../fetch/response')\nconst { Request } = require('../fetch/request')\nconst { kState, kHeaders, kGuard, kRealm } = require('../fetch/symbols')\nconst { fetching } = require('../fetch/index')\nconst { urlIsHttpHttpsScheme, createDeferredPromise, readAllBytes } = require('../fetch/util')\nconst assert = require('assert')\nconst { getGlobalDispatcher } = require('../global')\n\n/**\n * @see https://w3c.github.io/ServiceWorker/#dfn-cache-batch-operation\n * @typedef {Object} CacheBatchOperation\n * @property {'delete' | 'put'} type\n * @property {any} request\n * @property {any} response\n * @property {import('../../types/cache').CacheQueryOptions} options\n */\n\n/**\n * @see https://w3c.github.io/ServiceWorker/#dfn-request-response-list\n * @typedef {[any, any][]} requestResponseList\n */\n\nclass Cache {\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#dfn-relevant-request-response-list\n   * @type {requestResponseList}\n   */\n  #relevantRequestResponseList\n\n  constructor () {\n    if (arguments[0] !== kConstruct) {\n      webidl.illegalConstructor()\n    }\n\n    this.#relevantRequestResponseList = arguments[1]\n  }\n\n  async match (request, options = {}) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Cache.match' })\n\n    request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.CacheQueryOptions(options)\n\n    const p = await this.matchAll(request, options)\n\n    if (p.length === 0) {\n      return\n    }\n\n    return p[0]\n  }\n\n  async matchAll (request = undefined, options = {}) {\n    webidl.brandCheck(this, Cache)\n\n    if (request !== undefined) request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.CacheQueryOptions(options)\n\n    // 1.\n    let r = null\n\n    // 2.\n    if (request !== undefined) {\n      if (request instanceof Request) {\n        // 2.1.1\n        r = request[kState]\n\n        // 2.1.2\n        if (r.method !== 'GET' && !options.ignoreMethod) {\n          return []\n        }\n      } else if (typeof request === 'string') {\n        // 2.2.1\n        r = new Request(request)[kState]\n      }\n    }\n\n    // 5.\n    // 5.1\n    const responses = []\n\n    // 5.2\n    if (request === undefined) {\n      // 5.2.1\n      for (const requestResponse of this.#relevantRequestResponseList) {\n        responses.push(requestResponse[1])\n      }\n    } else { // 5.3\n      // 5.3.1\n      const requestResponses = this.#queryCache(r, options)\n\n      // 5.3.2\n      for (const requestResponse of requestResponses) {\n        responses.push(requestResponse[1])\n      }\n    }\n\n    // 5.4\n    // We don't implement CORs so we don't need to loop over the responses, yay!\n\n    // 5.5.1\n    const responseList = []\n\n    // 5.5.2\n    for (const response of responses) {\n      // 5.5.2.1\n      const responseObject = new Response(response.body?.source ?? null)\n      const body = responseObject[kState].body\n      responseObject[kState] = response\n      responseObject[kState].body = body\n      responseObject[kHeaders][kHeadersList] = response.headersList\n      responseObject[kHeaders][kGuard] = 'immutable'\n\n      responseList.push(responseObject)\n    }\n\n    // 6.\n    return Object.freeze(responseList)\n  }\n\n  async add (request) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Cache.add' })\n\n    request = webidl.converters.RequestInfo(request)\n\n    // 1.\n    const requests = [request]\n\n    // 2.\n    const responseArrayPromise = this.addAll(requests)\n\n    // 3.\n    return await responseArrayPromise\n  }\n\n  async addAll (requests) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Cache.addAll' })\n\n    requests = webidl.converters['sequence<RequestInfo>'](requests)\n\n    // 1.\n    const responsePromises = []\n\n    // 2.\n    const requestList = []\n\n    // 3.\n    for (const request of requests) {\n      if (typeof request === 'string') {\n        continue\n      }\n\n      // 3.1\n      const r = request[kState]\n\n      // 3.2\n      if (!urlIsHttpHttpsScheme(r.url) || r.method !== 'GET') {\n        throw webidl.errors.exception({\n          header: 'Cache.addAll',\n          message: 'Expected http/s scheme when method is not GET.'\n        })\n      }\n    }\n\n    // 4.\n    /** @type {ReturnType<typeof fetching>[]} */\n    const fetchControllers = []\n\n    // 5.\n    for (const request of requests) {\n      // 5.1\n      const r = new Request(request)[kState]\n\n      // 5.2\n      if (!urlIsHttpHttpsScheme(r.url)) {\n        throw webidl.errors.exception({\n          header: 'Cache.addAll',\n          message: 'Expected http/s scheme.'\n        })\n      }\n\n      // 5.4\n      r.initiator = 'fetch'\n      r.destination = 'subresource'\n\n      // 5.5\n      requestList.push(r)\n\n      // 5.6\n      const responsePromise = createDeferredPromise()\n\n      // 5.7\n      fetchControllers.push(fetching({\n        request: r,\n        dispatcher: getGlobalDispatcher(),\n        processResponse (response) {\n          // 1.\n          if (response.type === 'error' || response.status === 206 || response.status < 200 || response.status > 299) {\n            responsePromise.reject(webidl.errors.exception({\n              header: 'Cache.addAll',\n              message: 'Received an invalid status code or the request failed.'\n            }))\n          } else if (response.headersList.contains('vary')) { // 2.\n            // 2.1\n            const fieldValues = getFieldValues(response.headersList.get('vary'))\n\n            // 2.2\n            for (const fieldValue of fieldValues) {\n              // 2.2.1\n              if (fieldValue === '*') {\n                responsePromise.reject(webidl.errors.exception({\n                  header: 'Cache.addAll',\n                  message: 'invalid vary field value'\n                }))\n\n                for (const controller of fetchControllers) {\n                  controller.abort()\n                }\n\n                return\n              }\n            }\n          }\n        },\n        processResponseEndOfBody (response) {\n          // 1.\n          if (response.aborted) {\n            responsePromise.reject(new DOMException('aborted', 'AbortError'))\n            return\n          }\n\n          // 2.\n          responsePromise.resolve(response)\n        }\n      }))\n\n      // 5.8\n      responsePromises.push(responsePromise.promise)\n    }\n\n    // 6.\n    const p = Promise.all(responsePromises)\n\n    // 7.\n    const responses = await p\n\n    // 7.1\n    const operations = []\n\n    // 7.2\n    let index = 0\n\n    // 7.3\n    for (const response of responses) {\n      // 7.3.1\n      /** @type {CacheBatchOperation} */\n      const operation = {\n        type: 'put', // 7.3.2\n        request: requestList[index], // 7.3.3\n        response // 7.3.4\n      }\n\n      operations.push(operation) // 7.3.5\n\n      index++ // 7.3.6\n    }\n\n    // 7.5\n    const cacheJobPromise = createDeferredPromise()\n\n    // 7.6.1\n    let errorData = null\n\n    // 7.6.2\n    try {\n      this.#batchCacheOperations(operations)\n    } catch (e) {\n      errorData = e\n    }\n\n    // 7.6.3\n    queueMicrotask(() => {\n      // 7.6.3.1\n      if (errorData === null) {\n        cacheJobPromise.resolve(undefined)\n      } else {\n        // 7.6.3.2\n        cacheJobPromise.reject(errorData)\n      }\n    })\n\n    // 7.7\n    return cacheJobPromise.promise\n  }\n\n  async put (request, response) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 2, { header: 'Cache.put' })\n\n    request = webidl.converters.RequestInfo(request)\n    response = webidl.converters.Response(response)\n\n    // 1.\n    let innerRequest = null\n\n    // 2.\n    if (request instanceof Request) {\n      innerRequest = request[kState]\n    } else { // 3.\n      innerRequest = new Request(request)[kState]\n    }\n\n    // 4.\n    if (!urlIsHttpHttpsScheme(innerRequest.url) || innerRequest.method !== 'GET') {\n      throw webidl.errors.exception({\n        header: 'Cache.put',\n        message: 'Expected an http/s scheme when method is not GET'\n      })\n    }\n\n    // 5.\n    const innerResponse = response[kState]\n\n    // 6.\n    if (innerResponse.status === 206) {\n      throw webidl.errors.exception({\n        header: 'Cache.put',\n        message: 'Got 206 status'\n      })\n    }\n\n    // 7.\n    if (innerResponse.headersList.contains('vary')) {\n      // 7.1.\n      const fieldValues = getFieldValues(innerResponse.headersList.get('vary'))\n\n      // 7.2.\n      for (const fieldValue of fieldValues) {\n        // 7.2.1\n        if (fieldValue === '*') {\n          throw webidl.errors.exception({\n            header: 'Cache.put',\n            message: 'Got * vary field value'\n          })\n        }\n      }\n    }\n\n    // 8.\n    if (innerResponse.body && (isDisturbed(innerResponse.body.stream) || innerResponse.body.stream.locked)) {\n      throw webidl.errors.exception({\n        header: 'Cache.put',\n        message: 'Response body is locked or disturbed'\n      })\n    }\n\n    // 9.\n    const clonedResponse = cloneResponse(innerResponse)\n\n    // 10.\n    const bodyReadPromise = createDeferredPromise()\n\n    // 11.\n    if (innerResponse.body != null) {\n      // 11.1\n      const stream = innerResponse.body.stream\n\n      // 11.2\n      const reader = stream.getReader()\n\n      // 11.3\n      readAllBytes(reader).then(bodyReadPromise.resolve, bodyReadPromise.reject)\n    } else {\n      bodyReadPromise.resolve(undefined)\n    }\n\n    // 12.\n    /** @type {CacheBatchOperation[]} */\n    const operations = []\n\n    // 13.\n    /** @type {CacheBatchOperation} */\n    const operation = {\n      type: 'put', // 14.\n      request: innerRequest, // 15.\n      response: clonedResponse // 16.\n    }\n\n    // 17.\n    operations.push(operation)\n\n    // 19.\n    const bytes = await bodyReadPromise.promise\n\n    if (clonedResponse.body != null) {\n      clonedResponse.body.source = bytes\n    }\n\n    // 19.1\n    const cacheJobPromise = createDeferredPromise()\n\n    // 19.2.1\n    let errorData = null\n\n    // 19.2.2\n    try {\n      this.#batchCacheOperations(operations)\n    } catch (e) {\n      errorData = e\n    }\n\n    // 19.2.3\n    queueMicrotask(() => {\n      // 19.2.3.1\n      if (errorData === null) {\n        cacheJobPromise.resolve()\n      } else { // 19.2.3.2\n        cacheJobPromise.reject(errorData)\n      }\n    })\n\n    return cacheJobPromise.promise\n  }\n\n  async delete (request, options = {}) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Cache.delete' })\n\n    request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.CacheQueryOptions(options)\n\n    /**\n     * @type {Request}\n     */\n    let r = null\n\n    if (request instanceof Request) {\n      r = request[kState]\n\n      if (r.method !== 'GET' && !options.ignoreMethod) {\n        return false\n      }\n    } else {\n      assert(typeof request === 'string')\n\n      r = new Request(request)[kState]\n    }\n\n    /** @type {CacheBatchOperation[]} */\n    const operations = []\n\n    /** @type {CacheBatchOperation} */\n    const operation = {\n      type: 'delete',\n      request: r,\n      options\n    }\n\n    operations.push(operation)\n\n    const cacheJobPromise = createDeferredPromise()\n\n    let errorData = null\n    let requestResponses\n\n    try {\n      requestResponses = this.#batchCacheOperations(operations)\n    } catch (e) {\n      errorData = e\n    }\n\n    queueMicrotask(() => {\n      if (errorData === null) {\n        cacheJobPromise.resolve(!!requestResponses?.length)\n      } else {\n        cacheJobPromise.reject(errorData)\n      }\n    })\n\n    return cacheJobPromise.promise\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#dom-cache-keys\n   * @param {any} request\n   * @param {import('../../types/cache').CacheQueryOptions} options\n   * @returns {readonly Request[]}\n   */\n  async keys (request = undefined, options = {}) {\n    webidl.brandCheck(this, Cache)\n\n    if (request !== undefined) request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.CacheQueryOptions(options)\n\n    // 1.\n    let r = null\n\n    // 2.\n    if (request !== undefined) {\n      // 2.1\n      if (request instanceof Request) {\n        // 2.1.1\n        r = request[kState]\n\n        // 2.1.2\n        if (r.method !== 'GET' && !options.ignoreMethod) {\n          return []\n        }\n      } else if (typeof request === 'string') { // 2.2\n        r = new Request(request)[kState]\n      }\n    }\n\n    // 4.\n    const promise = createDeferredPromise()\n\n    // 5.\n    // 5.1\n    const requests = []\n\n    // 5.2\n    if (request === undefined) {\n      // 5.2.1\n      for (const requestResponse of this.#relevantRequestResponseList) {\n        // 5.2.1.1\n        requests.push(requestResponse[0])\n      }\n    } else { // 5.3\n      // 5.3.1\n      const requestResponses = this.#queryCache(r, options)\n\n      // 5.3.2\n      for (const requestResponse of requestResponses) {\n        // 5.3.2.1\n        requests.push(requestResponse[0])\n      }\n    }\n\n    // 5.4\n    queueMicrotask(() => {\n      // 5.4.1\n      const requestList = []\n\n      // 5.4.2\n      for (const request of requests) {\n        const requestObject = new Request('https://a')\n        requestObject[kState] = request\n        requestObject[kHeaders][kHeadersList] = request.headersList\n        requestObject[kHeaders][kGuard] = 'immutable'\n        requestObject[kRealm] = request.client\n\n        // 5.4.2.1\n        requestList.push(requestObject)\n      }\n\n      // 5.4.3\n      promise.resolve(Object.freeze(requestList))\n    })\n\n    return promise.promise\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#batch-cache-operations-algorithm\n   * @param {CacheBatchOperation[]} operations\n   * @returns {requestResponseList}\n   */\n  #batchCacheOperations (operations) {\n    // 1.\n    const cache = this.#relevantRequestResponseList\n\n    // 2.\n    const backupCache = [...cache]\n\n    // 3.\n    const addedItems = []\n\n    // 4.1\n    const resultList = []\n\n    try {\n      // 4.2\n      for (const operation of operations) {\n        // 4.2.1\n        if (operation.type !== 'delete' && operation.type !== 'put') {\n          throw webidl.errors.exception({\n            header: 'Cache.#batchCacheOperations',\n            message: 'operation type does not match \"delete\" or \"put\"'\n          })\n        }\n\n        // 4.2.2\n        if (operation.type === 'delete' && operation.response != null) {\n          throw webidl.errors.exception({\n            header: 'Cache.#batchCacheOperations',\n            message: 'delete operation should not have an associated response'\n          })\n        }\n\n        // 4.2.3\n        if (this.#queryCache(operation.request, operation.options, addedItems).length) {\n          throw new DOMException('???', 'InvalidStateError')\n        }\n\n        // 4.2.4\n        let requestResponses\n\n        // 4.2.5\n        if (operation.type === 'delete') {\n          // 4.2.5.1\n          requestResponses = this.#queryCache(operation.request, operation.options)\n\n          // TODO: the spec is wrong, this is needed to pass WPTs\n          if (requestResponses.length === 0) {\n            return []\n          }\n\n          // 4.2.5.2\n          for (const requestResponse of requestResponses) {\n            const idx = cache.indexOf(requestResponse)\n            assert(idx !== -1)\n\n            // 4.2.5.2.1\n            cache.splice(idx, 1)\n          }\n        } else if (operation.type === 'put') { // 4.2.6\n          // 4.2.6.1\n          if (operation.response == null) {\n            throw webidl.errors.exception({\n              header: 'Cache.#batchCacheOperations',\n              message: 'put operation should have an associated response'\n            })\n          }\n\n          // 4.2.6.2\n          const r = operation.request\n\n          // 4.2.6.3\n          if (!urlIsHttpHttpsScheme(r.url)) {\n            throw webidl.errors.exception({\n              header: 'Cache.#batchCacheOperations',\n              message: 'expected http or https scheme'\n            })\n          }\n\n          // 4.2.6.4\n          if (r.method !== 'GET') {\n            throw webidl.errors.exception({\n              header: 'Cache.#batchCacheOperations',\n              message: 'not get method'\n            })\n          }\n\n          // 4.2.6.5\n          if (operation.options != null) {\n            throw webidl.errors.exception({\n              header: 'Cache.#batchCacheOperations',\n              message: 'options must not be defined'\n            })\n          }\n\n          // 4.2.6.6\n          requestResponses = this.#queryCache(operation.request)\n\n          // 4.2.6.7\n          for (const requestResponse of requestResponses) {\n            const idx = cache.indexOf(requestResponse)\n            assert(idx !== -1)\n\n            // 4.2.6.7.1\n            cache.splice(idx, 1)\n          }\n\n          // 4.2.6.8\n          cache.push([operation.request, operation.response])\n\n          // 4.2.6.10\n          addedItems.push([operation.request, operation.response])\n        }\n\n        // 4.2.7\n        resultList.push([operation.request, operation.response])\n      }\n\n      // 4.3\n      return resultList\n    } catch (e) { // 5.\n      // 5.1\n      this.#relevantRequestResponseList.length = 0\n\n      // 5.2\n      this.#relevantRequestResponseList = backupCache\n\n      // 5.3\n      throw e\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#query-cache\n   * @param {any} requestQuery\n   * @param {import('../../types/cache').CacheQueryOptions} options\n   * @param {requestResponseList} targetStorage\n   * @returns {requestResponseList}\n   */\n  #queryCache (requestQuery, options, targetStorage) {\n    /** @type {requestResponseList} */\n    const resultList = []\n\n    const storage = targetStorage ?? this.#relevantRequestResponseList\n\n    for (const requestResponse of storage) {\n      const [cachedRequest, cachedResponse] = requestResponse\n      if (this.#requestMatchesCachedItem(requestQuery, cachedRequest, cachedResponse, options)) {\n        resultList.push(requestResponse)\n      }\n    }\n\n    return resultList\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#request-matches-cached-item-algorithm\n   * @param {any} requestQuery\n   * @param {any} request\n   * @param {any | null} response\n   * @param {import('../../types/cache').CacheQueryOptions | undefined} options\n   * @returns {boolean}\n   */\n  #requestMatchesCachedItem (requestQuery, request, response = null, options) {\n    // if (options?.ignoreMethod === false && request.method === 'GET') {\n    //   return false\n    // }\n\n    const queryURL = new URL(requestQuery.url)\n\n    const cachedURL = new URL(request.url)\n\n    if (options?.ignoreSearch) {\n      cachedURL.search = ''\n\n      queryURL.search = ''\n    }\n\n    if (!urlEquals(queryURL, cachedURL, true)) {\n      return false\n    }\n\n    if (\n      response == null ||\n      options?.ignoreVary ||\n      !response.headersList.contains('vary')\n    ) {\n      return true\n    }\n\n    const fieldValues = getFieldValues(response.headersList.get('vary'))\n\n    for (const fieldValue of fieldValues) {\n      if (fieldValue === '*') {\n        return false\n      }\n\n      const requestValue = request.headersList.get(fieldValue)\n      const queryValue = requestQuery.headersList.get(fieldValue)\n\n      // If one has the header and the other doesn't, or one has\n      // a different value than the other, return false\n      if (requestValue !== queryValue) {\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nObject.defineProperties(Cache.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'Cache',\n    configurable: true\n  },\n  match: kEnumerableProperty,\n  matchAll: kEnumerableProperty,\n  add: kEnumerableProperty,\n  addAll: kEnumerableProperty,\n  put: kEnumerableProperty,\n  delete: kEnumerableProperty,\n  keys: kEnumerableProperty\n})\n\nconst cacheQueryOptionConverters = [\n  {\n    key: 'ignoreSearch',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'ignoreMethod',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'ignoreVary',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  }\n]\n\nwebidl.converters.CacheQueryOptions = webidl.dictionaryConverter(cacheQueryOptionConverters)\n\nwebidl.converters.MultiCacheQueryOptions = webidl.dictionaryConverter([\n  ...cacheQueryOptionConverters,\n  {\n    key: 'cacheName',\n    converter: webidl.converters.DOMString\n  }\n])\n\nwebidl.converters.Response = webidl.interfaceConverter(Response)\n\nwebidl.converters['sequence<RequestInfo>'] = webidl.sequenceConverter(\n  webidl.converters.RequestInfo\n)\n\nmodule.exports = {\n  Cache\n}\n", "'use strict'\n\nconst { kConstruct } = require('./symbols')\nconst { Cache } = require('./cache')\nconst { webidl } = require('../fetch/webidl')\nconst { kEnumerableProperty } = require('../core/util')\n\nclass CacheStorage {\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#dfn-relevant-name-to-cache-map\n   * @type {Map<string, import('./cache').requestResponseList}\n   */\n  #caches = new Map()\n\n  constructor () {\n    if (arguments[0] !== kConstruct) {\n      webidl.illegalConstructor()\n    }\n  }\n\n  async match (request, options = {}) {\n    webidl.brandCheck(this, CacheStorage)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CacheStorage.match' })\n\n    request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.MultiCacheQueryOptions(options)\n\n    // 1.\n    if (options.cacheName != null) {\n      // 1.1.1.1\n      if (this.#caches.has(options.cacheName)) {\n        // 1.1.1.1.1\n        const cacheList = this.#caches.get(options.cacheName)\n        const cache = new Cache(kConstruct, cacheList)\n\n        return await cache.match(request, options)\n      }\n    } else { // 2.\n      // 2.2\n      for (const cacheList of this.#caches.values()) {\n        const cache = new Cache(kConstruct, cacheList)\n\n        // 2.2.1.2\n        const response = await cache.match(request, options)\n\n        if (response !== undefined) {\n          return response\n        }\n      }\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#cache-storage-has\n   * @param {string} cacheName\n   * @returns {Promise<boolean>}\n   */\n  async has (cacheName) {\n    webidl.brandCheck(this, CacheStorage)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CacheStorage.has' })\n\n    cacheName = webidl.converters.DOMString(cacheName)\n\n    // 2.1.1\n    // 2.2\n    return this.#caches.has(cacheName)\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#dom-cachestorage-open\n   * @param {string} cacheName\n   * @returns {Promise<Cache>}\n   */\n  async open (cacheName) {\n    webidl.brandCheck(this, CacheStorage)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CacheStorage.open' })\n\n    cacheName = webidl.converters.DOMString(cacheName)\n\n    // 2.1\n    if (this.#caches.has(cacheName)) {\n      // await caches.open('v1') !== await caches.open('v1')\n\n      // 2.1.1\n      const cache = this.#caches.get(cacheName)\n\n      // 2.1.1.1\n      return new Cache(kConstruct, cache)\n    }\n\n    // 2.2\n    const cache = []\n\n    // 2.3\n    this.#caches.set(cacheName, cache)\n\n    // 2.4\n    return new Cache(kConstruct, cache)\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#cache-storage-delete\n   * @param {string} cacheName\n   * @returns {Promise<boolean>}\n   */\n  async delete (cacheName) {\n    webidl.brandCheck(this, CacheStorage)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CacheStorage.delete' })\n\n    cacheName = webidl.converters.DOMString(cacheName)\n\n    return this.#caches.delete(cacheName)\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#cache-storage-keys\n   * @returns {string[]}\n   */\n  async keys () {\n    webidl.brandCheck(this, CacheStorage)\n\n    // 2.1\n    const keys = this.#caches.keys()\n\n    // 2.2\n    return [...keys]\n  }\n}\n\nObject.defineProperties(CacheStorage.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'CacheStorage',\n    configurable: true\n  },\n  match: kEnumerableProperty,\n  has: kEnumerableProperty,\n  open: kEnumerableProperty,\n  delete: kEnumerableProperty,\n  keys: kEnumerableProperty\n})\n\nmodule.exports = {\n  CacheStorage\n}\n", "'use strict'\n\n// https://wicg.github.io/cookie-store/#cookie-maximum-attribute-value-size\nconst maxAttributeValueSize = 1024\n\n// https://wicg.github.io/cookie-store/#cookie-maximum-name-value-pair-size\nconst maxNameValuePairSize = 4096\n\nmodule.exports = {\n  maxAttributeValueSize,\n  maxNameValuePairSize\n}\n", "'use strict'\n\n/**\n * @param {string} value\n * @returns {boolean}\n */\nfunction isCTLExcludingHtab (value) {\n  if (value.length === 0) {\n    return false\n  }\n\n  for (const char of value) {\n    const code = char.charCodeAt(0)\n\n    if (\n      (code >= 0x00 || code <= 0x08) ||\n      (code >= 0x0A || code <= 0x1F) ||\n      code === 0x7F\n    ) {\n      return false\n    }\n  }\n}\n\n/**\n CHAR           = <any US-ASCII character (octets 0 - 127)>\n token          = 1*<any CHAR except CTLs or separators>\n separators     = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n                | \",\" | \";\" | \":\" | \"\\\" | <\">\n                | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n                | \"{\" | \"}\" | SP | HT\n * @param {string} name\n */\nfunction validateCookieName (name) {\n  for (const char of name) {\n    const code = char.charCodeAt(0)\n\n    if (\n      (code <= 0x20 || code > 0x7F) ||\n      char === '(' ||\n      char === ')' ||\n      char === '>' ||\n      char === '<' ||\n      char === '@' ||\n      char === ',' ||\n      char === ';' ||\n      char === ':' ||\n      char === '\\\\' ||\n      char === '\"' ||\n      char === '/' ||\n      char === '[' ||\n      char === ']' ||\n      char === '?' ||\n      char === '=' ||\n      char === '{' ||\n      char === '}'\n    ) {\n      throw new Error('Invalid cookie name')\n    }\n  }\n}\n\n/**\n cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n                       ; US-ASCII characters excluding CTLs,\n                       ; whitespace DQUOTE, comma, semicolon,\n                       ; and backslash\n * @param {string} value\n */\nfunction validateCookieValue (value) {\n  for (const char of value) {\n    const code = char.charCodeAt(0)\n\n    if (\n      code < 0x21 || // exclude CTLs (0-31)\n      code === 0x22 ||\n      code === 0x2C ||\n      code === 0x3B ||\n      code === 0x5C ||\n      code > 0x7E // non-ascii\n    ) {\n      throw new Error('Invalid header value')\n    }\n  }\n}\n\n/**\n * path-value        = <any CHAR except CTLs or \";\">\n * @param {string} path\n */\nfunction validateCookiePath (path) {\n  for (const char of path) {\n    const code = char.charCodeAt(0)\n\n    if (code < 0x21 || char === ';') {\n      throw new Error('Invalid cookie path')\n    }\n  }\n}\n\n/**\n * I have no idea why these values aren't allowed to be honest,\n * but Deno tests these. - Khafra\n * @param {string} domain\n */\nfunction validateCookieDomain (domain) {\n  if (\n    domain.startsWith('-') ||\n    domain.endsWith('.') ||\n    domain.endsWith('-')\n  ) {\n    throw new Error('Invalid cookie domain')\n  }\n}\n\n/**\n * @see https://www.rfc-editor.org/rfc/rfc7231#section-7.1.1.1\n * @param {number|Date} date\n  IMF-fixdate  = day-name \",\" SP date1 SP time-of-day SP GMT\n  ; fixed length/zone/capitalization subset of the format\n  ; see Section 3.3 of [RFC5322]\n\n  day-name     = %x4D.6F.6E ; \"Mon\", case-sensitive\n              / %x54.75.65 ; \"Tue\", case-sensitive\n              / %x57.65.64 ; \"Wed\", case-sensitive\n              / %x54.68.75 ; \"Thu\", case-sensitive\n              / %x46.72.69 ; \"Fri\", case-sensitive\n              / %x53.61.74 ; \"Sat\", case-sensitive\n              / %x53.75.6E ; \"Sun\", case-sensitive\n  date1        = day SP month SP year\n                  ; e.g., 02 Jun 1982\n\n  day          = 2DIGIT\n  month        = %x4A.61.6E ; \"Jan\", case-sensitive\n              / %x46.65.62 ; \"Feb\", case-sensitive\n              / %x4D.61.72 ; \"Mar\", case-sensitive\n              / %x41.70.72 ; \"Apr\", case-sensitive\n              / %x4D.61.79 ; \"May\", case-sensitive\n              / %x4A.75.6E ; \"Jun\", case-sensitive\n              / %x4A.75.6C ; \"Jul\", case-sensitive\n              / %x41.75.67 ; \"Aug\", case-sensitive\n              / %x53.65.70 ; \"Sep\", case-sensitive\n              / %x4F.63.74 ; \"Oct\", case-sensitive\n              / %x4E.6F.76 ; \"Nov\", case-sensitive\n              / %x44.65.63 ; \"Dec\", case-sensitive\n  year         = 4DIGIT\n\n  GMT          = %x47.4D.54 ; \"GMT\", case-sensitive\n\n  time-of-day  = hour \":\" minute \":\" second\n              ; 00:00:00 - 23:59:60 (leap second)\n\n  hour         = 2DIGIT\n  minute       = 2DIGIT\n  second       = 2DIGIT\n */\nfunction toIMFDate (date) {\n  if (typeof date === 'number') {\n    date = new Date(date)\n  }\n\n  const days = [\n    'Sun', 'Mon', 'Tue', 'Wed',\n    'Thu', 'Fri', 'Sat'\n  ]\n\n  const months = [\n    'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'\n  ]\n\n  const dayName = days[date.getUTCDay()]\n  const day = date.getUTCDate().toString().padStart(2, '0')\n  const month = months[date.getUTCMonth()]\n  const year = date.getUTCFullYear()\n  const hour = date.getUTCHours().toString().padStart(2, '0')\n  const minute = date.getUTCMinutes().toString().padStart(2, '0')\n  const second = date.getUTCSeconds().toString().padStart(2, '0')\n\n  return `${dayName}, ${day} ${month} ${year} ${hour}:${minute}:${second} GMT`\n}\n\n/**\n max-age-av        = \"Max-Age=\" non-zero-digit *DIGIT\n                       ; In practice, both expires-av and max-age-av\n                       ; are limited to dates representable by the\n                       ; user agent.\n * @param {number} maxAge\n */\nfunction validateCookieMaxAge (maxAge) {\n  if (maxAge < 0) {\n    throw new Error('Invalid cookie max-age')\n  }\n}\n\n/**\n * @see https://www.rfc-editor.org/rfc/rfc6265#section-4.1.1\n * @param {import('./index').Cookie} cookie\n */\nfunction stringify (cookie) {\n  if (cookie.name.length === 0) {\n    return null\n  }\n\n  validateCookieName(cookie.name)\n  validateCookieValue(cookie.value)\n\n  const out = [`${cookie.name}=${cookie.value}`]\n\n  // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cookie-prefixes-00#section-3.1\n  // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cookie-prefixes-00#section-3.2\n  if (cookie.name.startsWith('__Secure-')) {\n    cookie.secure = true\n  }\n\n  if (cookie.name.startsWith('__Host-')) {\n    cookie.secure = true\n    cookie.domain = null\n    cookie.path = '/'\n  }\n\n  if (cookie.secure) {\n    out.push('Secure')\n  }\n\n  if (cookie.httpOnly) {\n    out.push('HttpOnly')\n  }\n\n  if (typeof cookie.maxAge === 'number') {\n    validateCookieMaxAge(cookie.maxAge)\n    out.push(`Max-Age=${cookie.maxAge}`)\n  }\n\n  if (cookie.domain) {\n    validateCookieDomain(cookie.domain)\n    out.push(`Domain=${cookie.domain}`)\n  }\n\n  if (cookie.path) {\n    validateCookiePath(cookie.path)\n    out.push(`Path=${cookie.path}`)\n  }\n\n  if (cookie.expires && cookie.expires.toString() !== 'Invalid Date') {\n    out.push(`Expires=${toIMFDate(cookie.expires)}`)\n  }\n\n  if (cookie.sameSite) {\n    out.push(`SameSite=${cookie.sameSite}`)\n  }\n\n  for (const part of cookie.unparsed) {\n    if (!part.includes('=')) {\n      throw new Error('Invalid unparsed')\n    }\n\n    const [key, ...value] = part.split('=')\n\n    out.push(`${key.trim()}=${value.join('=')}`)\n  }\n\n  return out.join('; ')\n}\n\nmodule.exports = {\n  isCTLExcludingHtab,\n  validateCookieName,\n  validateCookiePath,\n  validateCookieValue,\n  toIMFDate,\n  stringify\n}\n", "'use strict'\n\nconst { maxNameValuePairSize, maxAttributeValueSize } = require('./constants')\nconst { isCTLExcludingHtab } = require('./util')\nconst { collectASequenceOfCodePointsFast } = require('../fetch/dataURL')\nconst assert = require('assert')\n\n/**\n * @description Parses the field-value attributes of a set-cookie header string.\n * @see https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4\n * @param {string} header\n * @returns if the header is invalid, null will be returned\n */\nfunction parseSetCookie (header) {\n  // 1. If the set-cookie-string contains a %x00-08 / %x0A-1F / %x7F\n  //    character (CTL characters excluding HTAB): Abort these steps and\n  //    ignore the set-cookie-string entirely.\n  if (isCTLExcludingHtab(header)) {\n    return null\n  }\n\n  let nameValuePair = ''\n  let unparsedAttributes = ''\n  let name = ''\n  let value = ''\n\n  // 2. If the set-cookie-string contains a %x3B (\";\") character:\n  if (header.includes(';')) {\n    // 1. The name-value-pair string consists of the characters up to,\n    //    but not including, the first %x3B (\";\"), and the unparsed-\n    //    attributes consist of the remainder of the set-cookie-string\n    //    (including the %x3B (\";\") in question).\n    const position = { position: 0 }\n\n    nameValuePair = collectASequenceOfCodePointsFast(';', header, position)\n    unparsedAttributes = header.slice(position.position)\n  } else {\n    // Otherwise:\n\n    // 1. The name-value-pair string consists of all the characters\n    //    contained in the set-cookie-string, and the unparsed-\n    //    attributes is the empty string.\n    nameValuePair = header\n  }\n\n  // 3. If the name-value-pair string lacks a %x3D (\"=\") character, then\n  //    the name string is empty, and the value string is the value of\n  //    name-value-pair.\n  if (!nameValuePair.includes('=')) {\n    value = nameValuePair\n  } else {\n    //    Otherwise, the name string consists of the characters up to, but\n    //    not including, the first %x3D (\"=\") character, and the (possibly\n    //    empty) value string consists of the characters after the first\n    //    %x3D (\"=\") character.\n    const position = { position: 0 }\n    name = collectASequenceOfCodePointsFast(\n      '=',\n      nameValuePair,\n      position\n    )\n    value = nameValuePair.slice(position.position + 1)\n  }\n\n  // 4. Remove any leading or trailing WSP characters from the name\n  //    string and the value string.\n  name = name.trim()\n  value = value.trim()\n\n  // 5. If the sum of the lengths of the name string and the value string\n  //    is more than 4096 octets, abort these steps and ignore the set-\n  //    cookie-string entirely.\n  if (name.length + value.length > maxNameValuePairSize) {\n    return null\n  }\n\n  // 6. The cookie-name is the name string, and the cookie-value is the\n  //    value string.\n  return {\n    name, value, ...parseUnparsedAttributes(unparsedAttributes)\n  }\n}\n\n/**\n * Parses the remaining attributes of a set-cookie header\n * @see https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4\n * @param {string} unparsedAttributes\n * @param {[Object.<string, unknown>]={}} cookieAttributeList\n */\nfunction parseUnparsedAttributes (unparsedAttributes, cookieAttributeList = {}) {\n  // 1. If the unparsed-attributes string is empty, skip the rest of\n  //    these steps.\n  if (unparsedAttributes.length === 0) {\n    return cookieAttributeList\n  }\n\n  // 2. Discard the first character of the unparsed-attributes (which\n  //    will be a %x3B (\";\") character).\n  assert(unparsedAttributes[0] === ';')\n  unparsedAttributes = unparsedAttributes.slice(1)\n\n  let cookieAv = ''\n\n  // 3. If the remaining unparsed-attributes contains a %x3B (\";\")\n  //    character:\n  if (unparsedAttributes.includes(';')) {\n    // 1. Consume the characters of the unparsed-attributes up to, but\n    //    not including, the first %x3B (\";\") character.\n    cookieAv = collectASequenceOfCodePointsFast(\n      ';',\n      unparsedAttributes,\n      { position: 0 }\n    )\n    unparsedAttributes = unparsedAttributes.slice(cookieAv.length)\n  } else {\n    // Otherwise:\n\n    // 1. Consume the remainder of the unparsed-attributes.\n    cookieAv = unparsedAttributes\n    unparsedAttributes = ''\n  }\n\n  // Let the cookie-av string be the characters consumed in this step.\n\n  let attributeName = ''\n  let attributeValue = ''\n\n  // 4. If the cookie-av string contains a %x3D (\"=\") character:\n  if (cookieAv.includes('=')) {\n    // 1. The (possibly empty) attribute-name string consists of the\n    //    characters up to, but not including, the first %x3D (\"=\")\n    //    character, and the (possibly empty) attribute-value string\n    //    consists of the characters after the first %x3D (\"=\")\n    //    character.\n    const position = { position: 0 }\n\n    attributeName = collectASequenceOfCodePointsFast(\n      '=',\n      cookieAv,\n      position\n    )\n    attributeValue = cookieAv.slice(position.position + 1)\n  } else {\n    // Otherwise:\n\n    // 1. The attribute-name string consists of the entire cookie-av\n    //    string, and the attribute-value string is empty.\n    attributeName = cookieAv\n  }\n\n  // 5. Remove any leading or trailing WSP characters from the attribute-\n  //    name string and the attribute-value string.\n  attributeName = attributeName.trim()\n  attributeValue = attributeValue.trim()\n\n  // 6. If the attribute-value is longer than 1024 octets, ignore the\n  //    cookie-av string and return to Step 1 of this algorithm.\n  if (attributeValue.length > maxAttributeValueSize) {\n    return parseUnparsedAttributes(unparsedAttributes, cookieAttributeList)\n  }\n\n  // 7. Process the attribute-name and attribute-value according to the\n  //    requirements in the following subsections.  (Notice that\n  //    attributes with unrecognized attribute-names are ignored.)\n  const attributeNameLowercase = attributeName.toLowerCase()\n\n  // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.1\n  // If the attribute-name case-insensitively matches the string\n  // \"Expires\", the user agent MUST process the cookie-av as follows.\n  if (attributeNameLowercase === 'expires') {\n    // 1. Let the expiry-time be the result of parsing the attribute-value\n    //    as cookie-date (see Section 5.1.1).\n    const expiryTime = new Date(attributeValue)\n\n    // 2. If the attribute-value failed to parse as a cookie date, ignore\n    //    the cookie-av.\n\n    cookieAttributeList.expires = expiryTime\n  } else if (attributeNameLowercase === 'max-age') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.2\n    // If the attribute-name case-insensitively matches the string \"Max-\n    // Age\", the user agent MUST process the cookie-av as follows.\n\n    // 1. If the first character of the attribute-value is not a DIGIT or a\n    //    \"-\" character, ignore the cookie-av.\n    const charCode = attributeValue.charCodeAt(0)\n\n    if ((charCode < 48 || charCode > 57) && attributeValue[0] !== '-') {\n      return parseUnparsedAttributes(unparsedAttributes, cookieAttributeList)\n    }\n\n    // 2. If the remainder of attribute-value contains a non-DIGIT\n    //    character, ignore the cookie-av.\n    if (!/^\\d+$/.test(attributeValue)) {\n      return parseUnparsedAttributes(unparsedAttributes, cookieAttributeList)\n    }\n\n    // 3. Let delta-seconds be the attribute-value converted to an integer.\n    const deltaSeconds = Number(attributeValue)\n\n    // 4. Let cookie-age-limit be the maximum age of the cookie (which\n    //    SHOULD be 400 days or less, see Section 4.1.2.2).\n\n    // 5. Set delta-seconds to the smaller of its present value and cookie-\n    //    age-limit.\n    // deltaSeconds = Math.min(deltaSeconds * 1000, maxExpiresMs)\n\n    // 6. If delta-seconds is less than or equal to zero (0), let expiry-\n    //    time be the earliest representable date and time.  Otherwise, let\n    //    the expiry-time be the current date and time plus delta-seconds\n    //    seconds.\n    // const expiryTime = deltaSeconds <= 0 ? Date.now() : Date.now() + deltaSeconds\n\n    // 7. Append an attribute to the cookie-attribute-list with an\n    //    attribute-name of Max-Age and an attribute-value of expiry-time.\n    cookieAttributeList.maxAge = deltaSeconds\n  } else if (attributeNameLowercase === 'domain') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.3\n    // If the attribute-name case-insensitively matches the string \"Domain\",\n    // the user agent MUST process the cookie-av as follows.\n\n    // 1. Let cookie-domain be the attribute-value.\n    let cookieDomain = attributeValue\n\n    // 2. If cookie-domain starts with %x2E (\".\"), let cookie-domain be\n    //    cookie-domain without its leading %x2E (\".\").\n    if (cookieDomain[0] === '.') {\n      cookieDomain = cookieDomain.slice(1)\n    }\n\n    // 3. Convert the cookie-domain to lower case.\n    cookieDomain = cookieDomain.toLowerCase()\n\n    // 4. Append an attribute to the cookie-attribute-list with an\n    //    attribute-name of Domain and an attribute-value of cookie-domain.\n    cookieAttributeList.domain = cookieDomain\n  } else if (attributeNameLowercase === 'path') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.4\n    // If the attribute-name case-insensitively matches the string \"Path\",\n    // the user agent MUST process the cookie-av as follows.\n\n    // 1. If the attribute-value is empty or if the first character of the\n    //    attribute-value is not %x2F (\"/\"):\n    let cookiePath = ''\n    if (attributeValue.length === 0 || attributeValue[0] !== '/') {\n      // 1. Let cookie-path be the default-path.\n      cookiePath = '/'\n    } else {\n      // Otherwise:\n\n      // 1. Let cookie-path be the attribute-value.\n      cookiePath = attributeValue\n    }\n\n    // 2. Append an attribute to the cookie-attribute-list with an\n    //    attribute-name of Path and an attribute-value of cookie-path.\n    cookieAttributeList.path = cookiePath\n  } else if (attributeNameLowercase === 'secure') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.5\n    // If the attribute-name case-insensitively matches the string \"Secure\",\n    // the user agent MUST append an attribute to the cookie-attribute-list\n    // with an attribute-name of Secure and an empty attribute-value.\n\n    cookieAttributeList.secure = true\n  } else if (attributeNameLowercase === 'httponly') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.6\n    // If the attribute-name case-insensitively matches the string\n    // \"HttpOnly\", the user agent MUST append an attribute to the cookie-\n    // attribute-list with an attribute-name of HttpOnly and an empty\n    // attribute-value.\n\n    cookieAttributeList.httpOnly = true\n  } else if (attributeNameLowercase === 'samesite') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.7\n    // If the attribute-name case-insensitively matches the string\n    // \"SameSite\", the user agent MUST process the cookie-av as follows:\n\n    // 1. Let enforcement be \"Default\".\n    let enforcement = 'Default'\n\n    const attributeValueLowercase = attributeValue.toLowerCase()\n    // 2. If cookie-av's attribute-value is a case-insensitive match for\n    //    \"None\", set enforcement to \"None\".\n    if (attributeValueLowercase.includes('none')) {\n      enforcement = 'None'\n    }\n\n    // 3. If cookie-av's attribute-value is a case-insensitive match for\n    //    \"Strict\", set enforcement to \"Strict\".\n    if (attributeValueLowercase.includes('strict')) {\n      enforcement = 'Strict'\n    }\n\n    // 4. If cookie-av's attribute-value is a case-insensitive match for\n    //    \"Lax\", set enforcement to \"Lax\".\n    if (attributeValueLowercase.includes('lax')) {\n      enforcement = 'Lax'\n    }\n\n    // 5. Append an attribute to the cookie-attribute-list with an\n    //    attribute-name of \"SameSite\" and an attribute-value of\n    //    enforcement.\n    cookieAttributeList.sameSite = enforcement\n  } else {\n    cookieAttributeList.unparsed ??= []\n\n    cookieAttributeList.unparsed.push(`${attributeName}=${attributeValue}`)\n  }\n\n  // 8. Return to Step 1 of this algorithm.\n  return parseUnparsedAttributes(unparsedAttributes, cookieAttributeList)\n}\n\nmodule.exports = {\n  parseSetCookie,\n  parseUnparsedAttributes\n}\n", "'use strict'\n\nconst { parseSetCookie } = require('./parse')\nconst { stringify } = require('./util')\nconst { webidl } = require('../fetch/webidl')\nconst { Headers } = require('../fetch/headers')\n\n/**\n * @typedef {Object} Cookie\n * @property {string} name\n * @property {string} value\n * @property {Date|number|undefined} expires\n * @property {number|undefined} maxAge\n * @property {string|undefined} domain\n * @property {string|undefined} path\n * @property {boolean|undefined} secure\n * @property {boolean|undefined} httpOnly\n * @property {'Strict'|'Lax'|'None'} sameSite\n * @property {string[]} unparsed\n */\n\n/**\n * @param {Headers} headers\n * @returns {Record<string, string>}\n */\nfunction getCookies (headers) {\n  webidl.argumentLengthCheck(arguments, 1, { header: 'getCookies' })\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  const cookie = headers.get('cookie')\n  const out = {}\n\n  if (!cookie) {\n    return out\n  }\n\n  for (const piece of cookie.split(';')) {\n    const [name, ...value] = piece.split('=')\n\n    out[name.trim()] = value.join('=')\n  }\n\n  return out\n}\n\n/**\n * @param {Headers} headers\n * @param {string} name\n * @param {{ path?: string, domain?: string }|undefined} attributes\n * @returns {void}\n */\nfunction deleteCookie (headers, name, attributes) {\n  webidl.argumentLengthCheck(arguments, 2, { header: 'deleteCookie' })\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  name = webidl.converters.DOMString(name)\n  attributes = webidl.converters.DeleteCookieAttributes(attributes)\n\n  // Matches behavior of\n  // https://github.com/denoland/deno_std/blob/63827b16330b82489a04614027c33b7904e08be5/http/cookie.ts#L278\n  setCookie(headers, {\n    name,\n    value: '',\n    expires: new Date(0),\n    ...attributes\n  })\n}\n\n/**\n * @param {Headers} headers\n * @returns {Cookie[]}\n */\nfunction getSetCookies (headers) {\n  webidl.argumentLengthCheck(arguments, 1, { header: 'getSetCookies' })\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  const cookies = headers.getSetCookie()\n\n  if (!cookies) {\n    return []\n  }\n\n  return cookies.map((pair) => parseSetCookie(pair))\n}\n\n/**\n * @param {Headers} headers\n * @param {Cookie} cookie\n * @returns {void}\n */\nfunction setCookie (headers, cookie) {\n  webidl.argumentLengthCheck(arguments, 2, { header: 'setCookie' })\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  cookie = webidl.converters.Cookie(cookie)\n\n  const str = stringify(cookie)\n\n  if (str) {\n    headers.append('Set-Cookie', stringify(cookie))\n  }\n}\n\nwebidl.converters.DeleteCookieAttributes = webidl.dictionaryConverter([\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'path',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'domain',\n    defaultValue: null\n  }\n])\n\nwebidl.converters.Cookie = webidl.dictionaryConverter([\n  {\n    converter: webidl.converters.DOMString,\n    key: 'name'\n  },\n  {\n    converter: webidl.converters.DOMString,\n    key: 'value'\n  },\n  {\n    converter: webidl.nullableConverter((value) => {\n      if (typeof value === 'number') {\n        return webidl.converters['unsigned long long'](value)\n      }\n\n      return new Date(value)\n    }),\n    key: 'expires',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters['long long']),\n    key: 'maxAge',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'domain',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'path',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.boolean),\n    key: 'secure',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.boolean),\n    key: 'httpOnly',\n    defaultValue: null\n  },\n  {\n    converter: webidl.converters.USVString,\n    key: 'sameSite',\n    allowedValues: ['Strict', 'Lax', 'None']\n  },\n  {\n    converter: webidl.sequenceConverter(webidl.converters.DOMString),\n    key: 'unparsed',\n    defaultValue: []\n  }\n])\n\nmodule.exports = {\n  getCookies,\n  deleteCookie,\n  getSetCookies,\n  setCookie\n}\n", "'use strict'\n\n// This is a Globally Unique Identifier unique used\n// to validate that the endpoint accepts websocket\n// connections.\n// See https://www.rfc-editor.org/rfc/rfc6455.html#section-1.3\nconst uid = '258EAFA5-E914-47DA-95CA-C5AB0DC85B11'\n\n/** @type {PropertyDescriptor} */\nconst staticPropertyDescriptors = {\n  enumerable: true,\n  writable: false,\n  configurable: false\n}\n\nconst states = {\n  CONNECTING: 0,\n  OPEN: 1,\n  CLOSING: 2,\n  CLOSED: 3\n}\n\nconst opcodes = {\n  CONTINUATION: 0x0,\n  TEXT: 0x1,\n  BINARY: 0x2,\n  CLOSE: 0x8,\n  PING: 0x9,\n  PONG: 0xA\n}\n\nconst maxUnsigned16Bit = 2 ** 16 - 1 // 65535\n\nconst parserStates = {\n  INFO: 0,\n  PAYLOADLENGTH_16: 2,\n  PAYLOADLENGTH_64: 3,\n  READ_DATA: 4\n}\n\nconst emptyBuffer = Buffer.allocUnsafe(0)\n\nmodule.exports = {\n  uid,\n  staticPropertyDescriptors,\n  states,\n  opcodes,\n  maxUnsigned16Bit,\n  parserStates,\n  emptyBuffer\n}\n", "'use strict'\n\nmodule.exports = {\n  kWebSocketURL: Symbol('url'),\n  kReadyState: Symbol('ready state'),\n  kController: Symbol('controller'),\n  kResponse: Symbol('response'),\n  kBinaryType: Symbol('binary type'),\n  kSentClose: Symbol('sent close'),\n  kReceivedClose: Symbol('received close'),\n  kByteParser: Symbol('byte parser')\n}\n", "'use strict'\n\nconst { webidl } = require('../fetch/webidl')\nconst { kEnumerableProperty } = require('../core/util')\nconst { MessagePort } = require('worker_threads')\n\n/**\n * @see https://html.spec.whatwg.org/multipage/comms.html#messageevent\n */\nclass MessageEvent extends Event {\n  #eventInit\n\n  constructor (type, eventInitDict = {}) {\n    webidl.argumentLengthCheck(arguments, 1, { header: 'MessageEvent constructor' })\n\n    type = webidl.converters.DOMString(type)\n    eventInitDict = webidl.converters.MessageEventInit(eventInitDict)\n\n    super(type, eventInitDict)\n\n    this.#eventInit = eventInitDict\n  }\n\n  get data () {\n    webidl.brandCheck(this, MessageEvent)\n\n    return this.#eventInit.data\n  }\n\n  get origin () {\n    webidl.brandCheck(this, MessageEvent)\n\n    return this.#eventInit.origin\n  }\n\n  get lastEventId () {\n    webidl.brandCheck(this, MessageEvent)\n\n    return this.#eventInit.lastEventId\n  }\n\n  get source () {\n    webidl.brandCheck(this, MessageEvent)\n\n    return this.#eventInit.source\n  }\n\n  get ports () {\n    webidl.brandCheck(this, MessageEvent)\n\n    if (!Object.isFrozen(this.#eventInit.ports)) {\n      Object.freeze(this.#eventInit.ports)\n    }\n\n    return this.#eventInit.ports\n  }\n\n  initMessageEvent (\n    type,\n    bubbles = false,\n    cancelable = false,\n    data = null,\n    origin = '',\n    lastEventId = '',\n    source = null,\n    ports = []\n  ) {\n    webidl.brandCheck(this, MessageEvent)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'MessageEvent.initMessageEvent' })\n\n    return new MessageEvent(type, {\n      bubbles, cancelable, data, origin, lastEventId, source, ports\n    })\n  }\n}\n\n/**\n * @see https://websockets.spec.whatwg.org/#the-closeevent-interface\n */\nclass CloseEvent extends Event {\n  #eventInit\n\n  constructor (type, eventInitDict = {}) {\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CloseEvent constructor' })\n\n    type = webidl.converters.DOMString(type)\n    eventInitDict = webidl.converters.CloseEventInit(eventInitDict)\n\n    super(type, eventInitDict)\n\n    this.#eventInit = eventInitDict\n  }\n\n  get wasClean () {\n    webidl.brandCheck(this, CloseEvent)\n\n    return this.#eventInit.wasClean\n  }\n\n  get code () {\n    webidl.brandCheck(this, CloseEvent)\n\n    return this.#eventInit.code\n  }\n\n  get reason () {\n    webidl.brandCheck(this, CloseEvent)\n\n    return this.#eventInit.reason\n  }\n}\n\n// https://html.spec.whatwg.org/multipage/webappapis.html#the-errorevent-interface\nclass ErrorEvent extends Event {\n  #eventInit\n\n  constructor (type, eventInitDict) {\n    webidl.argumentLengthCheck(arguments, 1, { header: 'ErrorEvent constructor' })\n\n    super(type, eventInitDict)\n\n    type = webidl.converters.DOMString(type)\n    eventInitDict = webidl.converters.ErrorEventInit(eventInitDict ?? {})\n\n    this.#eventInit = eventInitDict\n  }\n\n  get message () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.message\n  }\n\n  get filename () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.filename\n  }\n\n  get lineno () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.lineno\n  }\n\n  get colno () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.colno\n  }\n\n  get error () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.error\n  }\n}\n\nObject.defineProperties(MessageEvent.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'MessageEvent',\n    configurable: true\n  },\n  data: kEnumerableProperty,\n  origin: kEnumerableProperty,\n  lastEventId: kEnumerableProperty,\n  source: kEnumerableProperty,\n  ports: kEnumerableProperty,\n  initMessageEvent: kEnumerableProperty\n})\n\nObject.defineProperties(CloseEvent.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'CloseEvent',\n    configurable: true\n  },\n  reason: kEnumerableProperty,\n  code: kEnumerableProperty,\n  wasClean: kEnumerableProperty\n})\n\nObject.defineProperties(ErrorEvent.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'ErrorEvent',\n    configurable: true\n  },\n  message: kEnumerableProperty,\n  filename: kEnumerableProperty,\n  lineno: kEnumerableProperty,\n  colno: kEnumerableProperty,\n  error: kEnumerableProperty\n})\n\nwebidl.converters.MessagePort = webidl.interfaceConverter(MessagePort)\n\nwebidl.converters['sequence<MessagePort>'] = webidl.sequenceConverter(\n  webidl.converters.MessagePort\n)\n\nconst eventInit = [\n  {\n    key: 'bubbles',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'cancelable',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'composed',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  }\n]\n\nwebidl.converters.MessageEventInit = webidl.dictionaryConverter([\n  ...eventInit,\n  {\n    key: 'data',\n    converter: webidl.converters.any,\n    defaultValue: null\n  },\n  {\n    key: 'origin',\n    converter: webidl.converters.USVString,\n    defaultValue: ''\n  },\n  {\n    key: 'lastEventId',\n    converter: webidl.converters.DOMString,\n    defaultValue: ''\n  },\n  {\n    key: 'source',\n    // Node doesn't implement WindowProxy or ServiceWorker, so the only\n    // valid value for source is a MessagePort.\n    converter: webidl.nullableConverter(webidl.converters.MessagePort),\n    defaultValue: null\n  },\n  {\n    key: 'ports',\n    converter: webidl.converters['sequence<MessagePort>'],\n    get defaultValue () {\n      return []\n    }\n  }\n])\n\nwebidl.converters.CloseEventInit = webidl.dictionaryConverter([\n  ...eventInit,\n  {\n    key: 'wasClean',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'code',\n    converter: webidl.converters['unsigned short'],\n    defaultValue: 0\n  },\n  {\n    key: 'reason',\n    converter: webidl.converters.USVString,\n    defaultValue: ''\n  }\n])\n\nwebidl.converters.ErrorEventInit = webidl.dictionaryConverter([\n  ...eventInit,\n  {\n    key: 'message',\n    converter: webidl.converters.DOMString,\n    defaultValue: ''\n  },\n  {\n    key: 'filename',\n    converter: webidl.converters.USVString,\n    defaultValue: ''\n  },\n  {\n    key: 'lineno',\n    converter: webidl.converters['unsigned long'],\n    defaultValue: 0\n  },\n  {\n    key: 'colno',\n    converter: webidl.converters['unsigned long'],\n    defaultValue: 0\n  },\n  {\n    key: 'error',\n    converter: webidl.converters.any\n  }\n])\n\nmodule.exports = {\n  MessageEvent,\n  CloseEvent,\n  ErrorEvent\n}\n", "'use strict'\n\nconst { kReadyState, kController, kResponse, kBinaryType, kWebSocketURL } = require('./symbols')\nconst { states, opcodes } = require('./constants')\nconst { MessageEvent, ErrorEvent } = require('./events')\n\n/* globals Blob */\n\n/**\n * @param {import('./websocket').WebSocket} ws\n */\nfunction isEstablished (ws) {\n  // If the server's response is validated as provided for above, it is\n  // said that _The WebSocket Connection is Established_ and that the\n  // WebSocket Connection is in the OPEN state.\n  return ws[kReadyState] === states.OPEN\n}\n\n/**\n * @param {import('./websocket').WebSocket} ws\n */\nfunction isClosing (ws) {\n  // Upon either sending or receiving a Close control frame, it is said\n  // that _The WebSocket Closing Handshake is Started_ and that the\n  // WebSocket connection is in the CLOSING state.\n  return ws[kReadyState] === states.CLOSING\n}\n\n/**\n * @param {import('./websocket').WebSocket} ws\n */\nfunction isClosed (ws) {\n  return ws[kReadyState] === states.CLOSED\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#concept-event-fire\n * @param {string} e\n * @param {EventTarget} target\n * @param {EventInit | undefined} eventInitDict\n */\nfunction fireEvent (e, target, eventConstructor = Event, eventInitDict) {\n  // 1. If eventConstructor is not given, then let eventConstructor be Event.\n\n  // 2. Let event be the result of creating an event given eventConstructor,\n  //    in the relevant realm of target.\n  // 3. Initialize event\u2019s type attribute to e.\n  const event = new eventConstructor(e, eventInitDict) // eslint-disable-line new-cap\n\n  // 4. Initialize any other IDL attributes of event as described in the\n  //    invocation of this algorithm.\n\n  // 5. Return the result of dispatching event at target, with legacy target\n  //    override flag set if set.\n  target.dispatchEvent(event)\n}\n\n/**\n * @see https://websockets.spec.whatwg.org/#feedback-from-the-protocol\n * @param {import('./websocket').WebSocket} ws\n * @param {number} type Opcode\n * @param {Buffer} data application data\n */\nfunction websocketMessageReceived (ws, type, data) {\n  // 1. If ready state is not OPEN (1), then return.\n  if (ws[kReadyState] !== states.OPEN) {\n    return\n  }\n\n  // 2. Let dataForEvent be determined by switching on type and binary type:\n  let dataForEvent\n\n  if (type === opcodes.TEXT) {\n    // -> type indicates that the data is Text\n    //      a new DOMString containing data\n    try {\n      dataForEvent = new TextDecoder('utf-8', { fatal: true }).decode(data)\n    } catch {\n      failWebsocketConnection(ws, 'Received invalid UTF-8 in text frame.')\n      return\n    }\n  } else if (type === opcodes.BINARY) {\n    if (ws[kBinaryType] === 'blob') {\n      // -> type indicates that the data is Binary and binary type is \"blob\"\n      //      a new Blob object, created in the relevant Realm of the WebSocket\n      //      object, that represents data as its raw data\n      dataForEvent = new Blob([data])\n    } else {\n      // -> type indicates that the data is Binary and binary type is \"arraybuffer\"\n      //      a new ArrayBuffer object, created in the relevant Realm of the\n      //      WebSocket object, whose contents are data\n      dataForEvent = new Uint8Array(data).buffer\n    }\n  }\n\n  // 3. Fire an event named message at the WebSocket object, using MessageEvent,\n  //    with the origin attribute initialized to the serialization of the WebSocket\n  //    object\u2019s url's origin, and the data attribute initialized to dataForEvent.\n  fireEvent('message', ws, MessageEvent, {\n    origin: ws[kWebSocketURL].origin,\n    data: dataForEvent\n  })\n}\n\n/**\n * @see https://datatracker.ietf.org/doc/html/rfc6455\n * @see https://datatracker.ietf.org/doc/html/rfc2616\n * @see https://bugs.chromium.org/p/chromium/issues/detail?id=398407\n * @param {string} protocol\n */\nfunction isValidSubprotocol (protocol) {\n  // If present, this value indicates one\n  // or more comma-separated subprotocol the client wishes to speak,\n  // ordered by preference.  The elements that comprise this value\n  // MUST be non-empty strings with characters in the range U+0021 to\n  // U+007E not including separator characters as defined in\n  // [RFC2616] and MUST all be unique strings.\n  if (protocol.length === 0) {\n    return false\n  }\n\n  for (const char of protocol) {\n    const code = char.charCodeAt(0)\n\n    if (\n      code < 0x21 ||\n      code > 0x7E ||\n      char === '(' ||\n      char === ')' ||\n      char === '<' ||\n      char === '>' ||\n      char === '@' ||\n      char === ',' ||\n      char === ';' ||\n      char === ':' ||\n      char === '\\\\' ||\n      char === '\"' ||\n      char === '/' ||\n      char === '[' ||\n      char === ']' ||\n      char === '?' ||\n      char === '=' ||\n      char === '{' ||\n      char === '}' ||\n      code === 32 || // SP\n      code === 9 // HT\n    ) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * @see https://datatracker.ietf.org/doc/html/rfc6455#section-7-4\n * @param {number} code\n */\nfunction isValidStatusCode (code) {\n  if (code >= 1000 && code < 1015) {\n    return (\n      code !== 1004 && // reserved\n      code !== 1005 && // \"MUST NOT be set as a status code\"\n      code !== 1006 // \"MUST NOT be set as a status code\"\n    )\n  }\n\n  return code >= 3000 && code <= 4999\n}\n\n/**\n * @param {import('./websocket').WebSocket} ws\n * @param {string|undefined} reason\n */\nfunction failWebsocketConnection (ws, reason) {\n  const { [kController]: controller, [kResponse]: response } = ws\n\n  controller.abort()\n\n  if (response?.socket && !response.socket.destroyed) {\n    response.socket.destroy()\n  }\n\n  if (reason) {\n    fireEvent('error', ws, ErrorEvent, {\n      error: new Error(reason)\n    })\n  }\n}\n\nmodule.exports = {\n  isEstablished,\n  isClosing,\n  isClosed,\n  fireEvent,\n  isValidSubprotocol,\n  isValidStatusCode,\n  failWebsocketConnection,\n  websocketMessageReceived\n}\n", "'use strict'\n\nconst diagnosticsChannel = require('diagnostics_channel')\nconst { uid, states } = require('./constants')\nconst {\n  kReadyState,\n  kSentClose,\n  kByteParser,\n  kReceivedClose\n} = require('./symbols')\nconst { fireEvent, failWebsocketConnection } = require('./util')\nconst { CloseEvent } = require('./events')\nconst { makeRequest } = require('../fetch/request')\nconst { fetching } = require('../fetch/index')\nconst { Headers } = require('../fetch/headers')\nconst { getGlobalDispatcher } = require('../global')\nconst { kHeadersList } = require('../core/symbols')\n\nconst channels = {}\nchannels.open = diagnosticsChannel.channel('undici:websocket:open')\nchannels.close = diagnosticsChannel.channel('undici:websocket:close')\nchannels.socketError = diagnosticsChannel.channel('undici:websocket:socket_error')\n\n/** @type {import('crypto')} */\nlet crypto\ntry {\n  crypto = require('crypto')\n} catch {\n\n}\n\n/**\n * @see https://websockets.spec.whatwg.org/#concept-websocket-establish\n * @param {URL} url\n * @param {string|string[]} protocols\n * @param {import('./websocket').WebSocket} ws\n * @param {(response: any) => void} onEstablish\n * @param {Partial<import('../../types/websocket').WebSocketInit>} options\n */\nfunction establishWebSocketConnection (url, protocols, ws, onEstablish, options) {\n  // 1. Let requestURL be a copy of url, with its scheme set to \"http\", if url\u2019s\n  //    scheme is \"ws\", and to \"https\" otherwise.\n  const requestURL = url\n\n  requestURL.protocol = url.protocol === 'ws:' ? 'http:' : 'https:'\n\n  // 2. Let request be a new request, whose URL is requestURL, client is client,\n  //    service-workers mode is \"none\", referrer is \"no-referrer\", mode is\n  //    \"websocket\", credentials mode is \"include\", cache mode is \"no-store\" ,\n  //    and redirect mode is \"error\".\n  const request = makeRequest({\n    urlList: [requestURL],\n    serviceWorkers: 'none',\n    referrer: 'no-referrer',\n    mode: 'websocket',\n    credentials: 'include',\n    cache: 'no-store',\n    redirect: 'error'\n  })\n\n  // Note: undici extension, allow setting custom headers.\n  if (options.headers) {\n    const headersList = new Headers(options.headers)[kHeadersList]\n\n    request.headersList = headersList\n  }\n\n  // 3. Append (`Upgrade`, `websocket`) to request\u2019s header list.\n  // 4. Append (`Connection`, `Upgrade`) to request\u2019s header list.\n  // Note: both of these are handled by undici currently.\n  // https://github.com/nodejs/undici/blob/68c269c4144c446f3f1220951338daef4a6b5ec4/lib/client.js#L1397\n\n  // 5. Let keyValue be a nonce consisting of a randomly selected\n  //    16-byte value that has been forgiving-base64-encoded and\n  //    isomorphic encoded.\n  const keyValue = crypto.randomBytes(16).toString('base64')\n\n  // 6. Append (`Sec-WebSocket-Key`, keyValue) to request\u2019s\n  //    header list.\n  request.headersList.append('sec-websocket-key', keyValue)\n\n  // 7. Append (`Sec-WebSocket-Version`, `13`) to request\u2019s\n  //    header list.\n  request.headersList.append('sec-websocket-version', '13')\n\n  // 8. For each protocol in protocols, combine\n  //    (`Sec-WebSocket-Protocol`, protocol) in request\u2019s header\n  //    list.\n  for (const protocol of protocols) {\n    request.headersList.append('sec-websocket-protocol', protocol)\n  }\n\n  // 9. Let permessageDeflate be a user-agent defined\n  //    \"permessage-deflate\" extension header value.\n  // https://github.com/mozilla/gecko-dev/blob/ce78234f5e653a5d3916813ff990f053510227bc/netwerk/protocol/websocket/WebSocketChannel.cpp#L2673\n  // TODO: enable once permessage-deflate is supported\n  const permessageDeflate = '' // 'permessage-deflate; 15'\n\n  // 10. Append (`Sec-WebSocket-Extensions`, permessageDeflate) to\n  //     request\u2019s header list.\n  // request.headersList.append('sec-websocket-extensions', permessageDeflate)\n\n  // 11. Fetch request with useParallelQueue set to true, and\n  //     processResponse given response being these steps:\n  const controller = fetching({\n    request,\n    useParallelQueue: true,\n    dispatcher: options.dispatcher ?? getGlobalDispatcher(),\n    processResponse (response) {\n      // 1. If response is a network error or its status is not 101,\n      //    fail the WebSocket connection.\n      if (response.type === 'error' || response.status !== 101) {\n        failWebsocketConnection(ws, 'Received network error or non-101 status code.')\n        return\n      }\n\n      // 2. If protocols is not the empty list and extracting header\n      //    list values given `Sec-WebSocket-Protocol` and response\u2019s\n      //    header list results in null, failure, or the empty byte\n      //    sequence, then fail the WebSocket connection.\n      if (protocols.length !== 0 && !response.headersList.get('Sec-WebSocket-Protocol')) {\n        failWebsocketConnection(ws, 'Server did not respond with sent protocols.')\n        return\n      }\n\n      // 3. Follow the requirements stated step 2 to step 6, inclusive,\n      //    of the last set of steps in section 4.1 of The WebSocket\n      //    Protocol to validate response. This either results in fail\n      //    the WebSocket connection or the WebSocket connection is\n      //    established.\n\n      // 2. If the response lacks an |Upgrade| header field or the |Upgrade|\n      //    header field contains a value that is not an ASCII case-\n      //    insensitive match for the value \"websocket\", the client MUST\n      //    _Fail the WebSocket Connection_.\n      if (response.headersList.get('Upgrade')?.toLowerCase() !== 'websocket') {\n        failWebsocketConnection(ws, 'Server did not set Upgrade header to \"websocket\".')\n        return\n      }\n\n      // 3. If the response lacks a |Connection| header field or the\n      //    |Connection| header field doesn't contain a token that is an\n      //    ASCII case-insensitive match for the value \"Upgrade\", the client\n      //    MUST _Fail the WebSocket Connection_.\n      if (response.headersList.get('Connection')?.toLowerCase() !== 'upgrade') {\n        failWebsocketConnection(ws, 'Server did not set Connection header to \"upgrade\".')\n        return\n      }\n\n      // 4. If the response lacks a |Sec-WebSocket-Accept| header field or\n      //    the |Sec-WebSocket-Accept| contains a value other than the\n      //    base64-encoded SHA-1 of the concatenation of the |Sec-WebSocket-\n      //    Key| (as a string, not base64-decoded) with the string \"258EAFA5-\n      //    E914-47DA-95CA-C5AB0DC85B11\" but ignoring any leading and\n      //    trailing whitespace, the client MUST _Fail the WebSocket\n      //    Connection_.\n      const secWSAccept = response.headersList.get('Sec-WebSocket-Accept')\n      const digest = crypto.createHash('sha1').update(keyValue + uid).digest('base64')\n      if (secWSAccept !== digest) {\n        failWebsocketConnection(ws, 'Incorrect hash received in Sec-WebSocket-Accept header.')\n        return\n      }\n\n      // 5. If the response includes a |Sec-WebSocket-Extensions| header\n      //    field and this header field indicates the use of an extension\n      //    that was not present in the client's handshake (the server has\n      //    indicated an extension not requested by the client), the client\n      //    MUST _Fail the WebSocket Connection_.  (The parsing of this\n      //    header field to determine which extensions are requested is\n      //    discussed in Section 9.1.)\n      const secExtension = response.headersList.get('Sec-WebSocket-Extensions')\n\n      if (secExtension !== null && secExtension !== permessageDeflate) {\n        failWebsocketConnection(ws, 'Received different permessage-deflate than the one set.')\n        return\n      }\n\n      // 6. If the response includes a |Sec-WebSocket-Protocol| header field\n      //    and this header field indicates the use of a subprotocol that was\n      //    not present in the client's handshake (the server has indicated a\n      //    subprotocol not requested by the client), the client MUST _Fail\n      //    the WebSocket Connection_.\n      const secProtocol = response.headersList.get('Sec-WebSocket-Protocol')\n\n      if (secProtocol !== null && secProtocol !== request.headersList.get('Sec-WebSocket-Protocol')) {\n        failWebsocketConnection(ws, 'Protocol was not set in the opening handshake.')\n        return\n      }\n\n      response.socket.on('data', onSocketData)\n      response.socket.on('close', onSocketClose)\n      response.socket.on('error', onSocketError)\n\n      if (channels.open.hasSubscribers) {\n        channels.open.publish({\n          address: response.socket.address(),\n          protocol: secProtocol,\n          extensions: secExtension\n        })\n      }\n\n      onEstablish(response)\n    }\n  })\n\n  return controller\n}\n\n/**\n * @param {Buffer} chunk\n */\nfunction onSocketData (chunk) {\n  if (!this.ws[kByteParser].write(chunk)) {\n    this.pause()\n  }\n}\n\n/**\n * @see https://websockets.spec.whatwg.org/#feedback-from-the-protocol\n * @see https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.4\n */\nfunction onSocketClose () {\n  const { ws } = this\n\n  // If the TCP connection was closed after the\n  // WebSocket closing handshake was completed, the WebSocket connection\n  // is said to have been closed _cleanly_.\n  const wasClean = ws[kSentClose] && ws[kReceivedClose]\n\n  let code = 1005\n  let reason = ''\n\n  const result = ws[kByteParser].closingInfo\n\n  if (result) {\n    code = result.code ?? 1005\n    reason = result.reason\n  } else if (!ws[kSentClose]) {\n    // If _The WebSocket\n    // Connection is Closed_ and no Close control frame was received by the\n    // endpoint (such as could occur if the underlying transport connection\n    // is lost), _The WebSocket Connection Close Code_ is considered to be\n    // 1006.\n    code = 1006\n  }\n\n  // 1. Change the ready state to CLOSED (3).\n  ws[kReadyState] = states.CLOSED\n\n  // 2. If the user agent was required to fail the WebSocket\n  //    connection, or if the WebSocket connection was closed\n  //    after being flagged as full, fire an event named error\n  //    at the WebSocket object.\n  // TODO\n\n  // 3. Fire an event named close at the WebSocket object,\n  //    using CloseEvent, with the wasClean attribute\n  //    initialized to true if the connection closed cleanly\n  //    and false otherwise, the code attribute initialized to\n  //    the WebSocket connection close code, and the reason\n  //    attribute initialized to the result of applying UTF-8\n  //    decode without BOM to the WebSocket connection close\n  //    reason.\n  fireEvent('close', ws, CloseEvent, {\n    wasClean, code, reason\n  })\n\n  if (channels.close.hasSubscribers) {\n    channels.close.publish({\n      websocket: ws,\n      code,\n      reason\n    })\n  }\n}\n\nfunction onSocketError (error) {\n  const { ws } = this\n\n  ws[kReadyState] = states.CLOSING\n\n  if (channels.socketError.hasSubscribers) {\n    channels.socketError.publish(error)\n  }\n\n  this.destroy()\n}\n\nmodule.exports = {\n  establishWebSocketConnection\n}\n", "'use strict'\n\nconst { maxUnsigned16Bit } = require('./constants')\n\n/** @type {import('crypto')} */\nlet crypto\ntry {\n  crypto = require('crypto')\n} catch {\n\n}\n\nclass WebsocketFrameSend {\n  /**\n   * @param {Buffer|undefined} data\n   */\n  constructor (data) {\n    this.frameData = data\n    this.maskKey = crypto.randomBytes(4)\n  }\n\n  createFrame (opcode) {\n    const bodyLength = this.frameData?.byteLength ?? 0\n\n    /** @type {number} */\n    let payloadLength = bodyLength // 0-125\n    let offset = 6\n\n    if (bodyLength > maxUnsigned16Bit) {\n      offset += 8 // payload length is next 8 bytes\n      payloadLength = 127\n    } else if (bodyLength > 125) {\n      offset += 2 // payload length is next 2 bytes\n      payloadLength = 126\n    }\n\n    const buffer = Buffer.allocUnsafe(bodyLength + offset)\n\n    // Clear first 2 bytes, everything else is overwritten\n    buffer[0] = buffer[1] = 0\n    buffer[0] |= 0x80 // FIN\n    buffer[0] = (buffer[0] & 0xF0) + opcode // opcode\n\n    /*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> */\n    buffer[offset - 4] = this.maskKey[0]\n    buffer[offset - 3] = this.maskKey[1]\n    buffer[offset - 2] = this.maskKey[2]\n    buffer[offset - 1] = this.maskKey[3]\n\n    buffer[1] = payloadLength\n\n    if (payloadLength === 126) {\n      buffer.writeUInt16BE(bodyLength, 2)\n    } else if (payloadLength === 127) {\n      // Clear extended payload length\n      buffer[2] = buffer[3] = 0\n      buffer.writeUIntBE(bodyLength, 4, 6)\n    }\n\n    buffer[1] |= 0x80 // MASK\n\n    // mask body\n    for (let i = 0; i < bodyLength; i++) {\n      buffer[offset + i] = this.frameData[i] ^ this.maskKey[i % 4]\n    }\n\n    return buffer\n  }\n}\n\nmodule.exports = {\n  WebsocketFrameSend\n}\n", "'use strict'\n\nconst { Writable } = require('stream')\nconst diagnosticsChannel = require('diagnostics_channel')\nconst { parserStates, opcodes, states, emptyBuffer } = require('./constants')\nconst { kReadyState, kSentClose, kResponse, kReceivedClose } = require('./symbols')\nconst { isValidStatusCode, failWebsocketConnection, websocketMessageReceived } = require('./util')\nconst { WebsocketFrameSend } = require('./frame')\n\n// This code was influenced by ws released under the MIT license.\n// Copyright (c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n// Copyright (c) 2013 Arnout Kazemier and contributors\n// Copyright (c) 2016 Luigi Pinca and contributors\n\nconst channels = {}\nchannels.ping = diagnosticsChannel.channel('undici:websocket:ping')\nchannels.pong = diagnosticsChannel.channel('undici:websocket:pong')\n\nclass ByteParser extends Writable {\n  #buffers = []\n  #byteOffset = 0\n\n  #state = parserStates.INFO\n\n  #info = {}\n  #fragments = []\n\n  constructor (ws) {\n    super()\n\n    this.ws = ws\n  }\n\n  /**\n   * @param {Buffer} chunk\n   * @param {() => void} callback\n   */\n  _write (chunk, _, callback) {\n    this.#buffers.push(chunk)\n    this.#byteOffset += chunk.length\n\n    this.run(callback)\n  }\n\n  /**\n   * Runs whenever a new chunk is received.\n   * Callback is called whenever there are no more chunks buffering,\n   * or not enough bytes are buffered to parse.\n   */\n  run (callback) {\n    while (true) {\n      if (this.#state === parserStates.INFO) {\n        // If there aren't enough bytes to parse the payload length, etc.\n        if (this.#byteOffset < 2) {\n          return callback()\n        }\n\n        const buffer = this.consume(2)\n\n        this.#info.fin = (buffer[0] & 0x80) !== 0\n        this.#info.opcode = buffer[0] & 0x0F\n\n        // If we receive a fragmented message, we use the type of the first\n        // frame to parse the full message as binary/text, when it's terminated\n        this.#info.originalOpcode ??= this.#info.opcode\n\n        this.#info.fragmented = !this.#info.fin && this.#info.opcode !== opcodes.CONTINUATION\n\n        if (this.#info.fragmented && this.#info.opcode !== opcodes.BINARY && this.#info.opcode !== opcodes.TEXT) {\n          // Only text and binary frames can be fragmented\n          failWebsocketConnection(this.ws, 'Invalid frame type was fragmented.')\n          return\n        }\n\n        const payloadLength = buffer[1] & 0x7F\n\n        if (payloadLength <= 125) {\n          this.#info.payloadLength = payloadLength\n          this.#state = parserStates.READ_DATA\n        } else if (payloadLength === 126) {\n          this.#state = parserStates.PAYLOADLENGTH_16\n        } else if (payloadLength === 127) {\n          this.#state = parserStates.PAYLOADLENGTH_64\n        }\n\n        if (this.#info.fragmented && payloadLength > 125) {\n          // A fragmented frame can't be fragmented itself\n          failWebsocketConnection(this.ws, 'Fragmented frame exceeded 125 bytes.')\n          return\n        } else if (\n          (this.#info.opcode === opcodes.PING ||\n            this.#info.opcode === opcodes.PONG ||\n            this.#info.opcode === opcodes.CLOSE) &&\n          payloadLength > 125\n        ) {\n          // Control frames can have a payload length of 125 bytes MAX\n          failWebsocketConnection(this.ws, 'Payload length for control frame exceeded 125 bytes.')\n          return\n        } else if (this.#info.opcode === opcodes.CLOSE) {\n          if (payloadLength === 1) {\n            failWebsocketConnection(this.ws, 'Received close frame with a 1-byte body.')\n            return\n          }\n\n          const body = this.consume(payloadLength)\n\n          this.#info.closeInfo = this.parseCloseBody(false, body)\n\n          if (!this.ws[kSentClose]) {\n            // If an endpoint receives a Close frame and did not previously send a\n            // Close frame, the endpoint MUST send a Close frame in response.  (When\n            // sending a Close frame in response, the endpoint typically echos the\n            // status code it received.)\n            const body = Buffer.allocUnsafe(2)\n            body.writeUInt16BE(this.#info.closeInfo.code, 0)\n            const closeFrame = new WebsocketFrameSend(body)\n\n            this.ws[kResponse].socket.write(\n              closeFrame.createFrame(opcodes.CLOSE),\n              (err) => {\n                if (!err) {\n                  this.ws[kSentClose] = true\n                }\n              }\n            )\n          }\n\n          // Upon either sending or receiving a Close control frame, it is said\n          // that _The WebSocket Closing Handshake is Started_ and that the\n          // WebSocket connection is in the CLOSING state.\n          this.ws[kReadyState] = states.CLOSING\n          this.ws[kReceivedClose] = true\n\n          this.end()\n\n          return\n        } else if (this.#info.opcode === opcodes.PING) {\n          // Upon receipt of a Ping frame, an endpoint MUST send a Pong frame in\n          // response, unless it already received a Close frame.\n          // A Pong frame sent in response to a Ping frame must have identical\n          // \"Application data\"\n\n          const body = this.consume(payloadLength)\n\n          if (!this.ws[kReceivedClose]) {\n            const frame = new WebsocketFrameSend(body)\n\n            this.ws[kResponse].socket.write(frame.createFrame(opcodes.PONG))\n\n            if (channels.ping.hasSubscribers) {\n              channels.ping.publish({\n                payload: body\n              })\n            }\n          }\n\n          this.#state = parserStates.INFO\n\n          if (this.#byteOffset > 0) {\n            continue\n          } else {\n            callback()\n            return\n          }\n        } else if (this.#info.opcode === opcodes.PONG) {\n          // A Pong frame MAY be sent unsolicited.  This serves as a\n          // unidirectional heartbeat.  A response to an unsolicited Pong frame is\n          // not expected.\n\n          const body = this.consume(payloadLength)\n\n          if (channels.pong.hasSubscribers) {\n            channels.pong.publish({\n              payload: body\n            })\n          }\n\n          if (this.#byteOffset > 0) {\n            continue\n          } else {\n            callback()\n            return\n          }\n        }\n      } else if (this.#state === parserStates.PAYLOADLENGTH_16) {\n        if (this.#byteOffset < 2) {\n          return callback()\n        }\n\n        const buffer = this.consume(2)\n\n        this.#info.payloadLength = buffer.readUInt16BE(0)\n        this.#state = parserStates.READ_DATA\n      } else if (this.#state === parserStates.PAYLOADLENGTH_64) {\n        if (this.#byteOffset < 8) {\n          return callback()\n        }\n\n        const buffer = this.consume(8)\n        const upper = buffer.readUInt32BE(0)\n\n        // 2^31 is the maxinimum bytes an arraybuffer can contain\n        // on 32-bit systems. Although, on 64-bit systems, this is\n        // 2^53-1 bytes.\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_array_length\n        // https://source.chromium.org/chromium/chromium/src/+/main:v8/src/common/globals.h;drc=1946212ac0100668f14eb9e2843bdd846e510a1e;bpv=1;bpt=1;l=1275\n        // https://source.chromium.org/chromium/chromium/src/+/main:v8/src/objects/js-array-buffer.h;l=34;drc=1946212ac0100668f14eb9e2843bdd846e510a1e\n        if (upper > 2 ** 31 - 1) {\n          failWebsocketConnection(this.ws, 'Received payload length > 2^31 bytes.')\n          return\n        }\n\n        const lower = buffer.readUInt32BE(4)\n\n        this.#info.payloadLength = (upper << 8) + lower\n        this.#state = parserStates.READ_DATA\n      } else if (this.#state === parserStates.READ_DATA) {\n        if (this.#byteOffset < this.#info.payloadLength) {\n          // If there is still more data in this chunk that needs to be read\n          return callback()\n        } else if (this.#byteOffset >= this.#info.payloadLength) {\n          // If the server sent multiple frames in a single chunk\n\n          const body = this.consume(this.#info.payloadLength)\n\n          this.#fragments.push(body)\n\n          // If the frame is unfragmented, or a fragmented frame was terminated,\n          // a message was received\n          if (!this.#info.fragmented || (this.#info.fin && this.#info.opcode === opcodes.CONTINUATION)) {\n            const fullMessage = Buffer.concat(this.#fragments)\n\n            websocketMessageReceived(this.ws, this.#info.originalOpcode, fullMessage)\n\n            this.#info = {}\n            this.#fragments.length = 0\n          }\n\n          this.#state = parserStates.INFO\n        }\n      }\n\n      if (this.#byteOffset > 0) {\n        continue\n      } else {\n        callback()\n        break\n      }\n    }\n  }\n\n  /**\n   * Take n bytes from the buffered Buffers\n   * @param {number} n\n   * @returns {Buffer|null}\n   */\n  consume (n) {\n    if (n > this.#byteOffset) {\n      return null\n    } else if (n === 0) {\n      return emptyBuffer\n    }\n\n    if (this.#buffers[0].length === n) {\n      this.#byteOffset -= this.#buffers[0].length\n      return this.#buffers.shift()\n    }\n\n    const buffer = Buffer.allocUnsafe(n)\n    let offset = 0\n\n    while (offset !== n) {\n      const next = this.#buffers[0]\n      const { length } = next\n\n      if (length + offset === n) {\n        buffer.set(this.#buffers.shift(), offset)\n        break\n      } else if (length + offset > n) {\n        buffer.set(next.subarray(0, n - offset), offset)\n        this.#buffers[0] = next.subarray(n - offset)\n        break\n      } else {\n        buffer.set(this.#buffers.shift(), offset)\n        offset += next.length\n      }\n    }\n\n    this.#byteOffset -= n\n\n    return buffer\n  }\n\n  parseCloseBody (onlyCode, data) {\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.5\n    /** @type {number|undefined} */\n    let code\n\n    if (data.length >= 2) {\n      // _The WebSocket Connection Close Code_ is\n      // defined as the status code (Section 7.4) contained in the first Close\n      // control frame received by the application\n      code = data.readUInt16BE(0)\n    }\n\n    if (onlyCode) {\n      if (!isValidStatusCode(code)) {\n        return null\n      }\n\n      return { code }\n    }\n\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.6\n    /** @type {Buffer} */\n    let reason = data.subarray(2)\n\n    // Remove BOM\n    if (reason[0] === 0xEF && reason[1] === 0xBB && reason[2] === 0xBF) {\n      reason = reason.subarray(3)\n    }\n\n    if (code !== undefined && !isValidStatusCode(code)) {\n      return null\n    }\n\n    try {\n      // TODO: optimize this\n      reason = new TextDecoder('utf-8', { fatal: true }).decode(reason)\n    } catch {\n      return null\n    }\n\n    return { code, reason }\n  }\n\n  get closingInfo () {\n    return this.#info.closeInfo\n  }\n}\n\nmodule.exports = {\n  ByteParser\n}\n", "'use strict'\n\nconst { webidl } = require('../fetch/webidl')\nconst { DOMException } = require('../fetch/constants')\nconst { URLSerializer } = require('../fetch/dataURL')\nconst { getGlobalOrigin } = require('../fetch/global')\nconst { staticPropertyDescriptors, states, opcodes, emptyBuffer } = require('./constants')\nconst {\n  kWebSocketURL,\n  kReadyState,\n  kController,\n  kBinaryType,\n  kResponse,\n  kSentClose,\n  kByteParser\n} = require('./symbols')\nconst { isEstablished, isClosing, isValidSubprotocol, failWebsocketConnection, fireEvent } = require('./util')\nconst { establishWebSocketConnection } = require('./connection')\nconst { WebsocketFrameSend } = require('./frame')\nconst { ByteParser } = require('./receiver')\nconst { kEnumerableProperty, isBlobLike } = require('../core/util')\nconst { getGlobalDispatcher } = require('../global')\nconst { types } = require('util')\n\nlet experimentalWarned = false\n\n// https://websockets.spec.whatwg.org/#interface-definition\nclass WebSocket extends EventTarget {\n  #events = {\n    open: null,\n    error: null,\n    close: null,\n    message: null\n  }\n\n  #bufferedAmount = 0\n  #protocol = ''\n  #extensions = ''\n\n  /**\n   * @param {string} url\n   * @param {string|string[]} protocols\n   */\n  constructor (url, protocols = []) {\n    super()\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'WebSocket constructor' })\n\n    if (!experimentalWarned) {\n      experimentalWarned = true\n      process.emitWarning('WebSockets are experimental, expect them to change at any time.', {\n        code: 'UNDICI-WS'\n      })\n    }\n\n    const options = webidl.converters['DOMString or sequence<DOMString> or WebSocketInit'](protocols)\n\n    url = webidl.converters.USVString(url)\n    protocols = options.protocols\n\n    // 1. Let baseURL be this's relevant settings object's API base URL.\n    const baseURL = getGlobalOrigin()\n\n    // 1. Let urlRecord be the result of applying the URL parser to url with baseURL.\n    let urlRecord\n\n    try {\n      urlRecord = new URL(url, baseURL)\n    } catch (e) {\n      // 3. If urlRecord is failure, then throw a \"SyntaxError\" DOMException.\n      throw new DOMException(e, 'SyntaxError')\n    }\n\n    // 4. If urlRecord\u2019s scheme is \"http\", then set urlRecord\u2019s scheme to \"ws\".\n    if (urlRecord.protocol === 'http:') {\n      urlRecord.protocol = 'ws:'\n    } else if (urlRecord.protocol === 'https:') {\n      // 5. Otherwise, if urlRecord\u2019s scheme is \"https\", set urlRecord\u2019s scheme to \"wss\".\n      urlRecord.protocol = 'wss:'\n    }\n\n    // 6. If urlRecord\u2019s scheme is not \"ws\" or \"wss\", then throw a \"SyntaxError\" DOMException.\n    if (urlRecord.protocol !== 'ws:' && urlRecord.protocol !== 'wss:') {\n      throw new DOMException(\n        `Expected a ws: or wss: protocol, got ${urlRecord.protocol}`,\n        'SyntaxError'\n      )\n    }\n\n    // 7. If urlRecord\u2019s fragment is non-null, then throw a \"SyntaxError\"\n    //    DOMException.\n    if (urlRecord.hash || urlRecord.href.endsWith('#')) {\n      throw new DOMException('Got fragment', 'SyntaxError')\n    }\n\n    // 8. If protocols is a string, set protocols to a sequence consisting\n    //    of just that string.\n    if (typeof protocols === 'string') {\n      protocols = [protocols]\n    }\n\n    // 9. If any of the values in protocols occur more than once or otherwise\n    //    fail to match the requirements for elements that comprise the value\n    //    of `Sec-WebSocket-Protocol` fields as defined by The WebSocket\n    //    protocol, then throw a \"SyntaxError\" DOMException.\n    if (protocols.length !== new Set(protocols.map(p => p.toLowerCase())).size) {\n      throw new DOMException('Invalid Sec-WebSocket-Protocol value', 'SyntaxError')\n    }\n\n    if (protocols.length > 0 && !protocols.every(p => isValidSubprotocol(p))) {\n      throw new DOMException('Invalid Sec-WebSocket-Protocol value', 'SyntaxError')\n    }\n\n    // 10. Set this's url to urlRecord.\n    this[kWebSocketURL] = new URL(urlRecord.href)\n\n    // 11. Let client be this's relevant settings object.\n\n    // 12. Run this step in parallel:\n\n    //    1. Establish a WebSocket connection given urlRecord, protocols,\n    //       and client.\n    this[kController] = establishWebSocketConnection(\n      urlRecord,\n      protocols,\n      this,\n      (response) => this.#onConnectionEstablished(response),\n      options\n    )\n\n    // Each WebSocket object has an associated ready state, which is a\n    // number representing the state of the connection. Initially it must\n    // be CONNECTING (0).\n    this[kReadyState] = WebSocket.CONNECTING\n\n    // The extensions attribute must initially return the empty string.\n\n    // The protocol attribute must initially return the empty string.\n\n    // Each WebSocket object has an associated binary type, which is a\n    // BinaryType. Initially it must be \"blob\".\n    this[kBinaryType] = 'blob'\n  }\n\n  /**\n   * @see https://websockets.spec.whatwg.org/#dom-websocket-close\n   * @param {number|undefined} code\n   * @param {string|undefined} reason\n   */\n  close (code = undefined, reason = undefined) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (code !== undefined) {\n      code = webidl.converters['unsigned short'](code, { clamp: true })\n    }\n\n    if (reason !== undefined) {\n      reason = webidl.converters.USVString(reason)\n    }\n\n    // 1. If code is present, but is neither an integer equal to 1000 nor an\n    //    integer in the range 3000 to 4999, inclusive, throw an\n    //    \"InvalidAccessError\" DOMException.\n    if (code !== undefined) {\n      if (code !== 1000 && (code < 3000 || code > 4999)) {\n        throw new DOMException('invalid code', 'InvalidAccessError')\n      }\n    }\n\n    let reasonByteLength = 0\n\n    // 2. If reason is present, then run these substeps:\n    if (reason !== undefined) {\n      // 1. Let reasonBytes be the result of encoding reason.\n      // 2. If reasonBytes is longer than 123 bytes, then throw a\n      //    \"SyntaxError\" DOMException.\n      reasonByteLength = Buffer.byteLength(reason)\n\n      if (reasonByteLength > 123) {\n        throw new DOMException(\n          `Reason must be less than 123 bytes; received ${reasonByteLength}`,\n          'SyntaxError'\n        )\n      }\n    }\n\n    // 3. Run the first matching steps from the following list:\n    if (this[kReadyState] === WebSocket.CLOSING || this[kReadyState] === WebSocket.CLOSED) {\n      // If this's ready state is CLOSING (2) or CLOSED (3)\n      // Do nothing.\n    } else if (!isEstablished(this)) {\n      // If the WebSocket connection is not yet established\n      // Fail the WebSocket connection and set this's ready state\n      // to CLOSING (2).\n      failWebsocketConnection(this, 'Connection was closed before it was established.')\n      this[kReadyState] = WebSocket.CLOSING\n    } else if (!isClosing(this)) {\n      // If the WebSocket closing handshake has not yet been started\n      // Start the WebSocket closing handshake and set this's ready\n      // state to CLOSING (2).\n      // - If neither code nor reason is present, the WebSocket Close\n      //   message must not have a body.\n      // - If code is present, then the status code to use in the\n      //   WebSocket Close message must be the integer given by code.\n      // - If reason is also present, then reasonBytes must be\n      //   provided in the Close message after the status code.\n\n      const frame = new WebsocketFrameSend()\n\n      // If neither code nor reason is present, the WebSocket Close\n      // message must not have a body.\n\n      // If code is present, then the status code to use in the\n      // WebSocket Close message must be the integer given by code.\n      if (code !== undefined && reason === undefined) {\n        frame.frameData = Buffer.allocUnsafe(2)\n        frame.frameData.writeUInt16BE(code, 0)\n      } else if (code !== undefined && reason !== undefined) {\n        // If reason is also present, then reasonBytes must be\n        // provided in the Close message after the status code.\n        frame.frameData = Buffer.allocUnsafe(2 + reasonByteLength)\n        frame.frameData.writeUInt16BE(code, 0)\n        // the body MAY contain UTF-8-encoded data with value /reason/\n        frame.frameData.write(reason, 2, 'utf-8')\n      } else {\n        frame.frameData = emptyBuffer\n      }\n\n      /** @type {import('stream').Duplex} */\n      const socket = this[kResponse].socket\n\n      socket.write(frame.createFrame(opcodes.CLOSE), (err) => {\n        if (!err) {\n          this[kSentClose] = true\n        }\n      })\n\n      // Upon either sending or receiving a Close control frame, it is said\n      // that _The WebSocket Closing Handshake is Started_ and that the\n      // WebSocket connection is in the CLOSING state.\n      this[kReadyState] = states.CLOSING\n    } else {\n      // Otherwise\n      // Set this's ready state to CLOSING (2).\n      this[kReadyState] = WebSocket.CLOSING\n    }\n  }\n\n  /**\n   * @see https://websockets.spec.whatwg.org/#dom-websocket-send\n   * @param {NodeJS.TypedArray|ArrayBuffer|Blob|string} data\n   */\n  send (data) {\n    webidl.brandCheck(this, WebSocket)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'WebSocket.send' })\n\n    data = webidl.converters.WebSocketSendData(data)\n\n    // 1. If this's ready state is CONNECTING, then throw an\n    //    \"InvalidStateError\" DOMException.\n    if (this[kReadyState] === WebSocket.CONNECTING) {\n      throw new DOMException('Sent before connected.', 'InvalidStateError')\n    }\n\n    // 2. Run the appropriate set of steps from the following list:\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-6.1\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-5.2\n\n    if (!isEstablished(this) || isClosing(this)) {\n      return\n    }\n\n    /** @type {import('stream').Duplex} */\n    const socket = this[kResponse].socket\n\n    // If data is a string\n    if (typeof data === 'string') {\n      // If the WebSocket connection is established and the WebSocket\n      // closing handshake has not yet started, then the user agent\n      // must send a WebSocket Message comprised of the data argument\n      // using a text frame opcode; if the data cannot be sent, e.g.\n      // because it would need to be buffered but the buffer is full,\n      // the user agent must flag the WebSocket as full and then close\n      // the WebSocket connection. Any invocation of this method with a\n      // string argument that does not throw an exception must increase\n      // the bufferedAmount attribute by the number of bytes needed to\n      // express the argument as UTF-8.\n\n      const value = Buffer.from(data)\n      const frame = new WebsocketFrameSend(value)\n      const buffer = frame.createFrame(opcodes.TEXT)\n\n      this.#bufferedAmount += value.byteLength\n      socket.write(buffer, () => {\n        this.#bufferedAmount -= value.byteLength\n      })\n    } else if (types.isArrayBuffer(data)) {\n      // If the WebSocket connection is established, and the WebSocket\n      // closing handshake has not yet started, then the user agent must\n      // send a WebSocket Message comprised of data using a binary frame\n      // opcode; if the data cannot be sent, e.g. because it would need\n      // to be buffered but the buffer is full, the user agent must flag\n      // the WebSocket as full and then close the WebSocket connection.\n      // The data to be sent is the data stored in the buffer described\n      // by the ArrayBuffer object. Any invocation of this method with an\n      // ArrayBuffer argument that does not throw an exception must\n      // increase the bufferedAmount attribute by the length of the\n      // ArrayBuffer in bytes.\n\n      const value = Buffer.from(data)\n      const frame = new WebsocketFrameSend(value)\n      const buffer = frame.createFrame(opcodes.BINARY)\n\n      this.#bufferedAmount += value.byteLength\n      socket.write(buffer, () => {\n        this.#bufferedAmount -= value.byteLength\n      })\n    } else if (ArrayBuffer.isView(data)) {\n      // If the WebSocket connection is established, and the WebSocket\n      // closing handshake has not yet started, then the user agent must\n      // send a WebSocket Message comprised of data using a binary frame\n      // opcode; if the data cannot be sent, e.g. because it would need to\n      // be buffered but the buffer is full, the user agent must flag the\n      // WebSocket as full and then close the WebSocket connection. The\n      // data to be sent is the data stored in the section of the buffer\n      // described by the ArrayBuffer object that data references. Any\n      // invocation of this method with this kind of argument that does\n      // not throw an exception must increase the bufferedAmount attribute\n      // by the length of data\u2019s buffer in bytes.\n\n      const ab = Buffer.from(data, data.byteOffset, data.byteLength)\n\n      const frame = new WebsocketFrameSend(ab)\n      const buffer = frame.createFrame(opcodes.BINARY)\n\n      this.#bufferedAmount += ab.byteLength\n      socket.write(buffer, () => {\n        this.#bufferedAmount -= ab.byteLength\n      })\n    } else if (isBlobLike(data)) {\n      // If the WebSocket connection is established, and the WebSocket\n      // closing handshake has not yet started, then the user agent must\n      // send a WebSocket Message comprised of data using a binary frame\n      // opcode; if the data cannot be sent, e.g. because it would need to\n      // be buffered but the buffer is full, the user agent must flag the\n      // WebSocket as full and then close the WebSocket connection. The data\n      // to be sent is the raw data represented by the Blob object. Any\n      // invocation of this method with a Blob argument that does not throw\n      // an exception must increase the bufferedAmount attribute by the size\n      // of the Blob object\u2019s raw data, in bytes.\n\n      const frame = new WebsocketFrameSend()\n\n      data.arrayBuffer().then((ab) => {\n        const value = Buffer.from(ab)\n        frame.frameData = value\n        const buffer = frame.createFrame(opcodes.BINARY)\n\n        this.#bufferedAmount += value.byteLength\n        socket.write(buffer, () => {\n          this.#bufferedAmount -= value.byteLength\n        })\n      })\n    }\n  }\n\n  get readyState () {\n    webidl.brandCheck(this, WebSocket)\n\n    // The readyState getter steps are to return this's ready state.\n    return this[kReadyState]\n  }\n\n  get bufferedAmount () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#bufferedAmount\n  }\n\n  get url () {\n    webidl.brandCheck(this, WebSocket)\n\n    // The url getter steps are to return this's url, serialized.\n    return URLSerializer(this[kWebSocketURL])\n  }\n\n  get extensions () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#extensions\n  }\n\n  get protocol () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#protocol\n  }\n\n  get onopen () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.open\n  }\n\n  set onopen (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.open) {\n      this.removeEventListener('open', this.#events.open)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.open = fn\n      this.addEventListener('open', fn)\n    } else {\n      this.#events.open = null\n    }\n  }\n\n  get onerror () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.error\n  }\n\n  set onerror (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.error) {\n      this.removeEventListener('error', this.#events.error)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.error = fn\n      this.addEventListener('error', fn)\n    } else {\n      this.#events.error = null\n    }\n  }\n\n  get onclose () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.close\n  }\n\n  set onclose (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.close) {\n      this.removeEventListener('close', this.#events.close)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.close = fn\n      this.addEventListener('close', fn)\n    } else {\n      this.#events.close = null\n    }\n  }\n\n  get onmessage () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.message\n  }\n\n  set onmessage (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.message) {\n      this.removeEventListener('message', this.#events.message)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.message = fn\n      this.addEventListener('message', fn)\n    } else {\n      this.#events.message = null\n    }\n  }\n\n  get binaryType () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this[kBinaryType]\n  }\n\n  set binaryType (type) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (type !== 'blob' && type !== 'arraybuffer') {\n      this[kBinaryType] = 'blob'\n    } else {\n      this[kBinaryType] = type\n    }\n  }\n\n  /**\n   * @see https://websockets.spec.whatwg.org/#feedback-from-the-protocol\n   */\n  #onConnectionEstablished (response) {\n    // processResponse is called when the \"response\u2019s header list has been received and initialized.\"\n    // once this happens, the connection is open\n    this[kResponse] = response\n\n    const parser = new ByteParser(this)\n    parser.on('drain', function onParserDrain () {\n      this.ws[kResponse].socket.resume()\n    })\n\n    response.socket.ws = this\n    this[kByteParser] = parser\n\n    // 1. Change the ready state to OPEN (1).\n    this[kReadyState] = states.OPEN\n\n    // 2. Change the extensions attribute\u2019s value to the extensions in use, if\n    //    it is not the null value.\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-9.1\n    const extensions = response.headersList.get('sec-websocket-extensions')\n\n    if (extensions !== null) {\n      this.#extensions = extensions\n    }\n\n    // 3. Change the protocol attribute\u2019s value to the subprotocol in use, if\n    //    it is not the null value.\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-1.9\n    const protocol = response.headersList.get('sec-websocket-protocol')\n\n    if (protocol !== null) {\n      this.#protocol = protocol\n    }\n\n    // 4. Fire an event named open at the WebSocket object.\n    fireEvent('open', this)\n  }\n}\n\n// https://websockets.spec.whatwg.org/#dom-websocket-connecting\nWebSocket.CONNECTING = WebSocket.prototype.CONNECTING = states.CONNECTING\n// https://websockets.spec.whatwg.org/#dom-websocket-open\nWebSocket.OPEN = WebSocket.prototype.OPEN = states.OPEN\n// https://websockets.spec.whatwg.org/#dom-websocket-closing\nWebSocket.CLOSING = WebSocket.prototype.CLOSING = states.CLOSING\n// https://websockets.spec.whatwg.org/#dom-websocket-closed\nWebSocket.CLOSED = WebSocket.prototype.CLOSED = states.CLOSED\n\nObject.defineProperties(WebSocket.prototype, {\n  CONNECTING: staticPropertyDescriptors,\n  OPEN: staticPropertyDescriptors,\n  CLOSING: staticPropertyDescriptors,\n  CLOSED: staticPropertyDescriptors,\n  url: kEnumerableProperty,\n  readyState: kEnumerableProperty,\n  bufferedAmount: kEnumerableProperty,\n  onopen: kEnumerableProperty,\n  onerror: kEnumerableProperty,\n  onclose: kEnumerableProperty,\n  close: kEnumerableProperty,\n  onmessage: kEnumerableProperty,\n  binaryType: kEnumerableProperty,\n  send: kEnumerableProperty,\n  extensions: kEnumerableProperty,\n  protocol: kEnumerableProperty,\n  [Symbol.toStringTag]: {\n    value: 'WebSocket',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  }\n})\n\nObject.defineProperties(WebSocket, {\n  CONNECTING: staticPropertyDescriptors,\n  OPEN: staticPropertyDescriptors,\n  CLOSING: staticPropertyDescriptors,\n  CLOSED: staticPropertyDescriptors\n})\n\nwebidl.converters['sequence<DOMString>'] = webidl.sequenceConverter(\n  webidl.converters.DOMString\n)\n\nwebidl.converters['DOMString or sequence<DOMString>'] = function (V) {\n  if (webidl.util.Type(V) === 'Object' && Symbol.iterator in V) {\n    return webidl.converters['sequence<DOMString>'](V)\n  }\n\n  return webidl.converters.DOMString(V)\n}\n\n// This implements the propsal made in https://github.com/whatwg/websockets/issues/42\nwebidl.converters.WebSocketInit = webidl.dictionaryConverter([\n  {\n    key: 'protocols',\n    converter: webidl.converters['DOMString or sequence<DOMString>'],\n    get defaultValue () {\n      return []\n    }\n  },\n  {\n    key: 'dispatcher',\n    converter: (V) => V,\n    get defaultValue () {\n      return getGlobalDispatcher()\n    }\n  },\n  {\n    key: 'headers',\n    converter: webidl.nullableConverter(webidl.converters.HeadersInit)\n  }\n])\n\nwebidl.converters['DOMString or sequence<DOMString> or WebSocketInit'] = function (V) {\n  if (webidl.util.Type(V) === 'Object' && !(Symbol.iterator in V)) {\n    return webidl.converters.WebSocketInit(V)\n  }\n\n  return { protocols: webidl.converters['DOMString or sequence<DOMString>'](V) }\n}\n\nwebidl.converters.WebSocketSendData = function (V) {\n  if (webidl.util.Type(V) === 'Object') {\n    if (isBlobLike(V)) {\n      return webidl.converters.Blob(V, { strict: false })\n    }\n\n    if (ArrayBuffer.isView(V) || types.isAnyArrayBuffer(V)) {\n      return webidl.converters.BufferSource(V)\n    }\n  }\n\n  return webidl.converters.USVString(V)\n}\n\nmodule.exports = {\n  WebSocket\n}\n", "'use strict'\n\nconst Client = require('./lib/client')\nconst Dispatcher = require('./lib/dispatcher')\nconst errors = require('./lib/core/errors')\nconst Pool = require('./lib/pool')\nconst BalancedPool = require('./lib/balanced-pool')\nconst Agent = require('./lib/agent')\nconst util = require('./lib/core/util')\nconst { InvalidArgumentError } = errors\nconst api = require('./lib/api')\nconst buildConnector = require('./lib/core/connect')\nconst MockClient = require('./lib/mock/mock-client')\nconst MockAgent = require('./lib/mock/mock-agent')\nconst MockPool = require('./lib/mock/mock-pool')\nconst mockErrors = require('./lib/mock/mock-errors')\nconst ProxyAgent = require('./lib/proxy-agent')\nconst RetryHandler = require('./lib/handler/RetryHandler')\nconst { getGlobalDispatcher, setGlobalDispatcher } = require('./lib/global')\nconst DecoratorHandler = require('./lib/handler/DecoratorHandler')\nconst RedirectHandler = require('./lib/handler/RedirectHandler')\nconst createRedirectInterceptor = require('./lib/interceptor/redirectInterceptor')\n\nlet hasCrypto\ntry {\n  require('crypto')\n  hasCrypto = true\n} catch {\n  hasCrypto = false\n}\n\nObject.assign(Dispatcher.prototype, api)\n\nmodule.exports.Dispatcher = Dispatcher\nmodule.exports.Client = Client\nmodule.exports.Pool = Pool\nmodule.exports.BalancedPool = BalancedPool\nmodule.exports.Agent = Agent\nmodule.exports.ProxyAgent = ProxyAgent\nmodule.exports.RetryHandler = RetryHandler\n\nmodule.exports.DecoratorHandler = DecoratorHandler\nmodule.exports.RedirectHandler = RedirectHandler\nmodule.exports.createRedirectInterceptor = createRedirectInterceptor\n\nmodule.exports.buildConnector = buildConnector\nmodule.exports.errors = errors\n\nfunction makeDispatcher (fn) {\n  return (url, opts, handler) => {\n    if (typeof opts === 'function') {\n      handler = opts\n      opts = null\n    }\n\n    if (!url || (typeof url !== 'string' && typeof url !== 'object' && !(url instanceof URL))) {\n      throw new InvalidArgumentError('invalid url')\n    }\n\n    if (opts != null && typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    if (opts && opts.path != null) {\n      if (typeof opts.path !== 'string') {\n        throw new InvalidArgumentError('invalid opts.path')\n      }\n\n      let path = opts.path\n      if (!opts.path.startsWith('/')) {\n        path = `/${path}`\n      }\n\n      url = new URL(util.parseOrigin(url).origin + path)\n    } else {\n      if (!opts) {\n        opts = typeof url === 'object' ? url : {}\n      }\n\n      url = util.parseURL(url)\n    }\n\n    const { agent, dispatcher = getGlobalDispatcher() } = opts\n\n    if (agent) {\n      throw new InvalidArgumentError('unsupported opts.agent. Did you mean opts.client?')\n    }\n\n    return fn.call(dispatcher, {\n      ...opts,\n      origin: url.origin,\n      path: url.search ? `${url.pathname}${url.search}` : url.pathname,\n      method: opts.method || (opts.body ? 'PUT' : 'GET')\n    }, handler)\n  }\n}\n\nmodule.exports.setGlobalDispatcher = setGlobalDispatcher\nmodule.exports.getGlobalDispatcher = getGlobalDispatcher\n\nif (util.nodeMajor > 16 || (util.nodeMajor === 16 && util.nodeMinor >= 8)) {\n  let fetchImpl = null\n  module.exports.fetch = async function fetch (resource) {\n    if (!fetchImpl) {\n      fetchImpl = require('./lib/fetch').fetch\n    }\n\n    try {\n      return await fetchImpl(...arguments)\n    } catch (err) {\n      if (typeof err === 'object') {\n        Error.captureStackTrace(err, this)\n      }\n\n      throw err\n    }\n  }\n  module.exports.Headers = require('./lib/fetch/headers').Headers\n  module.exports.Response = require('./lib/fetch/response').Response\n  module.exports.Request = require('./lib/fetch/request').Request\n  module.exports.FormData = require('./lib/fetch/formdata').FormData\n  module.exports.File = require('./lib/fetch/file').File\n  module.exports.FileReader = require('./lib/fileapi/filereader').FileReader\n\n  const { setGlobalOrigin, getGlobalOrigin } = require('./lib/fetch/global')\n\n  module.exports.setGlobalOrigin = setGlobalOrigin\n  module.exports.getGlobalOrigin = getGlobalOrigin\n\n  const { CacheStorage } = require('./lib/cache/cachestorage')\n  const { kConstruct } = require('./lib/cache/symbols')\n\n  // Cache & CacheStorage are tightly coupled with fetch. Even if it may run\n  // in an older version of Node, it doesn't have any use without fetch.\n  module.exports.caches = new CacheStorage(kConstruct)\n}\n\nif (util.nodeMajor >= 16) {\n  const { deleteCookie, getCookies, getSetCookies, setCookie } = require('./lib/cookies')\n\n  module.exports.deleteCookie = deleteCookie\n  module.exports.getCookies = getCookies\n  module.exports.getSetCookies = getSetCookies\n  module.exports.setCookie = setCookie\n\n  const { parseMIMEType, serializeAMimeType } = require('./lib/fetch/dataURL')\n\n  module.exports.parseMIMEType = parseMIMEType\n  module.exports.serializeAMimeType = serializeAMimeType\n}\n\nif (util.nodeMajor >= 18 && hasCrypto) {\n  const { WebSocket } = require('./lib/websocket/websocket')\n\n  module.exports.WebSocket = WebSocket\n}\n\nmodule.exports.request = makeDispatcher(api.request)\nmodule.exports.stream = makeDispatcher(api.stream)\nmodule.exports.pipeline = makeDispatcher(api.pipeline)\nmodule.exports.connect = makeDispatcher(api.connect)\nmodule.exports.upgrade = makeDispatcher(api.upgrade)\n\nmodule.exports.MockClient = MockClient\nmodule.exports.MockPool = MockPool\nmodule.exports.MockAgent = MockAgent\nmodule.exports.mockErrors = mockErrors\n", "function throttle(function_, wait) {\n\tif (typeof function_ !== 'function') {\n\t\tthrow new TypeError(`Expected the first argument to be a \\`function\\`, got \\`${typeof function_}\\`.`);\n\t}\n\n\t// TODO: Add `wait` validation too in the next major version.\n\n\tlet timeoutId;\n\tlet lastCallTime = 0;\n\n\treturn function throttled(...arguments_) { // eslint-disable-line func-names\n\t\tclearTimeout(timeoutId);\n\n\t\tconst now = Date.now();\n\t\tconst timeSinceLastCall = now - lastCallTime;\n\t\tconst delayForNextCall = wait - timeSinceLastCall;\n\n\t\tif (delayForNextCall <= 0) {\n\t\t\tlastCallTime = now;\n\t\t\tfunction_.apply(this, arguments_);\n\t\t} else {\n\t\t\ttimeoutId = setTimeout(() => {\n\t\t\t\tlastCallTime = Date.now();\n\t\t\t\tfunction_.apply(this, arguments_);\n\t\t\t}, delayForNextCall);\n\t\t}\n\t};\n}\n\nmodule.exports = throttle;\n", "import { Hono } from 'hono'\r\nimport { cors } from 'hono/cors'\r\nimport { homePage } from './home-page'\r\nimport { testPage } from './test-page'\r\nimport { calculatorPage } from './calculator-page'\r\nimport { smartCalculator } from './smart-calculator'\r\nimport { loginPage } from './login-page'\r\nimport { forgotPasswordPage } from './forgot-password-page'\r\nimport { packagesPage } from './packages-page'\r\nimport { subscribePage } from './subscribe-page'\r\nimport { fullAdminPanel } from './full-admin-panel'\r\nimport { tenantsPage } from './tenants-page'\r\nimport { tenantCalculatorsPage } from './tenant-calculators-page'\r\nimport { saasSettingsPage } from './saas-settings-page'\r\nimport { reportsPage } from './reports-page'\r\nimport { customersReportPage, requestsReportPage, financialReportPage } from './advanced-reports'\r\nimport { paymentsPage } from './payments-page'\r\nimport { banksManagementPage } from './banks-management-page'\r\nimport { generateAddRatePage, generateEditRatePage } from './rates-forms'\r\nimport { generateWorkflowTimelinePage } from './workflow-page'\r\nimport { banksReportPage } from './banks-report'\r\nimport { performanceReportPage } from './performance-report'\r\nimport { deleteBlob, putBlob } from './platform/blob/vercel-blob'\r\nimport { createNeonD1Database } from './platform/db/neon-d1-compat'\r\n\r\n// Load local env files for local dev only.\r\n// IMPORTANT: Do NOT import `dotenv` or `node:fs` at module top-level, because the Vercel ESM bundle\r\n// can fail with \"Dynamic require of fs is not supported\" when dotenv is bundled.\r\nif (!process.env.VERCEL) {\r\n  void (async () => {\r\n    try {\r\n      const [{ default: dotenv }, { existsSync }] = await Promise.all([\r\n        import('dotenv'),\r\n        import('node:fs')\r\n      ])\r\n\r\n      for (const p of ['.env', '.env.local', '.env.development', '.env.production']) {\r\n        if (existsSync(p)) dotenv.config({ path: p })\r\n      }\r\n    } catch {\r\n      // ignore\r\n    }\r\n  })()\r\n}\r\n\r\n// Polyfill atob/btoa for Node environments (local dev / Vercel Node runtime).\r\n;(globalThis as any).atob ??= (b64: string) => Buffer.from(b64, 'base64').toString('binary')\r\n;(globalThis as any).btoa ??= (bin: string) => Buffer.from(bin, 'binary').toString('base64')\r\n\r\ntype Bindings = {\r\n  DB?: any;\r\n}\r\n\r\ntype Variables = {\r\n  tenant: any;\r\n  tenantId: number | null;\r\n}\r\n\r\n// Main application (all routes/pages).\r\nconst app = new Hono<{ Bindings: Bindings; Variables: Variables }>()\r\n\r\n// Vercel rewrite compatibility wrapper.\r\n// In production we rewrite non-`/api/*` paths to `/api/...` (see `vercel.json`),\r\n// but our pages are defined at `/`, `/admin/*`, etc. This wrapper strips `/api`\r\n// only for page-like routes and forwards the request to `app`.\r\nconst wrapper = new Hono<{ Bindings: Bindings; Variables: Variables }>()\r\n\r\nwrapper.all('*', async (c) => {\r\n  const url = new URL(c.req.url)\r\n  const path = url.pathname\r\n\r\n  if (path === '/api' || path.startsWith('/api/')) {\r\n    const after = path === '/api' ? '' : path.slice('/api/'.length)\r\n    const firstSeg = after.split('/')[0]\r\n    const pageSegs = new Set([\r\n      '',\r\n      'admin',\r\n      'login',\r\n      'forgot-password',\r\n      'calculator',\r\n      'calculator-old',\r\n      'packages',\r\n      'subscribe',\r\n      'test',\r\n      'c'\r\n    ])\r\n\r\n    if (pageSegs.has(firstSeg)) {\r\n      url.pathname = path.replace(/^\\/api(?=\\/|$)/, '') || '/'\r\n      const rewrittenReq = new Request(url.toString(), c.req.raw)\r\n      return await app.fetch(rewrittenReq, c.env as any)\r\n    }\r\n  }\r\n\r\n  return await app.fetch(c.req.raw, c.env as any)\r\n})\r\n\r\n// Ensure DB binding exists in non-Cloudflare runtimes (local dev / Node).\r\n// Cloudflare/Vercel entrypoints can still inject `env.DB`; we won't override it.\r\napp.use('*', async (c, next) => {\r\n  // In some runtimes (e.g. Vercel app.fetch(req) without bindings), `c.env` may be undefined.\r\n  // Ensure it exists before attempting to set DB.\r\n  const envObj = (c as any).env ?? ((c as any).env = {})\r\n\r\n  if (!envObj.DB) {\r\n    const databaseUrl = process.env.DATABASE_URL\r\n    if (!databaseUrl) {\r\n      return c.json(\r\n        { success: false, error: 'Missing env var: DATABASE_URL (Neon connection string)' },\r\n        500\r\n      )\r\n    }\r\n    envObj.DB = createNeonD1Database(databaseUrl)\r\n  }\r\n  await next()\r\n})\r\n\r\n// Prevent hard \"function crashed\" by catching errors and logging them.\r\napp.onError((err, c) => {\r\n  console.error('Unhandled error:', err)\r\n  return c.text('Internal Server Error', 500)\r\n})\r\n\r\n// Helpful 404 response (also logs) to diagnose routing issues in production.\r\napp.notFound((c) => {\r\n  console.warn('NOT_FOUND:', c.req.method, c.req.path)\r\n  return c.json({ success: false, error: 'Not Found', method: c.req.method, path: c.req.path }, 404)\r\n})\r\n\r\n// Helper: Mobile-Responsive CSS Styles\r\nconst getMobileResponsiveCSS = () => `\r\n  /* Mobile Responsive Styles */\r\n  @media (max-width: 768px) {\r\n    /* Container adjustments */\r\n    .max-w-7xl, .max-w-6xl, .max-w-5xl {\r\n      padding-left: 1rem !important;\r\n      padding-right: 1rem !important;\r\n    }\r\n    \r\n    /* Headings */\r\n    h1 {\r\n      font-size: 1.5rem !important;\r\n    }\r\n    h2 {\r\n      font-size: 1.25rem !important;\r\n    }\r\n    \r\n    /* Tables */\r\n    table {\r\n      font-size: 0.875rem !important;\r\n    }\r\n    \r\n    table th, table td {\r\n      padding: 0.5rem !important;\r\n    }\r\n    \r\n    /* Hide less important columns on mobile */\r\n    .hide-on-mobile {\r\n      display: none !important;\r\n    }\r\n    \r\n    /* Buttons */\r\n    button, .btn {\r\n      font-size: 0.875rem !important;\r\n      padding: 0.5rem 1rem !important;\r\n    }\r\n    \r\n    /* Forms */\r\n    input, select, textarea {\r\n      font-size: 1rem !important;\r\n    }\r\n    \r\n    /* Cards */\r\n    .bg-white.rounded-xl, .bg-white.rounded-lg {\r\n      padding: 1rem !important;\r\n    }\r\n    \r\n    /* Flex wrap for header actions */\r\n    .flex.justify-between {\r\n      flex-wrap: wrap;\r\n      gap: 1rem;\r\n    }\r\n    \r\n    /* Stack items vertically on mobile */\r\n    .flex-wrap > * {\r\n      width: 100%;\r\n    }\r\n    \r\n    /* Search input full width */\r\n    input[type=\"text\"], input[type=\"search\"] {\r\n      width: 100% !important;\r\n    }\r\n    \r\n    /* Modal adjustments */\r\n    .fixed.inset-0 > div {\r\n      margin: 1rem !important;\r\n      max-height: 90vh !important;\r\n      overflow-y: auto !important;\r\n    }\r\n    \r\n    /* Sidebar adjustments */\r\n    aside, .sidebar {\r\n      width: 100% !important;\r\n      position: fixed !important;\r\n      z-index: 50 !important;\r\n    }\r\n    \r\n    /* Grid adjustments */\r\n    .grid {\r\n      grid-template-columns: 1fr !important;\r\n    }\r\n    \r\n    /* Reduce spacing */\r\n    .p-6 {\r\n      padding: 1rem !important;\r\n    }\r\n    \r\n    .p-8 {\r\n      padding: 1.5rem !important;\r\n    }\r\n    \r\n    /* Table container */\r\n    .overflow-x-auto {\r\n      margin-left: -1rem !important;\r\n      margin-right: -1rem !important;\r\n      padding-left: 1rem !important;\r\n      padding-right: 1rem !important;\r\n      padding-bottom: 1.5rem !important; /* Space for scrollbar */\r\n    }\r\n    \r\n    /* IMPORTANT: Force scrollbar to be ALWAYS VISIBLE on mobile */\r\n    .overflow-x-auto::-webkit-scrollbar {\r\n      height: 14px !important; /* Larger scrollbar for mobile */\r\n      -webkit-appearance: none;\r\n    }\r\n    \r\n    .overflow-x-auto::-webkit-scrollbar-track {\r\n      background: #f1f5f9 !important; /* Light background */\r\n      border-radius: 8px !important;\r\n      border: 2px solid #e2e8f0 !important; /* Border to make it stand out */\r\n    }\r\n    \r\n    .overflow-x-auto::-webkit-scrollbar-thumb {\r\n      background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%) !important;\r\n      border-radius: 8px !important;\r\n      border: 2px solid #e2e8f0 !important;\r\n      min-width: 50px !important; /* Minimum thumb width */\r\n    }\r\n    \r\n    .overflow-x-auto::-webkit-scrollbar-thumb:active {\r\n      background: linear-gradient(180deg, #1d4ed8 0%, #1e40af 100%) !important;\r\n    }\r\n    \r\n    /* Force scrollbar to always show on mobile (iOS Safari & Chrome) */\r\n    .overflow-x-auto {\r\n      overflow-x: scroll !important; /* Always show scrollbar */\r\n      -webkit-overflow-scrolling: touch !important; /* Smooth scrolling on iOS */\r\n      scrollbar-width: auto !important; /* Firefox: show scrollbar */\r\n      scrollbar-color: #3b82f6 #f1f5f9 !important; /* Firefox colors */\r\n    }\r\n    \r\n    /* Add visual indicator for scrollable content */\r\n    .overflow-x-auto::after {\r\n      content: '\u2190 \u0645\u0631\u0631 \u0644\u0644\u0645\u0632\u064A\u062F \u2192' !important;\r\n      position: absolute !important;\r\n      bottom: 0 !important;\r\n      left: 50% !important;\r\n      transform: translateX(-50%) !important;\r\n      background: rgba(59, 130, 246, 0.9) !important;\r\n      color: white !important;\r\n      padding: 0.25rem 1rem !important;\r\n      border-radius: 1rem !important;\r\n      font-size: 0.75rem !important;\r\n      font-weight: bold !important;\r\n      pointer-events: none !important;\r\n      opacity: 0 !important;\r\n      animation: fadeInOut 3s ease-in-out !important;\r\n    }\r\n    \r\n    @keyframes fadeInOut {\r\n      0%, 100% { opacity: 0; }\r\n      10%, 90% { opacity: 1; }\r\n    }\r\n    \r\n    /* Table wrapper positioning */\r\n    .overflow-x-auto {\r\n      position: relative !important;\r\n    }\r\n    \r\n    /* Action buttons in table */\r\n    .action-buttons {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 0.25rem;\r\n    }\r\n    \r\n    /* Status badges */\r\n    .badge, .status-badge {\r\n      font-size: 0.75rem !important;\r\n      padding: 0.25rem 0.5rem !important;\r\n    }\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    /* Extra small screens */\r\n    body {\r\n      font-size: 14px !important;\r\n    }\r\n    \r\n    h1 {\r\n      font-size: 1.25rem !important;\r\n    }\r\n    \r\n    table {\r\n      font-size: 0.75rem !important;\r\n    }\r\n    \r\n    button, .btn {\r\n      font-size: 0.75rem !important;\r\n      padding: 0.375rem 0.75rem !important;\r\n    }\r\n    \r\n    /* Even larger scrollbar for very small screens */\r\n    .overflow-x-auto::-webkit-scrollbar {\r\n      height: 16px !important;\r\n    }\r\n    \r\n    .overflow-x-auto::-webkit-scrollbar-thumb {\r\n      min-width: 60px !important;\r\n    }\r\n  }\r\n`\r\n\r\n// Enable CORS\r\napp.use('*', cors())\r\n\r\n// Handle browser CORS preflight globally.\r\n// Without an explicit OPTIONS handler, some environments can return 404 for preflight requests,\r\n// which makes the browser block the subsequent POST (e.g. /api/auth/login).\r\napp.options('*', (c) => c.body(null, 204))\r\n\r\n// ===================================\r\n// MULTI-TENANT MIDDLEWARE & HELPERS\r\n// ===================================\r\n\r\n// Helper: Get tenant from subdomain or slug\r\nasync function getTenant(c: any): Promise<any> {\r\n  // Try to get from subdomain first (e.g., tamweel1.tamweel.app)\r\n  const host = c.req.header('host') || ''\r\n  const subdomain = host.split('.')[0]\r\n  \r\n  // Try to get from URL path (e.g., /c/tamweel-1/calculator)\r\n  const pathMatch = c.req.path.match(/^\\/c\\/([^\\/]+)/)\r\n  const slug = pathMatch ? pathMatch[1] : null\r\n  \r\n  // Search in database\r\n  let tenant = null\r\n  \r\n  if (subdomain && subdomain !== 'localhost' && subdomain !== '3000-ii8t2q2dzwwe7ckmslxss-3844e1b6') {\r\n    tenant = await c.env.DB.prepare(`\r\n      SELECT * FROM tenants \r\n      WHERE subdomain = ? AND status = 'active'\r\n      LIMIT 1\r\n    `).bind(subdomain).first()\r\n  }\r\n  \r\n  if (!tenant && slug) {\r\n    tenant = await c.env.DB.prepare(`\r\n      SELECT * FROM tenants \r\n      WHERE slug = ? AND status = 'active'\r\n      LIMIT 1\r\n    `).bind(slug).first()\r\n  }\r\n  \r\n  // Fallback: use tenant_id = 1 (default company) if no tenant found\r\n  if (!tenant) {\r\n    tenant = await c.env.DB.prepare(`\r\n      SELECT * FROM tenants WHERE id = 1 LIMIT 1\r\n    `).bind().first()\r\n  }\r\n  \r\n  return tenant\r\n}\r\n\r\n// Get tenant_id for current user (for multi-tenancy filtering)\r\nasync function getUserInfo(c: any): Promise<{ userId: number | null; tenantId: number | null; roleId: number | null }> {\r\n  try {\r\n    // Try to get token from Authorization Header (for API calls)\r\n    let token = c.req.header('Authorization')?.replace('Bearer ', '')\r\n    \r\n    // If not in header, try to get from cookie (for HTML pages)\r\n    if (!token) {\r\n      const cookieHeader = c.req.header('Cookie')\r\n      if (cookieHeader) {\r\n        const cookies = cookieHeader.split(';').map((cookie: string) => cookie.trim())\r\n        const authCookie = cookies.find((cookie: string) => cookie.startsWith('authToken='))\r\n        if (authCookie) {\r\n          token = authCookie.split('=')[1]\r\n          console.log('\u2705 Token found in cookie')\r\n        }\r\n      }\r\n    }\r\n    \r\n    if (!token) {\r\n      console.log('\u274C No token found in header or cookie')\r\n      const queryTenantId = c.req.query('tenant_id')\r\n      return { userId: null, tenantId: queryTenantId ? parseInt(queryTenantId) : null, roleId: null }\r\n    }\r\n    \r\n    console.log('\uD83D\uDD0D Token:', token.substring(0, 20) + '...')\r\n    \r\n    \r\n    const decoded = atob(token)\r\n    const parts = decoded.split(':')\r\n    const userId = parseInt(parts[0])\r\n    const tenantIdFromToken = parts[1] !== 'null' && parts[1] !== 'undefined' ? parseInt(parts[1]) : null\r\n    \r\n    const user = await c.env.DB.prepare(`\r\n      SELECT id, tenant_id, role_id FROM users WHERE id = ?\r\n    `).bind(userId).first()\r\n    \r\n    if (!user) {\r\n      return { userId: null, tenantId: null, roleId: null }\r\n    }\r\n    \r\n    // Super Admin (role_id = 1) can see all data\r\n    if (user.role_id === 1) {\r\n      const queryTenantId = c.req.query('tenant_id')\r\n      return { userId: user.id, tenantId: queryTenantId ? parseInt(queryTenantId) : null, roleId: 1 }\r\n    }\r\n    \r\n    // For other roles, return their tenant_id\r\n    return { userId: user.id, tenantId: tenantIdFromToken || user.tenant_id, roleId: user.role_id }\r\n  } catch (error) {\r\n    console.error('Error getting user info:', error)\r\n    return { userId: null, tenantId: null, roleId: null }\r\n  }\r\n}\r\n\r\nasync function getUserTenantId(c: any): Promise<number | null> {\r\n  const info = await getUserInfo(c)\r\n  return info.tenantId\r\n}\r\n\r\n// Get user ID and role for employee-specific filtering\r\n\r\n// Middleware: Verify and set tenant\r\napp.use('/c/:tenant/*', async (c, next) => {\r\n  const tenant = await getTenant(c)\r\n  \r\n  if (!tenant) {\r\n    return c.json({ error: 'Tenant not found', message: '\u0627\u0644\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629 \u0623\u0648 \u063A\u064A\u0631 \u0646\u0634\u0637\u0629' }, 404)\r\n  }\r\n  \r\n  // Set tenant in context\r\n  c.set('tenant', tenant)\r\n  c.set('tenantId', tenant.id)\r\n  \r\n  await next()\r\n})\r\n\r\n// TENANTS (COMPANIES) APIs\r\n\r\n// Get all tenants\r\napp.get('/api/tenants', async (c) => {\r\n  try {\r\n    const { results } = await c.env.DB.prepare(`\r\n      SELECT * FROM tenants ORDER BY created_at DESC\r\n    `).all()\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Create new tenant\r\napp.post('/api/tenants', async (c) => {\r\n  try {\r\n    const data = await c.req.json()\r\n    \r\n    // Validate required fields\r\n    if (!data.company_name || !data.slug) {\r\n      return c.json({ success: false, error: '\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 \u0648\u0627\u0644\u0640 Slug \u0645\u0637\u0644\u0648\u0628\u0627\u0646' }, 400)\r\n    }\r\n    \r\n    // Check if slug already exists\r\n    const existing = await c.env.DB.prepare(`\r\n      SELECT id FROM tenants WHERE slug = ?\r\n    `).bind(data.slug).first()\r\n    \r\n    if (existing) {\r\n      return c.json({ success: false, error: '\u0627\u0644\u0640 Slug \u0645\u0648\u062C\u0648\u062F \u0628\u0627\u0644\u0641\u0639\u0644' }, 400)\r\n    }\r\n    \r\n    // Insert new tenant\r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO tenants (\r\n        company_name, slug, subdomain, status, max_users, \r\n        max_customers, max_requests, contact_email, contact_phone,\r\n        primary_color, secondary_color\r\n      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(\r\n      data.company_name,\r\n      data.slug,\r\n      data.subdomain || data.slug,\r\n      data.status || 'active',\r\n      data.max_users || 10,\r\n      data.max_customers || 500,\r\n      data.max_requests || 2000,\r\n      data.contact_email || '',\r\n      data.contact_phone || '',\r\n      data.primary_color || '#667eea',\r\n      data.secondary_color || '#764ba2'\r\n    ).run()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      data: { id: result.meta.last_row_id, ...data },\r\n      message: '\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062C\u0627\u062D'\r\n    })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update tenant\r\napp.put('/api/tenants/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const data = await c.req.json()\r\n    \r\n    // Check if tenant exists\r\n    const tenant = await c.env.DB.prepare(`\r\n      SELECT id FROM tenants WHERE id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!tenant) {\r\n      return c.json({ success: false, error: '\u0627\u0644\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629' }, 404)\r\n    }\r\n    \r\n    // Update tenant\r\n    await c.env.DB.prepare(`\r\n      UPDATE tenants SET\r\n        company_name = ?,\r\n        slug = ?,\r\n        subdomain = ?,\r\n        status = ?,\r\n        max_users = ?,\r\n        max_customers = ?,\r\n        max_requests = ?,\r\n        contact_email = ?,\r\n        contact_phone = ?,\r\n        primary_color = ?,\r\n        secondary_color = ?\r\n      WHERE id = ?\r\n    `).bind(\r\n      data.company_name,\r\n      data.slug,\r\n      data.subdomain,\r\n      data.status,\r\n      data.max_users,\r\n      data.max_customers,\r\n      data.max_requests,\r\n      data.contact_email,\r\n      data.contact_phone,\r\n      data.primary_color || '#667eea',\r\n      data.secondary_color || '#764ba2',\r\n      id\r\n    ).run()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      data: { id, ...data },\r\n      message: '\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062C\u0627\u062D'\r\n    })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete tenant\r\napp.delete('/api/tenants/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // Check if tenant has users\r\n    const usersCount = await c.env.DB.prepare(`\r\n      SELECT COUNT(*) as count FROM users WHERE tenant_id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (usersCount && usersCount.count > 0) {\r\n      return c.json({ \r\n        success: false, \r\n        error: `\u0644\u0627 \u064A\u0645\u0643\u0646 \u062D\u0630\u0641 \u0627\u0644\u0634\u0631\u0643\u0629 \u0644\u0623\u0646\u0647\u0627 \u062A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 ${usersCount.count} \u0645\u0633\u062A\u062E\u062F\u0645/\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646`\r\n      }, 400)\r\n    }\r\n    \r\n    // Delete tenant\r\n    await c.env.DB.prepare(`\r\n      DELETE FROM tenants WHERE id = ?\r\n    `).bind(id).run()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062C\u0627\u062D'\r\n    })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// AUTHENTICATION & AUTHORIZATION APIs\r\n\r\n// Login API\r\nconst loginHandler = async (c: any) => {\r\n  try {\r\n    const { username, password } = await c.req.json()\r\n    \r\n    console.log(`\uD83D\uDD10 Login attempt: ${username}`)\r\n    \r\n    // Get user with tenant information\r\n    const user = await c.env.DB.prepare(`\r\n      SELECT u.id, u.username, u.password, u.full_name, u.email, u.phone,\r\n             u.role_id, u.user_type, u.subscription_id, u.is_active, \r\n             u.tenant_id, u.role as user_role,\r\n             r.role_name, r.description as role_description,\r\n             s.company_name as subscription_company_name,\r\n             t.id as actual_tenant_id, t.company_name as tenant_name, t.slug as tenant_slug\r\n      FROM users u\r\n      LEFT JOIN roles r ON u.role_id = r.id\r\n      LEFT JOIN subscriptions s ON u.subscription_id = s.id\r\n      LEFT JOIN tenants t ON u.tenant_id = t.id\r\n      WHERE u.username = ? AND u.password = ? AND u.is_active = 1\r\n    `).bind(username, password).first()\r\n    \r\n    if (!user) {\r\n      console.log(`\u274C Login failed: Invalid credentials for ${username}`)\r\n      return c.json({ success: false, error: '\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629' }, 401)\r\n    }\r\n    \r\n    console.log(`\u2705 User found: ${user.full_name} (Role ID: ${user.role_id})`)\r\n    \r\n    // Update last login\r\n    await c.env.DB.prepare('UPDATE users SET last_login = CURRENT_TIMESTAMP WHERE id = ?')\r\n      .bind(user.id).run()\r\n    \r\n    // Create token with tenant_id (user_id:tenant_id:role_id:timestamp)\r\n    const tokenData = `${user.id}:${user.tenant_id || 'null'}:${user.role_id}:${Date.now()}`\r\n    const token = btoa(tokenData)\r\n    \r\n    // Set cookie for 7 days (without HttpOnly for now to allow JavaScript access for debugging)\r\n    const cookieMaxAge = 7 * 24 * 60 * 60; // 7 days in seconds\r\n    c.header('Set-Cookie', `authToken=${token}; Path=/; Max-Age=${cookieMaxAge}; SameSite=Lax`)\r\n    \r\n    // Determine redirect URL - always go to /admin/panel\r\n    const redirect = '/admin/panel'\r\n    \r\n    console.log(`\uD83C\uDFAF Redirect to: ${redirect}`)\r\n    console.log(`\uD83C\uDF6A Cookie set: authToken=${token.substring(0, 20)}...`)\r\n    \r\n    return c.json({ \r\n      success: true,\r\n      token: token,\r\n      redirect: redirect,\r\n      user: {\r\n        id: user.id,\r\n        username: user.username,\r\n        full_name: user.full_name,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        role: user.user_role || 'employee',  // Use role column from users table\r\n        role_id: user.role_id,  // Add role_id\r\n        role_name: user.role_name || '\u0645\u0648\u0638\u0641',  // Role name from roles table\r\n        role_description: user.role_description,\r\n        user_type: user.user_type,\r\n        company_name: user.subscription_company_name || user.tenant_name,\r\n        subscription_id: user.subscription_id,\r\n        tenant_id: user.tenant_id,\r\n        tenant_name: user.tenant_name,\r\n        tenant_slug: user.tenant_slug\r\n      }\r\n    })\r\n  } catch (error: any) {\r\n    console.error('\u274C Login error:', error)\r\n    return c.json({ success: false, error: '\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644: ' + error.message }, 500)\r\n  }\r\n}\r\n\r\n// Accept both `/api/auth/login` (expected) and `/auth/login` (fallback for routing quirks)\r\napp.post('/api/auth/login', loginHandler)\r\napp.post('/auth/login', loginHandler)\r\n\r\n// Forgot Password - Step 1: Send verification code\r\napp.post('/api/auth/forgot-password', async (c) => {\r\n  try {\r\n    const { email } = await c.req.json()\r\n    \r\n    // Check if user exists\r\n    const user = await c.env.DB.prepare(`\r\n      SELECT id, email, username FROM users WHERE email = ? OR username = ?\r\n    `).bind(email, email).first()\r\n    \r\n    if (!user) {\r\n      return c.json({ success: false, message: '\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0623\u0648 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F' }, 404)\r\n    }\r\n    \r\n    // Generate 6-digit verification code\r\n    const code = Math.floor(100000 + Math.random() * 900000).toString()\r\n    const expiresAt = new Date(Date.now() + 15 * 60 * 1000) // 15 minutes\r\n    \r\n    // Store verification code in password_change_notifications table\r\n    await c.env.DB.prepare(`\r\n      INSERT INTO password_change_notifications (user_id, verification_code, expires_at, is_used)\r\n      VALUES (?, ?, ?, 0)\r\n    `).bind(user.id, code, expiresAt.toISOString()).run()\r\n    \r\n    // TODO: Send email with verification code (for now, just return success)\r\n    // In production, integrate with email service like SendGrid or AWS SES\r\n    \r\n    console.log(`Verification code for ${user.email}: ${code}`)\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      message: '\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642 \u0625\u0644\u0649 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A',\r\n      // For development only - remove in production:\r\n      devCode: code\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Forgot password error:', error)\r\n    return c.json({ success: false, message: '\u062D\u062F\u062B \u062E\u0637\u0623. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.' }, 500)\r\n  }\r\n})\r\n\r\n// Forgot Password - Step 2: Verify code\r\napp.post('/api/auth/verify-reset-code', async (c) => {\r\n  try {\r\n    const { email, code } = await c.req.json()\r\n    \r\n    // Get user\r\n    const user = await c.env.DB.prepare(`\r\n      SELECT id FROM users WHERE email = ? OR username = ?\r\n    `).bind(email, email).first()\r\n    \r\n    if (!user) {\r\n      return c.json({ success: false, message: '\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F' }, 404)\r\n    }\r\n    \r\n    // Check verification code\r\n    const verification = await c.env.DB.prepare(`\r\n      SELECT id, verification_code, expires_at, is_used\r\n      FROM password_change_notifications\r\n      WHERE user_id = ? AND is_used = 0\r\n      ORDER BY created_at DESC\r\n      LIMIT 1\r\n    `).bind(user.id).first()\r\n    \r\n    if (!verification) {\r\n      return c.json({ success: false, message: '\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642' }, 404)\r\n    }\r\n    \r\n    // Check if expired\r\n    if (new Date(verification.expires_at as string) < new Date()) {\r\n      return c.json({ success: false, message: '\u0627\u0646\u062A\u0647\u062A \u0635\u0644\u0627\u062D\u064A\u0629 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642. \u0627\u0644\u0631\u062C\u0627\u0621 \u0637\u0644\u0628 \u0631\u0645\u0632 \u062C\u062F\u064A\u062F.' }, 400)\r\n    }\r\n    \r\n    // Check if code matches\r\n    if (verification.verification_code !== code) {\r\n      return c.json({ success: false, message: '\u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D' }, 400)\r\n    }\r\n    \r\n    // Generate reset token\r\n    const token = Math.random().toString(36).substring(2) + Date.now().toString(36)\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      message: '\u062A\u0645 \u0627\u0644\u062A\u062D\u0642\u0642 \u0628\u0646\u062C\u0627\u062D',\r\n      token: token\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Verify code error:', error)\r\n    return c.json({ success: false, message: '\u062D\u062F\u062B \u062E\u0637\u0623. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.' }, 500)\r\n  }\r\n})\r\n\r\n// Forgot Password - Step 3: Reset password\r\napp.post('/api/auth/reset-password', async (c) => {\r\n  try {\r\n    const { email, token, newPassword } = await c.req.json()\r\n    \r\n    if (!newPassword || newPassword.length < 8) {\r\n      return c.json({ success: false, message: '\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 8 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644' }, 400)\r\n    }\r\n    \r\n    // Get user\r\n    const user = await c.env.DB.prepare(`\r\n      SELECT id FROM users WHERE email = ? OR username = ?\r\n    `).bind(email, email).first()\r\n    \r\n    if (!user) {\r\n      return c.json({ success: false, message: '\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F' }, 404)\r\n    }\r\n    \r\n    // Update password\r\n    await c.env.DB.prepare(`\r\n      UPDATE users SET password = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?\r\n    `).bind(newPassword, user.id).run()\r\n    \r\n    // Mark verification code as used\r\n    await c.env.DB.prepare(`\r\n      UPDATE password_change_notifications SET is_used = 1 WHERE user_id = ? AND is_used = 0\r\n    `).bind(user.id).run()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      message: '\u062A\u0645 \u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0628\u0646\u062C\u0627\u062D'\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Reset password error:', error)\r\n    return c.json({ success: false, message: '\u062D\u062F\u062B \u062E\u0637\u0623. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.' }, 500)\r\n  }\r\n})\r\n\r\n// BANKS APIs\r\n\r\n// Get all banks (global banks + tenant-specific banks)\r\napp.get('/api/banks', async (c) => {\r\n  try {\r\n    // Get tenant_id from query parameter or Authorization header\r\n    const tenantId = c.req.query('tenant_id');\r\n    \r\n    let query = `SELECT * FROM banks`;\r\n    let results;\r\n    \r\n    if (tenantId) {\r\n      query += ` WHERE tenant_id = ? ORDER BY bank_name`;\r\n      results = (await c.env.DB.prepare(query).bind(parseInt(tenantId)).all()).results;\r\n    } else {\r\n      query += ` ORDER BY bank_name`;\r\n      results = (await c.env.DB.prepare(query).all()).results;\r\n    }\r\n    \r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// ============================\r\n// \u0635\u0641\u062D\u0629 Timeline - \u0627\u0644\u062C\u062F\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064A \u0644\u062D\u0627\u0644\u0627\u062A \u0627\u0644\u0637\u0644\u0628\r\n// ============================\r\n\r\n// Add bank\r\napp.post('/api/banks', async (c) => {\r\n  try {\r\n    const data = await c.req.json()\r\n    const { bank_name, bank_code, logo_url, is_active, tenant_id } = data\r\n    \r\n    // Get tenant_id from Authorization header if not provided\r\n    let finalTenantId = tenant_id\r\n    if (!finalTenantId) {\r\n      const authHeader = c.req.header('Authorization')\r\n      const token = authHeader?.replace('Bearer ', '')\r\n      if (token) {\r\n        const decoded = atob(token)\r\n        const parts = decoded.split(':')\r\n        finalTenantId = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n      }\r\n    }\r\n    \r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO banks (bank_name, bank_code, logo_url, is_active, tenant_id) \r\n      VALUES (?, ?, ?, ?, ?)\r\n    `).bind(bank_name, bank_code, logo_url, is_active, finalTenantId).run()\r\n    \r\n    return c.json({ success: true, id: result.meta.last_row_id })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update bank (PUT method for API)\r\napp.put('/api/banks/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    const data = await c.req.json()\r\n    const { bank_name, bank_code, logo_url, is_active } = data\r\n    \r\n    // Verify bank belongs to user's tenant\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    // Add tenant_id check to WHERE clause for security\r\n    let query = `UPDATE banks SET bank_name = ?, bank_code = ?, logo_url = ?, is_active = ? WHERE id = ?`\r\n    if (tenant_id) {\r\n      query += ' AND tenant_id = ?'\r\n      await c.env.DB.prepare(query).bind(bank_name, bank_code, logo_url, is_active, id, tenant_id).run()\r\n    } else {\r\n      await c.env.DB.prepare(query).bind(bank_name, bank_code, logo_url, is_active, id).run()\r\n    }\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update bank (POST method for form submission - legacy)\r\napp.post('/api/banks/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const formData = await c.req.formData()\r\n    const bank_name = formData.get('bank_name') as string\r\n    const bank_code = formData.get('bank_code') as string\r\n    const logo_url = formData.get('logo_url') as string || null\r\n    const is_active = parseInt(formData.get('is_active') as string || '1')\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE banks SET bank_name = ?, bank_code = ?, logo_url = ?, is_active = ? WHERE id = ?\r\n    `).bind(bank_name, bank_code, logo_url, is_active, id).run()\r\n    return c.redirect('/admin/banks')\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete bank\r\napp.delete('/api/banks/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    // Check if bank exists and belongs to user's tenant\r\n    let checkQuery = 'SELECT id FROM banks WHERE id = ?'\r\n    if (tenant_id) {\r\n      checkQuery += ' AND tenant_id = ?'\r\n    }\r\n    const bank = tenant_id\r\n      ? await c.env.DB.prepare(checkQuery).bind(id, tenant_id).first()\r\n      : await c.env.DB.prepare(checkQuery).bind(id).first()\r\n    \r\n    if (!bank) {\r\n      return c.json({ success: false, error: '\u0627\u0644\u0628\u0646\u0643 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F \u0623\u0648 \u0644\u0627 \u064A\u0645\u0643\u0646\u0643 \u062D\u0630\u0641\u0647' }, 404)\r\n    }\r\n    \r\n    // Delete bank (will also delete related rates due to foreign key)\r\n    await c.env.DB.prepare(`DELETE FROM banks WHERE id = ?`).bind(id).run()\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// FINANCING TYPES APIs\r\n\r\n// Get all financing types\r\napp.get('/api/financing-types', async (c) => {\r\n  try {\r\n    // Get tenant_id from query parameter\r\n    const tenantId = c.req.query('tenant_id');\r\n    \r\n    let query = `SELECT * FROM financing_types`;\r\n    let results;\r\n    \r\n    if (tenantId) {\r\n      query += ` WHERE tenant_id = ? OR tenant_id IS NULL ORDER BY type_name`;\r\n      results = (await c.env.DB.prepare(query).bind(parseInt(tenantId)).all()).results;\r\n    } else {\r\n      query += ` ORDER BY type_name`;\r\n      results = (await c.env.DB.prepare(query).all()).results;\r\n    }\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// BANK FINANCING RATES APIs\r\n\r\n// Get all rates with bank and type names\r\napp.get('/api/rates', async (c) => {\r\n  try {\r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    // Build query with tenant_id filter\r\n    let query = `\r\n      SELECT \r\n        r.*,\r\n        b.bank_name,\r\n        f.type_name as financing_type_name\r\n      FROM bank_financing_rates r\r\n      JOIN banks b ON r.bank_id = b.id\r\n      JOIN financing_types f ON r.financing_type_id = f.id\r\n    `\r\n    \r\n    if (tenant_id !== null) {\r\n      query += ' WHERE r.tenant_id = ?'\r\n    }\r\n    \r\n    query += ' ORDER BY b.bank_name, f.type_name'\r\n    \r\n    const { results } = tenant_id !== null\r\n      ? await c.env.DB.prepare(query).bind(tenant_id).all()\r\n      : await c.env.DB.prepare(query).all()\r\n      \r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Add rate\r\napp.post('/api/rates', async (c) => {\r\n  try {\r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    const formData = await c.req.formData()\r\n    const data: any = {}\r\n    formData.forEach((value, key) => {\r\n      data[key] = value\r\n    })\r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO bank_financing_rates \r\n      (bank_id, financing_type_id, rate, min_amount, max_amount, min_duration, max_duration, is_active, tenant_id)\r\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(\r\n      data.bank_id, \r\n      data.financing_type_id, \r\n      data.rate,\r\n      data.min_amount || null, \r\n      data.max_amount || null, \r\n      data.min_duration || null, \r\n      data.max_duration || null,\r\n      data.is_active || 1,\r\n      tenant_id\r\n    ).run()\r\n    return c.redirect('/admin/rates')\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update rate\r\napp.put('/api/rates/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const data = await c.req.json()\r\n    \r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    // Add tenant_id check for security\r\n    let query = `\r\n      UPDATE bank_financing_rates \r\n      SET bank_id = ?, financing_type_id = ?, rate = ?, \r\n          min_amount = ?, max_amount = ?, min_salary = ?, max_salary = ?,\r\n          min_duration = ?, max_duration = ?, is_active = ?\r\n      WHERE id = ?\r\n    `\r\n    if (tenant_id) {\r\n      query += ' AND tenant_id = ?'\r\n      await c.env.DB.prepare(query).bind(\r\n        data.bank_id, data.financing_type_id, data.rate,\r\n        data.min_amount, data.max_amount, data.min_salary, data.max_salary,\r\n        data.min_duration, data.max_duration, data.is_active, id, tenant_id\r\n      ).run()\r\n    } else {\r\n      await c.env.DB.prepare(query).bind(\r\n        data.bank_id, data.financing_type_id, data.rate,\r\n        data.min_amount, data.max_amount, data.min_salary, data.max_salary,\r\n        data.min_duration, data.max_duration, data.is_active, id\r\n      ).run()\r\n    }\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete rate\r\napp.delete('/api/rates/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    // Add tenant_id check for security\r\n    let query = 'DELETE FROM bank_financing_rates WHERE id = ?'\r\n    if (tenant_id) {\r\n      query += ' AND tenant_id = ?'\r\n      await c.env.DB.prepare(query).bind(id, tenant_id).run()\r\n    } else {\r\n      await c.env.DB.prepare(query).bind(id).run()\r\n    }\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// PACKAGES APIs\r\n\r\n// Get all packages\r\napp.get('/api/packages', async (c) => {\r\n  try {\r\n    const { results } = await c.env.DB.prepare(`\r\n      SELECT * FROM packages ORDER BY price\r\n    `).all()\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Add new package\r\napp.post('/api/packages', async (c) => {\r\n  try {\r\n    const formData = await c.req.formData()\r\n    const package_name = formData.get('package_name')\r\n    const description = formData.get('description')\r\n    const price = formData.get('price')\r\n    const duration_months = formData.get('duration_months')\r\n    const max_calculations = formData.get('max_calculations')\r\n    const max_users = formData.get('max_users')\r\n    const is_active = formData.get('is_active') || '1'\r\n    \r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO packages (package_name, description, price, duration_months, max_calculations, max_users, is_active)\r\n      VALUES (?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(package_name, description || null, price, duration_months, max_calculations || null, max_users || null, is_active).run()\r\n    \r\n    return c.redirect('/admin/packages')\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update package\r\napp.put('/api/packages/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const { package_name, description, price, duration_months, max_calculations, max_users, is_active } = await c.req.json()\r\n    await c.env.DB.prepare(`\r\n      UPDATE packages \r\n      SET package_name = ?, description = ?, price = ?, duration_months = ?, \r\n          max_calculations = ?, max_users = ?, is_active = ?\r\n      WHERE id = ?\r\n    `).bind(package_name, description, price, duration_months, max_calculations, max_users, is_active, id).run()\r\n    return c.json({ success: true, message: '\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u0627\u0642\u0629 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// SUBSCRIPTIONS APIs\r\n\r\n// Get all subscriptions\r\napp.get('/api/subscriptions', async (c) => {\r\n  try {\r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    let query = `\r\n      SELECT \r\n        s.*,\r\n        p.package_name,\r\n        p.price,\r\n        p.max_calculations\r\n      FROM subscriptions s\r\n      JOIN packages p ON s.package_id = p.id`\r\n    \r\n    if (tenant_id) {\r\n      query += ` WHERE s.tenant_id = ${tenant_id}`\r\n    }\r\n    \r\n    query += ` ORDER BY s.created_at DESC`\r\n    \r\n    const { results } = await c.env.DB.prepare(query).all()\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Add subscription\r\napp.post('/api/subscriptions', async (c) => {\r\n  try {\r\n    const formData = await c.req.formData()\r\n    const company_name = formData.get('company_name')\r\n    const package_id = formData.get('package_id')\r\n    const start_date = formData.get('start_date')\r\n    const end_date = formData.get('end_date')\r\n    const status = formData.get('status') || 'active'\r\n    const calculations_used = formData.get('calculations_used') || 0\r\n    \r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO subscriptions (company_name, package_id, start_date, end_date, status, calculations_used, tenant_id)\r\n      VALUES (?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(company_name, package_id, start_date, end_date, status, calculations_used, tenant_id).run()\r\n    \r\n    return c.redirect('/admin/subscriptions')\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update subscription\r\napp.put('/api/subscriptions/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const { company_name, package_id, start_date, end_date, status } = await c.req.json()\r\n    await c.env.DB.prepare(`\r\n      UPDATE subscriptions \r\n      SET company_name = ?, package_id = ?, start_date = ?, end_date = ?, status = ?\r\n      WHERE id = ?\r\n    `).bind(company_name, package_id, start_date, end_date, status, id).run()\r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// SUBSCRIPTION REQUESTS APIs\r\n\r\n// Get all subscription requests\r\napp.get('/api/subscription-requests', async (c) => {\r\n  try {\r\n    const { results } = await c.env.DB.prepare(`\r\n      SELECT \r\n        sr.*,\r\n        p.package_name,\r\n        p.price,\r\n        p.duration_months\r\n      FROM subscription_requests sr\r\n      LEFT JOIN packages p ON sr.package_id = p.id\r\n      ORDER BY sr.created_at DESC\r\n    `).all()\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Get single subscription request\r\napp.get('/api/subscription-requests/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const request = await c.env.DB.prepare(`\r\n      SELECT \r\n        sr.*,\r\n        p.package_name,\r\n        p.price,\r\n        p.duration_months,\r\n        p.max_calculations,\r\n        p.max_users\r\n      FROM subscription_requests sr\r\n      LEFT JOIN packages p ON sr.package_id = p.id\r\n      WHERE sr.id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!request) {\r\n      return c.json({ success: false, message: '\u0627\u0644\u0637\u0644\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F' }, 404)\r\n    }\r\n    \r\n    return c.json({ success: true, data: request })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Create new subscription request\r\napp.post('/api/subscription-requests', async (c) => {\r\n  try {\r\n    const { company_name, contact_name, email, phone, package_id, notes } = await c.req.json()\r\n    \r\n    // Validate required fields\r\n    if (!company_name || !contact_name || !email || !phone || !package_id) {\r\n      return c.json({ \r\n        success: false, \r\n        message: '\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0645\u0637\u0644\u0648\u0628\u0629' \r\n      }, 400)\r\n    }\r\n    \r\n    // Validate email format\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n    if (!emailRegex.test(email)) {\r\n      return c.json({ \r\n        success: false, \r\n        message: '\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D' \r\n      }, 400)\r\n    }\r\n    \r\n    // Validate phone format\r\n    const phoneRegex = /^(05|5)[0-9]{8}$/\r\n    if (!phoneRegex.test(phone.replace(/[\\s-]/g, ''))) {\r\n      return c.json({ \r\n        success: false, \r\n        message: '\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D. \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 05 \u0648\u064A\u062A\u0643\u0648\u0646 \u0645\u0646 10 \u0623\u0631\u0642\u0627\u0645' \r\n      }, 400)\r\n    }\r\n    \r\n    // Check if package exists\r\n    const packageExists = await c.env.DB.prepare(`\r\n      SELECT id FROM packages WHERE id = ? AND is_active = 1\r\n    `).bind(package_id).first()\r\n    \r\n    if (!packageExists) {\r\n      return c.json({ \r\n        success: false, \r\n        message: '\u0627\u0644\u0628\u0627\u0642\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629 \u0623\u0648 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D\u0629' \r\n      }, 400)\r\n    }\r\n    \r\n    // Create subscription request\r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO subscription_requests \r\n      (company_name, contact_name, email, phone, package_id, status, notes)\r\n      VALUES (?, ?, ?, ?, ?, 'pending', ?)\r\n    `).bind(company_name, contact_name, email, phone, package_id, notes || null).run()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      message: '\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628\u0643 \u0628\u0646\u062C\u0627\u062D. \u0633\u0646\u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0642\u0631\u064A\u0628\u0627\u064B',\r\n      requestId: result.meta.last_row_id\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Subscription request error:', error)\r\n    return c.json({ \r\n      success: false, \r\n      message: '\u062D\u062F\u062B \u062E\u0637\u0623. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.' \r\n    }, 500)\r\n  }\r\n})\r\n\r\n// Update subscription request status\r\napp.put('/api/subscription-requests/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const { status, notes } = await c.req.json()\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE subscription_requests \r\n      SET status = ?, notes = ?\r\n      WHERE id = ?\r\n    `).bind(status, notes || null, id).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete subscription request\r\napp.delete('/api/subscription-requests/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    await c.env.DB.prepare(`\r\n      DELETE FROM subscription_requests WHERE id = ?\r\n    `).bind(id).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// USERS APIs\r\n\r\n// Get all users\r\napp.get('/api/users', async (c) => {\r\n  try {\r\n    // Get user info including role_id\r\n    const userInfo = await getUserInfo(c)\r\n    const roleId = userInfo.roleId\r\n    const tenantId = userInfo.tenantId\r\n    \r\n    let query = `\r\n      SELECT \r\n        u.*, \r\n        r.role_name, \r\n        r.description as role_description,\r\n        t.company_name as tenant_name,\r\n        (\r\n          SELECT COUNT(DISTINCT rp.permission_id)\r\n          FROM role_permissions rp\r\n          WHERE rp.role_id = u.role_id\r\n        ) as permissions_count\r\n      FROM users u\r\n      LEFT JOIN roles r ON u.role_id = r.id\r\n      LEFT JOIN tenants t ON u.tenant_id = t.id`\r\n    \r\n    // Superadmin (role_id = 1) can see all users\r\n    // Other roles see only their tenant's users\r\n    if (roleId !== 1 && tenantId) {\r\n      query += ` WHERE u.tenant_id = ${tenantId}`\r\n    }\r\n    \r\n    query += `\r\n      ORDER BY u.id DESC`\r\n    \r\n    const { results } = await c.env.DB.prepare(query).all()\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Add user\r\napp.post('/api/users', async (c) => {\r\n  try {\r\n    const formData = await c.req.formData()\r\n    const username = formData.get('username')\r\n    const password = formData.get('password')\r\n    const full_name = formData.get('full_name')\r\n    const email = formData.get('email')\r\n    const phone = formData.get('phone')\r\n    const user_type = formData.get('user_type')\r\n    const role_id = formData.get('role_id')\r\n    const subscription_id = formData.get('subscription_id') || null\r\n    const is_active = formData.get('is_active') || '1'\r\n    \r\n    // Get user info to check role\r\n    const userInfo = await getUserInfo(c);\r\n    \r\n    // Get tenant_id from form data (if provided by super admin)\r\n    // If not provided, use the current user's tenant_id (for company admin adding users)\r\n    const tenantIdRaw = formData.get('tenant_id')\r\n    let tenant_id: number | null = null\r\n    \r\n    if (typeof tenantIdRaw === 'string' && tenantIdRaw !== '') {\r\n      tenant_id = parseInt(tenantIdRaw, 10)\r\n    } else if (userInfo.roleId === 1) {\r\n      // Super admin creating user without tenant - allow null\r\n      tenant_id = null\r\n    } else {\r\n      // Company admin/supervisor creating user - use their tenant_id\r\n      tenant_id = userInfo.tenantId\r\n    }\r\n    \r\n    // Check for duplicate username\r\n    const existingUser = await c.env.DB.prepare(`\r\n      SELECT id FROM users WHERE username = ?\r\n    `).bind(username).first()\r\n    \r\n    if (existingUser) {\r\n      return c.json({ \r\n        success: false, \r\n        error: '\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0648\u062C\u0648\u062F \u0645\u0633\u0628\u0642\u0627\u064B! \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0633\u0645 \u0645\u0633\u062A\u062E\u062F\u0645 \u0622\u062E\u0631.' \r\n      }, 400)\r\n    }\r\n    \r\n    // Check for duplicate email if provided\r\n    if (email) {\r\n      const existingEmail = await c.env.DB.prepare(`\r\n        SELECT id FROM users WHERE email = ?\r\n      `).bind(email).first()\r\n      \r\n      if (existingEmail) {\r\n        return c.json({ \r\n          success: false, \r\n          error: '\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u0648\u062C\u0648\u062F \u0645\u0633\u0628\u0642\u0627\u064B! \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0622\u062E\u0631.' \r\n        }, 400)\r\n      }\r\n    }\r\n    \r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO users (username, password, full_name, email, phone, user_type, role_id, subscription_id, is_active, tenant_id)\r\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(username, password, full_name, email, phone, user_type, role_id, subscription_id, is_active, tenant_id).run()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      message: '\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D',\r\n      userId: result.meta.last_row_id \r\n    })\r\n  } catch (error: any) {\r\n    console.error('Error adding user:', error)\r\n    return c.json({ \r\n      success: false, \r\n      error: error.message || '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645' \r\n    }, 500)\r\n  }\r\n})\r\n\r\n// Update user\r\napp.put('/api/users/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const { username, full_name, email, phone, role_id, subscription_id, is_active } = await c.req.json()\r\n    await c.env.DB.prepare(`\r\n      UPDATE users \r\n      SET username = ?, full_name = ?, email = ?, phone = ?, role_id = ?, subscription_id = ?, is_active = ?\r\n      WHERE id = ?\r\n    `).bind(username, full_name, email, phone, role_id, subscription_id, is_active, id).run()\r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// CUSTOMERS APIs\r\n\r\n// Get all customers\r\napp.get('/api/customers', async (c) => {\r\n  try {\r\n    // Get user info (userId, tenantId, roleId)\r\n    const userInfo = await getUserInfo(c);\r\n    \r\n    // Build query with role-based filtering\r\n    let query = `\r\n      SELECT \r\n        c.*,\r\n        (SELECT COUNT(*) FROM financing_requests f WHERE f.customer_id = c.id) as total_requests,\r\n        (SELECT COUNT(*) FROM financing_requests f WHERE f.customer_id = c.id AND f.status = 'pending') as pending_requests,\r\n        (SELECT COUNT(*) FROM financing_requests f WHERE f.customer_id = c.id AND f.status = 'approved') as approved_requests\r\n      FROM customers c`\r\n    \r\n    // Apply filtering based on role\r\n    if (userInfo.roleId === 1) {\r\n      // Role 1: Super Admin - sees ALL customers (no filter)\r\n    } else if (userInfo.roleId === 2 || userInfo.roleId === 3) {\r\n      // Role 2: Company Admin & Role 3: Supervisor - see company customers only\r\n      if (userInfo.tenantId) {\r\n        query += ` WHERE c.tenant_id = ${userInfo.tenantId}`\r\n      }\r\n    } else if (userInfo.roleId === 4) {\r\n      // Role 4: Employee - sees only assigned customers\r\n      if (userInfo.userId) {\r\n        query += ` WHERE c.assigned_to = ${userInfo.userId}`\r\n      } else {\r\n        query += ` WHERE 1 = 0` // No data if user ID not found\r\n      }\r\n    } else {\r\n      // Unknown role - no data\r\n      query += ` WHERE 1 = 0`\r\n    }\r\n    \r\n    query += `\r\n      ORDER BY c.created_at DESC`\r\n    \r\n    const { results } = await c.env.DB.prepare(query).all()\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Add new customer\r\napp.post('/api/customers', async (c) => {\r\n  try {\r\n    const formData = await c.req.formData()\r\n    const full_name = formData.get('full_name') as string\r\n    const phone = formData.get('phone') as string\r\n    const email = formData.get('email') as string || null\r\n    const national_id = formData.get('national_id') as string || null\r\n    const date_of_birth = formData.get('date_of_birth') as string || null\r\n    const employer_name = formData.get('employer_name') as string || null\r\n    const job_title = formData.get('job_title') as string || null\r\n    const work_start_date = formData.get('work_start_date') as string || null\r\n    const city = formData.get('city') as string || null\r\n    const monthly_salary = parseFloat(formData.get('monthly_salary') as string || '0')\r\n    \r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    // Check if national_id already exists within the same tenant\r\n    if (national_id) {\r\n      let checkQuery = `SELECT id, full_name FROM customers WHERE national_id = ?`\r\n      let bindParams: any[] = [national_id]\r\n      \r\n      if (tenant_id) {\r\n        checkQuery += ` AND tenant_id = ?`\r\n        bindParams.push(tenant_id)\r\n      }\r\n      \r\n      const existing = await c.env.DB.prepare(checkQuery).bind(...bindParams).first()\r\n      \r\n      if (existing) {\r\n        return c.html(`\r\n          <!DOCTYPE html>\r\n          <html lang=\"ar\" dir=\"rtl\">\r\n          <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>\u062E\u0637\u0623</title>\r\n            <script src=\"https://cdn.tailwindcss.com\"></script>\r\n            <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n          </head>\r\n          <body class=\"bg-gray-50\">\r\n            <div class=\"max-w-2xl mx-auto p-6 mt-20\">\r\n              <div class=\"bg-red-50 border-l-4 border-red-500 rounded-lg p-6 shadow-lg\">\r\n                <div class=\"flex items-center mb-4\">\r\n                  <i class=\"fas fa-exclamation-circle text-red-500 text-4xl ml-3\"></i>\r\n                  <div>\r\n                    <h1 class=\"text-2xl font-bold text-red-800\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629 \u0645\u0643\u0631\u0631!</h1>\r\n                    <p class=\"text-red-600 mt-1\">\u0644\u0627 \u064A\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u0628\u0631\u0642\u0645 \u0647\u0648\u064A\u0629 \u0645\u0648\u062C\u0648\u062F \u0645\u0633\u0628\u0642\u0627\u064B</p>\r\n                  </div>\r\n                </div>\r\n                <div class=\"bg-white rounded-lg p-4 mb-4\">\r\n                  <p class=\"text-gray-700\"><strong>\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A:</strong> ${national_id}</p>\r\n                  <p class=\"text-gray-700\"><strong>\u0645\u0633\u062C\u0644 \u0628\u0627\u0633\u0645:</strong> ${existing.full_name}</p>\r\n                  <p class=\"text-gray-700\"><strong>\u0631\u0642\u0645 \u0627\u0644\u0639\u0645\u064A\u0644:</strong> #${existing.id}</p>\r\n                </div>\r\n                <div class=\"flex gap-3\">\r\n                  <a href=\"/admin/customers/add\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                    <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                    \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0646\u0645\u0648\u0630\u062C\r\n                  </a>\r\n                  <a href=\"/admin/customers/${existing.id}\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                    <i class=\"fas fa-eye ml-2\"></i>\r\n                    \u0639\u0631\u0636 \u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\r\n                  </a>\r\n                  <a href=\"/admin/customers\" class=\"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                    <i class=\"fas fa-list ml-2\"></i>\r\n                    \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </body>\r\n          </html>\r\n        `)\r\n      }\r\n    }\r\n    \r\n    // Check if phone already exists within the same tenant\r\n    let phoneCheckQuery = `SELECT id, full_name FROM customers WHERE phone = ?`\r\n    let phoneBindParams: any[] = [phone]\r\n    \r\n    if (tenant_id) {\r\n      phoneCheckQuery += ` AND tenant_id = ?`\r\n      phoneBindParams.push(tenant_id)\r\n    }\r\n    \r\n    const existingPhone = await c.env.DB.prepare(phoneCheckQuery).bind(...phoneBindParams).first()\r\n    \r\n    if (existingPhone) {\r\n      return c.html(`\r\n        <!DOCTYPE html>\r\n        <html lang=\"ar\" dir=\"rtl\">\r\n        <head>\r\n          <meta charset=\"UTF-8\">\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n          <title>\u062E\u0637\u0623</title>\r\n          <script src=\"https://cdn.tailwindcss.com\"></script>\r\n          <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        </head>\r\n        <body class=\"bg-gray-50\">\r\n          <div class=\"max-w-2xl mx-auto p-6 mt-20\">\r\n            <div class=\"bg-yellow-50 border-l-4 border-yellow-500 rounded-lg p-6 shadow-lg\">\r\n              <div class=\"flex items-center mb-4\">\r\n                <i class=\"fas fa-exclamation-triangle text-yellow-500 text-4xl ml-3\"></i>\r\n                <div>\r\n                  <h1 class=\"text-2xl font-bold text-yellow-800\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u0645\u0643\u0631\u0631!</h1>\r\n                  <p class=\"text-yellow-600 mt-1\">\u064A\u0648\u062C\u062F \u0639\u0645\u064A\u0644 \u0622\u062E\u0631 \u0628\u0646\u0641\u0633 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</p>\r\n                </div>\r\n              </div>\r\n              <div class=\"bg-white rounded-lg p-4 mb-4\">\r\n                <p class=\"text-gray-700\"><strong>\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641:</strong> ${phone}</p>\r\n                <p class=\"text-gray-700\"><strong>\u0645\u0633\u062C\u0644 \u0628\u0627\u0633\u0645:</strong> ${existingPhone.full_name}</p>\r\n                <p class=\"text-gray-700\"><strong>\u0631\u0642\u0645 \u0627\u0644\u0639\u0645\u064A\u0644:</strong> #${existingPhone.id}</p>\r\n              </div>\r\n              <div class=\"flex gap-3\">\r\n                <a href=\"/admin/customers/add\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                  \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0646\u0645\u0648\u0630\u062C\r\n                </a>\r\n                <a href=\"/admin/customers/${existingPhone.id}\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-eye ml-2\"></i>\r\n                  \u0639\u0631\u0636 \u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </body>\r\n        </html>\r\n      `)\r\n    }\r\n    \r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO customers (full_name, phone, email, national_id, birthdate, employer_name, job_title, work_start_date, city, monthly_salary, tenant_id)\r\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(full_name, phone, email, national_id, date_of_birth, employer_name, job_title, work_start_date, city, monthly_salary, tenant_id).run()\r\n    return c.redirect('/admin/customers')\r\n  } catch (error: any) {\r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062E\u0637\u0623</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-2xl mx-auto p-6 mt-20\">\r\n          <div class=\"bg-red-50 border-l-4 border-red-500 rounded-lg p-6 shadow-lg\">\r\n            <div class=\"flex items-center mb-4\">\r\n              <i class=\"fas fa-times-circle text-red-500 text-4xl ml-3\"></i>\r\n              <div>\r\n                <h1 class=\"text-2xl font-bold text-red-800\">\u062D\u062F\u062B \u062E\u0637\u0623!</h1>\r\n                <p class=\"text-red-600 mt-1\">\u0644\u0645 \u0646\u062A\u0645\u0643\u0646 \u0645\u0646 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0645\u064A\u0644</p>\r\n              </div>\r\n            </div>\r\n            <div class=\"bg-white rounded-lg p-4 mb-4\">\r\n              <p class=\"text-gray-700 font-mono text-sm\">${error.message}</p>\r\n            </div>\r\n            <a href=\"/admin/customers/add\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-all inline-block\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0646\u0645\u0648\u0630\u062C\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  }\r\n})\r\n\r\n// Update customer\r\napp.post('/api/customers/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const formData = await c.req.formData()\r\n    const full_name = formData.get('full_name') as string\r\n    const phone = formData.get('phone') as string\r\n    const email = formData.get('email') as string || null\r\n    const national_id = formData.get('national_id') as string || null\r\n    const date_of_birth = formData.get('date_of_birth') as string || null\r\n    const employer_name = formData.get('employer_name') as string || null\r\n    const job_title = formData.get('job_title') as string || null\r\n    const work_start_date = formData.get('work_start_date') as string || null\r\n    const city = formData.get('city') as string || null\r\n    const monthly_salary = parseFloat(formData.get('monthly_salary') as string || '0')\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE customers \r\n      SET full_name = ?, phone = ?, email = ?, national_id = ?, birthdate = ?,\r\n          employer_name = ?, job_title = ?, work_start_date = ?, city = ?, monthly_salary = ?\r\n      WHERE id = ?\r\n    `).bind(full_name, phone, email, national_id, date_of_birth, employer_name, job_title, work_start_date, city, monthly_salary, id).run()\r\n    return c.redirect('/admin/customers')\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// FINANCING REQUESTS APIs\r\n\r\n// Get all financing requests\r\napp.get('/api/financing-requests', async (c) => {\r\n  try {\r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    let query = `\r\n      SELECT \r\n        f.*,\r\n        c.full_name as customer_name,\r\n        c.phone as customer_phone,\r\n        c.national_id,\r\n        c.employer_name,\r\n        c.job_title,\r\n        b.bank_name as selected_bank_name,\r\n        ft.type_name as financing_type_name,\r\n        ca.employee_id as assigned_employee_id,\r\n        u.full_name as assigned_employee_name\r\n      FROM financing_requests f\r\n      JOIN customers c ON f.customer_id = c.id\r\n      LEFT JOIN banks b ON f.selected_bank_id = b.id\r\n      LEFT JOIN financing_types ft ON f.financing_type_id = ft.id\r\n      LEFT JOIN customer_assignments ca ON c.id = ca.customer_id\r\n      LEFT JOIN users u ON ca.employee_id = u.id`\r\n    \r\n    if (tenant_id) {\r\n      query += ` WHERE f.tenant_id = ${tenant_id}`\r\n    }\r\n    \r\n    query += ` ORDER BY f.created_at DESC`\r\n    \r\n    const { results } = await c.env.DB.prepare(query).all()\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Create new financing request\r\napp.post('/api/requests', async (c) => {\r\n  try {\r\n    const formData = await c.req.formData()\r\n    const customer_id = formData.get('customer_id')\r\n    const financing_type_id = formData.get('financing_type_id')\r\n    const requested_amount = formData.get('requested_amount')\r\n    const duration_months = formData.get('duration_months')\r\n    const salary_at_request = formData.get('salary_at_request')\r\n    const selected_bank_id = formData.get('selected_bank_id') || null\r\n    const status = formData.get('status') || 'pending'\r\n    const notes = formData.get('notes') || ''\r\n    \r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    // Insert financing request directly (customer already exists from dropdown)\r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO financing_requests (\r\n        customer_id, financing_type_id, selected_bank_id, \r\n        requested_amount, salary_at_request, duration_months, \r\n        status, notes, tenant_id\r\n      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(\r\n      customer_id,\r\n      financing_type_id,\r\n      selected_bank_id,\r\n      requested_amount,\r\n      salary_at_request,\r\n      duration_months,\r\n      status,\r\n      notes,\r\n      tenant_id\r\n    ).run()\r\n    \r\n    return c.redirect('/admin/requests')\r\n  } catch (error: any) {\r\n    console.error('Error creating request:', error)\r\n    return c.json({ success: false, error: error.message, message: '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0637\u0644\u0628' }, 500)\r\n  }\r\n})\r\n\r\n// ============= WORKFLOW APIs =============\r\n\r\n// Get all workflow stages\r\napp.get('/api/workflow/stages', async (c) => {\r\n  try {\r\n    const { results } = await c.env.DB.prepare(`\r\n      SELECT * FROM workflow_stages \r\n      WHERE is_active = 1 \r\n      ORDER BY stage_order ASC\r\n    `).all()\r\n    \r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Get workflow timeline for a specific request\r\napp.get('/api/workflow/timeline/:requestId', async (c) => {\r\n  try {\r\n    const requestId = c.req.param('requestId')\r\n    \r\n    // Get all stage transitions\r\n    const { results: transitions } = await c.env.DB.prepare(`\r\n      SELECT \r\n        wst.*,\r\n        from_stage.stage_name_ar as from_stage_name,\r\n        from_stage.stage_color as from_stage_color,\r\n        from_stage.stage_icon as from_stage_icon,\r\n        to_stage.stage_name_ar as to_stage_name,\r\n        to_stage.stage_color as to_stage_color,\r\n        to_stage.stage_icon as to_stage_icon,\r\n        u.full_name as transitioned_by_name\r\n      FROM workflow_stage_transitions wst\r\n      LEFT JOIN workflow_stages from_stage ON wst.from_stage_id = from_stage.id\r\n      LEFT JOIN workflow_stages to_stage ON wst.to_stage_id = to_stage.id\r\n      LEFT JOIN users u ON wst.transitioned_by = u.id\r\n      WHERE wst.request_id = ?\r\n      ORDER BY wst.created_at ASC\r\n    `).bind(requestId).all()\r\n    \r\n    // Get all actions for this request\r\n    const { results: actions } = await c.env.DB.prepare(`\r\n      SELECT \r\n        wsa.*,\r\n        ws.stage_name_ar,\r\n        ws.stage_color,\r\n        ws.stage_icon,\r\n        u.full_name as performed_by_name\r\n      FROM workflow_stage_actions wsa\r\n      LEFT JOIN workflow_stages ws ON wsa.stage_id = ws.id\r\n      LEFT JOIN users u ON wsa.performed_by = u.id\r\n      WHERE wsa.request_id = ?\r\n      ORDER BY wsa.created_at ASC\r\n    `).bind(requestId).all()\r\n    \r\n    // Get all tasks for this request\r\n    const { results: tasks } = await c.env.DB.prepare(`\r\n      SELECT \r\n        wst.*,\r\n        ws.stage_name_ar,\r\n        assigned_user.full_name as assigned_to_name,\r\n        completed_user.full_name as completed_by_name\r\n      FROM workflow_stage_tasks wst\r\n      LEFT JOIN workflow_stages ws ON wst.stage_id = ws.id\r\n      LEFT JOIN users assigned_user ON wst.assigned_to = assigned_user.id\r\n      LEFT JOIN users completed_user ON wst.completed_by = completed_user.id\r\n      WHERE wst.request_id = ?\r\n      ORDER BY wst.due_date ASC\r\n    `).bind(requestId).all()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      data: {\r\n        transitions,\r\n        actions,\r\n        tasks\r\n      }\r\n    })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update request stage\r\napp.post('/api/workflow/update-stage', async (c) => {\r\n  try {\r\n    const { requestId, newStageId, notes, userId } = await c.req.json()\r\n    \r\n    // Update the request's current stage\r\n    await c.env.DB.prepare(`\r\n      UPDATE financing_requests \r\n      SET current_stage_id = ?, \r\n          stage_entered_at = CURRENT_TIMESTAMP\r\n      WHERE id = ?\r\n    `).bind(newStageId, requestId).run()\r\n    \r\n    // The trigger will automatically create a transition record\r\n    // But we can add notes if provided\r\n    if (notes) {\r\n      await c.env.DB.prepare(`\r\n        UPDATE workflow_stage_transitions \r\n        SET notes = ?, transitioned_by = ?\r\n        WHERE request_id = ? AND to_stage_id = ?\r\n        ORDER BY created_at DESC\r\n        LIMIT 1\r\n      `).bind(notes, userId, requestId, newStageId).run()\r\n    }\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Add action to a stage\r\napp.post('/api/workflow/add-action', async (c) => {\r\n  try {\r\n    const { requestId, stageId, actionType, actionData, performedBy, notes } = await c.req.json()\r\n    \r\n    await c.env.DB.prepare(`\r\n      INSERT INTO workflow_stage_actions \r\n      (request_id, stage_id, action_type, action_data, performed_by, notes)\r\n      VALUES (?, ?, ?, ?, ?, ?)\r\n    `).bind(requestId, stageId, actionType, actionData, performedBy, notes).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0625\u062C\u0631\u0627\u0621 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Create a task\r\napp.post('/api/workflow/create-task', async (c) => {\r\n  try {\r\n    const { requestId, stageId, taskTitle, taskDescription, assignedTo, dueDate, priority } = await c.req.json()\r\n    \r\n    await c.env.DB.prepare(`\r\n      INSERT INTO workflow_stage_tasks \r\n      (request_id, stage_id, task_title, task_description, assigned_to, due_date, priority)\r\n      VALUES (?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(requestId, stageId, taskTitle, taskDescription, assignedTo, dueDate, priority || 'medium').run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0647\u0645\u0629 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Complete a task\r\napp.post('/api/workflow/complete-task', async (c) => {\r\n  try {\r\n    const { taskId, completedBy } = await c.req.json()\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE workflow_stage_tasks \r\n      SET status = 'completed', \r\n          completed_at = CURRENT_TIMESTAMP,\r\n          completed_by = ?\r\n      WHERE id = ?\r\n    `).bind(completedBy, taskId).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u0625\u062A\u0645\u0627\u0645 \u0627\u0644\u0645\u0647\u0645\u0629 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Get pending tasks for a user\r\napp.get('/api/workflow/my-tasks/:userId', async (c) => {\r\n  try {\r\n    const userId = c.req.param('userId')\r\n    \r\n    const { results } = await c.env.DB.prepare(`\r\n      SELECT \r\n        wst.*,\r\n        ws.stage_name_ar,\r\n        ws.stage_color,\r\n        fr.id as request_id,\r\n        c.full_name as customer_name,\r\n        fr.requested_amount\r\n      FROM workflow_stage_tasks wst\r\n      LEFT JOIN workflow_stages ws ON wst.stage_id = ws.id\r\n      LEFT JOIN financing_requests fr ON wst.request_id = fr.id\r\n      LEFT JOIN customers c ON fr.customer_id = c.id\r\n      WHERE wst.assigned_to = ? AND wst.status = 'pending'\r\n      ORDER BY wst.due_date ASC\r\n    `).bind(userId).all()\r\n    \r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// ============= PAYMENTS APIs =============\r\n\r\n// Get all payments (with tenant filtering)\r\napp.get('/api/payments', async (c) => {\r\n  try {\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    \r\n    if (token) {\r\n      try {\r\n        // Decode token (format: userId:tenantId:timestamp:random)\r\n        const decoded = atob(token)\r\n        const [userId, tenantId] = decoded.split(':')\r\n        tenant_id = tenantId === 'null' ? null : parseInt(tenantId)\r\n      } catch (e) {\r\n        // Token invalid or expired\r\n      }\r\n    }\r\n    \r\n    let query = `\r\n      SELECT \r\n        p.*,\r\n        c.full_name as customer_name,\r\n        u.full_name as employee_name\r\n      FROM payments p\r\n      LEFT JOIN customers c ON p.customer_id = c.id\r\n      LEFT JOIN users u ON p.employee_id = u.id\r\n    `\r\n    \r\n    const bindings: any[] = []\r\n    \r\n    if (tenant_id) {\r\n      query += ' WHERE p.tenant_id = ?'\r\n      bindings.push(tenant_id)\r\n    }\r\n    \r\n    query += ' ORDER BY p.created_at DESC'\r\n    \r\n    const { results } = await c.env.DB.prepare(query).bind(...bindings).all()\r\n    \r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    console.error('Payments API error:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Create new payment\r\napp.post('/api/payments', async (c) => {\r\n  try {\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    \r\n    if (!token) {\r\n      return c.json({ success: false, error: '\u063A\u064A\u0631 \u0645\u0635\u0631\u062D' }, 401)\r\n    }\r\n    \r\n    // Decode token (format: userId:tenantId:timestamp:random)\r\n    const decoded = atob(token)\r\n    const [userId, tenantId] = decoded.split(':')\r\n    const tenant_id = tenantId === 'null' ? null : parseInt(tenantId)\r\n    const created_by = parseInt(userId)\r\n    \r\n    if (!tenant_id) {\r\n      return c.json({ success: false, error: '\u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 \u0645\u0631\u062A\u0628\u0637\u0627\u064B \u0628\u0634\u0631\u0643\u0629' }, 403)\r\n    }\r\n    \r\n    const data = await c.req.json()\r\n    \r\n    // Validate required fields\r\n    if (!data.financing_request_id || !data.customer_id || !data.amount || !data.payment_date) {\r\n      return c.json({ success: false, error: '\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0646\u0627\u0642\u0635\u0629' }, 400)\r\n    }\r\n    \r\n    await c.env.DB.prepare(`\r\n      INSERT INTO payments (\r\n        financing_request_id, customer_id, tenant_id, employee_id,\r\n        amount, payment_date, payment_method, receipt_number, notes, created_by\r\n      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(\r\n      data.financing_request_id,\r\n      data.customer_id,\r\n      tenant_id,\r\n      data.employee_id || null,\r\n      data.amount,\r\n      data.payment_date,\r\n      data.payment_method || 'cash',\r\n      data.receipt_number || null,\r\n      data.notes || null,\r\n      created_by\r\n    ).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0641\u0638 \u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    console.error('Error creating payment:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete payment\r\napp.delete('/api/payments/:id', async (c) => {\r\n  try {\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    \r\n    if (!token) {\r\n      return c.json({ success: false, error: '\u063A\u064A\u0631 \u0645\u0635\u0631\u062D' }, 401)\r\n    }\r\n    \r\n    // Decode token (format: userId:tenantId:timestamp:random)\r\n    const decoded = atob(token)\r\n    const [userId, tenantId] = decoded.split(':')\r\n    const tenant_id = tenantId === 'null' ? null : parseInt(tenantId)\r\n    const id = c.req.param('id')\r\n    \r\n    // Verify payment belongs to this tenant\r\n    if (tenant_id) {\r\n      const payment = await c.env.DB.prepare(\r\n        'SELECT tenant_id FROM payments WHERE id = ?'\r\n      ).bind(id).first()\r\n      \r\n      if (payment && payment.tenant_id !== tenant_id) {\r\n        return c.json({ success: false, error: '\u063A\u064A\u0631 \u0645\u0635\u0631\u062D \u0628\u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0633\u0646\u062F' }, 403)\r\n      }\r\n    }\r\n    \r\n    await c.env.DB.prepare('DELETE FROM payments WHERE id = ?').bind(id).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0633\u0646\u062F \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    console.error('Error deleting payment:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// API for calculator (accepts JSON with new customer data)\r\n// Multi-tenant calculator submit API\r\napp.post('/api/c/:tenant/calculator/submit-request', async (c) => {\r\n  try {\r\n    const tenantSlug = c.req.param('tenant')\r\n    const data = await c.req.json()\r\n    \r\n    // Get tenant_id from slug\r\n    const tenant = await c.env.DB.prepare(`\r\n      SELECT id FROM tenants WHERE slug = ? AND status = 'active'\r\n    `).bind(tenantSlug).first()\r\n    \r\n    if (!tenant) {\r\n      return c.json({ success: false, error: '\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629' }, 404)\r\n    }\r\n    \r\n    const tenant_id = tenant.id\r\n    \r\n    // Step 1: Check if customer exists (by national_id or phone) within same tenant\r\n    let customer = await c.env.DB.prepare(`\r\n      SELECT id FROM customers WHERE (national_id = ? OR phone = ?) AND tenant_id = ?\r\n    `).bind(data.national_id || '', data.phone || '', tenant_id).first()\r\n    \r\n    let customer_id\r\n    \r\n    if (customer) {\r\n      customer_id = customer.id\r\n      \r\n      // Update customer info\r\n      await c.env.DB.prepare(`\r\n        UPDATE customers \r\n        SET full_name = ?, phone = ?, email = ?, \r\n            birthdate = ?, monthly_salary = ?,\r\n            employer_name = ?, job_title = ?,\r\n            work_start_date = ?, city = ?,\r\n            financing_amount = ?, monthly_obligations = ?, financing_type_id = ?\r\n        WHERE id = ?\r\n      `).bind(\r\n        data.full_name || '',\r\n        data.phone || '',\r\n        data.email || null,\r\n        data.birthdate || null,\r\n        data.monthly_salary || 0,\r\n        data.employer || '',\r\n        data.job_title || '',\r\n        data.work_start_date || null,\r\n        data.city || '',\r\n        data.requested_amount || 0,\r\n        data.monthly_obligations || 0,\r\n        data.financing_type_id || null,\r\n        customer_id\r\n      ).run()\r\n    } else {\r\n      // Create new customer with tenant_id\r\n      try {\r\n        const customerResult = await c.env.DB.prepare(`\r\n          INSERT INTO customers (\r\n            full_name, phone, email, national_id, \r\n            birthdate, monthly_salary, employer_name, \r\n            job_title, work_start_date, city, tenant_id,\r\n            financing_amount, monthly_obligations, financing_type_id\r\n          ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n        `).bind(\r\n          data.full_name || '',\r\n          data.phone || '',\r\n          data.email || null,\r\n          data.national_id || '',\r\n          data.birthdate || null,\r\n          data.monthly_salary || 0,\r\n          data.employer || '',\r\n          data.job_title || '',\r\n          data.work_start_date || null,\r\n          data.city || '',\r\n          tenant_id,\r\n          data.requested_amount || 0,\r\n          data.monthly_obligations || 0,\r\n          data.financing_type_id || null\r\n        ).run()\r\n        \r\n        customer_id = customerResult.meta.last_row_id\r\n      } catch (insertError: any) {\r\n        if (insertError.message && insertError.message.includes('UNIQUE')) {\r\n          // Try to find existing customer (might be in a different tenant)\r\n          const existingCustomer = await c.env.DB.prepare(`\r\n            SELECT id FROM customers WHERE (national_id = ? OR phone = ?)\r\n          `).bind(data.national_id || '', data.phone || '').first()\r\n          \r\n          if (existingCustomer) {\r\n            // Customer exists, update their info and use their ID\r\n            customer_id = existingCustomer.id\r\n            \r\n            // Update customer with new tenant_id and info\r\n            await c.env.DB.prepare(`\r\n              UPDATE customers \r\n              SET full_name = ?, phone = ?, email = ?, \r\n                  birthdate = ?, monthly_salary = ?,\r\n                  employer_name = ?, job_title = ?,\r\n                  work_start_date = ?, city = ?, tenant_id = ?,\r\n                  financing_amount = ?, monthly_obligations = ?, financing_type_id = ?\r\n              WHERE id = ?\r\n            `).bind(\r\n              data.full_name || '',\r\n              data.phone || '',\r\n              data.email || null,\r\n              data.birthdate || null,\r\n              data.monthly_salary || 0,\r\n              data.employer || '',\r\n              data.job_title || '',\r\n              data.work_start_date || null,\r\n              data.city || '',\r\n              tenant_id,\r\n              data.requested_amount || 0,\r\n              data.monthly_obligations || 0,\r\n              data.financing_type_id || null,\r\n              customer_id\r\n            ).run()\r\n          } else {\r\n            throw insertError\r\n          }\r\n        } else {\r\n          throw insertError\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Step 2: Create financing request with tenant_id\r\n    const requestResult = await c.env.DB.prepare(`\r\n      INSERT INTO financing_requests (\r\n        customer_id, financing_type_id, selected_bank_id,\r\n        requested_amount, salary_at_request, duration_months,\r\n        monthly_obligations, monthly_payment,\r\n        status, notes, tenant_id\r\n      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, 'pending', ?, ?)\r\n    `).bind(\r\n      customer_id,\r\n      data.financing_type_id || null,\r\n      data.bank_id || data.selected_bank_id || null,\r\n      data.requested_amount || 0,\r\n      data.monthly_salary || 0,\r\n      data.duration || data.duration_months || 0,\r\n      data.monthly_obligations || 0,\r\n      data.monthly_payment || 0,\r\n      data.notes || null,\r\n      tenant_id\r\n    ).run()\r\n    \r\n    const requestId = requestResult.meta.last_row_id\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      request_id: requestId,\r\n      message: '\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628\u0643 \u0628\u0646\u062C\u0627\u062D'\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Calculator submit error:', error)\r\n    console.error('Error details:', {\r\n      message: error.message,\r\n      stack: error.stack,\r\n      data: error\r\n    })\r\n    return c.json({ \r\n      success: false, \r\n      error: '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.',\r\n      details: error.message \r\n    }, 500)\r\n  }\r\n})\r\n\r\n// Save customer initial data from calculator (before completing request)\r\napp.post('/api/calculator/save-customer', async (c) => {\r\n  try {\r\n    const data = await c.req.json()\r\n    \r\n    // Extract tenant_id from the request path or default to null\r\n    const tenantSlug = data.tenant_slug || null\r\n    let tenant_id = null\r\n    \r\n    if (tenantSlug) {\r\n      const tenant = await c.env.DB.prepare(`\r\n        SELECT id FROM tenants WHERE slug = ? AND status = 'active'\r\n      `).bind(tenantSlug).first()\r\n      \r\n      if (tenant) {\r\n        tenant_id = tenant.id\r\n      }\r\n    }\r\n    \r\n    // If no tenant_id from slug, try to get default tenant (first active tenant)\r\n    // This ensures calculator customers are assigned to a company\r\n    if (!tenant_id) {\r\n      const defaultTenant = await c.env.DB.prepare(`\r\n        SELECT id FROM tenants WHERE status = 'active' ORDER BY id LIMIT 1\r\n      `).first()\r\n      \r\n      if (defaultTenant) {\r\n        tenant_id = defaultTenant.id\r\n      }\r\n    }\r\n    \r\n    // Check if customer already exists\r\n    let customer = await c.env.DB.prepare(`\r\n      SELECT id FROM customers WHERE phone = ?\r\n    `).bind(data.phone).first()\r\n    \r\n    let customer_id\r\n    \r\n    if (customer) {\r\n      // Update existing customer with calculator data\r\n      customer_id = customer.id\r\n      \r\n      await c.env.DB.prepare(`\r\n        UPDATE customers \r\n        SET full_name = ?, \r\n            birthdate = ?, \r\n            monthly_salary = ?,\r\n            financing_amount = ?,\r\n            monthly_obligations = ?,\r\n            financing_type_id = ?,\r\n            financing_duration_months = ?,\r\n            best_bank_id = ?,\r\n            best_rate = ?,\r\n            monthly_payment = ?,\r\n            total_payment = ?,\r\n            calculation_date = CURRENT_TIMESTAMP,\r\n            tenant_id = COALESCE(?, tenant_id)\r\n        WHERE id = ?\r\n      `).bind(\r\n        data.name,\r\n        data.birthdate,\r\n        data.salary,\r\n        data.amount,\r\n        data.obligations || 0,\r\n        data.financing_type_id,\r\n        data.duration_months || null,\r\n        data.best_bank_id || null,\r\n        data.best_rate || null,\r\n        data.monthly_payment || null,\r\n        data.total_payment || null,\r\n        tenant_id,\r\n        customer_id\r\n      ).run()\r\n    } else {\r\n      // Create new customer with initial calculator data\r\n      // Generate temporary unique national_id to avoid UNIQUE constraint error\r\n      const tempNationalId = `TEMP-${Date.now()}-${Math.random().toString(36).substring(7)}`\r\n      \r\n      const result = await c.env.DB.prepare(`\r\n        INSERT INTO customers (\r\n          full_name, phone, birthdate, monthly_salary,\r\n          financing_amount, monthly_obligations, financing_type_id,\r\n          financing_duration_months, best_bank_id, best_rate,\r\n          monthly_payment, total_payment, calculation_date,\r\n          national_id, tenant_id\r\n        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, CURRENT_TIMESTAMP, ?, ?)\r\n      `).bind(\r\n        data.name,\r\n        data.phone,\r\n        data.birthdate,\r\n        data.salary,\r\n        data.amount,\r\n        data.obligations || 0,\r\n        data.financing_type_id,\r\n        data.duration_months || null,\r\n        data.best_bank_id || null,\r\n        data.best_rate || null,\r\n        data.monthly_payment || null,\r\n        data.total_payment || null,\r\n        tempNationalId, // temporary unique national_id\r\n        tenant_id\r\n      ).run()\r\n      \r\n      customer_id = result.meta.last_row_id\r\n    }\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      customer_id: customer_id,\r\n      tenant_id: tenant_id,\r\n      message: '\u062A\u0645 \u062D\u0641\u0638 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 \u0628\u0646\u062C\u0627\u062D'\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Save customer error:', error)\r\n    return c.json({ \r\n      success: false, \r\n      error: error.message \r\n    }, 500)\r\n  }\r\n})\r\n\r\napp.post('/api/calculator/submit-request', async (c) => {\r\n  try {\r\n    const data = await c.req.json()\r\n    \r\n    // Get tenant_id (from slug or default to first active tenant)\r\n    const tenantSlug = data.tenant_slug || null\r\n    let tenant_id = null\r\n    \r\n    if (tenantSlug) {\r\n      const tenant = await c.env.DB.prepare(`\r\n        SELECT id FROM tenants WHERE slug = ? AND status = 'active'\r\n      `).bind(tenantSlug).first()\r\n      \r\n      if (tenant) {\r\n        tenant_id = tenant.id\r\n      }\r\n    }\r\n    \r\n    // If no tenant_id from slug, get default tenant (first active tenant)\r\n    if (!tenant_id) {\r\n      const defaultTenant = await c.env.DB.prepare(`\r\n        SELECT id FROM tenants WHERE status = 'active' ORDER BY id LIMIT 1\r\n      `).first()\r\n      \r\n      if (defaultTenant) {\r\n        tenant_id = defaultTenant.id\r\n      }\r\n    }\r\n    \r\n    // Step 1: Check if customer exists (by national_id or phone)\r\n    let customer = await c.env.DB.prepare(`\r\n      SELECT id, tenant_id FROM customers WHERE national_id = ? OR phone = ?\r\n    `).bind(data.national_id, data.phone).first()\r\n    \r\n    let customer_id\r\n    \r\n    if (customer) {\r\n      // Customer exists, use existing ID\r\n      customer_id = customer.id\r\n      \r\n      // Update customer info (including all new fields)\r\n      // Only update tenant_id if customer doesn't have one\r\n      await c.env.DB.prepare(`\r\n        UPDATE customers \r\n        SET full_name = ?, phone = ?, email = ?, \r\n            birthdate = ?, monthly_salary = ?,\r\n            employer_name = ?, job_title = ?,\r\n            work_start_date = ?, city = ?,\r\n            tenant_id = COALESCE(tenant_id, ?)\r\n        WHERE id = ?\r\n      `).bind(\r\n        data.full_name,\r\n        data.phone,\r\n        data.email || null,\r\n        data.birthdate,\r\n        data.monthly_salary,\r\n        data.employer,\r\n        data.job_title,\r\n        data.work_start_date,\r\n        data.city,\r\n        tenant_id,\r\n        customer_id\r\n      ).run()\r\n      \r\n      // Use customer's tenant_id if available\r\n      if (customer.tenant_id) {\r\n        tenant_id = customer.tenant_id\r\n      }\r\n    } else {\r\n      // Create new customer - but check one more time to avoid race condition\r\n      try {\r\n        const customerResult = await c.env.DB.prepare(`\r\n          INSERT INTO customers (\r\n            full_name, phone, email, national_id, \r\n            birthdate, monthly_salary, employer_name, \r\n            job_title, work_start_date, city, tenant_id\r\n          ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n        `).bind(\r\n          data.full_name,\r\n          data.phone,\r\n          data.email || null,\r\n          data.national_id,\r\n          data.birthdate,\r\n          data.monthly_salary,\r\n          data.employer,\r\n          data.job_title,\r\n          data.work_start_date,\r\n          data.city,\r\n          tenant_id\r\n        ).run()\r\n        \r\n        customer_id = customerResult.meta.last_row_id\r\n      } catch (insertError: any) {\r\n        // If UNIQUE constraint fails, customer was created between check and insert\r\n        // Try to get the customer again\r\n        if (insertError.message && insertError.message.includes('UNIQUE')) {\r\n          const existingCustomer = await c.env.DB.prepare(`\r\n            SELECT id, tenant_id FROM customers WHERE national_id = ? OR phone = ?\r\n          `).bind(data.national_id, data.phone).first()\r\n          \r\n          if (existingCustomer) {\r\n            customer_id = existingCustomer.id\r\n            if (existingCustomer.tenant_id) {\r\n              tenant_id = existingCustomer.tenant_id\r\n            }\r\n          } else {\r\n            throw insertError\r\n          }\r\n        } else {\r\n          throw insertError\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Step 2: Create financing request\r\n    const requestResult = await c.env.DB.prepare(`\r\n      INSERT INTO financing_requests (\r\n        customer_id, financing_type_id, selected_bank_id,\r\n        requested_amount, salary_at_request, duration_months,\r\n        monthly_obligations, monthly_payment,\r\n        status, notes\r\n      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, 'pending', ?)\r\n    `).bind(\r\n      customer_id,\r\n      data.financing_type_id,\r\n      data.bank_id,\r\n      data.requested_amount,\r\n      data.monthly_salary,\r\n      data.duration,\r\n      data.monthly_obligations,\r\n      data.monthly_payment,\r\n      data.notes\r\n    ).run()\r\n    \r\n    const requestId = requestResult.meta.last_row_id\r\n    \r\n    // Step 3: Create notification for new request\r\n    await c.env.DB.prepare(`\r\n      INSERT INTO notifications (user_id, title, message, type, category, related_request_id)\r\n      VALUES (?, ?, ?, ?, ?, ?)\r\n    `).bind(\r\n      1, // Admin user\r\n      '\u0637\u0644\u0628 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F',\r\n      `\u062A\u0645 \u0627\u0633\u062A\u0644\u0627\u0645 \u0637\u0644\u0628 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F \u0628\u0631\u0642\u0645 #${requestId} \u0628\u0645\u0628\u0644\u063A ${data.requested_amount.toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644 \u0645\u0646 ${data.full_name}`,\r\n      'info',\r\n      'request',\r\n      requestId\r\n    ).run()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      request_id: requestId,\r\n      customer_id: customer_id,\r\n      message: '\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628\u0643 \u0628\u0646\u062C\u0627\u062D'\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Calculator submit error:', error)\r\n    return c.json({ \r\n      success: false, \r\n      error: error.message,\r\n      message: '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.'\r\n    }, 500)\r\n  }\r\n})\r\n\r\n// Update request status\r\n// Update financing request (full data)\r\napp.put('/api/financing-requests/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const authHeader = c.req.header('Authorization')\r\n    let tenantId = null\r\n    \r\n    // Extract tenant_id from JWT token\r\n    if (authHeader && authHeader.startsWith('Bearer ')) {\r\n      const token = authHeader.substring(7)\r\n      const parts = token.split('.')\r\n      if (parts.length === 3) {\r\n        const payload = JSON.parse(atob(parts[1]))\r\n        tenantId = payload.tenant_id || null\r\n      }\r\n    }\r\n    \r\n    const {\r\n      requested_amount,\r\n      duration_months,\r\n      salary_at_request,\r\n      monthly_obligations,\r\n      status,\r\n      notes,\r\n      id_attachment_url,\r\n      bank_statement_attachment_url,\r\n      salary_attachment_url,\r\n      additional_attachment_url\r\n    } = await c.req.json()\r\n    \r\n    // Build update query with tenant_id check\r\n    let updateFields = [\r\n      'requested_amount = ?',\r\n      'duration_months = ?',\r\n      'salary_at_request = ?',\r\n      'monthly_obligations = ?',\r\n      'status = ?',\r\n      'notes = ?'\r\n    ]\r\n    \r\n    const params = [\r\n      requested_amount,\r\n      duration_months,\r\n      salary_at_request || 0,\r\n      monthly_obligations || 0,\r\n      status || 'pending',\r\n      notes || ''\r\n    ]\r\n    \r\n    // Add attachment URLs if provided\r\n    if (id_attachment_url) {\r\n      updateFields.push('id_attachment_url = ?')\r\n      params.push(id_attachment_url)\r\n    }\r\n    \r\n    if (bank_statement_attachment_url) {\r\n      updateFields.push('bank_statement_attachment_url = ?')\r\n      params.push(bank_statement_attachment_url)\r\n    }\r\n    \r\n    if (salary_attachment_url) {\r\n      updateFields.push('salary_attachment_url = ?')\r\n      params.push(salary_attachment_url)\r\n    }\r\n    \r\n    if (additional_attachment_url) {\r\n      updateFields.push('additional_attachment_url = ?')\r\n      params.push(additional_attachment_url)\r\n    }\r\n    \r\n    params.push(id)\r\n    \r\n    let updateQuery = `\r\n      UPDATE financing_requests \r\n      SET ${updateFields.join(', ')}\r\n      WHERE id = ?\r\n    `\r\n    \r\n    // Add tenant_id filter if not SuperAdmin\r\n    if (tenantId !== null) {\r\n      updateQuery += ' AND tenant_id = ?'\r\n      params.push(tenantId)\r\n    }\r\n    \r\n    await c.env.DB.prepare(updateQuery).bind(...params).run()\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    console.error('Update financing request error:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update financing request status only\r\napp.put('/api/financing-requests/:id/status', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const { status, notes } = await c.req.json()\r\n    \r\n    // Get old status\r\n    const oldRequest = await c.env.DB.prepare(`\r\n      SELECT status FROM financing_requests WHERE id = ?\r\n    `).bind(id).first()\r\n    \r\n    // Update status and timestamp based on new status\r\n    const timestampFields = {\r\n      'pending': 'pending_at',\r\n      'under_review': 'under_review_at',\r\n      'processing': 'processing_at',\r\n      'approved': 'approved_at',\r\n      'rejected': 'rejected_at'\r\n    }\r\n    \r\n    const timestampField = timestampFields[status as keyof typeof timestampFields]\r\n    \r\n    if (timestampField) {\r\n      await c.env.DB.prepare(`\r\n        UPDATE financing_requests \r\n        SET status = ?, notes = ?, ${timestampField} = NOW(), reviewed_at = NOW()\r\n        WHERE id = ?\r\n      `).bind(status, notes, id).run()\r\n    } else {\r\n      await c.env.DB.prepare(`\r\n        UPDATE financing_requests SET status = ?, notes = ? WHERE id = ?\r\n      `).bind(status, notes, id).run()\r\n    }\r\n    \r\n    // Record status change in history\r\n    if (oldRequest && oldRequest.status !== status) {\r\n      await c.env.DB.prepare(`\r\n        INSERT INTO financing_request_status_history (request_id, old_status, new_status, changed_by, notes)\r\n        VALUES (?, ?, ?, 'admin', ?)\r\n      `).bind(id, oldRequest.status, status, notes || '').run()\r\n    }\r\n    \r\n    // Get request details\r\n    const request = await c.env.DB.prepare(`\r\n      SELECT requested_amount FROM financing_requests WHERE id = ?\r\n    `).bind(id).first()\r\n    \r\n    // Create notification for status change\r\n    const statusMessages = {\r\n      'pending': '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631',\r\n      'under_review': '\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629',\r\n      'approved': '\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647',\r\n      'rejected': '\u0645\u0631\u0641\u0648\u0636'\r\n    }\r\n    \r\n    const statusTypes = {\r\n      'pending': 'info',\r\n      'under_review': 'warning',\r\n      'approved': 'success',\r\n      'rejected': 'error'\r\n    }\r\n    \r\n    await c.env.DB.prepare(`\r\n      INSERT INTO notifications (user_id, title, message, type, category, related_request_id)\r\n      VALUES (?, ?, ?, ?, ?, ?)\r\n    `).bind(\r\n      1, // Admin user\r\n      '\u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628',\r\n      `\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628 #${id} \u0625\u0644\u0649: ${statusMessages[status as keyof typeof statusMessages] || status}`,\r\n      statusTypes[status as keyof typeof statusTypes] || 'info',\r\n      'status_change',\r\n      id\r\n    ).run()\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    console.error('Update status error:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// ATTACHMENTS APIs\r\n\r\n// Upload attachment to Vercel Blob (keeps the same API contract)\r\napp.post('/api/attachments/upload', async (c) => {\r\n  try {\r\n    const formData = await c.req.formData()\r\n    const file = formData.get('file') as File\r\n    const requestId = formData.get('request_id') as string\r\n    const attachmentType = (formData.get('attachmentType') || formData.get('attachment_type')) as string // 'id', 'salary', 'bank_statement', 'additional'\r\n    \r\n    if (!file) {\r\n      return c.json({ success: false, error: 'No file provided' }, 400)\r\n    }\r\n    \r\n    // Generate unique filename\r\n    const timestamp = Date.now()\r\n    const random = Math.random().toString(36).substring(7)\r\n    const fileExtension = file.name.split('.').pop()\r\n    const filename = requestId \r\n      ? `${requestId}/${attachmentType}_${timestamp}.${fileExtension}`\r\n      : `temp/${attachmentType}_${timestamp}_${random}.${fileExtension}`\r\n    \r\n    // Upload to Vercel Blob\r\n    const blob = await putBlob(filename, file)\r\n    \r\n    const publicUrl = `/api/attachments/view/${filename}`\r\n\r\n    // Store mapping (path -> blob url) in Postgres\r\n    await c.env.DB.prepare(`\r\n      INSERT INTO attachments (path, blob_url, content_type, size_bytes, request_id, attachment_type)\r\n      VALUES (?, ?, ?, ?, ?, ?)\r\n      ON CONFLICT (path) DO UPDATE SET\r\n        blob_url = EXCLUDED.blob_url,\r\n        content_type = EXCLUDED.content_type,\r\n        size_bytes = EXCLUDED.size_bytes,\r\n        request_id = EXCLUDED.request_id,\r\n        attachment_type = EXCLUDED.attachment_type\r\n    `).bind(\r\n      filename,\r\n      blob.url,\r\n      file.type || null,\r\n      typeof (file as any).size === 'number' ? (file as any).size : null,\r\n      requestId ? parseInt(requestId) : null,\r\n      attachmentType || null\r\n    ).run()\r\n    \r\n    // Update database only if requestId is provided\r\n    if (requestId) {\r\n      const columnName = `${attachmentType}_attachment_url`\r\n      console.log('\uD83D\uDCCE Updating attachment:', { requestId, attachmentType, columnName, publicUrl })\r\n      \r\n      const result = await c.env.DB.prepare(`\r\n        UPDATE financing_requests \r\n        SET ${columnName} = ? \r\n        WHERE id = ?\r\n      `).bind(publicUrl, requestId).run()\r\n      \r\n      console.log('\u2705 Update result:', result)\r\n    }\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      url: publicUrl,\r\n      filename: filename\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Upload error:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// View/Download attachment (redirect to Blob URL)\r\napp.get('/api/attachments/view/:path{.+}', async (c) => {\r\n  try {\r\n    const path = c.req.param('path')\r\n    const row = await c.env.DB.prepare(`\r\n      SELECT blob_url FROM attachments WHERE path = ?\r\n    `).bind(path).first()\r\n\r\n    if (!row || !(row as any).blob_url) return c.notFound()\r\n    return c.redirect((row as any).blob_url, 302)\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete attachment\r\napp.delete('/api/attachments/delete/:path{.+}', async (c) => {\r\n  try {\r\n    const path = c.req.param('path')\r\n\r\n    // Find blob url, then delete from Vercel Blob\r\n    const row = await c.env.DB.prepare(`\r\n      SELECT blob_url FROM attachments WHERE path = ?\r\n    `).bind(path).first()\r\n\r\n    if (row && (row as any).blob_url) {\r\n      await deleteBlob((row as any).blob_url)\r\n      await c.env.DB.prepare(`DELETE FROM attachments WHERE path = ?`).bind(path).run()\r\n    }\r\n    \r\n    // Update database to remove the URL\r\n    // Extract request_id and attachment type from path\r\n    // Path format: {request_id}/{type}_{timestamp}.{ext}\r\n    const pathParts = path.split('/')\r\n    if (pathParts.length === 2) {\r\n      const requestId = pathParts[0]\r\n      const filename = pathParts[1]\r\n      \r\n      // Determine attachment type from filename\r\n      let columnName = null\r\n      if (filename.startsWith('id_')) {\r\n        columnName = 'id_attachment_url'\r\n      } else if (filename.startsWith('salary_')) {\r\n        columnName = 'salary_attachment_url'\r\n      } else if (filename.startsWith('bank_statement_')) {\r\n        columnName = 'bank_statement_attachment_url'\r\n      } else if (filename.startsWith('additional_')) {\r\n        columnName = 'additional_attachment_url'\r\n      }\r\n      \r\n      // Update database if we identified the column\r\n      if (columnName) {\r\n        await c.env.DB.prepare(`\r\n          UPDATE financing_requests \r\n          SET ${columnName} = NULL \r\n          WHERE id = ?\r\n        `).bind(requestId).run()\r\n      }\r\n    }\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    console.error('Delete error:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// NOTIFICATIONS APIs\r\n\r\n// Get all notifications for current user (for now, hardcoded user_id = 1)\r\napp.get('/api/notifications', async (c) => {\r\n  try {\r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    let userId = 1\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      userId = parseInt(parts[0])\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    let query = `\r\n      SELECT \r\n        n.*,\r\n        fr.requested_amount,\r\n        fr.status as request_status\r\n      FROM notifications n\r\n      LEFT JOIN financing_requests fr ON n.related_request_id = fr.id\r\n      WHERE n.user_id = ?`\r\n    \r\n    if (tenant_id) {\r\n      query += ` AND n.tenant_id = ${tenant_id}`\r\n    }\r\n    \r\n    query += `\r\n      ORDER BY n.created_at DESC\r\n      LIMIT 50`\r\n    \r\n    const { results } = await c.env.DB.prepare(query).bind(userId).all()\r\n    \r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    console.error('Error fetching notifications:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Get unread notifications count\r\napp.get('/api/notifications/unread-count', async (c) => {\r\n  try {\r\n    // Get tenant_id from Authorization header\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    let userId = 1\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      userId = parseInt(parts[0])\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    let query = `SELECT COUNT(*) as count FROM notifications WHERE user_id = ? AND is_read = 0`\r\n    \r\n    if (tenant_id) {\r\n      query += ` AND tenant_id = ${tenant_id}`\r\n    }\r\n    \r\n    const result = await c.env.DB.prepare(query).bind(userId).first()\r\n    \r\n    return c.json({ success: true, count: result?.count || 0 })\r\n  } catch (error: any) {\r\n    console.error('Error fetching unread count:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Mark notification as read\r\napp.put('/api/notifications/:id/read', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const userId = 1 // TODO: Get from session/auth\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE notifications\r\n      SET is_read = 1, read_at = CURRENT_TIMESTAMP\r\n      WHERE id = ? AND user_id = ?\r\n    `).bind(id, userId).run()\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    console.error('Error marking notification as read:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Mark all notifications as read\r\napp.put('/api/notifications/read-all', async (c) => {\r\n  try {\r\n    const userId = 1 // TODO: Get from session/auth\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE notifications\r\n      SET is_read = 1, read_at = CURRENT_TIMESTAMP\r\n      WHERE user_id = ? AND is_read = 0\r\n    `).bind(userId).run()\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    console.error('Error marking all as read:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete notification\r\napp.delete('/api/notifications/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const userId = 1 // TODO: Get from session/auth\r\n    \r\n    await c.env.DB.prepare(`\r\n      DELETE FROM notifications\r\n      WHERE id = ? AND user_id = ?\r\n    `).bind(id, userId).run()\r\n    \r\n    return c.json({ success: true })\r\n  } catch (error: any) {\r\n    console.error('Error deleting notification:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Create notification (helper function for system use)\r\napp.post('/api/notifications', async (c) => {\r\n  try {\r\n    const { user_id, title, message, type, category, related_request_id } = await c.req.json()\r\n    \r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO notifications (user_id, title, message, type, category, related_request_id)\r\n      VALUES (?, ?, ?, ?, ?, ?)\r\n    `).bind(user_id || 1, title, message, type || 'info', category || 'general', related_request_id || null).run()\r\n    \r\n    return c.json({ success: true, id: result.meta.last_row_id })\r\n  } catch (error: any) {\r\n    console.error('Error creating notification:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// CALCULATIONS APIs\r\n\r\n// Get all calculations\r\napp.get('/api/calculations', async (c) => {\r\n  try {\r\n    const { results } = await c.env.DB.prepare(`\r\n      SELECT \r\n        calc.*,\r\n        u.full_name as user_name,\r\n        b.bank_name,\r\n        ft.type_name as financing_type\r\n      FROM calculations calc\r\n      LEFT JOIN users u ON calc.user_id = u.id\r\n      JOIN banks b ON calc.bank_id = b.id\r\n      JOIN financing_types ft ON calc.financing_type_id = ft.id\r\n      ORDER BY calc.created_at DESC\r\n      LIMIT 100\r\n    `).all()\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Calculate financing\r\napp.post('/api/calculate', async (c) => {\r\n  try {\r\n    const { amount, duration_months, salary, bank_id, financing_type_id, user_id, subscription_id } = await c.req.json()\r\n    \r\n    // Get rate for this bank and financing type\r\n    const rate_data = await c.env.DB.prepare(`\r\n      SELECT rate FROM bank_financing_rates \r\n      WHERE bank_id = ? AND financing_type_id = ? AND is_active = 1\r\n      LIMIT 1\r\n    `).bind(bank_id, financing_type_id).first()\r\n    \r\n    if (!rate_data) {\r\n      return c.json({ success: false, error: '\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u0633\u0628\u0629 \u062A\u0645\u0648\u064A\u0644 \u0645\u062A\u0627\u062D\u0629 \u0644\u0647\u0630\u0627 \u0627\u0644\u0628\u0646\u0643 \u0648\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644' }, 400)\r\n    }\r\n    \r\n    const rate = rate_data.rate as number\r\n    \r\n    // Calculate\r\n    const monthly_rate = rate / 100 / 12\r\n    const monthly_payment = (amount * monthly_rate * Math.pow(1 + monthly_rate, duration_months)) / \r\n                           (Math.pow(1 + monthly_rate, duration_months) - 1)\r\n    const total_payment = monthly_payment * duration_months\r\n    const total_interest = total_payment - amount\r\n    \r\n    // Save calculation\r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO calculations \r\n      (user_id, subscription_id, financing_type_id, bank_id, amount, duration_months, salary, rate, monthly_payment, total_payment, total_interest)\r\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    `).bind(\r\n      user_id || null, subscription_id || null, financing_type_id, bank_id,\r\n      amount, duration_months, salary, rate, monthly_payment, total_payment, total_interest\r\n    ).run()\r\n    \r\n    return c.json({\r\n      success: true,\r\n      data: {\r\n        id: result.meta.last_row_id,\r\n        amount,\r\n        duration_months,\r\n        rate,\r\n        monthly_payment: Math.round(monthly_payment * 100) / 100,\r\n        total_payment: Math.round(total_payment * 100) / 100,\r\n        total_interest: Math.round(total_interest * 100) / 100\r\n      }\r\n    })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// DASHBOARD APIs\r\n\r\n// Temporary endpoint to create payments table\r\napp.post('/api/admin/init-payments-table', async (c) => {\r\n  try {\r\n    // Create payments table\r\n    await c.env.DB.prepare(`\r\n      CREATE TABLE IF NOT EXISTS payments (\r\n        id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,\r\n        financing_request_id INTEGER NOT NULL,\r\n        customer_id INTEGER NOT NULL,\r\n        tenant_id INTEGER NOT NULL,\r\n        employee_id INTEGER,\r\n        amount NUMERIC NOT NULL,\r\n        payment_date DATE NOT NULL,\r\n        payment_method TEXT DEFAULT 'cash',\r\n        receipt_number TEXT,\r\n        notes TEXT,\r\n        created_by INTEGER,\r\n        created_at TIMESTAMPTZ DEFAULT NOW(),\r\n        updated_at TIMESTAMPTZ DEFAULT NOW()\r\n      )\r\n    `).run()\r\n    \r\n    // Create indexes\r\n    await c.env.DB.prepare('CREATE INDEX IF NOT EXISTS idx_payments_tenant ON payments(tenant_id)').run()\r\n    await c.env.DB.prepare('CREATE INDEX IF NOT EXISTS idx_payments_request ON payments(financing_request_id)').run()\r\n    await c.env.DB.prepare('CREATE INDEX IF NOT EXISTS idx_payments_customer ON payments(customer_id)').run()\r\n    await c.env.DB.prepare('CREATE INDEX IF NOT EXISTS idx_payments_employee ON payments(employee_id)').run()\r\n    await c.env.DB.prepare('CREATE INDEX IF NOT EXISTS idx_payments_date ON payments(payment_date)').run()\r\n    \r\n    return c.json({ success: true, message: 'Payments table created successfully' })\r\n  } catch (error: any) {\r\n    console.error('Error creating payments table:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Get dashboard statistics\r\napp.get('/api/dashboard/stats', async (c) => {\r\n  try {\r\n    // Get user info (userId, tenantId, roleId)\r\n    const userInfo = await getUserInfo(c);\r\n    \r\n    // Build queries with role-based filtering\r\n    let customers_query = 'SELECT COUNT(*) as count FROM customers'\r\n    let requests_query = 'SELECT COUNT(*) as count FROM financing_requests'\r\n    let pending_query = 'SELECT COUNT(*) as count FROM financing_requests WHERE status = \"pending\"'\r\n    let approved_query = 'SELECT COUNT(*) as count FROM financing_requests WHERE status = \"approved\"'\r\n    let subscriptions_query = 'SELECT COUNT(*) as count FROM subscriptions WHERE status = \"active\"'\r\n    let users_query = 'SELECT COUNT(*) as count FROM users WHERE is_active = 1'\r\n    \r\n    // Apply role-based filtering\r\n    let tenant_id = null;\r\n    \r\n    if (userInfo.roleId === 1) {\r\n      // Role 1: Super Admin - sees ALL data (no filter)\r\n      tenant_id = null;\r\n    } else if (userInfo.roleId === 2 || userInfo.roleId === 3) {\r\n      // Role 2: Company Admin & Role 3: Supervisor - see company data only\r\n      tenant_id = userInfo.tenantId;\r\n      if (tenant_id !== null) {\r\n        customers_query += ' WHERE tenant_id = ?'\r\n        requests_query += ' WHERE tenant_id = ?'\r\n        pending_query += ' AND tenant_id = ?'\r\n        approved_query += ' AND tenant_id = ?'\r\n        subscriptions_query += ' AND tenant_id = ?'\r\n        users_query += ' AND tenant_id = ?'\r\n      }\r\n    } else if (userInfo.roleId === 4) {\r\n      // Role 4: Employee - sees only assigned customers/requests\r\n      if (userInfo.userId) {\r\n        customers_query += ' WHERE assigned_to = ?'\r\n        requests_query += ' WHERE customer_id IN (SELECT id FROM customers WHERE assigned_to = ?)'\r\n        pending_query += ' AND customer_id IN (SELECT id FROM customers WHERE assigned_to = ?)'\r\n        approved_query += ' AND customer_id IN (SELECT id FROM customers WHERE assigned_to = ?)'\r\n        // For employee, we use userId instead of tenant_id\r\n        tenant_id = userInfo.userId;\r\n      } else {\r\n        // No data for employee without userId\r\n        customers_query += ' WHERE 1 = 0'\r\n        requests_query += ' WHERE 1 = 0'\r\n        pending_query += ' AND 1 = 0'\r\n        approved_query += ' AND 1 = 0'\r\n      }\r\n    } else {\r\n      // Unknown role - no data\r\n      customers_query += ' WHERE 1 = 0'\r\n      requests_query += ' WHERE 1 = 0'\r\n      pending_query += ' AND 1 = 0'\r\n      approved_query += ' AND 1 = 0'\r\n    }\r\n    \r\n    // Execute queries based on role\r\n    const customers_count = tenant_id !== null && userInfo.roleId !== 1\r\n      ? await c.env.DB.prepare(customers_query).bind(tenant_id).first()\r\n      : await c.env.DB.prepare(customers_query).first()\r\n      \r\n    const requests_count = tenant_id !== null && userInfo.roleId !== 1\r\n      ? await c.env.DB.prepare(requests_query).bind(tenant_id).first()\r\n      : await c.env.DB.prepare(requests_query).first()\r\n      \r\n    const pending_count = tenant_id !== null && userInfo.roleId !== 1\r\n      ? await c.env.DB.prepare(pending_query).bind(tenant_id).first()\r\n      : await c.env.DB.prepare(pending_query).first()\r\n      \r\n    const approved_count = tenant_id !== null && userInfo.roleId !== 1\r\n      ? await c.env.DB.prepare(approved_query).bind(tenant_id).first()\r\n      : await c.env.DB.prepare(approved_query).first()\r\n      \r\n    const subscriptions_count = tenant_id !== null && userInfo.roleId !== 1 && userInfo.roleId !== 4\r\n      ? await c.env.DB.prepare(subscriptions_query).bind(userInfo.tenantId).first()\r\n      : (userInfo.roleId === 1 ? await c.env.DB.prepare(subscriptions_query).first() : { count: 0 })\r\n      \r\n    const users_count = tenant_id !== null && userInfo.roleId !== 1 && userInfo.roleId !== 4\r\n      ? await c.env.DB.prepare(users_query).bind(userInfo.tenantId).first()\r\n      : (userInfo.roleId === 1 ? await c.env.DB.prepare(users_query).first() : { count: 0 })\r\n    \r\n    // Banks - no tenant_id column, count all active banks\r\n    // Banks are shared across all tenants\r\n    const banks_count = await c.env.DB.prepare('SELECT COUNT(*) as count FROM banks WHERE is_active = 1').first()\r\n    \r\n    // Tenants - count active companies (only for super admin)\r\n    const tenants_count = await c.env.DB.prepare('SELECT COUNT(*) as count FROM tenants WHERE status = \"active\"').first()\r\n    \r\n    // Calculations - count all (no tenant_id column in calculations table)\r\n    const calculations_count = await c.env.DB.prepare('SELECT COUNT(*) as count FROM calculations').first()\r\n    \r\n    return c.json({\r\n      success: true,\r\n      data: {\r\n        total_customers: customers_count?.count || 0,\r\n        total_requests: requests_count?.count || 0,\r\n        pending_requests: pending_count?.count || 0,\r\n        approved_requests: approved_count?.count || 0,\r\n        active_subscriptions: subscriptions_count?.count || 0,\r\n        total_calculations: calculations_count?.count || 0,\r\n        active_banks: banks_count?.count || 0,\r\n        active_tenants: tenants_count?.count || 0,\r\n        active_users: users_count?.count || 0\r\n      }\r\n    })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// DELETE APIs\r\n\r\n// Delete customer\r\napp.delete('/api/customers/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    // Delete related financing requests first\r\n    await c.env.DB.prepare('DELETE FROM financing_requests WHERE customer_id = ?').bind(id).run()\r\n    // Then delete customer\r\n    await c.env.DB.prepare('DELETE FROM customers WHERE id = ?').bind(id).run()\r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u064A\u0644 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete financing request\r\napp.delete('/api/financing-requests/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    await c.env.DB.prepare('DELETE FROM financing_requests WHERE id = ?').bind(id).run()\r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete bank\r\napp.delete('/api/banks/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    await c.env.DB.prepare('DELETE FROM banks WHERE id = ?').bind(id).run()\r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0628\u0646\u0643 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete rate\r\napp.delete('/api/rates/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    await c.env.DB.prepare('DELETE FROM bank_financing_rates WHERE id = ?').bind(id).run()\r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u0628\u0629 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete subscription\r\napp.delete('/api/subscriptions/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    await c.env.DB.prepare('DELETE FROM subscriptions WHERE id = ?').bind(id).run()\r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete user\r\napp.delete('/api/users/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    await c.env.DB.prepare('DELETE FROM users WHERE id = ?').bind(id).run()\r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete package\r\napp.delete('/api/packages/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    await c.env.DB.prepare('DELETE FROM packages WHERE id = ?').bind(id).run()\r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0628\u0627\u0642\u0629 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// SUBSCRIPTION REQUESTS APIs\r\n\r\n// Get all subscription requests\r\napp.get('/api/subscription-requests', async (c) => {\r\n  try {\r\n    const { results } = await c.env.DB.prepare(`\r\n      SELECT \r\n        sr.*,\r\n        p.package_name\r\n      FROM subscription_requests sr\r\n      LEFT JOIN packages p ON sr.package_id = p.id\r\n      ORDER BY sr.created_at DESC\r\n    `).all()\r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update subscription request status\r\napp.put('/api/subscription-requests/:id/status', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const { status, notes } = await c.req.json()\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE subscription_requests \r\n      SET status = ?, notes = ?\r\n      WHERE id = ?\r\n    `).bind(status, notes, id).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete subscription request\r\napp.delete('/api/subscription-requests/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    await c.env.DB.prepare('DELETE FROM subscription_requests WHERE id = ?').bind(id).run()\r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n\r\n// ============================================\r\n// PERMISSIONS APIs\r\n// ============================================\r\n\r\n// Get all permissions\r\napp.get('/api/permissions', async (c) => {\r\n  try {\r\n    const result = await c.env.DB.prepare('SELECT * FROM permissions ORDER BY category, id').all()\r\n    return c.json({ success: true, data: result.results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Get permissions by category\r\napp.get('/api/permissions/by-category', async (c) => {\r\n  try {\r\n    const result = await c.env.DB.prepare('SELECT * FROM permissions ORDER BY category, id').all()\r\n    const permissions = result.results\r\n    \r\n    // Group by category\r\n    const grouped: any = {}\r\n    permissions.forEach((perm: any) => {\r\n      if (!grouped[perm.category]) {\r\n        grouped[perm.category] = []\r\n      }\r\n      grouped[perm.category].push(perm)\r\n    })\r\n    \r\n    return c.json({ success: true, data: grouped })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Get role permissions\r\napp.get('/api/roles/:roleId/permissions', async (c) => {\r\n  try {\r\n    const roleId = c.req.param('roleId')\r\n    const result = await c.env.DB.prepare(`\r\n      SELECT p.* FROM permissions p\r\n      INNER JOIN role_permissions rp ON p.id = rp.permission_id\r\n      WHERE rp.role_id = ?\r\n      ORDER BY p.category, p.id\r\n    `).bind(roleId).all()\r\n    \r\n    return c.json({ success: true, data: result.results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Get user permissions\r\napp.get('/api/users/:userId/permissions', async (c) => {\r\n  try {\r\n    const userId = c.req.param('userId')\r\n    const result = await c.env.DB.prepare(`\r\n      SELECT p.* FROM permissions p\r\n      INNER JOIN role_permissions rp ON p.id = rp.permission_id\r\n      INNER JOIN users u ON u.role_id = rp.role_id\r\n      WHERE u.id = ?\r\n      ORDER BY p.category, p.id\r\n    `).bind(userId).all()\r\n    \r\n    return c.json({ success: true, data: result.results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update role permissions\r\napp.put('/api/roles/:roleId/permissions', async (c) => {\r\n  try {\r\n    const roleId = c.req.param('roleId')\r\n    const { permission_ids } = await c.req.json()\r\n    \r\n    // Delete existing permissions\r\n    await c.env.DB.prepare('DELETE FROM role_permissions WHERE role_id = ?').bind(roleId).run()\r\n    \r\n    // Insert new permissions\r\n    for (const permId of permission_ids) {\r\n      await c.env.DB.prepare(\r\n        'INSERT INTO role_permissions (role_id, permission_id) VALUES (?, ?)'\r\n      ).bind(roleId, permId).run()\r\n    }\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u062F\u0648\u0631 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Check if user has permission\r\napp.post('/api/users/check-permission', async (c) => {\r\n  try {\r\n    const { user_id, permission_key } = await c.req.json()\r\n    \r\n    const result = await c.env.DB.prepare(`\r\n      SELECT COUNT(*) as has_permission FROM permissions p\r\n      INNER JOIN role_permissions rp ON p.id = rp.permission_id\r\n      INNER JOIN users u ON u.role_id = rp.role_id\r\n      WHERE u.id = ? AND p.permission_key = ?\r\n    `).bind(user_id, permission_key).first()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      has_permission: (result as any)?.has_permission > 0 \r\n    })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Get all roles with permissions count\r\napp.get('/api/roles', async (c) => {\r\n  try {\r\n    const result = await c.env.DB.prepare(`\r\n      SELECT r.*, \r\n             COUNT(rp.permission_id) as permissions_count\r\n      FROM roles r\r\n      LEFT JOIN role_permissions rp ON r.id = rp.role_id\r\n      GROUP BY r.id\r\n      ORDER BY r.id\r\n    `).all()\r\n    \r\n    return c.json({ success: true, data: result.results })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Create new role\r\napp.post('/api/roles', async (c) => {\r\n  try {\r\n    const { role_name, description } = await c.req.json()\r\n    \r\n    const result = await c.env.DB.prepare(`\r\n      INSERT INTO roles (role_name, description, created_at)\r\n      VALUES (?, ?, NOW())\r\n    `).bind(role_name, description).run()\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      message: '\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062F\u0648\u0631 \u0628\u0646\u062C\u0627\u062D',\r\n      role_id: result.meta.last_row_id \r\n    })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update role\r\napp.put('/api/roles/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const { role_name, description } = await c.req.json()\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE roles \r\n      SET role_name = ?, description = ?\r\n      WHERE id = ?\r\n    `).bind(role_name, description, id).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062F\u0648\u0631 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Delete role\r\napp.delete('/api/roles/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // Check if role is in use\r\n    const usersCount = await c.env.DB.prepare(`\r\n      SELECT COUNT(*) as count FROM users WHERE role_id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (usersCount && usersCount.count > 0) {\r\n      return c.json({ \r\n        success: false, \r\n        error: '\u0644\u0627 \u064A\u0645\u0643\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062F\u0648\u0631 \u0644\u0623\u0646\u0647 \u0645\u0631\u062A\u0628\u0637 \u0628\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646' \r\n      }, 400)\r\n    }\r\n    \r\n    // Delete role permissions first\r\n    await c.env.DB.prepare(`\r\n      DELETE FROM role_permissions WHERE role_id = ?\r\n    `).bind(id).run()\r\n    \r\n    // Delete role\r\n    await c.env.DB.prepare(`\r\n      DELETE FROM roles WHERE id = ?\r\n    `).bind(id).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062F\u0648\u0631 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Update user (including role change)\r\napp.put('/api/users/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const { full_name, email, phone, role_id, is_active } = await c.req.json()\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE users \r\n      SET full_name = ?, email = ?, phone = ?, role_id = ?, is_active = ?\r\n      WHERE id = ?\r\n    `).bind(full_name, email, phone, role_id, is_active, id).run()\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// ============================================\r\n// PAGES\r\n// ============================================\r\n\r\n// Public pages (no authentication required)\r\napp.get('/', (c) => c.html(homePage))\r\napp.get('/calculator', (c) => c.html(smartCalculator))\r\napp.get('/calculator-old', (c) => c.html(calculatorPage))\r\n\r\n// Multi-tenant calculator route\r\napp.get('/c/:tenant/calculator', async (c) => {\r\n  const tenantSlug = c.req.param('tenant')\r\n  \r\n  // Get tenant information from database\r\n  const tenant = await c.env.DB.prepare(`\r\n    SELECT * FROM tenants WHERE slug = ? AND status = 'active'\r\n  `).bind(tenantSlug).first()\r\n  \r\n  if (!tenant) {\r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-100 min-h-screen flex items-center justify-center\">\r\n        <div class=\"max-w-md mx-auto text-center p-8 bg-white rounded-xl shadow-lg\">\r\n          <i class=\"fas fa-building text-6xl text-red-500 mb-4\"></i>\r\n          <h1 class=\"text-2xl font-bold text-gray-800 mb-2\">\u0627\u0644\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629</h1>\r\n          <p class=\"text-gray-600 mb-6\">\u0644\u0645 \u0646\u062A\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0643\u0629</p>\r\n          <a href=\"/\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg inline-block\">\r\n            <i class=\"fas fa-home ml-2\"></i>\r\n            \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n          </a>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  }\r\n  \r\n  // Return calculator page with tenant context\r\n  // Add tenant info as JavaScript variable and update messages\r\n  return c.html(smartCalculator\r\n    .replace(/\u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0630\u0643\u064A\u0629/g, `\u062D\u0627\u0633\u0628\u0629 \u062A\u0645\u0648\u064A\u0644 ${tenant.company_name}`)\r\n    .replace('/api/calculator/submit-request', `/api/c/${tenantSlug}/calculator/submit-request`)\r\n    .replace('<script>', `<script>\\n        // Tenant information for company-specific calculator\\n        window.TENANT_NAME = '${tenant.company_name.replace(/'/g, \"\\\\'\")}';\\n    `)\r\n    .replace('\u0633\u064A\u062A\u0645 \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0642\u0631\u064A\u0628\u0627\u064B \u0645\u0646 \\' + selectedBestOffer.bank.bank_name', `\u0633\u064A\u062A\u0645 \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629 \u0645\u0646 \u0634\u0631\u0643\u0629 ${tenant.company_name.replace(/'/g, \"\\\\'\")} \u0648\u0633\u0648\u0641 \u064A\u062A\u0645 \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0642\u0631\u064A\u0628\u0627\u064B'`)\r\n  )\r\n})\r\n\r\napp.get('/login', (c) => c.html(loginPage))\r\napp.get('/forgot-password', (c) => c.html(forgotPasswordPage))\r\napp.get('/packages', (c) => c.html(packagesPage))\r\napp.get('/subscribe', (c) => c.html(subscribePage))\r\n\r\n// Protected admin pages (requires login - basic protection with redirect message)\r\napp.get('/admin', (c) => {\r\n  return c.html(`\r\n    <!DOCTYPE html>\r\n    <html lang=\"ar\" dir=\"rtl\">\r\n    <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u062D\u0645\u064A\u0644...</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    </head>\r\n    <body>\r\n        <script>\r\n            // Check if user is logged in\r\n            const authToken = localStorage.getItem('authToken');\r\n            const userData = localStorage.getItem('userData');\r\n            \r\n            if (authToken && userData) {\r\n                // User is logged in, load admin panel\r\n                window.location.replace('/admin/panel');\r\n            } else {\r\n                // User is not logged in, show login required page\r\n                document.body.innerHTML = \\`\r\n                    <div class=\"bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen flex items-center justify-center\">\r\n                        <div class=\"max-w-md w-full mx-4\">\r\n                            <div class=\"bg-white rounded-2xl shadow-2xl p-8 text-center\">\r\n                                <div class=\"mb-6\">\r\n                                    <i class=\"fas fa-lock text-6xl text-blue-600\"></i>\r\n                                </div>\r\n                                <h1 class=\"text-3xl font-bold text-gray-800 mb-4\">\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0637\u0644\u0648\u0628</h1>\r\n                                <p class=\"text-gray-600 mb-6\">\r\n                                    \u064A\u062C\u0628 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0644\u0648\u062D\u0629 \u0627\u0644\u0625\u062F\u0627\u0631\u0629\r\n                                </p>\r\n                                <div class=\"space-y-3\">\r\n                                    <a href=\"/login\" class=\"block w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors\">\r\n                                        <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                        \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644\r\n                                    </a>\r\n                                    <a href=\"/\" class=\"block w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors\">\r\n                                        <i class=\"fas fa-home ml-2\"></i>\r\n                                        \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                \\`;\r\n            }\r\n        </script>\r\n    </body>\r\n    </html>\r\n  `)\r\n})\r\n\r\n// Admin panel (actual panel after login check)\r\n// Reports API\r\napp.get('/api/reports/statistics', async (c) => {\r\n  try {\r\n    const fromDate = c.req.query('from_date')\r\n    const toDate = c.req.query('to_date')\r\n    \r\n    // Get tenant_id from auth token\r\n    const authHeader = c.req.header('Authorization')\r\n    const token = authHeader?.replace('Bearer ', '')\r\n    let tenant_id = null\r\n    \r\n    if (token) {\r\n      const decoded = atob(token)\r\n      const parts = decoded.split(':')\r\n      tenant_id = parts[1] !== 'null' ? parseInt(parts[1]) : null\r\n    }\r\n    \r\n    // Build where clause\r\n    let whereClause = '1=1'\r\n    const bindings: any[] = []\r\n    \r\n    if (tenant_id) {\r\n      whereClause += ' AND f.tenant_id = ?'\r\n      bindings.push(tenant_id)\r\n    }\r\n    \r\n    if (fromDate) {\r\n      whereClause += ' AND f.created_at::date >= ?'\r\n      bindings.push(fromDate)\r\n    }\r\n    \r\n    if (toDate) {\r\n      whereClause += ' AND f.created_at::date <= ?'\r\n      bindings.push(toDate)\r\n    }\r\n    \r\n    // Get statistics\r\n    const statsQuery = `\r\n      SELECT \r\n        COUNT(*) as total_requests,\r\n        SUM(CASE WHEN f.status = 'approved' THEN 1 ELSE 0 END) as approved_requests,\r\n        SUM(CASE WHEN f.status = 'pending' THEN 1 ELSE 0 END) as pending_requests,\r\n        SUM(CASE WHEN f.status = 'rejected' THEN 1 ELSE 0 END) as rejected_requests,\r\n        SUM(f.requested_amount) as total_amount\r\n      FROM financing_requests f\r\n      WHERE ${whereClause}\r\n    `\r\n    \r\n    const stats = await c.env.DB.prepare(statsQuery).bind(...bindings).first()\r\n    \r\n    // Get top customers\r\n    const topCustomersQuery = `\r\n      SELECT \r\n        c.full_name as customer_name,\r\n        COUNT(f.id) as request_count,\r\n        SUM(f.requested_amount) as total_amount,\r\n        MAX(f.created_at) as last_request_date\r\n      FROM financing_requests f\r\n      JOIN customers c ON f.customer_id = c.id\r\n      WHERE ${whereClause}\r\n      GROUP BY c.id\r\n      ORDER BY request_count DESC, total_amount DESC\r\n      LIMIT 10\r\n    `\r\n    \r\n    const { results: topCustomers } = await c.env.DB.prepare(topCustomersQuery).bind(...bindings).all()\r\n    \r\n    return c.json({\r\n      success: true,\r\n      data: {\r\n        ...stats,\r\n        top_customers: topCustomers\r\n      }\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Reports API error:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Requests Follow-up Report API (Manager only)\r\napp.get('/api/reports/requests-followup', async (c) => {\r\n  try {\r\n    // Get user info using getUserInfo (supports both Cookie and Authorization header)\r\n    const userInfo = await getUserInfo(c)\r\n    \r\n    // Check authentication\r\n    if (!userInfo.userId || !userInfo.roleId) {\r\n      return c.json({ success: false, error: '\u063A\u064A\u0631 \u0645\u0635\u0631\u062D \u0628\u0627\u0644\u0648\u0635\u0648\u0644' }, 401)\r\n    }\r\n    \r\n    // Get tenant_id from query parameter (for Super Admin) or user info\r\n    const queryTenantId = c.req.query('tenant_id')\r\n    let tenant_id = queryTenantId ? parseInt(queryTenantId) : userInfo.tenantId\r\n    \r\n    // Super Admin (role_id = 1) can access all tenants if no specific tenant_id provided\r\n    if (userInfo.roleId === 1 && !tenant_id) {\r\n      // If no tenant_id specified, show all requests\r\n      tenant_id = null\r\n    }\r\n    \r\n    console.log('\uD83D\uDCCA Requests followup report - User:', userInfo.userId, 'Role:', userInfo.roleId, 'Tenant:', tenant_id)\r\n    \r\n    // Get requests with customer and employee info\r\n    let query = `\r\n      SELECT \r\n        fr.id,\r\n        fr.created_at,\r\n        fr.approved_at,\r\n        fr.rejected_at,\r\n        fr.reviewed_at,\r\n        fr.status,\r\n        fr.requested_amount,\r\n        c.full_name as customer_name,\r\n        c.phone as customer_phone,\r\n        u.full_name as employee_name,\r\n        u.username as employee_username,\r\n        t.company_name as tenant_name,\r\n        CASE \r\n          WHEN fr.status = 'approved' AND fr.approved_at IS NOT NULL THEN fr.approved_at\r\n          WHEN fr.status = 'rejected' AND fr.rejected_at IS NOT NULL THEN fr.rejected_at\r\n          WHEN fr.reviewed_at IS NOT NULL THEN fr.reviewed_at\r\n          ELSE NULL\r\n        END as last_update,\r\n        CASE \r\n          WHEN fr.status = 'approved' AND fr.approved_at IS NOT NULL THEN \r\n            CAST((julianday(fr.approved_at) - julianday(fr.created_at)) AS INTEGER)\r\n          WHEN fr.status = 'rejected' AND fr.rejected_at IS NOT NULL THEN \r\n            CAST((julianday(fr.rejected_at) - julianday(fr.created_at)) AS INTEGER)\r\n          ELSE \r\n            CAST((julianday('now') - julianday(fr.created_at)) AS INTEGER)\r\n        END as days_elapsed,\r\n        CASE \r\n          WHEN fr.status IN ('approved', 'rejected') THEN 1\r\n          ELSE 0\r\n        END as is_closed\r\n      FROM financing_requests fr\r\n      LEFT JOIN customers c ON fr.customer_id = c.id\r\n      LEFT JOIN customer_assignments ca ON c.id = ca.customer_id\r\n      LEFT JOIN users u ON ca.employee_id = u.id\r\n      LEFT JOIN tenants t ON c.tenant_id = t.id\r\n    `\r\n    \r\n    // Add WHERE clause if tenant_id is specified\r\n    if (tenant_id) {\r\n      query += ' WHERE c.tenant_id = ?'\r\n    }\r\n    \r\n    query += ' ORDER BY fr.created_at DESC'\r\n    \r\n    const { results } = tenant_id \r\n      ? await c.env.DB.prepare(query).bind(tenant_id).all()\r\n      : await c.env.DB.prepare(query).all()\r\n    \r\n    return c.json({ success: true, data: results })\r\n  } catch (error: any) {\r\n    console.error('Requests follow-up report error:', error)\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\n// Banks Report API\r\napp.get('/api/reports/banks', async (c) => {\r\n  try {\r\n    const userInfo = await getUserInfo(c);\r\n    \r\n    if (!userInfo.userId || !userInfo.roleId) {\r\n      return c.json({ success: false, error: '\u063A\u064A\u0631 \u0645\u0635\u0631\u062D \u0628\u0627\u0644\u0648\u0635\u0648\u0644' }, 401);\r\n    }\r\n\r\n    // Build query based on role\r\n    let whereClause = '';\r\n    let queryParams: any[] = [];\r\n    \r\n    if (userInfo.roleId !== 1) {\r\n      // Not super admin - filter by tenant\r\n      whereClause = 'WHERE b.tenant_id = ?';\r\n      queryParams.push(userInfo.tenantId);\r\n    }\r\n\r\n    const query = `\r\n      SELECT \r\n        b.id,\r\n        b.bank_name,\r\n        COUNT(fr.id) as total_requests,\r\n        SUM(CASE WHEN fr.status = 'approved' THEN 1 ELSE 0 END) as approved_requests,\r\n        SUM(CASE WHEN fr.status = 'rejected' THEN 1 ELSE 0 END) as rejected_requests,\r\n        SUM(CASE WHEN fr.status = 'pending' THEN 1 ELSE 0 END) as pending_requests,\r\n        ROUND(\r\n          CAST(SUM(CASE WHEN fr.status = 'approved' THEN 1 ELSE 0 END) AS FLOAT) / \r\n          NULLIF(COUNT(fr.id), 0) * 100, \r\n          2\r\n        ) as approval_rate,\r\n        ROUND(AVG(fr.requested_amount), 2) as average_amount\r\n      FROM banks b\r\n      LEFT JOIN financing_requests fr ON b.id = fr.selected_bank_id\r\n      ${whereClause}\r\n      GROUP BY b.id, b.bank_name\r\n      ORDER BY total_requests DESC\r\n    `;\r\n\r\n    const { results } = queryParams.length > 0\r\n      ? await c.env.DB.prepare(query).bind(...queryParams).all()\r\n      : await c.env.DB.prepare(query).all();\r\n\r\n    // Calculate summary\r\n    const summary = {\r\n      total_banks: results.length,\r\n      total_requests: results.reduce((sum: number, b: any) => sum + (b.total_requests || 0), 0),\r\n      overall_approval_rate: results.length > 0\r\n        ? (results.reduce((sum: number, b: any) => sum + (parseFloat(b.approval_rate) || 0), 0) / results.length).toFixed(2)\r\n        : '0.00',\r\n      average_amount: results.length > 0\r\n        ? (results.reduce((sum: number, b: any) => sum + (parseFloat(b.average_amount) || 0), 0) / results.length).toFixed(2)\r\n        : '0.00'\r\n    };\r\n\r\n    return c.json({ success: true, banks: results, summary });\r\n  } catch (error: any) {\r\n    console.error('Banks report error:', error);\r\n    return c.json({ success: false, error: error.message }, 500);\r\n  }\r\n});\r\n\r\n// Performance Report API\r\napp.get('/api/reports/performance', async (c) => {\r\n  try {\r\n    const userInfo = await getUserInfo(c);\r\n    \r\n    if (!userInfo.userId || !userInfo.roleId) {\r\n      return c.json({ success: false, error: '\u063A\u064A\u0631 \u0645\u0635\u0631\u062D \u0628\u0627\u0644\u0648\u0635\u0648\u0644' }, 401);\r\n    }\r\n\r\n    const startDate = c.req.query('start_date');\r\n    const endDate = c.req.query('end_date');\r\n\r\n    // Build WHERE clause\r\n    let whereClause = '';\r\n    let queryParams: any[] = [];\r\n    \r\n    if (userInfo.roleId !== 1 && userInfo.tenantId) {\r\n      whereClause = 'WHERE c.tenant_id = ?';\r\n      queryParams.push(userInfo.tenantId);\r\n    }\r\n\r\n    if (startDate && endDate) {\r\n      whereClause += (whereClause ? ' AND ' : 'WHERE ') + 'fr.created_at BETWEEN ? AND ?';\r\n      queryParams.push(startDate, endDate);\r\n    }\r\n\r\n    // Get performance metrics\r\n    const metricsQuery = `\r\n      SELECT \r\n        COUNT(DISTINCT c.id) as total_customers,\r\n        COUNT(DISTINCT CASE WHEN c.created_at >= (NOW() - INTERVAL '30 days') THEN c.id END) as active_customers,\r\n        COUNT(fr.id) as total_requests,\r\n        SUM(CASE WHEN fr.status = 'approved' THEN 1 ELSE 0 END) as approved_requests,\r\n        SUM(CASE WHEN fr.status = 'rejected' THEN 1 ELSE 0 END) as rejected_requests,\r\n        SUM(CASE WHEN fr.status = 'pending' THEN 1 ELSE 0 END) as pending_requests,\r\n        ROUND(\r\n          CAST(SUM(CASE WHEN fr.status = 'approved' THEN 1 ELSE 0 END) AS FLOAT) / \r\n          NULLIF(COUNT(fr.id), 0) * 100, \r\n          2\r\n        ) as approval_rate,\r\n        ROUND(AVG(fr.requested_amount), 2) as avg_order_value,\r\n        ROUND(SUM(CASE WHEN fr.status = 'approved' THEN fr.requested_amount ELSE 0 END), 2) as total_revenue\r\n      FROM customers c\r\n      LEFT JOIN financing_requests fr ON c.id = fr.customer_id\r\n      ${whereClause}\r\n    `;\r\n\r\n    const metrics = queryParams.length > 0\r\n      ? await c.env.DB.prepare(metricsQuery).bind(...queryParams).first()\r\n      : await c.env.DB.prepare(metricsQuery).first();\r\n\r\n    // Get top performers\r\n    const performersQuery = `\r\n      SELECT \r\n        u.id,\r\n        u.full_name as name,\r\n        COUNT(DISTINCT c.id) as customers_count,\r\n        COUNT(fr.id) as requests_count,\r\n        SUM(CASE WHEN fr.status = 'approved' THEN 1 ELSE 0 END) as approved_count,\r\n        ROUND(\r\n          CAST(SUM(CASE WHEN fr.status = 'approved' THEN 1 ELSE 0 END) AS FLOAT) / \r\n          NULLIF(COUNT(fr.id), 0) * 100, \r\n          2\r\n        ) as success_rate,\r\n        ROUND(SUM(CASE WHEN fr.status = 'approved' THEN fr.requested_amount ELSE 0 END), 2) as total_amount\r\n      FROM users u\r\n      LEFT JOIN customer_assignments ca ON u.id = ca.employee_id\r\n      LEFT JOIN customers c ON ca.customer_id = c.id\r\n      LEFT JOIN financing_requests fr ON c.id = fr.customer_id\r\n      ${whereClause.replace('c.tenant_id', 'u.tenant_id')}\r\n      GROUP BY u.id, u.full_name\r\n      HAVING requests_count > 0\r\n      ORDER BY approved_count DESC\r\n      LIMIT 10\r\n    `;\r\n\r\n    const { results: performers } = queryParams.length > 0\r\n      ? await c.env.DB.prepare(performersQuery).bind(...queryParams).all()\r\n      : await c.env.DB.prepare(performersQuery).all();\r\n\r\n    // Calculate additional metrics\r\n    const conversionRate = metrics?.total_customers && metrics?.total_requests\r\n      ? ((metrics.total_requests / metrics.total_customers) * 100).toFixed(2)\r\n      : '0.00';\r\n    \r\n    const requestRate = metrics?.total_customers && metrics?.total_requests\r\n      ? ((metrics.total_requests / metrics.total_customers) * 100).toFixed(2)\r\n      : '0.00';\r\n    \r\n    const completionRate = metrics?.total_requests && (metrics.approved_requests + metrics.rejected_requests)\r\n      ? (((metrics.approved_requests + metrics.rejected_requests) / metrics.total_requests) * 100).toFixed(2)\r\n      : '0.00';\r\n\r\n    return c.json({\r\n      success: true,\r\n      ...metrics,\r\n      monthly_revenue: metrics?.total_revenue || 0,\r\n      conversion_rate: conversionRate,\r\n      request_rate: requestRate,\r\n      completion_rate: completionRate,\r\n      avg_processing_time: '3',\r\n      avg_response_time: '2',\r\n      customer_lifecycle: '45',\r\n      revenue_growth: '15',\r\n      top_performers: performers\r\n    });\r\n  } catch (error: any) {\r\n    console.error('Performance report error:', error);\r\n    return c.json({ success: false, error: error.message }, 500);\r\n  }\r\n});\r\n\r\napp.get('/admin/panel', async (c) => {\r\n  // Check authentication\r\n  const userInfo = await getUserInfo(c);\r\n  \r\n  if (!userInfo.userId || !userInfo.roleId) {\r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n          <meta charset=\"UTF-8\">\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n          <title>\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0637\u0644\u0648\u0628</title>\r\n          <script src=\"https://cdn.tailwindcss.com\"></script>\r\n          <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen flex items-center justify-center\">\r\n          <div class=\"max-w-md w-full mx-4\">\r\n              <div class=\"bg-white rounded-2xl shadow-2xl p-8 text-center\">\r\n                  <div class=\"mb-6\">\r\n                      <i class=\"fas fa-lock text-6xl text-blue-600\"></i>\r\n                  </div>\r\n                  <h1 class=\"text-3xl font-bold text-gray-800 mb-4\">\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0637\u0644\u0648\u0628</h1>\r\n                  <p class=\"text-gray-600 mb-6\">\r\n                      \u064A\u062C\u0628 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n                  </p>\r\n                  <div class=\"space-y-3\">\r\n                      <a href=\"/login\" class=\"block w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors\">\r\n                          <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                          \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644\r\n                      </a>\r\n                      <a href=\"/\" class=\"block w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors\">\r\n                          <i class=\"fas fa-home ml-2\"></i>\r\n                          \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n                      </a>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </body>\r\n      </html>\r\n    `);\r\n  }\r\n  \r\n  return c.html(fullAdminPanel);\r\n})\r\n\r\n// Requests Follow-up Report Page (Manager only)\r\napp.get('/admin/reports/requests-followup', async (c) => {\r\n  try {\r\n    // Get tenant_id from query\r\n    const tenantId = c.req.query('tenant_id')\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0642\u0631\u064A\u0631 \u0645\u062A\u0627\u0628\u0639\u0629 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n        <style>\r\n          /* Custom Scrollbar - Enhanced */\r\n          .overflow-x-auto {\r\n            overflow-x: auto !important;\r\n            -webkit-overflow-scrolling: touch;\r\n            scrollbar-width: thin;\r\n            scrollbar-color: #3b82f6 #f7fafc;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar {\r\n            height: 12px;\r\n            width: 12px;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-track {\r\n            background: #e5e7eb;\r\n            border-radius: 10px;\r\n            margin: 0 10px;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-thumb {\r\n            background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);\r\n            border-radius: 10px;\r\n            border: 2px solid #e5e7eb;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-thumb:hover {\r\n            background: linear-gradient(180deg, #2563eb 0%, #1d4ed8 100%);\r\n            border-color: #d1d5db;\r\n          }\r\n          \r\n          /* Force scrollbar to always show */\r\n          .overflow-x-auto {\r\n            overflow-x: scroll !important; /* Always show scrollbar */\r\n          }\r\n          \r\n          .overflow-x-auto table {\r\n            min-width: 1200px; /* Force table to be wide enough for scrollbar */\r\n            width: max-content;\r\n          }\r\n          \r\n          ${getMobileResponsiveCSS()}\r\n          \r\n          /* Scroll Buttons for Tables */\r\n          .scroll-btn {\r\n            position: absolute;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\r\n            color: white;\r\n            border: 3px solid white;\r\n            border-radius: 50%;\r\n            width: 48px;\r\n            height: 48px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            cursor: pointer;\r\n            z-index: 10;\r\n            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\r\n            transition: all 0.3s ease;\r\n            font-size: 18px;\r\n          }\r\n          \r\n          .scroll-btn:hover {\r\n            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);\r\n            transform: translateY(-50%) scale(1.1);\r\n            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.6);\r\n          }\r\n          \r\n          .scroll-btn:active {\r\n            transform: translateY(-50%) scale(0.95);\r\n          }\r\n          \r\n          .scroll-btn-right {\r\n            right: -20px;\r\n          }\r\n          \r\n          .scroll-btn-left {\r\n            left: -20px;\r\n          }\r\n          \r\n          @media (max-width: 768px) {\r\n            .scroll-btn {\r\n              width: 44px;\r\n              height: 44px;\r\n              font-size: 16px;\r\n              border-width: 2px;\r\n            }\r\n            \r\n            .scroll-btn-right {\r\n              right: 8px;\r\n            }\r\n            \r\n            .scroll-btn-left {\r\n              left: 8px;\r\n            }\r\n          }\r\n        </style>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <script>\r\n          // Auto-redirect with tenant_id if not present\r\n          (function() {\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            if (!urlParams.has('tenant_id')) {\r\n              const userData = localStorage.getItem('userData');\r\n              if (userData) {\r\n                try {\r\n                  const user = JSON.parse(userData);\r\n                  if (user.tenant_id) {\r\n                    window.location.replace('/admin/reports/requests-followup?tenant_id=' + user.tenant_id);\r\n                  }\r\n                } catch (e) {\r\n                  console.error('Error parsing userData:', e);\r\n                }\r\n              }\r\n            }\r\n          })();\r\n        </script>\r\n        \r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n            </a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div class=\"flex justify-between items-center mb-6 gap-4 flex-wrap\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-file-alt text-blue-600 ml-2\"></i>\r\n                \u062A\u0642\u0631\u064A\u0631 \u0645\u062A\u0627\u0628\u0639\u0629 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n              </h1>\r\n              <div class=\"flex items-center gap-3\">\r\n                <div class=\"relative\">\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"searchFollowup\" \r\n                    placeholder=\"\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A...\" \r\n                    class=\"px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    onkeyup=\"searchFollowupTable()\"\r\n                  />\r\n                  <i class=\"fas fa-search absolute right-3 top-3 text-gray-400\"></i>\r\n                </div>\r\n                <button onclick=\"exportToExcel()\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-md whitespace-nowrap\">\r\n                  <i class=\"fas fa-file-excel ml-2\"></i>\r\n                  \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Loading Indicator -->\r\n            <div id=\"loading\" class=\"text-center py-12\">\r\n              <i class=\"fas fa-spinner fa-spin text-4xl text-blue-600 mb-4\"></i>\r\n              <p class=\"text-gray-600\">\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...</p>\r\n            </div>\r\n            \r\n            <!-- Table Container with Scroll Buttons -->\r\n            <div class=\"hidden\" id=\"tableWrapper\">\r\n              <div class=\"relative\">\r\n                <!-- Right Scroll Button -->\r\n                <button \r\n                  id=\"scrollLeftBtn\" \r\n                  onclick=\"scrollTable('left')\"\r\n                  class=\"scroll-btn scroll-btn-left hidden\"\r\n                  aria-label=\"\u062A\u0645\u0631\u064A\u0631 \u0644\u0644\u064A\u0633\u0627\u0631\"\r\n                >\r\n                  <i class=\"fas fa-chevron-left\"></i>\r\n                </button>\r\n                \r\n                <!-- Left Scroll Button -->\r\n                <button \r\n                  id=\"scrollRightBtn\" \r\n                  onclick=\"scrollTable('right')\"\r\n                  class=\"scroll-btn scroll-btn-right hidden\"\r\n                  aria-label=\"\u062A\u0645\u0631\u064A\u0631 \u0644\u0644\u064A\u0645\u064A\u0646\"\r\n                >\r\n                  <i class=\"fas fa-chevron-right\"></i>\r\n                </button>\r\n                \r\n                <div id=\"tableContainer\" class=\"overflow-x-auto\">\r\n                  <table class=\"w-full\">\r\n                <thead class=\"bg-gradient-to-r from-blue-600 to-blue-700 text-white\">\r\n                  <tr>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">#</th>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644</th>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</th>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">\u0627\u0644\u0645\u0648\u0638\u0641 \u0627\u0644\u0645\u062E\u0635\u0635</th>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">\u062A\u0627\u0631\u064A\u062E \u062A\u0642\u062F\u064A\u0645 \u0627\u0644\u0637\u0644\u0628</th>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">\u0645\u0631\u0627\u062D\u0644 \u0627\u0644\u0637\u0644\u0628</th>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">\u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B</th>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0648\u0642\u062A</th>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628</th>\r\n                    <th class=\"px-4 py-3 text-right text-sm font-bold\">\u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody id=\"reportTable\" class=\"divide-y divide-gray-200\">\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Empty State -->\r\n            <div id=\"emptyState\" class=\"hidden text-center py-12\">\r\n              <i class=\"fas fa-inbox text-gray-300 text-6xl mb-4\"></i>\r\n              <p class=\"text-gray-500 text-xl\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0644\u0639\u0631\u0636\u0647\u0627</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          let reportData = [];\r\n          \r\n          async function loadReport() {\r\n            try {\r\n              const urlParams = new URLSearchParams(window.location.search);\r\n              const tenantId = urlParams.get('tenant_id');\r\n              \r\n              if (!tenantId) {\r\n                alert('\u062E\u0637\u0623: \u0644\u0645 \u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0634\u0631\u0643\u0629');\r\n                return;\r\n              }\r\n              \r\n              const authToken = localStorage.getItem('authToken');\r\n              const response = await axios.get('/api/reports/requests-followup', {\r\n                headers: {\r\n                  'Authorization': 'Bearer ' + authToken\r\n                }\r\n              });\r\n              \r\n              if (response.data.success) {\r\n                reportData = response.data.data;\r\n                displayReport(reportData);\r\n              } else {\r\n                alert('\u062E\u0637\u0623: ' + response.data.error);\r\n              }\r\n            } catch (error) {\r\n              console.error('Error loading report:', error);\r\n              alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0642\u0631\u064A\u0631');\r\n            } finally {\r\n              document.getElementById('loading').classList.add('hidden');\r\n            }\r\n          }\r\n          \r\n          function displayReport(data) {\r\n            const tbody = document.getElementById('reportTable');\r\n            const tableContainer = document.getElementById('tableContainer');\r\n            const emptyState = document.getElementById('emptyState');\r\n            \r\n            if (data.length === 0) {\r\n              emptyState.classList.remove('hidden');\r\n              return;\r\n            }\r\n            \r\n            tableContainer.classList.remove('hidden');\r\n            document.getElementById('tableWrapper')?.classList.remove('hidden');\r\n            \r\n            tbody.innerHTML = data.map((row, index) => {\r\n              const statusColors = {\r\n                'pending': 'bg-yellow-100 text-yellow-800',\r\n                'approved': 'bg-green-100 text-green-800',\r\n                'rejected': 'bg-red-100 text-red-800',\r\n                'processing': 'bg-blue-100 text-blue-800'\r\n              };\r\n              \r\n              const statusNames = {\r\n                'pending': '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631',\r\n                'approved': '\u0645\u0642\u0628\u0648\u0644',\r\n                'rejected': '\u0645\u0631\u0641\u0648\u0636',\r\n                'processing': '\u0642\u064A\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629'\r\n              };\r\n              \r\n              const statusClass = statusColors[row.status] || 'bg-gray-100 text-gray-800';\r\n              const statusName = statusNames[row.status] || row.status;\r\n              \r\n              const createdDate = new Date(row.created_at);\r\n              const formattedDate = createdDate.toLocaleDateString('ar-SA') + ' ' + createdDate.toLocaleTimeString('ar-SA', {hour: '2-digit', minute: '2-digit'});\r\n              \r\n              // Build timeline/stages\r\n              const stages = [];\r\n              \r\n              // Stage 1: \u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631\r\n              if (row.pending_at) {\r\n                const pendingDate = new Date(row.pending_at);\r\n                stages.push(\\`\r\n                  <div class=\"flex items-center text-xs mb-1\">\r\n                    <span class=\"w-2 h-2 rounded-full bg-yellow-500 ml-2\"></span>\r\n                    <span class=\"font-bold\">\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631:</span>\r\n                    <span class=\"text-gray-600 mr-1\">\\${pendingDate.toLocaleDateString('ar-SA')} \\${pendingDate.toLocaleTimeString('ar-SA', {hour: '2-digit', minute: '2-digit'})}</span>\r\n                  </div>\r\n                \\`);\r\n              }\r\n              \r\n              // Stage 2: \u062A\u062D\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629\r\n              if (row.under_review_at) {\r\n                const reviewDate = new Date(row.under_review_at);\r\n                stages.push(\\`\r\n                  <div class=\"flex items-center text-xs mb-1\">\r\n                    <span class=\"w-2 h-2 rounded-full bg-blue-500 ml-2\"></span>\r\n                    <span class=\"font-bold\">\u062A\u062D\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629:</span>\r\n                    <span class=\"text-gray-600 mr-1\">\\${reviewDate.toLocaleDateString('ar-SA')} \\${reviewDate.toLocaleTimeString('ar-SA', {hour: '2-digit', minute: '2-digit'})}</span>\r\n                  </div>\r\n                \\`);\r\n              }\r\n              \r\n              // Stage 3: \u0642\u064A\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629\r\n              if (row.processing_at) {\r\n                const processingDate = new Date(row.processing_at);\r\n                stages.push(\\`\r\n                  <div class=\"flex items-center text-xs mb-1\">\r\n                    <span class=\"w-2 h-2 rounded-full bg-indigo-500 ml-2\"></span>\r\n                    <span class=\"font-bold\">\u0642\u064A\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629:</span>\r\n                    <span class=\"text-gray-600 mr-1\">\\${processingDate.toLocaleDateString('ar-SA')} \\${processingDate.toLocaleTimeString('ar-SA', {hour: '2-digit', minute: '2-digit'})}</span>\r\n                  </div>\r\n                \\`);\r\n              }\r\n              \r\n              // Stage 4: \u0645\u0642\u0628\u0648\u0644\r\n              if (row.approved_at) {\r\n                const approvedDate = new Date(row.approved_at);\r\n                stages.push(\\`\r\n                  <div class=\"flex items-center text-xs mb-1\">\r\n                    <span class=\"w-2 h-2 rounded-full bg-green-500 ml-2\"></span>\r\n                    <span class=\"font-bold text-green-700\">\u2713 \u0645\u0642\u0628\u0648\u0644:</span>\r\n                    <span class=\"text-gray-600 mr-1\">\\${approvedDate.toLocaleDateString('ar-SA')} \\${approvedDate.toLocaleTimeString('ar-SA', {hour: '2-digit', minute: '2-digit'})}</span>\r\n                  </div>\r\n                \\`);\r\n              }\r\n              \r\n              // Stage 5: \u0645\u0631\u0641\u0648\u0636\r\n              if (row.rejected_at) {\r\n                const rejectedDate = new Date(row.rejected_at);\r\n                stages.push(\\`\r\n                  <div class=\"flex items-center text-xs mb-1\">\r\n                    <span class=\"w-2 h-2 rounded-full bg-red-500 ml-2\"></span>\r\n                    <span class=\"font-bold text-red-700\">\u2717 \u0645\u0631\u0641\u0648\u0636:</span>\r\n                    <span class=\"text-gray-600 mr-1\">\\${rejectedDate.toLocaleDateString('ar-SA')} \\${rejectedDate.toLocaleTimeString('ar-SA', {hour: '2-digit', minute: '2-digit'})}</span>\r\n                  </div>\r\n                \\`);\r\n              }\r\n              \r\n              const stagesHTML = stages.length > 0 ? stages.join('') : '<span class=\"text-gray-400 text-xs\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0631\u0627\u062D\u0644 \u0645\u0633\u062C\u0644\u0629</span>';\r\n              \r\n              // Format last_update\r\n              const lastUpdateDate = row.last_update ? new Date(row.last_update) : null;\r\n              const formattedLastUpdate = lastUpdateDate ? \r\n                lastUpdateDate.toLocaleDateString('ar-SA') + ' ' + lastUpdateDate.toLocaleTimeString('ar-SA', {hour: '2-digit', minute: '2-digit'}) :\r\n                '<span class=\"text-gray-400\">-</span>';\r\n              \r\n              const daysElapsed = row.days_elapsed || 0;\r\n              const isClosed = row.is_closed === 1;\r\n              \r\n              // Format time elapsed based on status\r\n              let timeElapsed = '';\r\n              if (daysElapsed === 0) {\r\n                timeElapsed = '\u0627\u0644\u064A\u0648\u0645';\r\n              } else if (daysElapsed === 1) {\r\n                timeElapsed = '\u064A\u0648\u0645 \u0648\u0627\u062D\u062F';\r\n              } else {\r\n                timeElapsed = daysElapsed + ' \u064A\u0648\u0645';\r\n              }\r\n              \r\n              // Add indicator if closed\r\n              const timeDisplay = isClosed ? \r\n                \\`<i class=\"fas fa-stopwatch ml-1\"></i>\\${timeElapsed}\\` : \r\n                \\`<i class=\"fas fa-clock ml-1\"></i>\\${timeElapsed}\\`;\r\n              \r\n              const timeClass = isClosed ? \r\n                'px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-bold' : \r\n                'px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-bold';\r\n              \r\n              return \\`\r\n                <tr class=\"hover:bg-gray-50\">\r\n                  <td class=\"px-4 py-4 text-sm\">\\${index + 1}</td>\r\n                  <td class=\"px-4 py-4 font-bold\">\\${row.customer_name || '-'}</td>\r\n                  <td class=\"px-4 py-4 text-sm text-gray-600\">\\${row.customer_phone || '-'}</td>\r\n                  <td class=\"px-4 py-4 text-sm\">\r\n                    \\${row.employee_name ? \\`\r\n                      <span class=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-bold\">\r\n                        <i class=\"fas fa-user ml-1\"></i>\r\n                        \\${row.employee_name}\r\n                      </span>\r\n                    \\` : '<span class=\"text-gray-400\">\u063A\u064A\u0631 \u0645\u062E\u0635\u0635</span>'}\r\n                  </td>\r\n                  <td class=\"px-4 py-4 text-sm text-gray-600\">\\${formattedDate}</td>\r\n                  <td class=\"px-4 py-4\">\r\n                    <div class=\"space-y-1\">\r\n                      \\${stagesHTML}\r\n                    </div>\r\n                  </td>\r\n                  <td class=\"px-4 py-4 text-sm text-gray-600\">\r\n                    \\${formattedLastUpdate}\r\n                  </td>\r\n                  <td class=\"px-4 py-4\">\r\n                    <span class=\"\\${timeClass}\">\r\n                      \\${timeDisplay}\r\n                    </span>\r\n                    \\${isClosed ? '<div class=\"text-xs text-gray-500 mt-1\">\u23F8\uFE0F \u0645\u0646\u062A\u0647\u064A</div>' : '<div class=\"text-xs text-purple-600 mt-1\">\u23F1\uFE0F \u062C\u0627\u0631\u064A \u0627\u0644\u0639\u062F</div>'}\r\n                  </td>\r\n                  <td class=\"px-4 py-4 font-bold text-green-600\">\r\n                    \\${row.requested_amount ? row.requested_amount.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644' : '-'}\r\n                  </td>\r\n                  <td class=\"px-4 py-4\">\r\n                    <span class=\"px-3 py-1 rounded-full text-xs font-bold \\${statusClass}\">\r\n                      \\${statusName}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n              \\`;\r\n            }).join('');\r\n          }\r\n          \r\n          function exportToExcel() {\r\n            if (reportData.length === 0) {\r\n              alert('\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0644\u062A\u0635\u062F\u064A\u0631\u0647\u0627');\r\n              return;\r\n            }\r\n            \r\n            // Create CSV content\r\n            let csv = '\u0631\u0642\u0645,\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644,\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641,\u0627\u0644\u0645\u0648\u0638\u0641 \u0627\u0644\u0645\u062E\u0635\u0635,\u062A\u0627\u0631\u064A\u062E \u062A\u0642\u062F\u064A\u0645 \u0627\u0644\u0637\u0644\u0628,\u0627\u0644\u0645\u062F\u0629 \u0627\u0644\u0645\u0646\u0642\u0636\u064A\u0629 (\u0623\u064A\u0627\u0645),\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628,\u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\\\\n';\r\n            \r\n            reportData.forEach((row, index) => {\r\n              const statusNames = {\r\n                'pending': '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631',\r\n                'approved': '\u0645\u0642\u0628\u0648\u0644',\r\n                'rejected': '\u0645\u0631\u0641\u0648\u0636',\r\n                'processing': '\u0642\u064A\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629'\r\n              };\r\n              \r\n              const createdDate = new Date(row.created_at).toLocaleDateString('ar-SA');\r\n              \r\n              csv += \\`\\${index + 1},\\`;\r\n              csv += \\`\"\\${row.customer_name || '-'}\",\\`;\r\n              csv += \\`\"\\${row.customer_phone || '-'}\",\\`;\r\n              csv += \\`\"\\${row.employee_name || '\u063A\u064A\u0631 \u0645\u062E\u0635\u0635'}\",\\`;\r\n              csv += \\`\"\\${createdDate}\",\\`;\r\n              csv += \\`\\${row.days_elapsed || 0},\\`;\r\n              csv += \\`\\${row.requested_amount || 0},\\`;\r\n              csv += \\`\"\\${statusNames[row.status] || row.status}\"\\\\n\\`;\r\n            });\r\n            \r\n            // Create download link\r\n            const BOM = \"\\\\uFEFF\";\r\n            const blob = new Blob([BOM + csv], { type: 'text/csv;charset=utf-8;' });\r\n            const link = document.createElement('a');\r\n            const url = URL.createObjectURL(blob);\r\n            \r\n            link.setAttribute('href', url);\r\n            link.setAttribute('download', '\u062A\u0642\u0631\u064A\u0631_\u0645\u062A\u0627\u0628\u0639\u0629_\u0627\u0644\u0637\u0644\u0628\u0627\u062A_' + new Date().toISOString().split('T')[0] + '.csv');\r\n            link.style.visibility = 'hidden';\r\n            \r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n          }\r\n          \r\n          function searchFollowupTable() {\r\n            const searchValue = document.getElementById('searchFollowup').value.toLowerCase();\r\n            const tbody = document.getElementById('reportTable');\r\n            const rows = tbody.querySelectorAll('tr');\r\n            \r\n            rows.forEach(row => {\r\n              const text = row.textContent.toLowerCase();\r\n              if (text.includes(searchValue)) {\r\n                row.style.display = '';\r\n              } else {\r\n                row.style.display = 'none';\r\n              }\r\n            });\r\n          }\r\n          \r\n          // Scroll table function\r\n          function scrollTable(direction) {\r\n            const container = document.getElementById('tableContainer');\r\n            const scrollAmount = 300; // pixels to scroll\r\n            \r\n            if (direction === 'right') {\r\n              container.scrollBy({ left: scrollAmount, behavior: 'smooth' });\r\n            } else {\r\n              container.scrollBy({ left: -scrollAmount, behavior: 'smooth' });\r\n            }\r\n            \r\n            // Update button visibility after scroll\r\n            setTimeout(checkScrollButtons, 300);\r\n          }\r\n          \r\n          // Check if scroll buttons should be visible\r\n          function checkScrollButtons() {\r\n            const container = document.getElementById('tableContainer');\r\n            const leftBtn = document.getElementById('scrollLeftBtn');\r\n            const rightBtn = document.getElementById('scrollRightBtn');\r\n            \r\n            if (!container || !leftBtn || !rightBtn) return;\r\n            \r\n            const canScrollLeft = container.scrollLeft > 0;\r\n            const canScrollRight = container.scrollLeft < (container.scrollWidth - container.clientWidth - 10);\r\n            \r\n            // Show/hide buttons based on scroll position\r\n            if (canScrollLeft) {\r\n              leftBtn.classList.remove('hidden');\r\n            } else {\r\n              leftBtn.classList.add('hidden');\r\n            }\r\n            \r\n            if (canScrollRight) {\r\n              rightBtn.classList.remove('hidden');\r\n            } else {\r\n              rightBtn.classList.add('hidden');\r\n            }\r\n          }\r\n          \r\n          // Initialize scroll buttons after table loads\r\n          function initScrollButtons() {\r\n            const container = document.getElementById('tableContainer');\r\n            const wrapper = document.getElementById('tableWrapper');\r\n            \r\n            if (container && wrapper) {\r\n              wrapper.classList.remove('hidden');\r\n              \r\n              // Check initially\r\n              checkScrollButtons();\r\n              \r\n              // Check on scroll\r\n              container.addEventListener('scroll', checkScrollButtons);\r\n              \r\n              // Check on window resize\r\n              window.addEventListener('resize', checkScrollButtons);\r\n            }\r\n          }\r\n          \r\n          // Load report on page load\r\n          loadReport().then(() => {\r\n            // Initialize scroll buttons after data is loaded\r\n            setTimeout(initScrollButtons, 500);\r\n          });\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    return c.html('<h1>Error: ' + error.message + '</h1>', 500)\r\n  }\r\n})\r\n\r\n// Add new tenant page\r\napp.get('/admin/tenants/add', (c) => {\r\n  return c.html(`\r\n    <!DOCTYPE html>\r\n    <html lang=\"ar\" dir=\"rtl\">\r\n    <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0625\u0636\u0627\u0641\u0629 \u0634\u0631\u0643\u0629 \u062C\u062F\u064A\u062F\u0629 - SaaS Multi-Tenant</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    </head>\r\n    <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n            <div class=\"mb-6\">\r\n                <a href=\"/admin/tenants\" class=\"text-blue-600 hover:text-blue-800\">\r\n                    <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                    \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0634\u0631\u0643\u0627\u062A\r\n                </a>\r\n            </div>\r\n            \r\n            <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n                <h1 class=\"text-3xl font-bold text-gray-800 mb-8\">\r\n                    <i class=\"fas fa-plus-circle text-emerald-600 ml-2\"></i>\r\n                    \u0625\u0636\u0627\u0641\u0629 \u0634\u0631\u0643\u0629 \u062C\u062F\u064A\u062F\u0629\r\n                </h1>\r\n                \r\n                <form id=\"addTenantForm\" onsubmit=\"handleSubmit(event)\" class=\"space-y-6\">\r\n                    <!-- Basic Information -->\r\n                    <div class=\"border-b pb-6\">\r\n                        <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                            <i class=\"fas fa-info-circle ml-2\"></i>\r\n                            \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629\r\n                        </h2>\r\n                        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    \u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 <span class=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    id=\"company_name\"\r\n                                    required\r\n                                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                    placeholder=\"\u0645\u062B\u0627\u0644: \u0634\u0631\u0643\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0623\u0648\u0644\u0649\"\r\n                                >\r\n                            </div>\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Slug (\u0645\u0639\u0631\u0641 \u0641\u0631\u064A\u062F) <span class=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    id=\"slug\"\r\n                                    required\r\n                                    pattern=\"[a-z0-9-]+\"\r\n                                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                    placeholder=\"tamweel-1\"\r\n                                >\r\n                                <p class=\"text-xs text-gray-500 mt-1\">\u062D\u0631\u0648\u0641 \u0635\u063A\u064A\u0631\u0629 \u0648\u0623\u0631\u0642\u0627\u0645 \u0648\u0634\u0631\u0637\u0627\u062A \u0641\u0642\u0637</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Settings -->\r\n                    <div class=\"border-b pb-6\">\r\n                        <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                            <i class=\"fas fa-cog ml-2\"></i>\r\n                            \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A\r\n                        </h2>\r\n                        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u0627\u0644\u0629</label>\r\n                                <select \r\n                                    id=\"status\"\r\n                                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                >\r\n                                    <option value=\"active\">\u0646\u0634\u0637</option>\r\n                                    <option value=\"trial\">\u062A\u062C\u0631\u064A\u0628\u064A</option>\r\n                                    <option value=\"suspended\">\u0645\u062A\u0648\u0642\u0641</option>\r\n                                </select>\r\n                            </div>\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0627\u0644\u0623\u0642\u0635\u0649</label>\r\n                                <input \r\n                                    type=\"number\" \r\n                                    id=\"max_users\"\r\n                                    value=\"10\"\r\n                                    min=\"1\"\r\n                                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                >\r\n                            </div>\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Subdomain (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)</label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    id=\"subdomain\"\r\n                                    pattern=\"[a-z0-9-]*\"\r\n                                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                    placeholder=\"company1\"\r\n                                >\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Contact Information -->\r\n                    <div>\r\n                        <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                            <i class=\"fas fa-address-card ml-2\"></i>\r\n                            \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0627\u062A\u0635\u0627\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\r\n                        </h2>\r\n                        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</label>\r\n                                <input \r\n                                    type=\"email\" \r\n                                    id=\"contact_email\"\r\n                                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                    placeholder=\"info@company.com\"\r\n                                >\r\n                            </div>\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</label>\r\n                                <input \r\n                                    type=\"tel\" \r\n                                    id=\"contact_phone\"\r\n                                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                    placeholder=\"+966501234567\"\r\n                                >\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Submit Buttons -->\r\n                    <div class=\"flex gap-4 pt-4\">\r\n                        <button \r\n                            type=\"submit\"\r\n                            class=\"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                        >\r\n                            <i class=\"fas fa-save ml-2\"></i>\r\n                            \u062D\u0641\u0638 \u0627\u0644\u0634\u0631\u0643\u0629\r\n                        </button>\r\n                        <a \r\n                            href=\"/admin/tenants\"\r\n                            class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all text-center\"\r\n                        >\r\n                            <i class=\"fas fa-times ml-2\"></i>\r\n                            \u0625\u0644\u063A\u0627\u0621\r\n                        </a>\r\n                    </div>\r\n                </form>\r\n                \r\n                <div id=\"message\" class=\"mt-4\"></div>\r\n            </div>\r\n        </div>\r\n        \r\n        <script>\r\n            // Auto-generate slug from company name\r\n            document.getElementById('company_name').addEventListener('input', function(e) {\r\n                const slug = e.target.value\r\n                    .toLowerCase()\r\n                    .replace(/[^a-z0-9\\\\s-]/g, '')\r\n                    .replace(/\\\\s+/g, '-')\r\n                    .replace(/-+/g, '-')\r\n                    .substring(0, 50);\r\n                document.getElementById('slug').value = slug;\r\n            });\r\n            \r\n            async function handleSubmit(event) {\r\n                event.preventDefault();\r\n                \r\n                const data = {\r\n                    company_name: document.getElementById('company_name').value,\r\n                    slug: document.getElementById('slug').value,\r\n                    status: document.getElementById('status').value,\r\n                    max_users: parseInt(document.getElementById('max_users').value),\r\n                    subdomain: document.getElementById('subdomain').value || null,\r\n                    contact_email: document.getElementById('contact_email').value || null,\r\n                    contact_phone: document.getElementById('contact_phone').value || null\r\n                };\r\n                \r\n                try {\r\n                    const response = await axios.post('/api/tenants', data);\r\n                    \r\n                    if (response.data.success) {\r\n                        document.getElementById('message').innerHTML = \\`\r\n                            <div class=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded\">\r\n                                <i class=\"fas fa-check-circle ml-2\"></i>\r\n                                \u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062C\u0627\u062D!\r\n                            </div>\r\n                        \\`;\r\n                        \r\n                        setTimeout(() => {\r\n                            window.location.href = '/admin/tenants';\r\n                        }, 1500);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error:', error);\r\n                    document.getElementById('message').innerHTML = \\`\r\n                        <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n                            <i class=\"fas fa-exclamation-circle ml-2\"></i>\r\n                            \u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0625\u0636\u0627\u0641\u0629: \\${error.response?.data?.error || error.message}\r\n                        </div>\r\n                    \\`;\r\n                }\r\n            }\r\n        </script>\r\n    </body>\r\n    </html>\r\n  `);\r\n})\r\n\r\n// Edit tenant page\r\napp.get('/admin/tenants/:id/edit', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    const tenant = await c.env.DB.prepare(`\r\n      SELECT * FROM tenants WHERE id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!tenant) {\r\n      return c.html('<h1>\u0627\u0644\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n          <meta charset=\"UTF-8\">\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n          <title>\u062A\u0639\u062F\u064A\u0644 \u0634\u0631\u0643\u0629 - ${tenant.company_name}</title>\r\n          <script src=\"https://cdn.tailwindcss.com\"></script>\r\n          <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n          <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n          <div class=\"max-w-4xl mx-auto p-6\">\r\n              <div class=\"mb-6\">\r\n                  <a href=\"/admin/tenants\" class=\"text-blue-600 hover:text-blue-800\">\r\n                      <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                      \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0634\u0631\u0643\u0627\u062A\r\n                  </a>\r\n              </div>\r\n              \r\n              <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n                  <h1 class=\"text-3xl font-bold text-gray-800 mb-8\">\r\n                      <i class=\"fas fa-edit text-yellow-600 ml-2\"></i>\r\n                      \u062A\u0639\u062F\u064A\u0644 \u0634\u0631\u0643\u0629: ${tenant.company_name}\r\n                  </h1>\r\n                  \r\n                  <form id=\"editTenantForm\" onsubmit=\"handleSubmit(event)\" class=\"space-y-6\">\r\n                      <!-- Basic Information -->\r\n                      <div class=\"border-b pb-6\">\r\n                          <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                              <i class=\"fas fa-info-circle ml-2\"></i>\r\n                              \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629\r\n                          </h2>\r\n                          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                              <div>\r\n                                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                      \u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 <span class=\"text-red-500\">*</span>\r\n                                  </label>\r\n                                  <input \r\n                                      type=\"text\" \r\n                                      id=\"company_name\"\r\n                                      value=\"${tenant.company_name}\"\r\n                                      required\r\n                                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                  >\r\n                              </div>\r\n                              <div>\r\n                                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                      Slug (\u0645\u0639\u0631\u0641 \u0641\u0631\u064A\u062F) <span class=\"text-red-500\">*</span>\r\n                                  </label>\r\n                                  <input \r\n                                      type=\"text\" \r\n                                      id=\"slug\"\r\n                                      value=\"${tenant.slug}\"\r\n                                      required\r\n                                      pattern=\"[a-z0-9-]+\"\r\n                                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                  >\r\n                                  <p class=\"text-xs text-gray-500 mt-1\">\u062D\u0631\u0648\u0641 \u0635\u063A\u064A\u0631\u0629 \u0648\u0623\u0631\u0642\u0627\u0645 \u0648\u0634\u0631\u0637\u0627\u062A \u0641\u0642\u0637</p>\r\n                              </div>\r\n                          </div>\r\n                      </div>\r\n                      \r\n                      <!-- Settings -->\r\n                      <div class=\"border-b pb-6\">\r\n                          <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                              <i class=\"fas fa-cog ml-2\"></i>\r\n                              \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A\r\n                          </h2>\r\n                          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                              <div>\r\n                                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u0627\u0644\u0629</label>\r\n                                  <select \r\n                                      id=\"status\"\r\n                                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                  >\r\n                                      <option value=\"active\" ${tenant.status === 'active' ? 'selected' : ''}>\u0646\u0634\u0637</option>\r\n                                      <option value=\"trial\" ${tenant.status === 'trial' ? 'selected' : ''}>\u062A\u062C\u0631\u064A\u0628\u064A</option>\r\n                                      <option value=\"suspended\" ${tenant.status === 'suspended' ? 'selected' : ''}>\u0645\u062A\u0648\u0642\u0641</option>\r\n                                  </select>\r\n                              </div>\r\n                              <div>\r\n                                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0627\u0644\u0623\u0642\u0635\u0649</label>\r\n                                  <input \r\n                                      type=\"number\" \r\n                                      id=\"max_users\"\r\n                                      value=\"${tenant.max_users || 10}\"\r\n                                      min=\"1\"\r\n                                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                  >\r\n                              </div>\r\n                              <div>\r\n                                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">Subdomain (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)</label>\r\n                                  <input \r\n                                      type=\"text\" \r\n                                      id=\"subdomain\"\r\n                                      value=\"${tenant.subdomain || ''}\"\r\n                                      pattern=\"[a-z0-9-]*\"\r\n                                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                  >\r\n                              </div>\r\n                          </div>\r\n                      </div>\r\n                      \r\n                      <!-- Contact Information -->\r\n                      <div>\r\n                          <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                              <i class=\"fas fa-address-card ml-2\"></i>\r\n                              \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0627\u062A\u0635\u0627\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\r\n                          </h2>\r\n                          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                              <div>\r\n                                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</label>\r\n                                  <input \r\n                                      type=\"email\" \r\n                                      id=\"contact_email\"\r\n                                      value=\"${tenant.contact_email || ''}\"\r\n                                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                  >\r\n                              </div>\r\n                              <div>\r\n                                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</label>\r\n                                  <input \r\n                                      type=\"tel\" \r\n                                      id=\"contact_phone\"\r\n                                      value=\"${tenant.contact_phone || ''}\"\r\n                                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500\"\r\n                                  >\r\n                              </div>\r\n                          </div>\r\n                      </div>\r\n                      \r\n                      <!-- Submit Buttons -->\r\n                      <div class=\"flex gap-4 pt-4\">\r\n                          <button \r\n                              type=\"submit\"\r\n                              class=\"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                          >\r\n                              <i class=\"fas fa-save ml-2\"></i>\r\n                              \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A\r\n                          </button>\r\n                          <a \r\n                              href=\"/admin/tenants\"\r\n                              class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all text-center\"\r\n                          >\r\n                              <i class=\"fas fa-times ml-2\"></i>\r\n                              \u0625\u0644\u063A\u0627\u0621\r\n                          </a>\r\n                      </div>\r\n                  </form>\r\n                  \r\n                  <div id=\"message\" class=\"mt-4\"></div>\r\n              </div>\r\n          </div>\r\n          \r\n          <script>\r\n              async function handleSubmit(event) {\r\n                  event.preventDefault();\r\n                  \r\n                  const data = {\r\n                      company_name: document.getElementById('company_name').value,\r\n                      slug: document.getElementById('slug').value,\r\n                      status: document.getElementById('status').value,\r\n                      max_users: parseInt(document.getElementById('max_users').value),\r\n                      subdomain: document.getElementById('subdomain').value || null,\r\n                      contact_email: document.getElementById('contact_email').value || null,\r\n                      contact_phone: document.getElementById('contact_phone').value || null\r\n                  };\r\n                  \r\n                  try {\r\n                      const response = await axios.put('/api/tenants/${id}', data);\r\n                      \r\n                      if (response.data.success) {\r\n                          document.getElementById('message').innerHTML = \\`\r\n                              <div class=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded\">\r\n                                  <i class=\"fas fa-check-circle ml-2\"></i>\r\n                                  \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062C\u0627\u062D!\r\n                              </div>\r\n                          \\`;\r\n                          \r\n                          setTimeout(() => {\r\n                              window.location.href = '/admin/tenants';\r\n                          }, 1500);\r\n                      }\r\n                  } catch (error) {\r\n                      console.error('Error:', error);\r\n                      document.getElementById('message').innerHTML = \\`\r\n                          <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n                              <i class=\"fas fa-exclamation-circle ml-2\"></i>\r\n                              \u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062A\u062D\u062F\u064A\u062B: \\${error.response?.data?.error || error.message}\r\n                          </div>\r\n                      \\`;\r\n                  }\r\n              }\r\n          </script>\r\n      </body>\r\n      </html>\r\n    `);\r\n  } catch (error: any) {\r\n    return c.html(`<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629: ${error.message}</h1>`)\r\n  }\r\n})\r\n\r\n// View tenant details page\r\napp.get('/admin/tenants/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    const tenant = await c.env.DB.prepare(`\r\n      SELECT * FROM tenants WHERE id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!tenant) {\r\n      return c.html('<h1>\u0627\u0644\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629</h1>')\r\n    }\r\n    \r\n    // Get tenant statistics\r\n    const stats = await c.env.DB.prepare(`\r\n      SELECT \r\n        (SELECT COUNT(*) FROM users WHERE tenant_id = ?) as total_users,\r\n        (SELECT COUNT(*) FROM customers WHERE tenant_id = ?) as total_customers,\r\n        (SELECT COUNT(*) FROM financing_requests WHERE tenant_id = ?) as total_requests\r\n    `).bind(id, id, id).first()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n          <meta charset=\"UTF-8\">\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n          <title>\u0639\u0631\u0636 \u0634\u0631\u0643\u0629 - ${tenant.company_name}</title>\r\n          <script src=\"https://cdn.tailwindcss.com\"></script>\r\n          <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n          <div class=\"max-w-6xl mx-auto p-6\">\r\n              <div class=\"mb-6 flex justify-between items-center\">\r\n                  <a href=\"/admin/tenants\" class=\"text-blue-600 hover:text-blue-800\">\r\n                      <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                      \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0634\u0631\u0643\u0627\u062A\r\n                  </a>\r\n                  <div class=\"flex gap-3\">\r\n                      <a href=\"/admin/tenants/${id}/edit\" class=\"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg\">\r\n                          <i class=\"fas fa-edit ml-2\"></i>\r\n                          \u062A\u0639\u062F\u064A\u0644\r\n                      </a>\r\n                      <a href=\"/c/${tenant.slug}/admin\" target=\"_blank\" class=\"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg\">\r\n                          <i class=\"fas fa-external-link-alt ml-2\"></i>\r\n                          \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n                      </a>\r\n                  </div>\r\n              </div>\r\n              \r\n              <!-- Company Header -->\r\n              <div class=\"bg-gradient-to-r from-emerald-600 to-emerald-800 text-white rounded-xl shadow-lg p-8 mb-6\">\r\n                  <div class=\"flex items-center justify-between\">\r\n                      <div>\r\n                          <h1 class=\"text-3xl font-bold mb-2\">\r\n                              <i class=\"fas fa-building ml-2\"></i>\r\n                              ${tenant.company_name}\r\n                          </h1>\r\n                          <p class=\"text-emerald-100 text-lg\">\r\n                              <code class=\"bg-white/20 px-3 py-1 rounded\">${tenant.slug}</code>\r\n                          </p>\r\n                      </div>\r\n                      <div class=\"text-right\">\r\n                          <span class=\"inline-block px-6 py-2 bg-white/20 rounded-full text-xl font-bold\">\r\n                              ${tenant.status === 'active' ? '\uD83D\uDFE2 \u0646\u0634\u0637' : tenant.status === 'trial' ? '\uD83D\uDFE1 \u062A\u062C\u0631\u064A\u0628\u064A' : '\uD83D\uDD34 \u0645\u062A\u0648\u0642\u0641'}\r\n                          </span>\r\n                      </div>\r\n                  </div>\r\n              </div>\r\n              \r\n              <!-- Statistics -->\r\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n                  <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                      <div class=\"flex items-center justify-between\">\r\n                          <div>\r\n                              <p class=\"text-gray-600 text-sm mb-1\">\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</p>\r\n                              <p class=\"text-3xl font-bold text-blue-600\">${stats?.total_users || 0}</p>\r\n                              <p class=\"text-gray-500 text-xs mt-1\">\u0645\u0646 ${tenant.max_users} \u0645\u0633\u0645\u0648\u062D</p>\r\n                          </div>\r\n                          <i class=\"fas fa-users text-4xl text-blue-200\"></i>\r\n                      </div>\r\n                  </div>\r\n                  \r\n                  <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                      <div class=\"flex items-center justify-between\">\r\n                          <div>\r\n                              <p class=\"text-gray-600 text-sm mb-1\">\u0627\u0644\u0639\u0645\u0644\u0627\u0621</p>\r\n                              <p class=\"text-3xl font-bold text-green-600\">${stats?.total_customers || 0}</p>\r\n                          </div>\r\n                          <i class=\"fas fa-user-friends text-4xl text-green-200\"></i>\r\n                      </div>\r\n                  </div>\r\n                  \r\n                  <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                      <div class=\"flex items-center justify-between\">\r\n                          <div>\r\n                              <p class=\"text-gray-600 text-sm mb-1\">\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                              <p class=\"text-3xl font-bold text-purple-600\">${stats?.total_requests || 0}</p>\r\n                          </div>\r\n                          <i class=\"fas fa-file-invoice text-4xl text-purple-200\"></i>\r\n                      </div>\r\n                  </div>\r\n              </div>\r\n              \r\n              <!-- Company Details -->\r\n              <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                  <div class=\"p-6 bg-gray-50 border-b\">\r\n                      <h2 class=\"text-xl font-bold text-gray-800\">\r\n                          <i class=\"fas fa-info-circle ml-2\"></i>\r\n                          \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0634\u0631\u0643\u0629\r\n                      </h2>\r\n                  </div>\r\n                  <div class=\"p-6\">\r\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                          <div>\r\n                              <label class=\"block text-sm font-medium text-gray-500 mb-1\">\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629</label>\r\n                              <p class=\"text-lg font-semibold text-gray-900\">${tenant.company_name}</p>\r\n                          </div>\r\n                          <div>\r\n                              <label class=\"block text-sm font-medium text-gray-500 mb-1\">Slug</label>\r\n                              <p class=\"text-lg font-mono text-gray-900 bg-gray-100 px-3 py-1 rounded inline-block\">${tenant.slug}</p>\r\n                          </div>\r\n                          <div>\r\n                              <label class=\"block text-sm font-medium text-gray-500 mb-1\">Subdomain</label>\r\n                              <p class=\"text-lg font-mono text-gray-900\">${tenant.subdomain || '-'}</p>\r\n                          </div>\r\n                          <div>\r\n                              <label class=\"block text-sm font-medium text-gray-500 mb-1\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</label>\r\n                              <p class=\"text-lg font-semibold text-gray-900\">${tenant.max_users || 10} \u0645\u0633\u062A\u062E\u062F\u0645</p>\r\n                          </div>\r\n                          <div>\r\n                              <label class=\"block text-sm font-medium text-gray-500 mb-1\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</label>\r\n                              <p class=\"text-lg text-gray-900\">${tenant.contact_email || '-'}</p>\r\n                          </div>\r\n                          <div>\r\n                              <label class=\"block text-sm font-medium text-gray-500 mb-1\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</label>\r\n                              <p class=\"text-lg text-gray-900\">${tenant.contact_phone || '-'}</p>\r\n                          </div>\r\n                          <div>\r\n                              <label class=\"block text-sm font-medium text-gray-500 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621</label>\r\n                              <p class=\"text-lg text-gray-900\">${new Date(tenant.created_at).toLocaleDateString('ar-SA')}</p>\r\n                          </div>\r\n                          <div>\r\n                              <label class=\"block text-sm font-medium text-gray-500 mb-1\">\u0627\u0644\u062D\u0627\u0644\u0629</label>\r\n                              <span class=\"inline-flex px-4 py-2 text-sm font-semibold rounded-full \r\n                                  ${tenant.status === 'active' ? 'bg-green-100 text-green-800' : \r\n                                    tenant.status === 'trial' ? 'bg-yellow-100 text-yellow-800' : \r\n                                    'bg-red-100 text-red-800'}\">\r\n                                  ${tenant.status === 'active' ? '\u0646\u0634\u0637' : tenant.status === 'trial' ? '\u062A\u062C\u0631\u064A\u0628\u064A' : '\u0645\u062A\u0648\u0642\u0641'}\r\n                              </span>\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n              </div>\r\n              \r\n              <!-- Quick Actions -->\r\n              <div class=\"bg-white rounded-xl shadow-lg p-6 mt-6\">\r\n                  <h2 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n                      <i class=\"fas fa-bolt ml-2\"></i>\r\n                      \u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0633\u0631\u064A\u0639\u0629\r\n                  </h2>\r\n                  <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                      <a href=\"/c/${tenant.slug}/admin\" target=\"_blank\" \r\n                         class=\"flex flex-col items-center justify-center p-4 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-all\">\r\n                          <i class=\"fas fa-tachometer-alt text-2xl text-emerald-600 mb-2\"></i>\r\n                          <span class=\"text-sm font-medium text-gray-700\">\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645</span>\r\n                      </a>\r\n                      <a href=\"/c/${tenant.slug}/calculator\" target=\"_blank\" \r\n                         class=\"flex flex-col items-center justify-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-all\">\r\n                          <i class=\"fas fa-calculator text-2xl text-blue-600 mb-2\"></i>\r\n                          <span class=\"text-sm font-medium text-gray-700\">\u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</span>\r\n                      </a>\r\n                      <a href=\"/admin/tenants/${id}/edit\" \r\n                         class=\"flex flex-col items-center justify-center p-4 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-all\">\r\n                          <i class=\"fas fa-edit text-2xl text-yellow-600 mb-2\"></i>\r\n                          <span class=\"text-sm font-medium text-gray-700\">\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</span>\r\n                      </a>\r\n                      <button onclick=\"if(confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')) window.location.href='/admin/tenants'\" \r\n                         class=\"flex flex-col items-center justify-center p-4 bg-red-50 hover:bg-red-100 rounded-lg transition-all\">\r\n                          <i class=\"fas fa-trash text-2xl text-red-600 mb-2\"></i>\r\n                          <span class=\"text-sm font-medium text-gray-700\">\u062D\u0630\u0641 \u0627\u0644\u0634\u0631\u0643\u0629</span>\r\n                      </button>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </body>\r\n      </html>\r\n    `);\r\n  } catch (error: any) {\r\n    return c.html(`<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629: ${error.message}</h1>`)\r\n  }\r\n})\r\n\r\napp.get('/admin/tenants', (c) => c.html(tenantsPage))\r\napp.get('/admin/tenant-calculators', (c) => c.html(tenantCalculatorsPage))\r\napp.get('/admin/saas-settings', (c) => c.html(saasSettingsPage))\r\napp.get('/admin/reports', (c) => c.html(reportsPage))\r\napp.get('/admin/reports/customers', (c) => c.html(customersReportPage))\r\napp.get('/admin/reports/requests', (c) => c.html(requestsReportPage))\r\napp.get('/admin/reports/financial', (c) => c.html(financialReportPage))\r\napp.get('/admin/reports/banks', (c) => c.html(banksReportPage))\r\napp.get('/admin/reports/performance', (c) => c.html(performanceReportPage))\r\napp.get('/admin/payments', (c) => c.html(paymentsPage))\r\napp.get('/admin/banks', (c) => c.html(banksManagementPage))\r\n\r\n// Tenant-specific admin panel\r\napp.get('/c/:tenant/admin', async (c) => {\r\n  const tenantSlug = c.req.param('tenant')\r\n  \r\n  // Get tenant information from database\r\n  const tenant = await c.env.DB.prepare(`\r\n    SELECT * FROM tenants WHERE slug = ? AND status = 'active'\r\n  `).bind(tenantSlug).first()\r\n  \r\n  if (!tenant) {\r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-100 min-h-screen flex items-center justify-center\">\r\n        <div class=\"max-w-md mx-auto text-center p-8 bg-white rounded-xl shadow-lg\">\r\n          <i class=\"fas fa-building text-6xl text-red-500 mb-4\"></i>\r\n          <h1 class=\"text-2xl font-bold text-gray-800 mb-2\">\u0627\u0644\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629</h1>\r\n          <p class=\"text-gray-600 mb-6\">\u0644\u0645 \u0646\u062A\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0643\u0629</p>\r\n          <a href=\"/\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg inline-block\">\r\n            <i class=\"fas fa-home ml-2\"></i>\r\n            \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n          </a>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  }\r\n  \r\n  // Return admin panel with tenant branding\r\n  // Note: User name and email are loaded dynamically from localStorage by JavaScript\r\n  return c.html(fullAdminPanel\r\n    .replace('\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 - \u0646\u0638\u0627\u0645 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644', `\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 - ${tenant.company_name}`)\r\n  )\r\n})\r\n\r\napp.get('/test', (c) => {\r\n  return c.html(`\r\n    <!DOCTYPE html>\r\n    <html lang=\"ar\" dir=\"rtl\">\r\n    <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0637\u0644\u0648\u0628</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    </head>\r\n    <body class=\"bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen flex items-center justify-center\">\r\n        <div class=\"max-w-md w-full mx-4\">\r\n            <div class=\"bg-white rounded-2xl shadow-2xl p-8 text-center\">\r\n                <div class=\"mb-6\">\r\n                    <i class=\"fas fa-lock text-6xl text-blue-600\"></i>\r\n                </div>\r\n                <h1 class=\"text-3xl font-bold text-gray-800 mb-4\">\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0637\u0644\u0648\u0628</h1>\r\n                <p class=\"text-gray-600 mb-6\">\r\n                    \u064A\u062C\u0628 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0635\u0641\u062D\u0629 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\r\n                </p>\r\n                <div class=\"space-y-3\">\r\n                    <a href=\"/login\" class=\"block w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors\">\r\n                        <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                        \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644\r\n                    </a>\r\n                    <a href=\"/\" class=\"block w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors\">\r\n                        <i class=\"fas fa-home ml-2\"></i>\r\n                        \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </body>\r\n    </html>\r\n  `)\r\n})\r\n\r\n// \u0635\u0641\u062D\u0627\u062A \u0645\u0646\u0641\u0635\u0644\u0629 \u0644\u0643\u0644 \u0642\u0633\u0645\r\napp.get('/admin/dashboard', async (c) => {\r\n  try {\r\n    // Get user info for role-based filtering\r\n    const userInfo = await getUserInfo(c)\r\n    \r\n    // Build WHERE clauses based on role\r\n    let customersWhere = '';\r\n    let requestsWhere = '';\r\n    let requestsJoinWhere = '';\r\n    let queryParams: any[] = [];\r\n    \r\n    if (userInfo.roleId === 1) {\r\n      // Super Admin - sees ALL data\r\n      customersWhere = '';\r\n      requestsWhere = '';\r\n      requestsJoinWhere = '';\r\n    } else if (userInfo.roleId === 2 || userInfo.roleId === 3) {\r\n      // Role 2: Company Admin & Role 3: Supervisor - see company data only\r\n      if (userInfo.tenantId) {\r\n        customersWhere = `WHERE tenant_id = ${userInfo.tenantId}`;\r\n        requestsWhere = customersWhere;\r\n        requestsJoinWhere = `AND c.tenant_id = ${userInfo.tenantId}`;\r\n        queryParams.push(userInfo.tenantId);\r\n      }\r\n    } else if (userInfo.roleId === 4) {\r\n      // Role 4: Employee - sees only assigned customers/requests\r\n      if (userInfo.userId) {\r\n        customersWhere = `WHERE assigned_to = ${userInfo.userId}`;\r\n        requestsWhere = `WHERE customer_id IN (SELECT id FROM customers WHERE assigned_to = ${userInfo.userId})`;\r\n        requestsJoinWhere = `AND c.assigned_to = ${userInfo.userId}`;\r\n        queryParams.push(userInfo.userId);\r\n      } else {\r\n        customersWhere = 'WHERE 1 = 0';\r\n        requestsWhere = 'WHERE 1 = 0';\r\n        requestsJoinWhere = 'AND 1 = 0';\r\n      }\r\n    } else {\r\n      // Unknown role - no data\r\n      customersWhere = 'WHERE 1 = 0';\r\n      requestsWhere = 'WHERE 1 = 0';\r\n      requestsJoinWhere = 'AND 1 = 0';\r\n    }\r\n    \r\n    // Comprehensive statistics query with role-based filtering\r\n    const stats = await c.env.DB.prepare(`\r\n      SELECT \r\n        (SELECT COUNT(*) FROM customers ${customersWhere}) as total_customers,\r\n        (SELECT COUNT(*) FROM financing_requests ${requestsWhere}) as total_requests,\r\n        (SELECT COUNT(*) FROM financing_requests ${requestsWhere} ${requestsWhere ? 'AND' : 'WHERE'} status = 'pending') as pending_requests,\r\n        (SELECT COUNT(*) FROM financing_requests ${requestsWhere} ${requestsWhere ? 'AND' : 'WHERE'} status = 'approved') as approved_requests,\r\n        (SELECT COUNT(*) FROM financing_requests ${requestsWhere} ${requestsWhere ? 'AND' : 'WHERE'} status = 'rejected') as rejected_requests,\r\n        (SELECT COUNT(*) FROM financing_requests ${requestsWhere} ${requestsWhere ? 'AND' : 'WHERE'} status = 'under_review') as under_review_requests,\r\n        (SELECT SUM(requested_amount) FROM financing_requests ${requestsWhere}) as total_requested_amount,\r\n        (SELECT SUM(requested_amount) FROM financing_requests ${requestsWhere} ${requestsWhere ? 'AND' : 'WHERE'} status = 'approved') as total_approved_amount,\r\n        (SELECT COUNT(*) FROM banks WHERE is_active = 1) as active_banks,\r\n        (SELECT COUNT(*) FROM financing_types) as financing_types_count\r\n    `).first()\r\n    \r\n    // Monthly requests trend (last 6 months) with role-based filtering\r\n    const monthlyTrend = await c.env.DB.prepare(`\r\n      SELECT \r\n        to_char(created_at, 'YYYY-MM') as month,\r\n        COUNT(*) as count,\r\n        SUM(requested_amount) as total_amount\r\n      FROM financing_requests\r\n      ${requestsWhere}\r\n      ${requestsWhere ? 'AND' : 'WHERE'} created_at >= (NOW() - INTERVAL '6 months')\r\n      GROUP BY to_char(created_at, 'YYYY-MM')\r\n      ORDER BY month\r\n    `).all()\r\n    \r\n    // Top banks by requests with role-based filtering\r\n    const topBanks = await c.env.DB.prepare(`\r\n      SELECT \r\n        b.bank_name,\r\n        COUNT(fr.id) as request_count,\r\n        SUM(fr.requested_amount) as total_amount\r\n      FROM banks b\r\n      LEFT JOIN financing_requests fr ON b.id = fr.selected_bank_id\r\n      LEFT JOIN customers c ON fr.customer_id = c.id\r\n      WHERE fr.id IS NOT NULL ${requestsJoinWhere}\r\n      GROUP BY b.id, b.bank_name\r\n      ORDER BY request_count DESC\r\n      LIMIT 5\r\n    `).all()\r\n    \r\n    // Status distribution with tenant filtering\r\n    const statusDistribution = await c.env.DB.prepare(`\r\n      SELECT \r\n        status,\r\n        COUNT(*) as count,\r\n        ROUND(COUNT(*) * 100.0 / NULLIF((SELECT COUNT(*) FROM financing_requests ${requestsWhere}), 0), 2) as percentage\r\n      FROM financing_requests\r\n      ${requestsWhere}\r\n      GROUP BY status\r\n    `).all()\r\n    \r\n    const monthlyData = monthlyTrend.results || []\r\n    const topBanksData = topBanks.results || []\r\n    const statusData = statusDistribution.results || []\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <script src=\"https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js\"></script>\r\n        <style>\r\n          @media print {\r\n            button, nav, .no-print { display: none; }\r\n            .print-full-width { width: 100%; }\r\n          }\r\n          \r\n          ${getMobileResponsiveCSS()}\r\n        </style>\r\n      </head>\r\n      <body class=\"bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <!-- Header -->\r\n          <div class=\"flex justify-between items-center mb-8 no-print\">\r\n            <div>\r\n              <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800 text-sm mb-2 inline-block\">\r\n                <i class=\"fas fa-arrow-right ml-1\"></i>\r\n                \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n              </a>\r\n              <h1 class=\"text-4xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-chart-line text-blue-600 ml-2\"></i>\r\n                \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629\r\n              </h1>\r\n              <p class=\"text-gray-600 mt-2\">\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0648\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0634\u0627\u0645\u0644\u0629 \u0644\u0646\u0638\u0627\u0645 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n            </div>\r\n            <div class=\"flex gap-3\">\r\n              <button onclick=\"window.print()\" class=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition\">\r\n                <i class=\"fas fa-print ml-2\"></i>\r\n                \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n              </button>\r\n              <button onclick=\"doLogout()\" class=\"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition\">\r\n                <i class=\"fas fa-sign-out-alt ml-2\"></i>\r\n                \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Main Statistics Cards -->\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8\">\r\n            <div class=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p class=\"text-blue-100 text-sm mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0645\u0644\u0627\u0621</p>\r\n                  <p class=\"text-4xl font-bold\">${(stats as any)?.total_customers || 0}</p>\r\n                </div>\r\n                <i class=\"fas fa-users text-6xl opacity-20\"></i>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p class=\"text-green-100 text-sm mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A</p>\r\n                  <p class=\"text-4xl font-bold\">${(stats as any)?.total_requests || 0}</p>\r\n                </div>\r\n                <i class=\"fas fa-file-invoice text-6xl opacity-20\"></i>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p class=\"text-yellow-100 text-sm mb-1\">\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631</p>\r\n                  <p class=\"text-4xl font-bold\">${(stats as any)?.pending_requests || 0}</p>\r\n                </div>\r\n                <i class=\"fas fa-clock text-6xl opacity-20\"></i>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p class=\"text-purple-100 text-sm mb-1\">\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647\u0627</p>\r\n                  <p class=\"text-4xl font-bold\">${(stats as any)?.approved_requests || 0}</p>\r\n                </div>\r\n                <i class=\"fas fa-check-circle text-6xl opacity-20\"></i>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-gradient-to-br from-red-500 to-red-600 text-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p class=\"text-red-100 text-sm mb-1\">\u0645\u0631\u0641\u0648\u0636\u0629</p>\r\n                  <p class=\"text-4xl font-bold\">${(stats as any)?.rejected_requests || 0}</p>\r\n                </div>\r\n                <i class=\"fas fa-times-circle text-6xl opacity-20\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Financial Summary & KPIs -->\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n              <div class=\"flex items-center mb-4\">\r\n                <div class=\"bg-blue-100 rounded-full p-3 ml-4\">\r\n                  <i class=\"fas fa-money-bill-wave text-2xl text-blue-600\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-gray-600 text-sm\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628</p>\r\n                  <p class=\"text-2xl font-bold text-gray-800\">${parseFloat((stats as any)?.total_requested_amount || 0).toLocaleString('ar-SA')} \u0631.\u0633</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n              <div class=\"flex items-center mb-4\">\r\n                <div class=\"bg-green-100 rounded-full p-3 ml-4\">\r\n                  <i class=\"fas fa-check-double text-2xl text-green-600\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-gray-600 text-sm\">\u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647</p>\r\n                  <p class=\"text-2xl font-bold text-gray-800\">${parseFloat((stats as any)?.total_approved_amount || 0).toLocaleString('ar-SA')} \u0631.\u0633</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n              <div class=\"flex items-center mb-4\">\r\n                <div class=\"bg-purple-100 rounded-full p-3 ml-4\">\r\n                  <i class=\"fas fa-percentage text-2xl text-purple-600\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-gray-600 text-sm\">\u0646\u0633\u0628\u0629 \u0627\u0644\u0642\u0628\u0648\u0644</p>\r\n                  <p class=\"text-2xl font-bold text-gray-800\">${(((stats as any)?.approved_requests || 0) / Math.max((stats as any)?.total_requests, 1) * 100).toFixed(1)}%</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n              <div class=\"flex items-center mb-4\">\r\n                <div class=\"bg-orange-100 rounded-full p-3 ml-4\">\r\n                  <i class=\"fas fa-calculator text-2xl text-orange-600\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-gray-600 text-sm\">\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0645\u0628\u0644\u063A</p>\r\n                  <p class=\"text-2xl font-bold text-gray-800\">${(parseFloat((stats as any)?.total_requested_amount || 0) / Math.max((stats as any)?.total_requests, 1)).toLocaleString('ar-SA', {maximumFractionDigits: 0})} \u0631.\u0633</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Quick Insights -->\r\n          <div class=\"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl shadow-lg p-6 mb-8 text-white\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 class=\"text-2xl font-bold mb-2\">\r\n                  <i class=\"fas fa-lightbulb ml-2\"></i>\r\n                  \u0631\u0624\u0649 \u0633\u0631\u064A\u0639\u0629\r\n                </h3>\r\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\r\n                  <div class=\"bg-white/20 rounded-lg p-4\">\r\n                    <p class=\"text-sm opacity-90\">\u0623\u0643\u062B\u0631 \u0627\u0644\u0628\u0646\u0648\u0643 \u0637\u0644\u0628\u0627\u064B</p>\r\n                    <p class=\"text-xl font-bold mt-1\">${topBanksData[0]?.bank_name || '\u0644\u0627 \u064A\u0648\u062C\u062F'}</p>\r\n                  </div>\r\n                  <div class=\"bg-white/20 rounded-lg p-4\">\r\n                    <p class=\"text-sm opacity-90\">\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0646\u0634\u0637\u0629</p>\r\n                    <p class=\"text-xl font-bold mt-1\">${((stats as any)?.pending_requests || 0) + ((stats as any)?.under_review_requests || 0)}</p>\r\n                  </div>\r\n                  <div class=\"bg-white/20 rounded-lg p-4\">\r\n                    <p class=\"text-sm opacity-90\">\u0645\u0639\u062F\u0644 \u0627\u0644\u0646\u062C\u0627\u062D</p>\r\n                    <p class=\"text-xl font-bold mt-1\">${(((stats as any)?.approved_requests || 0) / Math.max(((stats as any)?.approved_requests || 0) + ((stats as any)?.rejected_requests || 0), 1) * 100).toFixed(1)}%</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Charts Row -->\r\n          <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n            <!-- Monthly Trend Chart -->\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n              <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n                <i class=\"fas fa-chart-line text-blue-600 ml-2\"></i>\r\n                \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629 (\u0622\u062E\u0631 6 \u0623\u0634\u0647\u0631)\r\n              </h3>\r\n              <canvas id=\"monthlyTrendChart\"></canvas>\r\n            </div>\r\n            \r\n            <!-- Status Distribution Chart -->\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n              <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n                <i class=\"fas fa-chart-pie text-purple-600 ml-2\"></i>\r\n                \u062A\u0648\u0632\u064A\u0639 \u062D\u0627\u0644\u0627\u062A \u0627\u0644\u0637\u0644\u0628\u0627\u062A\r\n              </h3>\r\n              <canvas id=\"statusChart\"></canvas>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Top Banks Section -->\r\n          <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n            <!-- Top Banks Table -->\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n              <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n                <i class=\"fas fa-trophy text-yellow-500 ml-2\"></i>\r\n                \u0623\u0643\u062B\u0631 \u0627\u0644\u0628\u0646\u0648\u0643 \u0646\u0634\u0627\u0637\u0627\u064B\r\n              </h3>\r\n              <div class=\"overflow-x-auto\">\r\n                <table class=\"w-full text-right\">\r\n                  <thead class=\"bg-gray-100\">\r\n                    <tr>\r\n                      <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0627\u0644\u062A\u0631\u062A\u064A\u0628</th>\r\n                      <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0627\u0644\u0628\u0646\u0643</th>\r\n                      <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0627\u0644\u0637\u0644\u0628\u0627\u062A</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    ${topBanksData.map((bank: any, index: number) => {\r\n                      const medal = index === 0 ? '\uD83E\uDD47' : index === 1 ? '\uD83E\uDD48' : index === 2 ? '\uD83E\uDD49' : (index + 1).toString()\r\n                      return `\r\n                      <tr class=\"border-t hover:bg-gray-50\">\r\n                        <td class=\"px-4 py-3\">\r\n                          <span class=\"text-2xl\">${medal}</span>\r\n                        </td>\r\n                        <td class=\"px-4 py-3 font-bold text-gray-800\">${bank.bank_name}</td>\r\n                        <td class=\"px-4 py-3 text-blue-600 font-bold\">${bank.request_count}</td>\r\n                      </tr>\r\n                      `\r\n                    }).join('')}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Top Banks Chart -->\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n              <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n                <i class=\"fas fa-chart-bar text-green-600 ml-2\"></i>\r\n                \u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0628\u0646\u0648\u0643\r\n              </h3>\r\n              <canvas id=\"banksChart\"></canvas>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Status Details -->\r\n          <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n              <i class=\"fas fa-info-circle text-blue-600 ml-2\"></i>\r\n              \u062A\u0641\u0627\u0635\u064A\u0644 \u062D\u0627\u0644\u0627\u062A \u0627\u0644\u0637\u0644\u0628\u0627\u062A\r\n            </h3>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n              ${statusData.map((item: any) => {\r\n                const statusInfo = {\r\n                  'pending': { color: 'yellow', icon: 'clock', label: '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631' },\r\n                  'under_review': { color: 'blue', icon: 'search', label: '\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629' },\r\n                  'approved': { color: 'green', icon: 'check-circle', label: '\u0645\u0648\u0627\u0641\u0642' },\r\n                  'rejected': { color: 'red', icon: 'times-circle', label: '\u0645\u0631\u0641\u0648\u0636' }\r\n                }[item.status] || { color: 'gray', icon: 'question', label: item.status }\r\n                \r\n                return `\r\n                  <div class=\"bg-${statusInfo.color}-50 border-2 border-${statusInfo.color}-200 rounded-lg p-4\">\r\n                    <div class=\"flex items-center justify-between mb-2\">\r\n                      <i class=\"fas fa-${statusInfo.icon} text-2xl text-${statusInfo.color}-600\"></i>\r\n                      <span class=\"text-3xl font-bold text-${statusInfo.color}-600\">${item.count}</span>\r\n                    </div>\r\n                    <p class=\"text-sm text-gray-700 font-bold\">${statusInfo.label}</p>\r\n                    <p class=\"text-xs text-gray-600\">${item.percentage}% \u0645\u0646 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A</p>\r\n                  </div>\r\n                `\r\n              }).join('')}\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <script>\r\n          // Monthly Trend Chart\r\n          const monthlyCtx = document.getElementById('monthlyTrendChart').getContext('2d');\r\n          const monthlyData = ${JSON.stringify(monthlyData)};\r\n          \r\n          new Chart(monthlyCtx, {\r\n            type: 'line',\r\n            data: {\r\n              labels: monthlyData.map(d => d.month),\r\n              datasets: [{\r\n                label: '\u0639\u062F\u062F \u0627\u0644\u0637\u0644\u0628\u0627\u062A',\r\n                data: monthlyData.map(d => d.count),\r\n                borderColor: 'rgb(59, 130, 246)',\r\n                backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n                tension: 0.4,\r\n                fill: true\r\n              }]\r\n            },\r\n            options: {\r\n              responsive: true,\r\n              plugins: {\r\n                legend: { display: true, position: 'top' }\r\n              },\r\n              scales: {\r\n                y: { beginAtZero: true }\r\n              }\r\n            }\r\n          });\r\n          \r\n          // Status Distribution Chart\r\n          const statusCtx = document.getElementById('statusChart').getContext('2d');\r\n          const statusData = ${JSON.stringify(statusData)};\r\n          \r\n          const statusColors = {\r\n            'pending': '#EAB308',\r\n            'under_review': '#3B82F6',\r\n            'approved': '#10B981',\r\n            'rejected': '#EF4444'\r\n          };\r\n          \r\n          const statusLabels = {\r\n            'pending': '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631',\r\n            'under_review': '\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629',\r\n            'approved': '\u0645\u0648\u0627\u0641\u0642',\r\n            'rejected': '\u0645\u0631\u0641\u0648\u0636'\r\n          };\r\n          \r\n          new Chart(statusCtx, {\r\n            type: 'doughnut',\r\n            data: {\r\n              labels: statusData.map(d => statusLabels[d.status] || d.status),\r\n              datasets: [{\r\n                data: statusData.map(d => d.count),\r\n                backgroundColor: statusData.map(d => statusColors[d.status] || '#6B7280'),\r\n                borderWidth: 2,\r\n                borderColor: '#fff'\r\n              }]\r\n            },\r\n            options: {\r\n              responsive: true,\r\n              plugins: {\r\n                legend: { position: 'right' }\r\n              }\r\n            }\r\n          });\r\n          \r\n          // Banks Distribution Chart\r\n          const banksCtx = document.getElementById('banksChart').getContext('2d');\r\n          const topBanksData = ${JSON.stringify(topBanksData)};\r\n          \r\n          new Chart(banksCtx, {\r\n            type: 'bar',\r\n            data: {\r\n              labels: topBanksData.map(b => b.bank_name),\r\n              datasets: [{\r\n                label: '\u0639\u062F\u062F \u0627\u0644\u0637\u0644\u0628\u0627\u062A',\r\n                data: topBanksData.map(b => b.request_count),\r\n                backgroundColor: [\r\n                  'rgba(234, 179, 8, 0.8)',\r\n                  'rgba(192, 192, 192, 0.8)',\r\n                  'rgba(205, 127, 50, 0.8)',\r\n                  'rgba(59, 130, 246, 0.8)',\r\n                  'rgba(16, 185, 129, 0.8)'\r\n                ],\r\n                borderColor: [\r\n                  'rgb(234, 179, 8)',\r\n                  'rgb(192, 192, 192)',\r\n                  'rgb(205, 127, 50)',\r\n                  'rgb(59, 130, 246)',\r\n                  'rgb(16, 185, 129)'\r\n                ],\r\n                borderWidth: 2\r\n              }]\r\n            },\r\n            options: {\r\n              responsive: true,\r\n              plugins: {\r\n                legend: { display: false }\r\n              },\r\n              scales: {\r\n                y: { \r\n                  beginAtZero: true,\r\n                  ticks: { stepSize: 1 }\r\n                }\r\n              }\r\n            }\r\n          });\r\n          \r\n          // \u062F\u0627\u0644\u0629 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\r\n          function doLogout() {\r\n            if (confirm('\u0647\u0644 \u062A\u0631\u064A\u062F \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\u061F')) {\r\n              console.log('\uD83D\uDEAA \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C \u0645\u0646 \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A...');\r\n              localStorage.removeItem('user');\r\n              localStorage.removeItem('userData');\r\n              localStorage.removeItem('token');\r\n              window.location.href = '/login';\r\n            }\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// \u0635\u0641\u062D\u0629 \u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F - \u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 \u0642\u0628\u0644 /:id\r\napp.get('/admin/customers/add', async (c) => {\r\n  return c.html(`\r\n    <!DOCTYPE html>\r\n    <html lang=\"ar\" dir=\"rtl\">\r\n    <head>\r\n      <meta charset=\"UTF-8\">\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n      <title>\u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F</title>\r\n      <script src=\"https://cdn.tailwindcss.com\"></script>\r\n      <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    </head>\r\n    <body class=\"bg-gray-50\">\r\n      <div class=\"max-w-4xl mx-auto p-6\">\r\n        <div class=\"mb-6\">\r\n          <a href=\"/admin/customers\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621</a>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n          <h1 class=\"text-3xl font-bold mb-6 text-gray-800\">\r\n            <i class=\"fas fa-user-plus text-green-600 ml-2\"></i>\r\n            \u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F\r\n          </h1>\r\n          \r\n          <form method=\"POST\" action=\"/api/customers\" enctype=\"application/x-www-form-urlencoded\" class=\"space-y-6\">\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-user text-blue-600 ml-1\"></i>\r\n                  \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *\r\n                </label>\r\n                <input type=\"text\" name=\"full_name\" required \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                       placeholder=\"\u0645\u062B\u0627\u0644: \u0623\u062D\u0645\u062F \u0645\u062D\u0645\u062F \u0627\u0644\u0633\u0639\u064A\u062F\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-phone text-green-600 ml-1\"></i>\r\n                  \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 *\r\n                </label>\r\n                <input type=\"tel\" name=\"phone\" required \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                       placeholder=\"05xxxxxxxx\">\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-envelope text-red-600 ml-1\"></i>\r\n                  \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\r\n                </label>\r\n                <input type=\"email\" name=\"email\" \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                       placeholder=\"example@domain.com\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-id-card text-purple-600 ml-1\"></i>\r\n                  \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A *\r\n                </label>\r\n                <input type=\"text\" name=\"national_id\" required\r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                       placeholder=\"1xxxxxxxxx\">\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-calendar text-orange-600 ml-1\"></i>\r\n                  \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F\r\n                </label>\r\n                <input type=\"date\" name=\"date_of_birth\" \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-building text-indigo-600 ml-1\"></i>\r\n                  \u0627\u0633\u0645 \u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644\r\n                </label>\r\n                <input type=\"text\" name=\"employer_name\" \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                       placeholder=\"\u0645\u062B\u0627\u0644: \u0634\u0631\u0643\u0629 \u0623\u0631\u0627\u0645\u0643\u0648\">\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-briefcase text-teal-600 ml-1\"></i>\r\n                  \u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A\r\n                </label>\r\n                <input type=\"text\" name=\"job_title\" \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                       placeholder=\"\u0645\u062B\u0627\u0644: \u0645\u0647\u0646\u062F\u0633\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-calendar-check text-pink-600 ml-1\"></i>\r\n                  \u062A\u0627\u0631\u064A\u062E \u0628\u062F\u0621 \u0627\u0644\u0639\u0645\u0644\r\n                </label>\r\n                <input type=\"date\" name=\"work_start_date\" \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-map-marker-alt text-red-600 ml-1\"></i>\r\n                  \u0627\u0644\u0645\u062F\u064A\u0646\u0629\r\n                </label>\r\n                <input type=\"text\" name=\"city\" \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                       placeholder=\"\u0645\u062B\u0627\u0644: \u0627\u0644\u0631\u064A\u0627\u0636\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-money-bill text-green-600 ml-1\"></i>\r\n                  \u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A *\r\n                </label>\r\n                <input type=\"number\" name=\"monthly_salary\" step=\"0.01\" required\r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                       placeholder=\"10000.00\">\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"flex gap-4\">\r\n              <button type=\"submit\" class=\"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-bold\">\r\n                <i class=\"fas fa-plus ml-2\"></i>\r\n                \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0645\u064A\u0644\r\n              </button>\r\n              <a href=\"/admin/customers\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-bold\">\r\n                <i class=\"fas fa-times ml-2\"></i>\r\n                \u0625\u0644\u063A\u0627\u0621\r\n              </a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </body>\r\n    </html>\r\n  `)\r\n})\r\n\r\n// ============================\r\n// \u0635\u0641\u062D\u0629 \u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646 (\u0644\u0644\u0645\u062F\u064A\u0631 \u0641\u0642\u0637)\r\n// ============================\r\napp.get('/admin/customer-assignment', async (c) => {\r\n  // TODO: Add authentication check for manager role\r\n  // For now, assuming we are using admin without tenant in URL\r\n  // This will show ALL data - we need to fix this!\r\n  \r\n  // Temporary: Get tenant_id from query or default to 1\r\n  const tenantId = c.req.query('tenant_id') || 1;\r\n  \r\n  // Get employees of THIS tenant only\r\n  const employees = await c.env.DB.prepare(`\r\n    SELECT id, username, full_name, email, role \r\n    FROM users \r\n    WHERE role = 'employee' AND tenant_id = ?\r\n    ORDER BY full_name\r\n  `).bind(tenantId).all();\r\n\r\n  // Get customers of THIS tenant only\r\n  const customers = await c.env.DB.prepare(`\r\n    SELECT \r\n      c.*,\r\n      ca.employee_id,\r\n      u.full_name as assigned_employee_name\r\n    FROM customers c\r\n    LEFT JOIN customer_assignments ca ON c.id = ca.customer_id\r\n    LEFT JOIN users u ON ca.employee_id = u.id\r\n    WHERE c.tenant_id = ?\r\n    ORDER BY c.created_at DESC\r\n  `).bind(tenantId).all();\r\n\r\n  // Get employee statistics for THIS tenant only\r\n  const employeeStats = await c.env.DB.prepare(`\r\n    SELECT \r\n      u.id,\r\n      u.full_name,\r\n      u.username,\r\n      COUNT(ca.customer_id) as customer_count\r\n    FROM users u\r\n    LEFT JOIN customer_assignments ca ON u.id = ca.employee_id\r\n    LEFT JOIN customers c ON ca.customer_id = c.id AND c.tenant_id = ?\r\n    WHERE u.role = 'employee' AND u.tenant_id = ?\r\n    GROUP BY u.id\r\n    ORDER BY customer_count DESC\r\n  `).bind(tenantId, tenantId).all();\r\n\r\n  const html = `\r\n    <!DOCTYPE html>\r\n    <html dir=\"rtl\" lang=\"ar\">\r\n    <head>\r\n      <meta charset=\"UTF-8\">\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n      <title>\u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646</title>\r\n      <script src=\"https://cdn.tailwindcss.com\"></script>\r\n      <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n      <style>\r\n        .stat-card {\r\n          transition: transform 0.2s, box-shadow 0.2s;\r\n        }\r\n        .stat-card:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 10px 25px rgba(0,0,0,0.15);\r\n        }\r\n        .employee-badge {\r\n          display: inline-block;\r\n          padding: 4px 12px;\r\n          border-radius: 12px;\r\n          font-size: 12px;\r\n          font-weight: bold;\r\n        }\r\n        .assigned { background: #d1fae5; color: #065f46; }\r\n        .unassigned { background: #fee2e2; color: #991b1b; }\r\n        \r\n        ${getMobileResponsiveCSS()}\r\n      </style>\r\n    </head>\r\n    <body class=\"bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-6\">\r\n      <div class=\"max-w-7xl mx-auto\">\r\n        <!-- Header -->\r\n        <div class=\"bg-white rounded-2xl shadow-xl p-6 mb-6\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 class=\"text-3xl font-bold text-gray-800 mb-2\">\r\n                <i class=\"fas fa-users-cog text-indigo-600\"></i>\r\n                \u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646\r\n              </h1>\r\n              <p class=\"text-gray-600\">\u0642\u0645 \u0628\u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646 \u0644\u062A\u0646\u0638\u064A\u0645 \u0627\u0644\u0639\u0645\u0644</p>\r\n            </div>\r\n            <a href=\"/admin/customers\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-all\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0639\u0645\u0644\u0627\u0621\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Statistics Cards -->\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6\">\r\n          ${employeeStats.results.map((emp, index) => {\r\n            const colors = [\r\n              'from-blue-500 to-blue-600',\r\n              'from-green-500 to-green-600',\r\n              'from-purple-500 to-purple-600',\r\n              'from-orange-500 to-orange-600',\r\n              'from-pink-500 to-pink-600'\r\n            ];\r\n            return `\r\n              <div class=\"stat-card bg-gradient-to-br ${colors[index % 5]} text-white rounded-xl p-5 shadow-lg\">\r\n                <div class=\"text-sm opacity-90 mb-1\">${emp.full_name}</div>\r\n                <div class=\"text-3xl font-bold\">${emp.customer_count}</div>\r\n                <div class=\"text-xs opacity-80 mt-1\">\u0639\u0645\u064A\u0644 \u0645\u062E\u0635\u0635</div>\r\n              </div>\r\n            `;\r\n          }).join('')}\r\n        </div>\r\n\r\n        <!-- Bulk Assignment Tools -->\r\n        <div class=\"bg-white rounded-2xl shadow-xl p-6 mb-6\">\r\n          <h2 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n            <i class=\"fas fa-magic text-purple-600\"></i>\r\n            \u0623\u062F\u0648\u0627\u062A \u0627\u0644\u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0633\u0631\u064A\u0639\r\n          </h2>\r\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <button onclick=\"autoDistribute()\" class=\"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-6 py-4 rounded-lg transition-all shadow-md\">\r\n              <i class=\"fas fa-random ml-2\"></i>\r\n              \u062A\u0648\u0632\u064A\u0639 \u062A\u0644\u0642\u0627\u0626\u064A \u0645\u062A\u0633\u0627\u0648\u064A\r\n            </button>\r\n            <button onclick=\"clearAllAssignments()\" class=\"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-4 rounded-lg transition-all shadow-md\">\r\n              <i class=\"fas fa-trash ml-2\"></i>\r\n              \u0645\u0633\u062D \u062C\u0645\u064A\u0639 \u0627\u0644\u062A\u062E\u0635\u064A\u0635\u0627\u062A\r\n            </button>\r\n            <button onclick=\"assignSelected()\" class=\"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-4 rounded-lg transition-all shadow-md\">\r\n              <i class=\"fas fa-check-double ml-2\"></i>\r\n              \u062A\u062E\u0635\u064A\u0635 \u0627\u0644\u0645\u062D\u062F\u062F\u064A\u0646\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Customers Table -->\r\n        <div class=\"bg-white rounded-2xl shadow-xl overflow-hidden\">\r\n          <div class=\"p-6 bg-gradient-to-r from-indigo-500 to-purple-600 text-white\">\r\n            <h2 class=\"text-2xl font-bold\">\r\n              <i class=\"fas fa-list ml-2\"></i>\r\n              \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 (${customers.results.length})\r\n            </h2>\r\n          </div>\r\n          \r\n          <div class=\"p-6\">\r\n            <div class=\"mb-4 flex gap-3\">\r\n              <input type=\"text\" id=\"searchInput\" placeholder=\"\u0628\u062D\u062B...\" class=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none\">\r\n              <select id=\"filterEmployee\" class=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\">\r\n                <option value=\"\">\u0643\u0644 \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646</option>\r\n                <option value=\"unassigned\">\u063A\u064A\u0631 \u0645\u062E\u0635\u0635</option>\r\n                ${employeeStats.results.map(emp => `\r\n                  <option value=\"${emp.id}\">${emp.full_name} (${emp.customer_count})</option>\r\n                `).join('')}\r\n              </select>\r\n            </div>\r\n\r\n            <div class=\"overflow-x-auto\">\r\n              <table class=\"w-full\">\r\n                <thead class=\"bg-gray-100\">\r\n                  <tr>\r\n                    <th class=\"px-4 py-3 text-right\">\r\n                      <input type=\"checkbox\" id=\"selectAll\" class=\"rounded\" onchange=\"toggleSelectAll(this)\">\r\n                    </th>\r\n                    <th class=\"px-4 py-3 text-right\">\u0631\u0642\u0645</th>\r\n                    <th class=\"px-4 py-3 text-right\">\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644</th>\r\n                    <th class=\"px-4 py-3 text-right\">\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644</th>\r\n                    <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</th>\r\n                    <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0645\u0648\u0638\u0641 \u0627\u0644\u0645\u062E\u0635\u0635</th>\r\n                    <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody id=\"customersTableBody\">\r\n                  ${customers.results.map(customer => `\r\n                    <tr class=\"border-t hover:bg-gray-50 customer-row\" data-customer-id=\"${customer.id}\" data-employee-id=\"${customer.employee_id || ''}\">\r\n                      <td class=\"px-4 py-3\">\r\n                        <input type=\"checkbox\" class=\"customer-checkbox rounded\" value=\"${customer.id}\">\r\n                      </td>\r\n                      <td class=\"px-4 py-3\">#${customer.id}</td>\r\n                      <td class=\"px-4 py-3 font-semibold\">${customer.full_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</td>\r\n                      <td class=\"px-4 py-3\">${customer.phone || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</td>\r\n                      <td class=\"px-4 py-3\">${customer.email || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</td>\r\n                      <td class=\"px-4 py-3\">\r\n                        ${customer.assigned_employee_name \r\n                          ? `<span class=\"employee-badge assigned\">${customer.assigned_employee_name}</span>`\r\n                          : `<span class=\"employee-badge unassigned\">\u063A\u064A\u0631 \u0645\u062E\u0635\u0635</span>`\r\n                        }\r\n                      </td>\r\n                      <td class=\"px-4 py-3\">\r\n                        <select class=\"assignment-select px-3 py-1 border border-gray-300 rounded text-sm\" \r\n                                data-customer-id=\"${customer.id}\"\r\n                                onchange=\"assignCustomer(${customer.id}, this.value)\">\r\n                          <option value=\"\">\u0627\u062E\u062A\u0631 \u0645\u0648\u0638\u0641...</option>\r\n                          ${employees.results.map(emp => `\r\n                            <option value=\"${emp.id}\" ${customer.employee_id == emp.id ? 'selected' : ''}>\r\n                              ${emp.full_name}\r\n                            </option>\r\n                          `).join('')}\r\n                        </select>\r\n                      </td>\r\n                    </tr>\r\n                  `).join('')}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <script>\r\n        // Assign single customer\r\n        async function assignCustomer(customerId, employeeId) {\r\n          if (!employeeId) {\r\n            if (!confirm('\u0647\u0644 \u062A\u0631\u064A\u062F \u0625\u0644\u063A\u0627\u0621 \u062A\u062E\u0635\u064A\u0635 \u0647\u0630\u0627 \u0627\u0644\u0639\u0645\u064A\u0644\u061F')) return;\r\n          }\r\n          \r\n          try {\r\n            const response = await fetch('/api/customer-assignment', {\r\n              method: 'POST',\r\n              headers: { 'Content-Type': 'application/json' },\r\n              body: JSON.stringify({ \r\n                customer_id: customerId, \r\n                employee_id: employeeId || null,\r\n                notes: ''\r\n              })\r\n            });\r\n            \r\n            const data = await response.json();\r\n            if (data.success) {\r\n              alert('\u062A\u0645 \u0627\u0644\u062A\u062E\u0635\u064A\u0635 \u0628\u0646\u062C\u0627\u062D!');\r\n              location.reload();\r\n            } else {\r\n              alert('\u062D\u062F\u062B \u062E\u0637\u0623: ' + (data.error || '\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641'));\r\n            }\r\n          } catch (error) {\r\n            alert('\u062D\u062F\u062B \u062E\u0637\u0623: ' + error.message);\r\n          }\r\n        }\r\n\r\n        // Auto distribute customers equally\r\n        async function autoDistribute() {\r\n          if (!confirm('\u0633\u064A\u062A\u0645 \u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0628\u0627\u0644\u062A\u0633\u0627\u0648\u064A \u0639\u0644\u0649 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646. \u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629\u061F')) return;\r\n          \r\n          try {\r\n            // Get tenant_id from URL parameter\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            const tenantId = urlParams.get('tenant_id') || '${tenantId}';\r\n            \r\n            const response = await fetch('/api/customer-assignment/auto-distribute', {\r\n              method: 'POST',\r\n              headers: { 'Content-Type': 'application/json' },\r\n              body: JSON.stringify({ tenant_id: tenantId })\r\n            });\r\n            \r\n            const data = await response.json();\r\n            if (data.success) {\r\n              alert(\\`\u062A\u0645 \u062A\u0648\u0632\u064A\u0639 \\${data.assigned_count} \u0639\u0645\u064A\u0644 \u0639\u0644\u0649 \\${data.employee_count} \u0645\u0648\u0638\u0641!\\`);\r\n              location.reload();\r\n            } else {\r\n              alert('\u062D\u062F\u062B \u062E\u0637\u0623: ' + (data.error || '\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641'));\r\n            }\r\n          } catch (error) {\r\n            alert('\u062D\u062F\u062B \u062E\u0637\u0623: ' + error.message);\r\n          }\r\n        }\r\n\r\n        // Clear all assignments\r\n        async function clearAllAssignments() {\r\n          if (!confirm('\u0633\u064A\u062A\u0645 \u0645\u0633\u062D \u062C\u0645\u064A\u0639 \u0627\u0644\u062A\u062E\u0635\u064A\u0635\u0627\u062A. \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F')) return;\r\n          \r\n          try {\r\n            const response = await fetch('/api/customer-assignment/clear-all', {\r\n              method: 'POST'\r\n            });\r\n            \r\n            const data = await response.json();\r\n            if (data.success) {\r\n              alert(\\`\u062A\u0645 \u0645\u0633\u062D \\${data.cleared_count} \u062A\u062E\u0635\u064A\u0635!\\`);\r\n              location.reload();\r\n            }\r\n          } catch (error) {\r\n            alert('\u062D\u062F\u062B \u062E\u0637\u0623: ' + error.message);\r\n          }\r\n        }\r\n\r\n        // Toggle select all checkboxes\r\n        function toggleSelectAll(checkbox) {\r\n          const checkboxes = document.querySelectorAll('.customer-checkbox');\r\n          checkboxes.forEach(cb => cb.checked = checkbox.checked);\r\n        }\r\n\r\n        // Assign selected customers\r\n        async function assignSelected() {\r\n          const selectedIds = Array.from(document.querySelectorAll('.customer-checkbox:checked'))\r\n            .map(cb => cb.value);\r\n          \r\n          if (selectedIds.length === 0) {\r\n            alert('\u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u062D\u062F\u064A\u062F \u0639\u0645\u0644\u0627\u0621 \u0623\u0648\u0644\u0627\u064B');\r\n            return;\r\n          }\r\n          \r\n          const employeeId = prompt('\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0645\u0648\u0638\u0641:');\r\n          if (!employeeId) return;\r\n          \r\n          try {\r\n            const response = await fetch('/api/customer-assignment/bulk', {\r\n              method: 'POST',\r\n              headers: { 'Content-Type': 'application/json' },\r\n              body: JSON.stringify({ \r\n                customer_ids: selectedIds, \r\n                employee_id: employeeId \r\n              })\r\n            });\r\n            \r\n            const data = await response.json();\r\n            if (data.success) {\r\n              alert(\\`\u062A\u0645 \u062A\u062E\u0635\u064A\u0635 \\${data.assigned_count} \u0639\u0645\u064A\u0644!\\`);\r\n              location.reload();\r\n            }\r\n          } catch (error) {\r\n            alert('\u062D\u062F\u062B \u062E\u0637\u0623: ' + error.message);\r\n          }\r\n        }\r\n\r\n        // Search functionality\r\n        document.getElementById('searchInput').addEventListener('input', filterTable);\r\n        document.getElementById('filterEmployee').addEventListener('change', filterTable);\r\n\r\n        function filterTable() {\r\n          const searchTerm = document.getElementById('searchInput').value.toLowerCase();\r\n          const filterEmployee = document.getElementById('filterEmployee').value;\r\n          const rows = document.querySelectorAll('.customer-row');\r\n          \r\n          rows.forEach(row => {\r\n            const text = row.textContent.toLowerCase();\r\n            const employeeId = row.dataset.employeeId;\r\n            \r\n            let matchSearch = text.includes(searchTerm);\r\n            let matchEmployee = true;\r\n            \r\n            if (filterEmployee === 'unassigned') {\r\n              matchEmployee = !employeeId;\r\n            } else if (filterEmployee) {\r\n              matchEmployee = employeeId === filterEmployee;\r\n            }\r\n            \r\n            row.style.display = (matchSearch && matchEmployee) ? '' : 'none';\r\n          });\r\n        }\r\n      </script>\r\n    </body>\r\n    </html>\r\n  `;\r\n\r\n  return c.html(html);\r\n});\r\n\r\n// API: Assign customer to employee\r\napp.post('/api/customer-assignment', async (c) => {\r\n  try {\r\n    const { customer_id, employee_id, notes } = await c.req.json();\r\n    \r\n    // If employee_id is null, delete the assignment\r\n    if (!employee_id) {\r\n      await c.env.DB.prepare(`\r\n        DELETE FROM customer_assignments WHERE customer_id = ?\r\n      `).bind(customer_id).run();\r\n      \r\n      return c.json({ success: true, message: '\u062A\u0645 \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u062A\u062E\u0635\u064A\u0635' });\r\n    }\r\n    \r\n    // Check if assignment already exists\r\n    const existing = await c.env.DB.prepare(`\r\n      SELECT * FROM customer_assignments WHERE customer_id = ?\r\n    `).bind(customer_id).first();\r\n    \r\n    if (existing) {\r\n      // Record in history\r\n      await c.env.DB.prepare(`\r\n        INSERT INTO assignment_history (customer_id, old_employee_id, new_employee_id, changed_by, notes)\r\n        VALUES (?, ?, ?, 1, ?)\r\n      `).bind(customer_id, existing.employee_id, employee_id, notes || '').run();\r\n      \r\n      // Update assignment\r\n      await c.env.DB.prepare(`\r\n        UPDATE customer_assignments \r\n        SET employee_id = ?, assigned_by = 1, assigned_at = NOW(), notes = ?\r\n        WHERE customer_id = ?\r\n      `).bind(employee_id, notes || '', customer_id).run();\r\n    } else {\r\n      // Create new assignment\r\n      await c.env.DB.prepare(`\r\n        INSERT INTO customer_assignments (customer_id, employee_id, assigned_by, notes)\r\n        VALUES (?, ?, 1, ?)\r\n      `).bind(customer_id, employee_id, notes || '').run();\r\n      \r\n      // Record in history\r\n      await c.env.DB.prepare(`\r\n        INSERT INTO assignment_history (customer_id, old_employee_id, new_employee_id, changed_by, notes)\r\n        VALUES (?, NULL, ?, 1, ?)\r\n      `).bind(customer_id, employee_id, notes || '').run();\r\n    }\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u0627\u0644\u062A\u062E\u0635\u064A\u0635 \u0628\u0646\u062C\u0627\u062D' });\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500);\r\n  }\r\n});\r\n\r\n// API: Auto distribute customers equally\r\napp.post('/api/customer-assignment/auto-distribute', async (c) => {\r\n  try {\r\n    // Get tenant_id from query or body\r\n    const body = await c.req.json().catch(() => ({}));\r\n    const tenantId = body.tenant_id || c.req.query('tenant_id') || 1;\r\n    \r\n    // Get employees of THIS tenant only\r\n    const employees = await c.env.DB.prepare(`\r\n      SELECT id FROM users \r\n      WHERE role = 'employee' AND tenant_id = ?\r\n      ORDER BY id\r\n    `).bind(tenantId).all();\r\n    \r\n    if (employees.results.length === 0) {\r\n      return c.json({ success: false, error: '\u0644\u0627 \u064A\u0648\u062C\u062F \u0645\u0648\u0638\u0641\u064A\u0646 \u0641\u064A \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0643\u0629' });\r\n    }\r\n    \r\n    // Get unassigned customers of THIS tenant only\r\n    const customers = await c.env.DB.prepare(`\r\n      SELECT c.id \r\n      FROM customers c\r\n      LEFT JOIN customer_assignments ca ON c.id = ca.customer_id\r\n      WHERE ca.customer_id IS NULL AND c.tenant_id = ?\r\n      ORDER BY c.id\r\n    `).bind(tenantId).all();\r\n    \r\n    let assignedCount = 0;\r\n    const employeeCount = employees.results.length;\r\n    \r\n    // Distribute customers round-robin\r\n    for (let i = 0; i < customers.results.length; i++) {\r\n      const customer = customers.results[i];\r\n      const employee = employees.results[i % employeeCount];\r\n      \r\n      await c.env.DB.prepare(`\r\n        INSERT INTO customer_assignments (customer_id, employee_id, assigned_by, notes)\r\n        VALUES (?, ?, 1, '\u062A\u0648\u0632\u064A\u0639 \u062A\u0644\u0642\u0627\u0626\u064A')\r\n      `).bind(customer.id, employee.id).run();\r\n      \r\n      assignedCount++;\r\n    }\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      assigned_count: assignedCount,\r\n      employee_count: employeeCount\r\n    });\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500);\r\n  }\r\n});\r\n\r\n// API: Clear all assignments\r\napp.post('/api/customer-assignment/clear-all', async (c) => {\r\n  try {\r\n    const result = await c.env.DB.prepare(`\r\n      DELETE FROM customer_assignments\r\n    `).run();\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      cleared_count: result.meta.changes \r\n    });\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500);\r\n  }\r\n});\r\n\r\n// API: Bulk assign customers\r\napp.post('/api/customer-assignment/bulk', async (c) => {\r\n  try {\r\n    const { customer_ids, employee_id } = await c.req.json();\r\n    \r\n    let assignedCount = 0;\r\n    for (const customerId of customer_ids) {\r\n      // Check if exists\r\n      const existing = await c.env.DB.prepare(`\r\n        SELECT * FROM customer_assignments WHERE customer_id = ?\r\n      `).bind(customerId).first();\r\n      \r\n      if (existing) {\r\n        await c.env.DB.prepare(`\r\n          UPDATE customer_assignments \r\n          SET employee_id = ?, assigned_by = 1, assigned_at = NOW()\r\n          WHERE customer_id = ?\r\n        `).bind(employee_id, customerId).run();\r\n      } else {\r\n        await c.env.DB.prepare(`\r\n          INSERT INTO customer_assignments (customer_id, employee_id, assigned_by)\r\n          VALUES (?, ?, 1)\r\n        `).bind(customerId, employee_id).run();\r\n      }\r\n      \r\n      assignedCount++;\r\n    }\r\n    \r\n    return c.json({ \r\n      success: true, \r\n      assigned_count: assignedCount\r\n    });\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500);\r\n  }\r\n});\r\n\r\n// ============================\r\n// \u0635\u0641\u062D\u0629 \u0639\u0631\u0636 \u0627\u0644\u0628\u0646\u0648\u0643 \u062D\u0633\u0628 \u0627\u0644\u0634\u0631\u0643\u0629\r\n// ============================\r\napp.get('/admin/banks', async (c) => {\r\n  try {\r\n    // Get tenant_id from query parameter\r\n    const tenantId = c.req.query('tenant_id');\r\n    \r\n    // Get tenant info\r\n    let tenantInfo = null;\r\n    if (tenantId) {\r\n      const tenant = await c.env.DB.prepare('SELECT company_name FROM tenants WHERE id = ?')\r\n        .bind(tenantId).first();\r\n      tenantInfo = tenant;\r\n    }\r\n    \r\n    // Build query with optional tenant filter\r\n    let query = 'SELECT * FROM banks';\r\n    if (tenantId) {\r\n      query += ' WHERE tenant_id = ?';\r\n    }\r\n    query += ' ORDER BY bank_name';\r\n    \r\n    const banks = tenantId\r\n      ? await c.env.DB.prepare(query).bind(tenantId).all()\r\n      : await c.env.DB.prepare(query).all();\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0627\u0644\u0628\u0646\u0648\u0643 ${tenantInfo ? '- ' + tenantInfo.company_name : ''}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div class=\"flex justify-between items-center mb-6\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-university text-blue-600 ml-2\"></i>\r\n                \u0627\u0644\u0628\u0646\u0648\u0643 ${tenantInfo ? '- ' + tenantInfo.company_name : '(\u062C\u0645\u064A\u0639 \u0627\u0644\u0634\u0631\u0643\u0627\u062A)'}\r\n              </h1>\r\n              <span class=\"text-2xl font-bold text-blue-600\">${banks.results.length} \u0628\u0646\u0643</span>\r\n            </div>\r\n            \r\n            ${banks.results.length === 0 ? `\r\n              <div class=\"text-center py-12\">\r\n                <i class=\"fas fa-university text-gray-300 text-6xl mb-4\"></i>\r\n                <p class=\"text-gray-500 text-xl\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u0646\u0648\u0643 \u0644\u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0643\u0629</p>\r\n              </div>\r\n            ` : `\r\n              <div class=\"overflow-x-auto\">\r\n                <table class=\"w-full\">\r\n                  <thead class=\"bg-gray-100\">\r\n                    <tr>\r\n                      <th class=\"px-6 py-3 text-right text-sm font-bold text-gray-700\">\u0631\u0642\u0645</th>\r\n                      <th class=\"px-6 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643</th>\r\n                      <th class=\"px-6 py-3 text-right text-sm font-bold text-gray-700\">\u0643\u0648\u062F \u0627\u0644\u0628\u0646\u0643</th>\r\n                      <th class=\"px-6 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0634\u0631\u0643\u0629</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody class=\"divide-y divide-gray-200\">\r\n                    ${banks.results.map((bank, index) => `\r\n                      <tr class=\"hover:bg-gray-50\">\r\n                        <td class=\"px-6 py-4 text-sm\">${index + 1}</td>\r\n                        <td class=\"px-6 py-4 font-bold\">${bank.bank_name}</td>\r\n                        <td class=\"px-6 py-4 text-sm text-gray-600\">${bank.bank_code || '-'}</td>\r\n                        <td class=\"px-6 py-4 text-sm\">\r\n                          <span class=\"px-3 py-1 rounded-full text-xs font-bold bg-blue-100 text-blue-800\">\r\n                            Tenant ${bank.tenant_id || 'N/A'}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    `).join('')}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            `}\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `);\r\n  } catch (error: any) {\r\n    return c.html(`<h1>Error: ${error.message}</h1>`, 500);\r\n  }\r\n});\r\n\r\n// ============================\r\n// \u0635\u0641\u062D\u0629 \u0639\u0631\u0636 \u0627\u0644\u0646\u0633\u0628 \u062D\u0633\u0628 \u0627\u0644\u0634\u0631\u0643\u0629\r\n// ============================\r\napp.get('/admin/rates', async (c) => {\r\n  try {\r\n    // Get tenant_id from query parameter\r\n    const tenantId = c.req.query('tenant_id');\r\n    \r\n    // Get tenant info\r\n    let tenantInfo = null;\r\n    if (tenantId) {\r\n      const tenant = await c.env.DB.prepare('SELECT company_name FROM tenants WHERE id = ?')\r\n        .bind(tenantId).first();\r\n      tenantInfo = tenant;\r\n    }\r\n    \r\n    // Build query with optional tenant filter\r\n    let query = `\r\n      SELECT \r\n        r.*,\r\n        b.bank_name,\r\n        f.type_name as financing_type_name\r\n      FROM bank_financing_rates r\r\n      LEFT JOIN banks b ON r.bank_id = b.id\r\n      LEFT JOIN financing_types f ON r.financing_type_id = f.id\r\n    `;\r\n    \r\n    if (tenantId) {\r\n      query += ' WHERE r.tenant_id = ?';\r\n    }\r\n    \r\n    query += ' ORDER BY b.bank_name, f.type_name';\r\n    \r\n    const rates = tenantId\r\n      ? await c.env.DB.prepare(query).bind(tenantId).all()\r\n      : await c.env.DB.prepare(query).all();\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0627\u0644\u0646\u0633\u0628 \u0648\u0627\u0644\u0623\u0633\u0639\u0627\u0631 ${tenantInfo ? '- ' + tenantInfo.company_name : ''}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <style>\r\n          /* Custom Scrollbar - Enhanced */\r\n          .overflow-x-auto {\r\n            overflow-x: auto !important;\r\n            -webkit-overflow-scrolling: touch;\r\n            scrollbar-width: thin;\r\n            scrollbar-color: #10b981 #f7fafc;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar {\r\n            height: 12px;\r\n            width: 12px;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-track {\r\n            background: #e5e7eb;\r\n            border-radius: 10px;\r\n            margin: 0 10px;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-thumb {\r\n            background: linear-gradient(180deg, #10b981 0%, #059669 100%);\r\n            border-radius: 10px;\r\n            border: 2px solid #e5e7eb;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-thumb:hover {\r\n            background: linear-gradient(180deg, #059669 0%, #047857 100%);\r\n            border-color: #d1d5db;\r\n          }\r\n          \r\n          /* Force scrollbar to always show */\r\n          .overflow-x-auto {\r\n            overflow-x: scroll !important; /* Always show scrollbar */\r\n          }\r\n          \r\n          .overflow-x-auto table {\r\n            min-width: 1200px; /* Force table to be wide enough for scrollbar */\r\n            width: max-content;\r\n          }\r\n          \r\n          ${getMobileResponsiveCSS()}\r\n        </style>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div class=\"flex justify-between items-center mb-6\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-percent text-green-600 ml-2\"></i>\r\n                \u0627\u0644\u0646\u0633\u0628 \u0648\u0627\u0644\u0623\u0633\u0639\u0627\u0631 ${tenantInfo ? '- ' + tenantInfo.company_name : '(\u062C\u0645\u064A\u0639 \u0627\u0644\u0634\u0631\u0643\u0627\u062A)'}\r\n              </h1>\r\n              <div class=\"flex flex-wrap items-center gap-4\">\r\n                <span class=\"text-2xl font-bold text-green-600\">${rates.results.length} \u0646\u0633\u0628\u0629</span>\r\n                <div class=\"flex-1\"></div>\r\n                <!-- Search Box -->\r\n                <div class=\"relative\">\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"searchRates\" \r\n                    placeholder=\"\u0628\u062D\u062B \u0639\u0646 \u0628\u0646\u0643 \u0623\u0648 \u0646\u0648\u0639 \u062A\u0645\u0648\u064A\u0644...\" \r\n                    class=\"px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                    onkeyup=\"searchInRatesTable()\"\r\n                  />\r\n                  <i class=\"fas fa-search absolute right-3 top-3 text-gray-400\"></i>\r\n                </div>\r\n                ${tenantId ? `\r\n                  <a href=\"/admin/rates/add?tenant_id=${tenantId}\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-lg\">\r\n                    <i class=\"fas fa-plus ml-2\"></i>\r\n                    \u0625\u0636\u0627\u0641\u0629 \u0646\u0633\u0628\u0629 \u062C\u062F\u064A\u062F\u0629\r\n                  </a>\r\n                ` : ''}\r\n              </div>\r\n            </div>\r\n            \r\n            ${rates.results.length === 0 ? `\r\n              <div class=\"text-center py-12\">\r\n                <i class=\"fas fa-percent text-gray-300 text-6xl mb-4\"></i>\r\n                <p class=\"text-gray-500 text-xl\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u0633\u0628 \u0644\u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0643\u0629</p>\r\n              </div>\r\n            ` : `\r\n              <div class=\"overflow-x-auto\">\r\n                <table class=\"w-full\">\r\n                  <thead class=\"bg-gray-100\">\r\n                    <tr>\r\n                      <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0631\u0642\u0645</th>\r\n                      <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0628\u0646\u0643</th>\r\n                      <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</th>\r\n                      <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0646\u0633\u0628\u0629 %</th>\r\n                      <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649</th>\r\n                      <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649</th>\r\n                      <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0645\u062F\u0629</th>\r\n                      ${tenantId ? '<th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>' : ''}\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody class=\"divide-y divide-gray-200\">\r\n                    ${rates.results.map((rate, index) => `\r\n                      <tr class=\"hover:bg-gray-50\">\r\n                        <td class=\"px-4 py-4 text-sm\">${index + 1}</td>\r\n                        <td class=\"px-4 py-4 font-bold\">${rate.bank_name || '-'}</td>\r\n                        <td class=\"px-4 py-4 text-sm\">${rate.financing_type_name || '-'}</td>\r\n                        <td class=\"px-4 py-4\">\r\n                          <span class=\"px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-800\">\r\n                            ${rate.rate}%\r\n                          </span>\r\n                        </td>\r\n                        <td class=\"px-4 py-4 text-sm\">${rate.min_amount ? rate.min_amount.toLocaleString() : '-'} \u0631\u064A\u0627\u0644</td>\r\n                        <td class=\"px-4 py-4 text-sm\">${rate.max_amount ? rate.max_amount.toLocaleString() : '-'} \u0631\u064A\u0627\u0644</td>\r\n                        <td class=\"px-4 py-4 text-sm\">${rate.min_duration || '-'} - ${rate.max_duration || '-'} \u0634\u0647\u0631</td>\r\n                        ${tenantId ? `\r\n                          <td class=\"px-4 py-4 text-sm\">\r\n                            <a href=\"/admin/rates/edit/${rate.id}?tenant_id=${tenantId}\" class=\"text-blue-600 hover:text-blue-800 ml-2\" title=\"\u062A\u0639\u062F\u064A\u0644\">\r\n                              <i class=\"fas fa-edit\"></i>\r\n                            </a>\r\n                            <button onclick=\"deleteRate(${rate.id})\" class=\"text-red-600 hover:text-red-800\" title=\"\u062D\u0630\u0641\">\r\n                              <i class=\"fas fa-trash\"></i>\r\n                            </button>\r\n                          </td>\r\n                        ` : ''}\r\n                      </tr>\r\n                    `).join('')}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            `}\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          function searchInRatesTable() {\r\n            const searchValue = document.getElementById('searchRates').value.toLowerCase();\r\n            const tableBody = document.querySelector('tbody');\r\n            const rows = tableBody.querySelectorAll('tr');\r\n            \r\n            rows.forEach(row => {\r\n              const bankName = row.cells[1]?.textContent.toLowerCase() || '';\r\n              const financingType = row.cells[2]?.textContent.toLowerCase() || '';\r\n              \r\n              if (bankName.includes(searchValue) || financingType.includes(searchValue)) {\r\n                row.style.display = '';\r\n              } else {\r\n                row.style.display = 'none';\r\n              }\r\n            });\r\n          }\r\n          \r\n          function deleteRate(rateId) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0646\u0633\u0628\u0629\u061F')) return;\r\n            \r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            const tenantId = urlParams.get('tenant_id');\r\n            \r\n            fetch(\\`/api/rates/\\${rateId}\\`, {\r\n              method: 'DELETE',\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + (localStorage.getItem('authToken') || localStorage.getItem('token'))\r\n              }\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n              if (data.success) {\r\n                alert('\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0646\u0633\u0628\u0629 \u0628\u0646\u062C\u0627\u062D');\r\n                window.location.reload();\r\n              } else {\r\n                alert('\u062D\u062F\u062B \u062E\u0637\u0623: ' + data.message);\r\n              }\r\n            })\r\n            .catch(error => {\r\n              alert('\u062D\u062F\u062B \u062E\u0637\u0623: ' + error.message);\r\n            });\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `);\r\n  } catch (error: any) {\r\n    return c.html(`<h1>Error: ${error.message}</h1>`, 500);\r\n  }\r\n});\r\n\r\n// Add Rate Page\r\napp.get('/admin/rates/add', async (c) => {\r\n  const tenantId = c.req.query('tenant_id');\r\n  \r\n  if (!tenantId) {\r\n    return c.html('<h1>\u062E\u0637\u0623: \u064A\u062C\u0628 \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0634\u0631\u0643\u0629</h1>', 400);\r\n  }\r\n  \r\n  const banks = await c.env.DB.prepare('SELECT * FROM banks WHERE is_active = 1 ORDER BY bank_name').all();\r\n  const financingTypes = await c.env.DB.prepare('SELECT * FROM financing_types ORDER BY type_name').all();\r\n  \r\n  return c.html(generateAddRatePage(tenantId, banks.results, financingTypes.results));\r\n});\r\n\r\n// Edit Rate Page\r\napp.get('/admin/rates/edit/:id', async (c) => {\r\n  const rateId = c.req.param('id');\r\n  const tenantId = c.req.query('tenant_id');\r\n  \r\n  if (!tenantId) {\r\n    return c.html('<h1>\u062E\u0637\u0623: \u064A\u062C\u0628 \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0634\u0631\u0643\u0629</h1>', 400);\r\n  }\r\n  \r\n  const rate = await c.env.DB.prepare(`\r\n    SELECT r.*, b.bank_name, f.type_name\r\n    FROM bank_financing_rates r\r\n    LEFT JOIN banks b ON r.bank_id = b.id\r\n    LEFT JOIN financing_types f ON r.financing_type_id = f.id\r\n    WHERE r.id = ? AND r.tenant_id = ?\r\n  `).bind(rateId, tenantId).first();\r\n  \r\n  if (!rate) {\r\n    return c.html('<h1>\u062E\u0637\u0623: \u0627\u0644\u0646\u0633\u0628\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629</h1>', 404);\r\n  }\r\n  \r\n  const banks = await c.env.DB.prepare('SELECT * FROM banks WHERE is_active = 1 ORDER BY bank_name').all();\r\n  const financingTypes = await c.env.DB.prepare('SELECT * FROM financing_types ORDER BY type_name').all();\r\n  \r\n  return c.html(generateEditRatePage(tenantId, rate, banks.results, financingTypes.results));\r\n});\r\n\r\napp.get('/admin/customers', async (c) => {\r\n  try {\r\n    // Get user info (userId, tenantId, roleId)\r\n    const userInfo = await getUserInfo(c);\r\n    \r\n    console.log('\uD83D\uDD0D Customer Page - User Info:', {\r\n      userId: userInfo.userId,\r\n      tenantId: userInfo.tenantId,\r\n      roleId: userInfo.roleId\r\n    });\r\n    \r\n    // Redirect to login if not authenticated\r\n    if (!userInfo.userId || !userInfo.roleId) {\r\n      return c.html(`\r\n        <!DOCTYPE html>\r\n        <html lang=\"ar\" dir=\"rtl\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0637\u0644\u0648\u0628</title>\r\n            <script src=\"https://cdn.tailwindcss.com\"></script>\r\n            <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        </head>\r\n        <body class=\"bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen flex items-center justify-center\">\r\n            <div class=\"max-w-md w-full mx-4\">\r\n                <div class=\"bg-white rounded-2xl shadow-2xl p-8 text-center\">\r\n                    <div class=\"mb-6\">\r\n                        <i class=\"fas fa-lock text-6xl text-blue-600\"></i>\r\n                    </div>\r\n                    <h1 class=\"text-3xl font-bold text-gray-800 mb-4\">\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0637\u0644\u0648\u0628</h1>\r\n                    <p class=\"text-gray-600 mb-6\">\r\n                        \u064A\u062C\u0628 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0635\u0641\u062D\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621\r\n                    </p>\r\n                    <div class=\"space-y-3\">\r\n                        <a href=\"/login\" class=\"block w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors\">\r\n                            <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                            \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644\r\n                        </a>\r\n                        <a href=\"/\" class=\"block w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors\">\r\n                            <i class=\"fas fa-home ml-2\"></i>\r\n                            \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </body>\r\n        </html>\r\n      `);\r\n    }\r\n    \r\n    // Build query based on role\r\n    let query = 'SELECT * FROM customers';\r\n    let queryParams: any[] = [];\r\n    \r\n    if (userInfo.roleId === 1) {\r\n      // Role 1: Super Admin - sees ALL customers\r\n      // No filtering\r\n    } else if (userInfo.roleId === 2 || userInfo.roleId === 3) {\r\n      // Role 2: Company Admin - sees all company customers\r\n      // Role 3: Supervisor - sees all company customers (read-only)\r\n      if (userInfo.tenantId) {\r\n        query += ' WHERE tenant_id = ?';\r\n        queryParams.push(userInfo.tenantId);\r\n      }\r\n    } else if (userInfo.roleId === 4) {\r\n      // Role 4: Employee - sees ONLY assigned customers\r\n      if (userInfo.userId) {\r\n        query += ' WHERE assigned_to = ?';\r\n        queryParams.push(userInfo.userId);\r\n      } else {\r\n        // No assigned customers if user ID not found\r\n        query += ' WHERE 1 = 0';\r\n      }\r\n    } else {\r\n      // Unknown role - no data\r\n      query += ' WHERE 1 = 0';\r\n    }\r\n    \r\n    query += ' ORDER BY created_at DESC';\r\n    \r\n    const customers = queryParams.length > 0\r\n      ? await c.env.DB.prepare(query).bind(...queryParams).all()\r\n      : await c.env.DB.prepare(query).all();\r\n    \r\n    // Determine if user can edit/delete (not for Role 3 - Supervisor)\r\n    const canEdit = userInfo.roleId !== 3;\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0627\u0644\u0639\u0645\u0644\u0627\u0621</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <style>\r\n          /* Custom Scrollbar - Enhanced */\r\n          .overflow-x-auto {\r\n            overflow-x: scroll !important;\r\n            -webkit-overflow-scrolling: touch;\r\n            scrollbar-width: thin;\r\n            scrollbar-color: #10b981 #f7fafc;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar {\r\n            height: 12px;\r\n            width: 12px;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-track {\r\n            background: #e5e7eb;\r\n            border-radius: 10px;\r\n            margin: 0 10px;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-thumb {\r\n            background: linear-gradient(180deg, #10b981 0%, #059669 100%);\r\n            border-radius: 10px;\r\n            border: 2px solid #e5e7eb;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-thumb:hover {\r\n            background: linear-gradient(180deg, #059669 0%, #047857 100%);\r\n            border-color: #d1d5db;\r\n          }\r\n          \r\n          .overflow-x-auto table {\r\n            min-width: 1200px;\r\n            width: max-content;\r\n          }\r\n          \r\n          ${getMobileResponsiveCSS()}\r\n        </style>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</a>\r\n          </div>\r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-users text-green-600 ml-2\"></i>\r\n                \u0627\u0644\u0639\u0645\u0644\u0627\u0621 (<span id=\"totalCount\">${customers.results.length}</span>)\r\n              </h1>\r\n              \r\n              <div class=\"flex gap-3\">\r\n                ${userInfo.roleId !== 3 ? `\r\n                <a href=\"/admin/customer-assignment${userInfo.tenantId ? '?tenant_id=' + userInfo.tenantId : ''}\" \r\n                   class=\"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-md\">\r\n                  <i class=\"fas fa-users-cog ml-2\"></i>\r\n                  \u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0621\r\n                </a>\r\n                ` : ''}\r\n                <button onclick=\"exportToCSV()\" \r\n                        class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-file-export ml-2\"></i>\r\n                  \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n                ${canEdit ? `\r\n                <a href=\"/admin/customers/add\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-plus ml-2\"></i>\r\n                  \u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F\r\n                </a>\r\n                ` : ''}\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- \u0634\u0631\u064A\u0637 \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629 -->\r\n            <div class=\"border-t pt-4\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div class=\"relative\">\r\n                  <i class=\"fas fa-search absolute right-3 top-3.5 text-gray-400\"></i>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"searchInput\" \r\n                    placeholder=\"\u0628\u062D\u062B \u0641\u064A \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644...\" \r\n                    class=\"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                    onkeyup=\"filterTable()\"\r\n                  >\r\n                </div>\r\n                \r\n                <div>\r\n                  <select \r\n                    id=\"filterField\" \r\n                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                    onchange=\"filterTable()\"\r\n                  >\r\n                    <option value=\"all\">\u0627\u0644\u0628\u062D\u062B \u0641\u064A: \u0627\u0644\u0643\u0644</option>\r\n                    <option value=\"name\">\u0627\u0644\u0627\u0633\u0645 \u0641\u0642\u0637</option>\r\n                    <option value=\"phone\">\u0627\u0644\u0647\u0627\u062A\u0641 \u0641\u0642\u0637</option>\r\n                    <option value=\"email\">\u0627\u0644\u0628\u0631\u064A\u062F \u0641\u0642\u0637</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <button \r\n                  onclick=\"resetFilters()\" \r\n                  class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                >\r\n                  <i class=\"fas fa-redo ml-2\"></i>\r\n                  \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <table class=\"min-w-full\" id=\"dataTable\">\r\n              <thead class=\"bg-gray-50\">\r\n                <tr>\r\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">#</th>\r\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0627\u0633\u0645</th>\r\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0647\u0627\u062A\u0641</th>\r\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0628\u0631\u064A\u062F</th>\r\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0633\u062C\u064A\u0644</th>\r\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"bg-white divide-y divide-gray-200\" id=\"tableBody\">\r\n                ${customers.results.map((customer: any) => `\r\n                  <tr class=\"hover:bg-gray-50\" data-name=\"${customer.full_name || ''}\" data-phone=\"${customer.phone || ''}\" data-email=\"${customer.email || ''}\">\r\n                    <td class=\"px-6 py-4 whitespace-nowrap font-bold text-gray-900\">${customer.id}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap font-medium\">${customer.full_name || '-'}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">${customer.phone || '-'}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">${customer.email || '-'}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">${new Date(customer.created_at).toLocaleDateString('ar-SA')}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap text-right\">\r\n                      <div class=\"flex items-center justify-end gap-2\">\r\n                        <a href=\"/admin/customers/${customer.id}/report\" class=\"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1 rounded text-sm\" title=\"\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u0643\u0627\u0645\u0644\">\r\n                          <i class=\"fas fa-file-alt\"></i> \u062A\u0642\u0631\u064A\u0631\r\n                        </a>\r\n                        <a href=\"/admin/customers/${customer.id}\" class=\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm\">\r\n                          <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                        </a>\r\n                        ${canEdit ? `\r\n                        <a href=\"/admin/customers/${customer.id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-sm\">\r\n                          <i class=\"fas fa-edit\"></i> \u062A\u0639\u062F\u064A\u0644\r\n                        </a>\r\n                        <a href=\"/admin/customers/${customer.id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0645\u064A\u0644\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm\">\r\n                          <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                        </a>\r\n                        ` : ''}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                `).join('')}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          // \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629\r\n          function filterTable() {\r\n            const searchInput = document.getElementById('searchInput').value.toLowerCase().trim()\r\n            const filterField = document.getElementById('filterField').value\r\n            const tableBody = document.getElementById('tableBody')\r\n            const rows = tableBody.getElementsByTagName('tr')\r\n            let visibleCount = 0\r\n            \r\n            for (let i = 0; i < rows.length; i++) {\r\n              const row = rows[i]\r\n              const name = row.getAttribute('data-name') || ''\r\n              const phone = row.getAttribute('data-phone') || ''\r\n              const email = row.getAttribute('data-email') || ''\r\n              \r\n              let shouldShow = false\r\n              \r\n              if (searchInput === '') {\r\n                shouldShow = true\r\n              } else {\r\n                switch(filterField) {\r\n                  case 'name':\r\n                    shouldShow = name.toLowerCase().includes(searchInput)\r\n                    break\r\n                  case 'phone':\r\n                    shouldShow = phone.toLowerCase().includes(searchInput)\r\n                    break\r\n                  case 'email':\r\n                    shouldShow = email.toLowerCase().includes(searchInput)\r\n                    break\r\n                  default: // 'all'\r\n                    shouldShow = name.toLowerCase().includes(searchInput) || \r\n                                phone.toLowerCase().includes(searchInput) || \r\n                                email.toLowerCase().includes(searchInput)\r\n                }\r\n              }\r\n              \r\n              row.style.display = shouldShow ? '' : 'none'\r\n              if (shouldShow) visibleCount++\r\n            }\r\n            \r\n            document.getElementById('totalCount').textContent = visibleCount\r\n          }\r\n          \r\n          // \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0641\u0644\u0627\u062A\u0631\r\n          function resetFilters() {\r\n            document.getElementById('searchInput').value = ''\r\n            document.getElementById('filterField').value = 'all'\r\n            filterTable()\r\n          }\r\n          \r\n          // \u0627\u0644\u062A\u0635\u062F\u064A\u0631 \u0625\u0644\u0649 CSV\r\n          function exportToCSV() {\r\n            const data = [\r\n              ['#', '\u0627\u0644\u0627\u0633\u0645', '\u0627\u0644\u0647\u0627\u062A\u0641', '\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A', '\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A', '\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0633\u062C\u064A\u0644'],\r\n              ${customers.results.map((customer: any) => `['${customer.id}', '${customer.full_name || '-'}', '${customer.phone || '-'}', '${customer.email || '-'}', '${customer.national_id || '-'}', '${new Date(customer.created_at).toLocaleDateString('ar-SA')}']`).join(',\\n              ')}\r\n            ];\r\n            \r\n            let csv = '\\\\uFEFF';\r\n            data.forEach(row => {\r\n              csv += row.join(',') + '\\\\n';\r\n            });\r\n            \r\n            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n            const link = document.createElement('a');\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = '\u0627\u0644\u0639\u0645\u0644\u0627\u0621_' + new Date().toISOString().split('T')[0] + '.csv';\r\n            link.click();\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0645\u0631\u0643\u0632 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A ====================\r\n// Roles Management Page\r\napp.get('/admin/roles', async (c) => {\r\n  try {\r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u062F\u0648\u0627\u0631</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"min-h-screen\">\r\n          <!-- Header -->\r\n          <div class=\"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg\">\r\n            <div class=\"max-w-7xl mx-auto px-6 py-4\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h1 class=\"text-2xl font-bold\">\r\n                    <i class=\"fas fa-user-shield ml-2\"></i>\r\n                    \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A\r\n                  </h1>\r\n                  <p class=\"text-sm text-indigo-100 mt-1\">\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0648\u062A\u062D\u062F\u064A\u062F \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</p>\r\n                </div>\r\n                <a href=\"/admin/panel\" class=\"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors\">\r\n                  <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                  \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Main Content -->\r\n          <div class=\"max-w-7xl mx-auto p-6\">\r\n            <!-- Add Role Button -->\r\n            <div class=\"mb-6 flex justify-between items-center\">\r\n              <div>\r\n                <p class=\"text-gray-600\">\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0627\u0644\u0645\u062A\u0627\u062D\u0629 \u0641\u064A \u0627\u0644\u0646\u0638\u0627\u0645</p>\r\n              </div>\r\n              <button onclick=\"openAddRoleModal()\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-lg\">\r\n                <i class=\"fas fa-plus ml-2\"></i>\r\n                \u0625\u0636\u0627\u0641\u0629 \u062F\u0648\u0631 \u062C\u062F\u064A\u062F\r\n              </button>\r\n            </div>\r\n\r\n            <!-- Roles Table -->\r\n            <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n              <div class=\"overflow-x-auto\">\r\n                <table class=\"w-full\">\r\n                  <thead class=\"bg-gradient-to-r from-indigo-600 to-purple-600 text-white\">\r\n                    <tr>\r\n                      <th class=\"px-6 py-4 text-right text-sm font-bold\">#</th>\r\n                      <th class=\"px-6 py-4 text-right text-sm font-bold\">\u0627\u0633\u0645 \u0627\u0644\u062F\u0648\u0631</th>\r\n                      <th class=\"px-6 py-4 text-right text-sm font-bold\">\u0627\u0644\u0648\u0635\u0641</th>\r\n                      <th class=\"px-6 py-4 text-right text-sm font-bold\">\u0639\u062F\u062F \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A</th>\r\n                      <th class=\"px-6 py-4 text-right text-sm font-bold\">\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</th>\r\n                      <th class=\"px-6 py-4 text-right text-sm font-bold\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621</th>\r\n                      <th class=\"px-6 py-4 text-center text-sm font-bold\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody id=\"rolesTable\" class=\"divide-y divide-gray-200\">\r\n                    <tr>\r\n                      <td colspan=\"7\" class=\"text-center py-8 text-gray-500\">\r\n                        <i class=\"fas fa-spinner fa-spin text-2xl mb-2\"></i>\r\n                        <p>\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...</p>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Add Role Modal -->\r\n        <div id=\"addRoleModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n          <div class=\"bg-white rounded-xl p-6 max-w-xl w-full mx-4\">\r\n            <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n              <i class=\"fas fa-plus-circle text-indigo-600 ml-2\"></i>\r\n              \u0625\u0636\u0627\u0641\u0629 \u062F\u0648\u0631 \u062C\u062F\u064A\u062F\r\n            </h2>\r\n            <form id=\"addRoleForm\">\r\n              <div class=\"space-y-4\">\r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0633\u0645 \u0627\u0644\u062F\u0648\u0631 (\u0628\u0627\u0644\u0625\u0646\u062C\u0644\u064A\u0632\u064A\u0629) *</label>\r\n                  <input type=\"text\" name=\"role_name\" required \r\n                         placeholder=\"\u0645\u062B\u0627\u0644: manager\"\r\n                         class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\">\r\n                  <p class=\"text-xs text-gray-500 mt-1\">\u064A\u064F\u0633\u062A\u062E\u062F\u0645 \u0641\u064A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u0628\u0631\u0645\u062C\u0629</p>\r\n                </div>\r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0648\u0635\u0641 (\u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629) *</label>\r\n                  <textarea name=\"description\" required rows=\"3\"\r\n                            placeholder=\"\u0645\u062B\u0627\u0644: \u0645\u062F\u064A\u0631 - \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0645\u062A\u0648\u0633\u0637\u0629\"\r\n                            class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"></textarea>\r\n                  <p class=\"text-xs text-gray-500 mt-1\">\u064A\u0638\u0647\u0631 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0641\u064A \u0627\u0644\u0648\u0627\u062C\u0647\u0629</p>\r\n                </div>\r\n              </div>\r\n              <div class=\"flex gap-3 mt-6\">\r\n                <button type=\"submit\" class=\"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638\r\n                </button>\r\n                <button type=\"button\" onclick=\"closeAddRoleModal()\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                  <i class=\"fas fa-times ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Edit Role Modal -->\r\n        <div id=\"editRoleModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n          <div class=\"bg-white rounded-xl p-6 max-w-xl w-full mx-4\">\r\n            <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n              <i class=\"fas fa-edit text-purple-600 ml-2\"></i>\r\n              \u062A\u0639\u062F\u064A\u0644 \u062F\u0648\u0631\r\n            </h2>\r\n            <form id=\"editRoleForm\">\r\n              <input type=\"hidden\" name=\"role_id\" id=\"editRoleId\">\r\n              <div class=\"space-y-4\">\r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0633\u0645 \u0627\u0644\u062F\u0648\u0631 (\u0628\u0627\u0644\u0625\u0646\u062C\u0644\u064A\u0632\u064A\u0629) *</label>\r\n                  <input type=\"text\" name=\"role_name\" id=\"editRoleName\" required \r\n                         class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\">\r\n                </div>\r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0648\u0635\u0641 (\u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629) *</label>\r\n                  <textarea name=\"description\" id=\"editRoleDescription\" required rows=\"3\"\r\n                            class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"></textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"flex gap-3 mt-6\">\r\n                <button type=\"submit\" class=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A\r\n                </button>\r\n                <button type=\"button\" onclick=\"closeEditRoleModal()\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                  <i class=\"fas fa-times ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <script>\r\n          let rolesData = [];\r\n\r\n          // Load roles\r\n          async function loadRoles() {\r\n            try {\r\n              const authToken = localStorage.getItem('authToken');\r\n              const response = await axios.get('/api/roles', {\r\n                headers: { 'Authorization': 'Bearer ' + authToken }\r\n              });\r\n\r\n              if (response.data.success) {\r\n                rolesData = response.data.data;\r\n                displayRoles(rolesData);\r\n              }\r\n            } catch (error) {\r\n              console.error('Error loading roles:', error);\r\n              alert('\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0623\u062F\u0648\u0627\u0631');\r\n            }\r\n          }\r\n\r\n          // Display roles\r\n          function displayRoles(roles) {\r\n            const tbody = document.getElementById('rolesTable');\r\n            \r\n            if (roles.length === 0) {\r\n              tbody.innerHTML = \\`\r\n                <tr>\r\n                  <td colspan=\"7\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0623\u062F\u0648\u0627\u0631</td>\r\n                </tr>\r\n              \\`;\r\n              return;\r\n            }\r\n\r\n            tbody.innerHTML = roles.map((role, index) => {\r\n              const createdDate = new Date(role.created_at);\r\n              const formattedDate = createdDate.toLocaleDateString('ar-SA');\r\n              \r\n              return \\`\r\n                <tr class=\"hover:bg-gray-50\">\r\n                  <td class=\"px-6 py-4 font-medium\">\\${index + 1}</td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <span class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800\">\r\n                      \\${role.role_name}\r\n                    </span>\r\n                  </td>\r\n                  <td class=\"px-6 py-4 text-gray-600\">\\${role.description}</td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <span class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n                      <i class=\"fas fa-shield-alt ml-1\"></i>\r\n                      \\${role.permissions_count || 0}\r\n                    </span>\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <button onclick=\"viewRoleUsers(\\${role.id})\" class=\"text-blue-600 hover:text-blue-800\">\r\n                      <i class=\"fas fa-users ml-1\"></i>\r\n                      \u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646\r\n                    </button>\r\n                  </td>\r\n                  <td class=\"px-6 py-4 text-sm text-gray-500\">\\${formattedDate}</td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"flex items-center justify-center gap-2\">\r\n                      <button onclick=\"openEditRoleModal(\\${role.id}, '\\${role.role_name}', '\\${role.description}')\" \r\n                              class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-lg text-sm\"\r\n                              title=\"\u062A\u0639\u062F\u064A\u0644\">\r\n                        <i class=\"fas fa-edit\"></i>\r\n                      </button>\r\n                      <button onclick=\"managePermissions(\\${role.id}, '\\${role.role_name}')\" \r\n                              class=\"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1 rounded-lg text-sm\"\r\n                              title=\"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A\">\r\n                        <i class=\"fas fa-shield-alt\"></i>\r\n                      </button>\r\n                      <button onclick=\"deleteRole(\\${role.id}, '\\${role.role_name}')\" \r\n                              class=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg text-sm\"\r\n                              title=\"\u062D\u0630\u0641\">\r\n                        <i class=\"fas fa-trash\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              \\`;\r\n            }).join('');\r\n          }\r\n\r\n          // Open add role modal\r\n          function openAddRoleModal() {\r\n            document.getElementById('addRoleModal').style.display = 'flex';\r\n            document.getElementById('addRoleForm').reset();\r\n          }\r\n\r\n          // Close add role modal\r\n          function closeAddRoleModal() {\r\n            document.getElementById('addRoleModal').style.display = 'none';\r\n          }\r\n\r\n          // Open edit role modal\r\n          function openEditRoleModal(id, name, description) {\r\n            document.getElementById('editRoleId').value = id;\r\n            document.getElementById('editRoleName').value = name;\r\n            document.getElementById('editRoleDescription').value = description;\r\n            document.getElementById('editRoleModal').style.display = 'flex';\r\n          }\r\n\r\n          // Close edit role modal\r\n          function closeEditRoleModal() {\r\n            document.getElementById('editRoleModal').style.display = 'none';\r\n          }\r\n\r\n          // Add role form submission\r\n          document.getElementById('addRoleForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            const formData = new FormData(e.target);\r\n            const data = {\r\n              role_name: formData.get('role_name'),\r\n              description: formData.get('description')\r\n            };\r\n\r\n            try {\r\n              const authToken = localStorage.getItem('authToken');\r\n              const response = await axios.post('/api/roles', data, {\r\n                headers: { \r\n                  'Authorization': 'Bearer ' + authToken,\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              });\r\n\r\n              if (response.data.success) {\r\n                alert('\u2705 ' + response.data.message);\r\n                closeAddRoleModal();\r\n                loadRoles();\r\n              } else {\r\n                alert('\u274C ' + response.data.error);\r\n              }\r\n            } catch (error) {\r\n              console.error('Error adding role:', error);\r\n              alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062F\u0648\u0631');\r\n            }\r\n          });\r\n\r\n          // Edit role form submission\r\n          document.getElementById('editRoleForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            const formData = new FormData(e.target);\r\n            const roleId = formData.get('role_id');\r\n            const data = {\r\n              role_name: formData.get('role_name'),\r\n              description: formData.get('description')\r\n            };\r\n\r\n            try {\r\n              const authToken = localStorage.getItem('authToken');\r\n              const response = await axios.put('/api/roles/' + roleId, data, {\r\n                headers: { \r\n                  'Authorization': 'Bearer ' + authToken,\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              });\r\n\r\n              if (response.data.success) {\r\n                alert('\u2705 ' + response.data.message);\r\n                closeEditRoleModal();\r\n                loadRoles();\r\n              } else {\r\n                alert('\u274C ' + response.data.error);\r\n              }\r\n            } catch (error) {\r\n              console.error('Error updating role:', error);\r\n              alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062F\u0648\u0631');\r\n            }\r\n          });\r\n\r\n          // Delete role\r\n          async function deleteRole(id, name) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u062F\u0648\u0631: ' + name + '\u061F\\\\n\\\\n\u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0631\u062A\u0628\u0637\u0629 \u0628\u0647\u0630\u0627 \u0627\u0644\u062F\u0648\u0631.')) {\r\n              return;\r\n            }\r\n\r\n            try {\r\n              const authToken = localStorage.getItem('authToken');\r\n              const response = await axios.delete('/api/roles/' + id, {\r\n                headers: { 'Authorization': 'Bearer ' + authToken }\r\n              });\r\n\r\n              if (response.data.success) {\r\n                alert('\u2705 ' + response.data.message);\r\n                loadRoles();\r\n              } else {\r\n                alert('\u274C ' + response.data.error);\r\n              }\r\n            } catch (error) {\r\n              console.error('Error deleting role:', error);\r\n              alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u062F\u0648\u0631');\r\n            }\r\n          }\r\n\r\n          // Manage permissions\r\n          function managePermissions(roleId, roleName) {\r\n            window.location.href = '/admin/roles/' + roleId + '/permissions';\r\n          }\r\n\r\n          // View role users\r\n          function viewRoleUsers(roleId) {\r\n            window.location.href = '/admin/users?role_id=' + roleId;\r\n          }\r\n\r\n          // Load data on page load\r\n          loadRoles();\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629</h1><p>' + error.message + '</p>')\r\n  }\r\n})\r\n\r\napp.get('/admin/notifications', async (c) => {\r\n  try {\r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0645\u0631\u0643\u0632 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <style>\r\n          .notification-card {\r\n            transition: all 0.3s ease;\r\n          }\r\n          .notification-card:hover {\r\n            transform: translateX(-5px);\r\n          }\r\n          .notification-unread {\r\n            background: linear-gradient(to right, #EFF6FF, #FFFFFF);\r\n            border-right: 4px solid #3B82F6;\r\n          }\r\n          .notification-read {\r\n            background: #FFFFFF;\r\n            opacity: 0.85;\r\n          }\r\n          .badge-pulse {\r\n            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\r\n          }\r\n          @keyframes pulse {\r\n            0%, 100% { opacity: 1; }\r\n            50% { opacity: .5; }\r\n          }\r\n          \r\n          ${getMobileResponsiveCSS()}\r\n        </style>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"container mx-auto px-4 py-8\">\r\n          <!-- Header -->\r\n          <div class=\"flex justify-between items-center mb-8\">\r\n            <div>\r\n              <h1 class=\"text-4xl font-bold text-gray-800 flex items-center gap-3\">\r\n                <i class=\"fas fa-bell text-blue-600\"></i>\r\n                \u0645\u0631\u0643\u0632 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A\r\n              </h1>\r\n              <p class=\"text-gray-600 mt-2\">\u0625\u062F\u0627\u0631\u0629 \u062C\u0645\u064A\u0639 \u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645</p>\r\n            </div>\r\n            <div class=\"flex gap-3\">\r\n              <button onclick=\"markAllAsRead()\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition font-bold\">\r\n                <i class=\"fas fa-check-double ml-2\"></i>\r\n                \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0643\u0644 \u0643\u0645\u0642\u0631\u0648\u0621\r\n              </button>\r\n              <a href=\"/admin\" class=\"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition font-bold\">\r\n                <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                \u0627\u0644\u0639\u0648\u062F\u0629\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Statistics -->\r\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n            <div class=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg p-6\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p class=\"text-blue-100 text-sm mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A</p>\r\n                  <p class=\"text-4xl font-bold\" id=\"totalCount\">0</p>\r\n                </div>\r\n                <i class=\"fas fa-bell text-6xl opacity-20\"></i>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl shadow-lg p-6\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p class=\"text-green-100 text-sm mb-1\">\u063A\u064A\u0631 \u0645\u0642\u0631\u0648\u0621\u0629</p>\r\n                  <p class=\"text-4xl font-bold badge-pulse\" id=\"unreadCount\">0</p>\r\n                </div>\r\n                <i class=\"fas fa-envelope text-6xl opacity-20\"></i>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-xl shadow-lg p-6\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p class=\"text-purple-100 text-sm mb-1\">\u0645\u0642\u0631\u0648\u0621\u0629</p>\r\n                  <p class=\"text-4xl font-bold\" id=\"readCount\">0</p>\r\n                </div>\r\n                <i class=\"fas fa-envelope-open text-6xl opacity-20\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Filters -->\r\n          <div class=\"bg-white rounded-xl shadow-md p-6 mb-6\">\r\n            <div class=\"flex flex-wrap gap-3\">\r\n              <button onclick=\"filterNotifications('all')\" class=\"filter-btn active px-6 py-2 rounded-lg font-bold transition\">\r\n                <i class=\"fas fa-list ml-2\"></i>\r\n                \u0627\u0644\u0643\u0644\r\n              </button>\r\n              <button onclick=\"filterNotifications('unread')\" class=\"filter-btn px-6 py-2 rounded-lg font-bold transition\">\r\n                <i class=\"fas fa-envelope ml-2\"></i>\r\n                \u063A\u064A\u0631 \u0645\u0642\u0631\u0648\u0621\u0629\r\n              </button>\r\n              <button onclick=\"filterNotifications('read')\" class=\"filter-btn px-6 py-2 rounded-lg font-bold transition\">\r\n                <i class=\"fas fa-envelope-open ml-2\"></i>\r\n                \u0645\u0642\u0631\u0648\u0621\u0629\r\n              </button>\r\n              <button onclick=\"filterNotifications('request')\" class=\"filter-btn px-6 py-2 rounded-lg font-bold transition\">\r\n                <i class=\"fas fa-file-invoice ml-2\"></i>\r\n                \u0637\u0644\u0628\u0627\u062A \u062C\u062F\u064A\u062F\u0629\r\n              </button>\r\n              <button onclick=\"filterNotifications('status_change')\" class=\"filter-btn px-6 py-2 rounded-lg font-bold transition\">\r\n                <i class=\"fas fa-sync ml-2\"></i>\r\n                \u062A\u062D\u062F\u064A\u062B\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u0629\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Notifications List -->\r\n          <div class=\"bg-white rounded-xl shadow-md p-6\">\r\n            <div id=\"notificationsList\" class=\"space-y-4\">\r\n              <div class=\"text-center py-12\">\r\n                <i class=\"fas fa-spinner fa-spin text-4xl text-gray-400 mb-4\"></i>\r\n                <p class=\"text-gray-600\">\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A...</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n        <script>\r\n          let allNotifications = [];\r\n          let currentFilter = 'all';\r\n\r\n          async function loadNotifications() {\r\n            try {\r\n              const response = await axios.get('/api/notifications');\r\n              if (response.data.success) {\r\n                allNotifications = response.data.data;\r\n                updateStats();\r\n                renderNotifications();\r\n              }\r\n            } catch (error) {\r\n              console.error('Error loading notifications:', error);\r\n              document.getElementById('notificationsList').innerHTML = \\`\r\n                <div class=\"text-center py-12\">\r\n                  <i class=\"fas fa-exclamation-circle text-4xl text-red-500 mb-4\"></i>\r\n                  <p class=\"text-red-600\">\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A</p>\r\n                </div>\r\n              \\`;\r\n            }\r\n          }\r\n\r\n          function updateStats() {\r\n            const total = allNotifications.length;\r\n            const unread = allNotifications.filter(n => n.is_read === 0).length;\r\n            const read = total - unread;\r\n\r\n            document.getElementById('totalCount').textContent = total;\r\n            document.getElementById('unreadCount').textContent = unread;\r\n            document.getElementById('readCount').textContent = read;\r\n          }\r\n\r\n          function filterNotifications(filter) {\r\n            currentFilter = filter;\r\n            \r\n            // Update active button\r\n            document.querySelectorAll('.filter-btn').forEach(btn => {\r\n              btn.classList.remove('active', 'bg-blue-600', 'text-white');\r\n              btn.classList.add('bg-gray-100', 'text-gray-700', 'hover:bg-gray-200');\r\n            });\r\n            event.target.closest('button').classList.add('active', 'bg-blue-600', 'text-white');\r\n            event.target.closest('button').classList.remove('bg-gray-100', 'text-gray-700', 'hover:bg-gray-200');\r\n            \r\n            renderNotifications();\r\n          }\r\n\r\n          function renderNotifications() {\r\n            let filtered = allNotifications;\r\n\r\n            if (currentFilter === 'unread') {\r\n              filtered = allNotifications.filter(n => n.is_read === 0);\r\n            } else if (currentFilter === 'read') {\r\n              filtered = allNotifications.filter(n => n.is_read === 1);\r\n            } else if (currentFilter === 'request' || currentFilter === 'status_change') {\r\n              filtered = allNotifications.filter(n => n.category === currentFilter);\r\n            }\r\n\r\n            if (filtered.length === 0) {\r\n              document.getElementById('notificationsList').innerHTML = \\`\r\n                <div class=\"text-center py-12\">\r\n                  <i class=\"fas fa-inbox text-4xl text-gray-400 mb-4\"></i>\r\n                  <p class=\"text-gray-600\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0625\u0634\u0639\u0627\u0631\u0627\u062A</p>\r\n                </div>\r\n              \\`;\r\n              return;\r\n            }\r\n\r\n            const html = filtered.map(notification => {\r\n              const typeIcons = {\r\n                info: 'fa-info-circle text-blue-600',\r\n                success: 'fa-check-circle text-green-600',\r\n                warning: 'fa-exclamation-triangle text-yellow-600',\r\n                error: 'fa-times-circle text-red-600'\r\n              };\r\n\r\n              const categoryIcons = {\r\n                request: 'fa-file-invoice',\r\n                status_change: 'fa-sync',\r\n                system: 'fa-cog',\r\n                general: 'fa-bell'\r\n              };\r\n\r\n              const typeIcon = typeIcons[notification.type] || typeIcons.info;\r\n              const categoryIcon = categoryIcons[notification.category] || categoryIcons.general;\r\n              \r\n              return \\`\r\n                <div class=\"notification-card \\${notification.is_read === 0 ? 'notification-unread' : 'notification-read'} rounded-lg p-4 shadow-sm\">\r\n                  <div class=\"flex items-start gap-4\">\r\n                    <div class=\"flex-shrink-0\">\r\n                      <i class=\"fas \\${typeIcon} text-3xl\"></i>\r\n                    </div>\r\n                    <div class=\"flex-1\">\r\n                      <div class=\"flex items-start justify-between mb-2\">\r\n                        <h3 class=\"text-lg font-bold text-gray-800\">\\${notification.title}</h3>\r\n                        <div class=\"flex gap-2\">\r\n                          \\${notification.is_read === 0 ? \\`\r\n                            <button onclick=\"markAsRead(\\${notification.id})\" class=\"text-blue-600 hover:text-blue-800 transition\" title=\"\u062A\u062D\u062F\u064A\u062F \u0643\u0645\u0642\u0631\u0648\u0621\">\r\n                              <i class=\"fas fa-check\"></i>\r\n                            </button>\r\n                          \\` : ''}\r\n                          <button onclick=\"deleteNotification(\\${notification.id})\" class=\"text-red-600 hover:text-red-800 transition\" title=\"\u062D\u0630\u0641\">\r\n                            <i class=\"fas fa-trash\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                      <p class=\"text-gray-700 mb-3\">\\${notification.message}</p>\r\n                      <div class=\"flex items-center gap-4 text-sm text-gray-600\">\r\n                        <span>\r\n                          <i class=\"fas \\${categoryIcon} ml-1\"></i>\r\n                          \\${notification.category === 'request' ? '\u0637\u0644\u0628 \u062C\u062F\u064A\u062F' : \r\n                            notification.category === 'status_change' ? '\u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629' : \r\n                            notification.category === 'system' ? '\u0646\u0638\u0627\u0645' : '\u0639\u0627\u0645'}\r\n                        </span>\r\n                        <span>\r\n                          <i class=\"fas fa-clock ml-1\"></i>\r\n                          \\${new Date(notification.created_at).toLocaleString('ar-SA')}\r\n                        </span>\r\n                        \\${notification.related_request_id ? \\`\r\n                          <a href=\"/admin/requests/\\${notification.related_request_id}\" class=\"text-blue-600 hover:text-blue-800 font-bold\">\r\n                            <i class=\"fas fa-external-link-alt ml-1\"></i>\r\n                            \u0639\u0631\u0636 \u0627\u0644\u0637\u0644\u0628 #\\${notification.related_request_id}\r\n                          </a>\r\n                        \\` : ''}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              \\`;\r\n            }).join('');\r\n\r\n            document.getElementById('notificationsList').innerHTML = html;\r\n          }\r\n\r\n          async function markAsRead(id) {\r\n            try {\r\n              await axios.put(\\`/api/notifications/\\${id}/read\\`);\r\n              await loadNotifications();\r\n            } catch (error) {\r\n              console.error('Error marking as read:', error);\r\n              alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0625\u0634\u0639\u0627\u0631 \u0643\u0645\u0642\u0631\u0648\u0621');\r\n            }\r\n          }\r\n\r\n          async function markAllAsRead() {\r\n            try {\r\n              await axios.put('/api/notifications/read-all');\r\n              await loadNotifications();\r\n              alert('\u2713 \u062A\u0645 \u062A\u062D\u062F\u064A\u062F \u062C\u0645\u064A\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0643\u0645\u0642\u0631\u0648\u0621\u0629');\r\n            } catch (error) {\r\n              console.error('Error marking all as read:', error);\r\n              alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A');\r\n            }\r\n          }\r\n\r\n          async function deleteNotification(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u061F')) return;\r\n            \r\n            try {\r\n              await axios.delete(\\`/api/notifications/\\${id}\\`);\r\n              await loadNotifications();\r\n            } catch (error) {\r\n              console.error('Error deleting notification:', error);\r\n              alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062D\u0630\u0641 \u0627\u0644\u0625\u0634\u0639\u0627\u0631');\r\n            }\r\n          }\r\n\r\n          // Load notifications on page load\r\n          loadNotifications();\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// Edit financing request page\r\napp.get('/admin/requests/:id/edit', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // Get request details\r\n    const request = await c.env.DB.prepare(`\r\n      SELECT \r\n        fr.*,\r\n        c.full_name as customer_name,\r\n        c.phone as customer_phone,\r\n        b.bank_name\r\n      FROM financing_requests fr\r\n      LEFT JOIN customers c ON fr.customer_id = c.id\r\n      LEFT JOIN banks b ON fr.selected_bank_id = b.id\r\n      WHERE fr.id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!request) {\r\n      return c.html('<h1>\u0627\u0644\u0637\u0644\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    // Get all banks for dropdown\r\n    const banks = await c.env.DB.prepare(`\r\n      SELECT id, bank_name FROM banks ORDER BY bank_name\r\n    `).all()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0639\u062F\u064A\u0644 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 #${id}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/requests\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0637\u0644\u0628\u0627\u062A</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-8\">\r\n              <i class=\"fas fa-edit text-yellow-600 ml-2\"></i>\r\n              \u062A\u0639\u062F\u064A\u0644 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 #${id}\r\n            </h1>\r\n            \r\n            <form id=\"editForm\" onsubmit=\"handleSubmit(event)\" class=\"space-y-6\">\r\n              <!-- Customer Information (Read Only) -->\r\n              <div class=\"border-b pb-6\">\r\n                <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                  <i class=\"fas fa-user ml-2\"></i>\r\n                  \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 (\u0644\u0644\u0639\u0631\u0636 \u0641\u0642\u0637)\r\n                </h2>\r\n                <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n                  <p class=\"text-gray-700\"><strong>\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644:</strong> ${request.customer_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                  <p class=\"text-gray-700\"><strong>\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644:</strong> ${request.customer_phone || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                  <p class=\"text-gray-700\"><strong>\u0627\u0644\u0628\u0646\u0643:</strong> ${request.bank_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <!-- Financing Information -->\r\n              <div class=\"border-b pb-6\">\r\n                <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                  <i class=\"fas fa-money-bill-wave ml-2\"></i>\r\n                  \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n                </h2>\r\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      id=\"requested_amount\"\r\n                      value=\"${request.requested_amount || 0}\"\r\n                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      required\r\n                    >\r\n                  </div>\r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 (\u0628\u0627\u0644\u0623\u0634\u0647\u0631)</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      id=\"duration_months\"\r\n                      value=\"${request.duration_months || 0}\"\r\n                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      required\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <!-- Financial Details -->\r\n              <div class=\"border-b pb-6\">\r\n                <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                  <i class=\"fas fa-chart-line ml-2\"></i>\r\n                  \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0627\u0644\u064A\u0629\r\n                </h2>\r\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0648\u0642\u062A \u0627\u0644\u0637\u0644\u0628</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      id=\"salary_at_request\"\r\n                      value=\"${request.salary_at_request || 0}\"\r\n                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    >\r\n                  </div>\r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629</label>\r\n                    <input \r\n                      type=\"number\" \r\n                      id=\"monthly_obligations\"\r\n                      value=\"${request.monthly_obligations || 0}\"\r\n                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <!-- Attachments Section -->\r\n              <div class=\"border-b pb-6\">\r\n                <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                  <i class=\"fas fa-paperclip ml-2\"></i>\r\n                  \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A\r\n                </h2>\r\n                \r\n                <!-- Current Attachments -->\r\n                <div class=\"mb-6 bg-gray-50 p-4 rounded-lg\">\r\n                  <h3 class=\"font-bold text-gray-700 mb-3\">\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629:</h3>\r\n                  <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div class=\"border-r pr-4\">\r\n                      <p class=\"text-sm text-gray-600 mb-2\"><i class=\"fas fa-id-card ml-1\"></i> \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629:</p>\r\n                      ${request.id_attachment_url ? `\r\n                        <a href=\"${request.id_attachment_url}\" target=\"_blank\" class=\"text-blue-600 hover:text-blue-800 text-sm\">\r\n                          <i class=\"fas fa-external-link-alt ml-1\"></i> \u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641\r\n                        </a>\r\n                      ` : '<span class=\"text-red-500 text-sm\">\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0631\u0641\u0639</span>'}\r\n                    </div>\r\n                    <div>\r\n                      <p class=\"text-sm text-gray-600 mb-2\"><i class=\"fas fa-file-invoice ml-1\"></i> \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628:</p>\r\n                      ${request.bank_statement_attachment_url ? `\r\n                        <a href=\"${request.bank_statement_attachment_url}\" target=\"_blank\" class=\"text-blue-600 hover:text-blue-800 text-sm\">\r\n                          <i class=\"fas fa-external-link-alt ml-1\"></i> \u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641\r\n                        </a>\r\n                      ` : '<span class=\"text-red-500 text-sm\">\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0631\u0641\u0639</span>'}\r\n                    </div>\r\n                    <div class=\"border-r pr-4\">\r\n                      <p class=\"text-sm text-gray-600 mb-2\"><i class=\"fas fa-money-check ml-1\"></i> \u062A\u0639\u0631\u064A\u0641 \u0627\u0644\u0631\u0627\u062A\u0628:</p>\r\n                      ${request.salary_attachment_url ? `\r\n                        <a href=\"${request.salary_attachment_url}\" target=\"_blank\" class=\"text-blue-600 hover:text-blue-800 text-sm\">\r\n                          <i class=\"fas fa-external-link-alt ml-1\"></i> \u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641\r\n                        </a>\r\n                      ` : '<span class=\"text-red-500 text-sm\">\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0631\u0641\u0639</span>'}\r\n                    </div>\r\n                    <div>\r\n                      <p class=\"text-sm text-gray-600 mb-2\"><i class=\"fas fa-file-alt ml-1\"></i> \u0645\u0631\u0641\u0642\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629:</p>\r\n                      ${request.additional_attachment_url ? `\r\n                        <a href=\"${request.additional_attachment_url}\" target=\"_blank\" class=\"text-blue-600 hover:text-blue-800 text-sm\">\r\n                          <i class=\"fas fa-external-link-alt ml-1\"></i> \u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641\r\n                        </a>\r\n                      ` : '<span class=\"text-red-500 text-sm\">\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0631\u0641\u0639</span>'}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!-- Upload New Attachments -->\r\n                <div class=\"space-y-4\">\r\n                  <h3 class=\"font-bold text-gray-700 mb-3\">\u0631\u0641\u0639 \u0645\u0631\u0641\u0642\u0627\u062A \u062C\u062F\u064A\u062F\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A):</h3>\r\n                  \r\n                  <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <!-- ID Attachment -->\r\n                    <div>\r\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        <i class=\"fas fa-id-card ml-1\"></i> \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629\r\n                      </label>\r\n                      <input \r\n                        type=\"file\"\r\n                        id=\"id_attachment\"\r\n                        accept=\"image/*,application/pdf\"\r\n                        class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                        onchange=\"handleFileSelect('id_attachment')\"\r\n                      >\r\n                      <p class=\"text-xs text-gray-500 mt-1\">JPG, PNG \u0623\u0648 PDF (\u062D\u062F \u0623\u0642\u0635\u0649 5MB)</p>\r\n                      <div id=\"id_attachment_preview\" class=\"mt-2\"></div>\r\n                    </div>\r\n                    \r\n                    <!-- Bank Statement Attachment -->\r\n                    <div>\r\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        <i class=\"fas fa-file-invoice ml-1\"></i> \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A\r\n                      </label>\r\n                      <input \r\n                        type=\"file\"\r\n                        id=\"bank_statement_attachment\"\r\n                        accept=\"image/*,application/pdf\"\r\n                        class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                        onchange=\"handleFileSelect('bank_statement_attachment')\"\r\n                      >\r\n                      <p class=\"text-xs text-gray-500 mt-1\">JPG, PNG \u0623\u0648 PDF (\u062D\u062F \u0623\u0642\u0635\u0649 5MB)</p>\r\n                      <div id=\"bank_statement_attachment_preview\" class=\"mt-2\"></div>\r\n                    </div>\r\n                    \r\n                    <!-- Salary Attachment -->\r\n                    <div>\r\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        <i class=\"fas fa-money-check ml-1\"></i> \u062A\u0639\u0631\u064A\u0641 \u0627\u0644\u0631\u0627\u062A\u0628\r\n                      </label>\r\n                      <input \r\n                        type=\"file\"\r\n                        id=\"salary_attachment\"\r\n                        accept=\"image/*,application/pdf\"\r\n                        class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                        onchange=\"handleFileSelect('salary_attachment')\"\r\n                      >\r\n                      <p class=\"text-xs text-gray-500 mt-1\">JPG, PNG \u0623\u0648 PDF (\u062D\u062F \u0623\u0642\u0635\u0649 5MB)</p>\r\n                      <div id=\"salary_attachment_preview\" class=\"mt-2\"></div>\r\n                    </div>\r\n                    \r\n                    <!-- Additional Attachment -->\r\n                    <div>\r\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        <i class=\"fas fa-file-alt ml-1\"></i> \u0645\u0631\u0641\u0642\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629\r\n                      </label>\r\n                      <input \r\n                        type=\"file\"\r\n                        id=\"additional_attachment\"\r\n                        accept=\"image/*,application/pdf\"\r\n                        class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                        onchange=\"handleFileSelect('additional_attachment')\"\r\n                      >\r\n                      <p class=\"text-xs text-gray-500 mt-1\">JPG, PNG \u0623\u0648 PDF (\u062D\u062F \u0623\u0642\u0635\u0649 5MB)</p>\r\n                      <div id=\"additional_attachment_preview\" class=\"mt-2\"></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <!-- Status and Notes -->\r\n              <div>\r\n                <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                  <i class=\"fas fa-clipboard ml-2\"></i>\r\n                  \u0627\u0644\u062D\u0627\u0644\u0629 \u0648\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A\r\n                </h2>\r\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u0627\u0644\u0629</label>\r\n                    <select \r\n                      id=\"status\"\r\n                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      required\r\n                    >\r\n                      <option value=\"pending\" ${request.status === 'pending' ? 'selected' : ''}>\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631</option>\r\n                      <option value=\"under_review\" ${request.status === 'under_review' ? 'selected' : ''}>\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629</option>\r\n                      <option value=\"approved\" ${request.status === 'approved' ? 'selected' : ''}>\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647</option>\r\n                      <option value=\"rejected\" ${request.status === 'rejected' ? 'selected' : ''}>\u0645\u0631\u0641\u0648\u0636</option>\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"md:col-span-2\">\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A</label>\r\n                    <textarea \r\n                      id=\"notes\"\r\n                      rows=\"3\"\r\n                      class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      placeholder=\"\u0623\u0636\u0641 \u0645\u0644\u0627\u062D\u0638\u0627\u062A...\"\r\n                    >${request.notes || ''}</textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <!-- Submit Buttons -->\r\n              <div class=\"flex gap-4\">\r\n                <button \r\n                  type=\"submit\"\r\n                  class=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                >\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A\r\n                </button>\r\n                <a \r\n                  href=\"/admin/requests\"\r\n                  class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all text-center\"\r\n                >\r\n                  <i class=\"fas fa-times ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621\r\n                </a>\r\n              </div>\r\n            </form>\r\n            \r\n            <div id=\"message\" class=\"mt-4\"></div>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          const attachmentFiles = {\r\n            id_attachment: null,\r\n            bank_statement_attachment: null,\r\n            salary_attachment: null,\r\n            additional_attachment: null\r\n          }\r\n          \r\n          function handleFileSelect(fieldName) {\r\n            const fileInput = document.getElementById(fieldName)\r\n            const file = fileInput.files[0]\r\n            const previewDiv = document.getElementById(fieldName + '_preview')\r\n            \r\n            if (!file) {\r\n              previewDiv.innerHTML = ''\r\n              attachmentFiles[fieldName] = null\r\n              return\r\n            }\r\n            \r\n            // Check file size (5MB max)\r\n            if (file.size > 5 * 1024 * 1024) {\r\n              previewDiv.innerHTML = '<span class=\"text-red-500 text-sm\">\u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627\u064B. \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 5MB</span>'\r\n              fileInput.value = ''\r\n              attachmentFiles[fieldName] = null\r\n              return\r\n            }\r\n            \r\n            attachmentFiles[fieldName] = file\r\n            previewDiv.innerHTML = \\`\r\n              <div class=\"text-sm text-green-600\">\r\n                <i class=\"fas fa-check-circle ml-1\"></i>\r\n                \u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631: \\${file.name} (\\${(file.size / 1024).toFixed(1)} KB)\r\n              </div>\r\n            \\`\r\n          }\r\n          \r\n          async function uploadAttachment(file, attachmentType) {\r\n            const formData = new FormData()\r\n            formData.append('file', file)\r\n            formData.append('attachmentType', attachmentType)\r\n            \r\n            try {\r\n              const response = await axios.post('/api/attachments/upload', formData, {\r\n                headers: {\r\n                  'Content-Type': 'multipart/form-data'\r\n                }\r\n              })\r\n              \r\n              return response.data.url\r\n            } catch (error) {\r\n              console.error('Upload error:', error)\r\n              throw error\r\n            }\r\n          }\r\n          \r\n          async function handleSubmit(event) {\r\n            event.preventDefault()\r\n            \r\n            // Show loading message\r\n            document.getElementById('message').innerHTML = \\`\r\n              <div class=\"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded\">\r\n                <i class=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                \u062C\u0627\u0631\u064A \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A...\r\n              </div>\r\n            \\`\r\n            \r\n            const data = {\r\n              requested_amount: parseFloat(document.getElementById('requested_amount').value),\r\n              duration_months: parseInt(document.getElementById('duration_months').value),\r\n              salary_at_request: parseFloat(document.getElementById('salary_at_request').value) || 0,\r\n              monthly_obligations: parseFloat(document.getElementById('monthly_obligations').value) || 0,\r\n              status: document.getElementById('status').value,\r\n              notes: document.getElementById('notes').value\r\n            }\r\n            \r\n            try {\r\n              // Upload attachments if selected\r\n              if (attachmentFiles.id_attachment) {\r\n                document.getElementById('message').innerHTML = \\`\r\n                  <div class=\"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded\">\r\n                    <i class=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                    \u062C\u0627\u0631\u064A \u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629...\r\n                  </div>\r\n                \\`\r\n                data.id_attachment_url = await uploadAttachment(attachmentFiles.id_attachment, 'id')\r\n              }\r\n              \r\n              if (attachmentFiles.bank_statement_attachment) {\r\n                document.getElementById('message').innerHTML = \\`\r\n                  <div class=\"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded\">\r\n                    <i class=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                    \u062C\u0627\u0631\u064A \u0631\u0641\u0639 \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628...\r\n                  </div>\r\n                \\`\r\n                data.bank_statement_attachment_url = await uploadAttachment(attachmentFiles.bank_statement_attachment, 'bank_statement')\r\n              }\r\n              \r\n              if (attachmentFiles.salary_attachment) {\r\n                document.getElementById('message').innerHTML = \\`\r\n                  <div class=\"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded\">\r\n                    <i class=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                    \u062C\u0627\u0631\u064A \u0631\u0641\u0639 \u062A\u0639\u0631\u064A\u0641 \u0627\u0644\u0631\u0627\u062A\u0628...\r\n                  </div>\r\n                \\`\r\n                data.salary_attachment_url = await uploadAttachment(attachmentFiles.salary_attachment, 'salary')\r\n              }\r\n              \r\n              if (attachmentFiles.additional_attachment) {\r\n                document.getElementById('message').innerHTML = \\`\r\n                  <div class=\"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded\">\r\n                    <i class=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                    \u062C\u0627\u0631\u064A \u0631\u0641\u0639 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u064A\u0629...\r\n                  </div>\r\n                \\`\r\n                data.additional_attachment_url = await uploadAttachment(attachmentFiles.additional_attachment, 'additional')\r\n              }\r\n              \r\n              // Update financing request\r\n              document.getElementById('message').innerHTML = \\`\r\n                <div class=\"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded\">\r\n                  <i class=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                  \u062C\u0627\u0631\u064A \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A \u0627\u0644\u0646\u0647\u0627\u0626\u064A\u0629...\r\n                </div>\r\n              \\`\r\n              \r\n              const response = await axios.put('/api/financing-requests/${id}', data)\r\n              \r\n              if (response.data.success) {\r\n                document.getElementById('message').innerHTML = \\`\r\n                  <div class=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded\">\r\n                    <i class=\"fas fa-check-circle ml-2\"></i>\r\n                    \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0637\u0644\u0628 \u0648\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0628\u0646\u062C\u0627\u062D!\r\n                  </div>\r\n                \\`\r\n                \r\n                setTimeout(() => {\r\n                  window.location.href = '/admin/requests'\r\n                }, 2000)\r\n              }\r\n            } catch (error) {\r\n              console.error('Error:', error)\r\n              document.getElementById('message').innerHTML = \\`\r\n                <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n                  <i class=\"fas fa-exclamation-circle ml-2\"></i>\r\n                  \u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062A\u062D\u062F\u064A\u062B: \\${error.response?.data?.error || error.message}\r\n                </div>\r\n              \\`\r\n            }\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    console.error('Edit request page error:', error)\r\n    return c.html(`<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629: ${error.message}</h1>`)\r\n  }\r\n})\r\n\r\napp.get('/admin/requests', async (c) => {\r\n  try {\r\n    // Get user info (userId, tenantId, roleId)\r\n    const userInfo = await getUserInfo(c);\r\n    \r\n    // Build query with role-based filtering\r\n    let query = `\r\n      SELECT \r\n        fr.id,\r\n        fr.customer_id,\r\n        fr.selected_bank_id,\r\n        fr.requested_amount,\r\n        fr.duration_months,\r\n        fr.status,\r\n        fr.created_at,\r\n        c.full_name as customer_name,\r\n        c.assigned_to as customer_assigned_to,\r\n        b.bank_name as bank_name\r\n      FROM financing_requests fr\r\n      LEFT JOIN customers c ON fr.customer_id = c.id\r\n      LEFT JOIN banks b ON fr.selected_bank_id = b.id\r\n    `;\r\n    \r\n    let queryParams: any[] = [];\r\n    \r\n    if (userInfo.roleId === 1) {\r\n      // Role 1: Super Admin - sees ALL requests\r\n      // No WHERE clause\r\n    } else if (userInfo.roleId === 2 || userInfo.roleId === 3) {\r\n      // Role 2: Company Admin - sees all company requests\r\n      // Role 3: Supervisor - sees all company requests (read-only)\r\n      if (userInfo.tenantId) {\r\n        query += ' WHERE c.tenant_id = ?';\r\n        queryParams.push(userInfo.tenantId);\r\n      }\r\n    } else if (userInfo.roleId === 4) {\r\n      // Role 4: Employee - sees ONLY requests for assigned customers\r\n      if (userInfo.userId) {\r\n        query += ' WHERE c.assigned_to = ?';\r\n        queryParams.push(userInfo.userId);\r\n      } else {\r\n        query += ' WHERE 1 = 0'; // No data if user ID not found\r\n      }\r\n    } else {\r\n      // Unknown role - no data\r\n      query += ' WHERE 1 = 0';\r\n    }\r\n    \r\n    query += ' ORDER BY fr.created_at DESC';\r\n    \r\n    const requests = queryParams.length > 0\r\n      ? await c.env.DB.prepare(query).bind(...queryParams).all()\r\n      : await c.env.DB.prepare(query).all();\r\n    \r\n    // Determine if user can edit/delete (not for Role 3 - Supervisor)\r\n    const canEdit = userInfo.roleId !== 3;\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <style>\r\n          /* Custom Scrollbar - Enhanced */\r\n          .overflow-x-auto {\r\n            overflow-x: scroll !important;\r\n            -webkit-overflow-scrolling: touch;\r\n            scrollbar-width: thin;\r\n            scrollbar-color: #3b82f6 #f7fafc;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar {\r\n            height: 12px;\r\n            width: 12px;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-track {\r\n            background: #e5e7eb;\r\n            border-radius: 10px;\r\n            margin: 0 10px;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-thumb {\r\n            background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);\r\n            border-radius: 10px;\r\n            border: 2px solid #e5e7eb;\r\n          }\r\n          \r\n          .overflow-x-auto::-webkit-scrollbar-thumb:hover {\r\n            background: linear-gradient(180deg, #2563eb 0%, #1d4ed8 100%);\r\n            border-color: #d1d5db;\r\n          }\r\n          \r\n          .overflow-x-auto table {\r\n            min-width: 1200px;\r\n            width: max-content;\r\n          }\r\n          \r\n          ${getMobileResponsiveCSS()}\r\n        </style>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <script>\r\n          // Auto-redirect with tenant_id if not present in URL\r\n          (function() {\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            if (!urlParams.has('tenant_id')) {\r\n              const userData = localStorage.getItem('userData');\r\n              if (userData) {\r\n                try {\r\n                  const user = JSON.parse(userData);\r\n                  if (user.tenant_id) {\r\n                    window.location.replace('/admin/requests?tenant_id=' + user.tenant_id);\r\n                  }\r\n                } catch (e) {\r\n                  console.error('Error parsing userData:', e);\r\n                }\r\n              }\r\n            }\r\n          })();\r\n        </script>\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-file-invoice text-purple-600 ml-2\"></i>\r\n                \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 (<span id=\"totalCount\">${requests.results.length}</span>)\r\n              </h1>\r\n              \r\n              <div class=\"flex gap-3\">\r\n                ${canEdit ? `\r\n                <a href=\"/admin/requests/new\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-plus ml-2\"></i>\r\n                  \u0625\u0636\u0627\u0641\u0629 \u062C\u062F\u064A\u062F\r\n                </a>\r\n                ` : ''}\r\n                <button onclick=\"exportToCSV()\" \r\n                        class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-file-export ml-2\"></i>\r\n                  \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n                <a href=\"/admin/reports/requests-followup\" \r\n                   class=\"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-lg font-bold transition-all inline-block text-center\">\r\n                  <i class=\"fas fa-chart-line ml-2\"></i>\r\n                  \u062A\u0642\u0631\u064A\u0631 \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644\r\n                </a>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- \u0634\u0631\u064A\u0637 \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629 -->\r\n            <div class=\"border-t pt-4\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div class=\"relative\">\r\n                  <i class=\"fas fa-search absolute right-3 top-3.5 text-gray-400\"></i>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"searchInput\" \r\n                    placeholder=\"\u0628\u062D\u062B \u0641\u064A \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644...\" \r\n                    class=\"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                    onkeyup=\"filterTable()\"\r\n                  >\r\n                </div>\r\n                \r\n                <div>\r\n                  <select \r\n                    id=\"filterField\" \r\n                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                    onchange=\"filterTable()\"\r\n                  >\r\n                    <option value=\"all\">\u0627\u0644\u0628\u062D\u062B \u0641\u064A: \u0627\u0644\u0643\u0644</option>\r\n                    <option value=\"customer\">\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 \u0641\u0642\u0637</option>\r\n                    <option value=\"bank\">\u0627\u0644\u0628\u0646\u0643 \u0641\u0642\u0637</option>\r\n                    <option value=\"status\">\u0627\u0644\u062D\u0627\u0644\u0629 \u0641\u0642\u0637</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <button \r\n                  onclick=\"resetFilters()\" \r\n                  class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                >\r\n                  <i class=\"fas fa-redo ml-2\"></i>\r\n                  \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <div class=\"overflow-x-auto\">\r\n              <table class=\"min-w-full\" id=\"dataTable\">\r\n                <thead class=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0639\u0645\u064A\u0644</th>\r\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0628\u0646\u0643</th>\r\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0645\u0628\u0644\u063A</th>\r\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0645\u062F\u0629</th>\r\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u062A\u0627\u0631\u064A\u062E</th>\r\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"bg-white divide-y divide-gray-200\" id=\"tableBody\">\r\n                ${requests.results.map((req: any) => {\r\n                  // Map all possible status values to Arabic\r\n                  const statusMap: Record<string, string> = {\r\n                    'pending': '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631',\r\n                    'under_review': '\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629',\r\n                    'approved': '\u0645\u0642\u0628\u0648\u0644',\r\n                    'rejected': '\u0645\u0631\u0641\u0648\u0636',\r\n                    'processing': '\u0642\u064A\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629',\r\n                    'completed': '\u0645\u0643\u062A\u0645\u0644',\r\n                    'cancelled': '\u0645\u0644\u063A\u064A'\r\n                  };\r\n                  const statusAr = statusMap[req.status] || req.status;\r\n                  \r\n                  // Map status to colors\r\n                  const statusColorMap: Record<string, string> = {\r\n                    'pending': 'bg-yellow-100 text-yellow-800',\r\n                    'under_review': 'bg-blue-100 text-blue-800',\r\n                    'approved': 'bg-green-100 text-green-800',\r\n                    'rejected': 'bg-red-100 text-red-800',\r\n                    'processing': 'bg-purple-100 text-purple-800',\r\n                    'completed': 'bg-teal-100 text-teal-800',\r\n                    'cancelled': 'bg-gray-100 text-gray-800'\r\n                  };\r\n                  const statusColor = statusColorMap[req.status] || 'bg-gray-100 text-gray-800';\r\n                  \r\n                  return `\r\n                  <tr class=\"hover:bg-gray-50\" \r\n                      data-customer=\"${req.customer_name || ''}\" \r\n                      data-bank=\"${req.bank_name || ''}\" \r\n                      data-status=\"${statusAr}\">\r\n                    <td class=\"px-6 py-4 whitespace-nowrap font-medium\">${req.customer_name || '\u0639\u0645\u064A\u0644 #' + req.customer_id}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">${req.bank_name || '\u0628\u0646\u0643 #' + (req.selected_bank_id || '-')}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">${req.requested_amount?.toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">${req.duration_months} \u0634\u0647\u0631</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span class=\"px-2 py-1 text-xs rounded-full ${statusColor}\">\r\n                        ${statusAr}\r\n                      </span>\r\n                    </td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">${new Date(req.created_at).toLocaleDateString('ar-SA')}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div class=\"flex gap-2 justify-end\">\r\n                        <a href=\"/admin/requests/${req.id}/workflow\" class=\"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white px-3 py-2 rounded text-xs transition-all shadow-md\" title=\"\u0627\u0644\u062C\u062F\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064A \u0627\u0644\u062A\u0641\u0635\u064A\u0644\u064A\">\r\n                          <i class=\"fas fa-clock\"></i> \u23F1\uFE0F Timeline\r\n                        </a>\r\n                        <a href=\"/admin/requests/${req.id}/report\" class=\"bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded text-xs transition-all\" title=\"\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0637\u0644\u0628 \u0627\u0644\u0643\u0627\u0645\u0644\">\r\n                          <i class=\"fas fa-file-alt\"></i> \u062A\u0642\u0631\u064A\u0631\r\n                        </a>\r\n                        <a href=\"/admin/requests/${req.id}\" class=\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                          <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                        </a>\r\n                        ${canEdit ? `\r\n                        <a href=\"/admin/requests/${req.id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                          <i class=\"fas fa-edit\"></i> \u062A\u0639\u062F\u064A\u0644\r\n                        </a>\r\n                        <a href=\"/admin/requests/${req.id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                          <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                        </a>\r\n                        ` : ''}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                `}).join('')}\r\n              </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          // \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629\r\n          function filterTable() {\r\n            const searchInput = document.getElementById('searchInput').value.toLowerCase().trim()\r\n            const filterField = document.getElementById('filterField').value\r\n            const tableBody = document.getElementById('tableBody')\r\n            const rows = tableBody.getElementsByTagName('tr')\r\n            let visibleCount = 0\r\n            \r\n            for (let i = 0; i < rows.length; i++) {\r\n              const row = rows[i]\r\n              const customer = row.getAttribute('data-customer') || ''\r\n              const bank = row.getAttribute('data-bank') || ''\r\n              const status = row.getAttribute('data-status') || ''\r\n              \r\n              let shouldShow = false\r\n              \r\n              if (searchInput === '') {\r\n                shouldShow = true\r\n              } else {\r\n                switch(filterField) {\r\n                  case 'customer':\r\n                    shouldShow = customer.toLowerCase().includes(searchInput)\r\n                    break\r\n                  case 'bank':\r\n                    shouldShow = bank.toLowerCase().includes(searchInput)\r\n                    break\r\n                  case 'status':\r\n                    shouldShow = status.toLowerCase().includes(searchInput)\r\n                    break\r\n                  default: // 'all'\r\n                    shouldShow = customer.toLowerCase().includes(searchInput) || \r\n                                bank.toLowerCase().includes(searchInput) || \r\n                                status.toLowerCase().includes(searchInput)\r\n                }\r\n              }\r\n              \r\n              row.style.display = shouldShow ? '' : 'none'\r\n              if (shouldShow) visibleCount++\r\n            }\r\n            \r\n            document.getElementById('totalCount').textContent = visibleCount\r\n          }\r\n          \r\n          function resetFilters() {\r\n            document.getElementById('searchInput').value = ''\r\n            document.getElementById('filterField').value = 'all'\r\n            filterTable()\r\n          }\r\n          \r\n          function exportToCSV() {\r\n            const data = [\r\n              ['\u0627\u0644\u0639\u0645\u064A\u0644', '\u0627\u0644\u0628\u0646\u0643', '\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628', '\u0627\u0644\u0645\u062F\u0629 (\u0634\u0647\u0648\u0631)', '\u0627\u0644\u062D\u0627\u0644\u0629', '\u0627\u0644\u062A\u0627\u0631\u064A\u062E'],\r\n              ${requests.results.map((req: any) => {\r\n                const statusMap: Record<string, string> = {\r\n                  'pending': '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631',\r\n                  'under_review': '\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629',\r\n                  'approved': '\u0645\u0642\u0628\u0648\u0644',\r\n                  'rejected': '\u0645\u0631\u0641\u0648\u0636',\r\n                  'processing': '\u0642\u064A\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629',\r\n                  'completed': '\u0645\u0643\u062A\u0645\u0644',\r\n                  'cancelled': '\u0645\u0644\u063A\u064A'\r\n                };\r\n                const statusAr = statusMap[req.status] || req.status;\r\n                const customer = req.customer_name || `\u0639\u0645\u064A\u0644 #${req.customer_id}`;\r\n                const bank = req.bank_name || `\u0628\u0646\u0643 #${req.selected_bank_id || '-'}`;\r\n                return `['${customer}', '${bank}', '${req.requested_amount || 0}', '${req.duration_months}', '${statusAr}', '${new Date(req.created_at).toLocaleDateString('ar-SA')}']`;\r\n              }).join(',\\n              ')}\r\n            ];\r\n            \r\n            let csv = '\\\\uFEFF';\r\n            data.forEach(row => {\r\n              csv += row.join(',') + '\\\\n';\r\n            });\r\n            \r\n            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n            const link = document.createElement('a');\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = '\u0637\u0644\u0628\u0627\u062A_\u0627\u0644\u062A\u0645\u0648\u064A\u0644_' + new Date().toISOString().split('T')[0] + '.csv';\r\n            link.click();\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    console.error('Error in /admin/requests:', error)\r\n    return c.html(`<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1><p style=\"color:red; direction:ltr;\">${error.message}</p><pre style=\"direction:ltr; text-align:left;\">${error.stack}</pre>`)\r\n  }\r\n})\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0639\u0631\u0636 \u0637\u0644\u0628 \u062A\u0645\u0648\u064A\u0644 \u0648\u0627\u062D\u062F ====================\r\napp.get('/admin/requests/new', async (c) => {\r\n  try {\r\n    // Get customers and banks for dropdowns\r\n    const customers = await c.env.DB.prepare('SELECT id, full_name, phone FROM customers ORDER BY full_name').all()\r\n    const banks = await c.env.DB.prepare('SELECT id, bank_name FROM banks WHERE is_active = 1 ORDER BY bank_name').all()\r\n    const financingTypes = await c.env.DB.prepare('SELECT id, type_name FROM financing_types ORDER BY type_name').all()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/requests\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n            </a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-6\">\r\n              <i class=\"fas fa-plus-circle text-purple-600 ml-2\"></i>\r\n              \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F\r\n            </h1>\r\n            \r\n            <form action=\"/api/requests\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\" class=\"space-y-6\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <!-- \u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0639\u0645\u064A\u0644 -->\r\n                <div class=\"md:col-span-2\">\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-user text-blue-600 ml-1\"></i>\r\n                    \u0627\u0644\u0639\u0645\u064A\u0644 *\r\n                  </label>\r\n                  <select name=\"customer_id\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0639\u0645\u064A\u0644 --</option>\r\n                    ${customers.results.map((cust: any) => `\r\n                      <option value=\"${cust.id}\">${cust.full_name} - ${cust.phone}</option>\r\n                    `).join('')}\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-file-invoice text-purple-600 ml-1\"></i>\r\n                    \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 *\r\n                  </label>\r\n                  <select name=\"financing_type_id\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 --</option>\r\n                    ${financingTypes.results.map((type: any) => `\r\n                      <option value=\"${type.id}\">${type.type_name}</option>\r\n                    `).join('')}\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-money-bill-wave text-green-600 ml-1\"></i>\r\n                    \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628 (\u0631\u064A\u0627\u0644) *\r\n                  </label>\r\n                  <input type=\"number\" name=\"requested_amount\" required min=\"1000\" step=\"1000\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: 50000\">\r\n                </div>\r\n                \r\n                <!-- \u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-calendar text-orange-600 ml-1\"></i>\r\n                    \u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 (\u0634\u0647\u0648\u0631) *\r\n                  </label>\r\n                  <select name=\"duration_months\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u062F\u0629 --</option>\r\n                    <option value=\"12\">12 \u0634\u0647\u0631 (\u0633\u0646\u0629)</option>\r\n                    <option value=\"24\">24 \u0634\u0647\u0631 (\u0633\u0646\u062A\u064A\u0646)</option>\r\n                    <option value=\"36\">36 \u0634\u0647\u0631 (3 \u0633\u0646\u0648\u0627\u062A)</option>\r\n                    <option value=\"48\">48 \u0634\u0647\u0631 (4 \u0633\u0646\u0648\u0627\u062A)</option>\r\n                    <option value=\"60\">60 \u0634\u0647\u0631 (5 \u0633\u0646\u0648\u0627\u062A)</option>\r\n                    <option value=\"84\">84 \u0634\u0647\u0631 (7 \u0633\u0646\u0648\u0627\u062A)</option>\r\n                    <option value=\"120\">120 \u0634\u0647\u0631 (10 \u0633\u0646\u0648\u0627\u062A)</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u0631\u0627\u062A\u0628 \u0639\u0646\u062F \u0627\u0644\u0637\u0644\u0628 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-coins text-yellow-600 ml-1\"></i>\r\n                    \u0627\u0644\u0631\u0627\u062A\u0628 \u0639\u0646\u062F \u0627\u0644\u0637\u0644\u0628 (\u0631\u064A\u0627\u0644) *\r\n                  </label>\r\n                  <input type=\"number\" name=\"salary_at_request\" required min=\"1000\" step=\"100\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: 15000\">\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u0628\u0646\u0643 \u0627\u0644\u0645\u062E\u062A\u0627\u0631 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-university text-yellow-600 ml-1\"></i>\r\n                    \u0627\u0644\u0628\u0646\u0643 \u0627\u0644\u0645\u062E\u062A\u0627\u0631\r\n                  </label>\r\n                  <select name=\"selected_bank_id\" class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0646\u0643 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A) --</option>\r\n                    ${banks.results.map((bank: any) => `\r\n                      <option value=\"${bank.id}\">${bank.bank_name}</option>\r\n                    `).join('')}\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u062D\u0627\u0644\u0629 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-flag text-blue-600 ml-1\"></i>\r\n                    \u0627\u0644\u062D\u0627\u0644\u0629 *\r\n                  </label>\r\n                  <select name=\"status\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\">\r\n                    <option value=\"pending\">\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629</option>\r\n                    <option value=\"approved\">\u0645\u0642\u0628\u0648\u0644</option>\r\n                    <option value=\"rejected\">\u0645\u0631\u0641\u0648\u0636</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0645\u0644\u0627\u062D\u0638\u0627\u062A -->\r\n                <div class=\"md:col-span-2\">\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-comment text-gray-600 ml-1\"></i>\r\n                    \u0645\u0644\u0627\u062D\u0638\u0627\u062A\r\n                  </label>\r\n                  <textarea name=\"notes\" rows=\"3\" \r\n                            class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                            placeholder=\"\u0623\u064A \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629...\"></textarea>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex gap-4 pt-6 border-t\">\r\n                <button type=\"submit\" class=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-3 px-6 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638 \u0627\u0644\u0637\u0644\u0628\r\n                </button>\r\n                <a href=\"/admin/requests\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 px-6 rounded-lg font-bold text-center transition-all\">\r\n                  <i class=\"fas fa-times ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621\r\n                </a>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629</h1>')\r\n  }\r\n})\r\napp.get('/admin/requests/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const request = await c.env.DB.prepare(`\r\n      SELECT fr.*, \r\n             c.full_name as customer_name, c.phone as customer_phone, c.email as customer_email,\r\n             b.bank_name, ft.type_name as financing_type_name\r\n      FROM financing_requests fr\r\n      LEFT JOIN customers c ON fr.customer_id = c.id\r\n      LEFT JOIN banks b ON fr.selected_bank_id = b.id\r\n      LEFT JOIN financing_types ft ON fr.financing_type_id = ft.id\r\n      WHERE fr.id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!request) {\r\n      return c.html('<h1>\u0627\u0644\u0637\u0644\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0639\u0631\u0636 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 #${id}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6 flex justify-between items-center\">\r\n            <a href=\"/admin/requests\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A\r\n            </a>\r\n            <div class=\"flex gap-2\">\r\n              <a href=\"/admin/requests/${id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-edit ml-1\"></i> \u062A\u0639\u062F\u064A\u0644\r\n              </a>\r\n              <a href=\"/admin/requests/${id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-trash ml-1\"></i> \u062D\u0630\u0641\r\n              </a>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-6 flex items-center\">\r\n              <i class=\"fas fa-file-invoice text-purple-600 ml-3\"></i>\r\n              \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 #${id}\r\n            </h1>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <!-- \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 -->\r\n              <div class=\"md:col-span-2 border-b pb-4\">\r\n                <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                  <i class=\"fas fa-user text-blue-600 ml-2\"></i>\r\n                  \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644\r\n                </h2>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644</label>\r\n                <p class=\"text-lg text-gray-900\">${request.customer_name || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644</label>\r\n                <p class=\"text-lg text-gray-900\">${request.customer_phone || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</label>\r\n                <p class=\"text-lg text-gray-900\">${request.customer_email || '-'}</p>\r\n              </div>\r\n              \r\n              <!-- \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n              <div class=\"md:col-span-2 border-b pb-4 mt-4\">\r\n                <h2 class=\"text-xl font-bold text-gray-700 mb-4\">\r\n                  <i class=\"fas fa-money-bill-wave text-green-600 ml-2\"></i>\r\n                  \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n                </h2>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</label>\r\n                <p class=\"text-lg text-gray-900\">${request.financing_type_name || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628</label>\r\n                <p class=\"text-lg font-bold text-green-600\">${request.requested_amount?.toLocaleString() || '0'} \u0631\u064A\u0627\u0644</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</label>\r\n                <p class=\"text-lg text-gray-900\">${request.duration_months || '0'} \u0634\u0647\u0631</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0639\u0646\u062F \u0627\u0644\u0637\u0644\u0628</label>\r\n                <p class=\"text-lg text-gray-900\">${request.salary_at_request?.toLocaleString() || '0'} \u0631\u064A\u0627\u0644</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0628\u0646\u0643 \u0627\u0644\u0645\u062E\u062A\u0627\u0631</label>\r\n                <p class=\"text-lg text-gray-900\">${request.bank_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062D\u0627\u0644\u0629</label>\r\n                <p>\r\n                  <span class=\"px-4 py-2 rounded-full text-sm font-bold ${\r\n                    request.status === 'approved' ? 'bg-green-100 text-green-800' : \r\n                    request.status === 'pending' ? 'bg-yellow-100 text-yellow-800' : \r\n                    'bg-red-100 text-red-800'\r\n                  }\">\r\n                    ${request.status === 'approved' ? '\u0645\u0642\u0628\u0648\u0644' : request.status === 'pending' ? '\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629' : '\u0645\u0631\u0641\u0648\u0636'}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              \r\n              ${request.notes ? `\r\n                <div class=\"md:col-span-2 mt-4\">\r\n                  <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0645\u0644\u0627\u062D\u0638\u0627\u062A</label>\r\n                  <p class=\"text-gray-900 bg-gray-50 p-4 rounded\">${request.notes}</p>\r\n                </div>\r\n              ` : ''}\r\n              \r\n              <div class=\"md:col-span-2 mt-4\">\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621</label>\r\n                <p class=\"text-gray-900\">${new Date(request.created_at).toLocaleString('ar-SA')}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u0642\u0633\u0645 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A -->\r\n          <div class=\"bg-white rounded-xl shadow-lg p-8 mt-6\">\r\n            <h2 class=\"text-2xl font-bold text-gray-800 mb-6 flex items-center\">\r\n              <i class=\"fas fa-paperclip text-blue-600 ml-3\"></i>\r\n              \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A\r\n            </h2>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              ${request.id_attachment_url ? `\r\n                <div class=\"border-2 border-blue-200 rounded-lg p-4 hover:shadow-md transition\">\r\n                  <div class=\"flex items-center justify-between mb-3\">\r\n                    <div class=\"flex items-center\">\r\n                      <i class=\"fas fa-id-card text-2xl text-blue-600 ml-3\"></i>\r\n                      <span class=\"font-bold text-gray-800\">\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629</span>\r\n                    </div>\r\n                    <span class=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\u0645\u062A\u0648\u0641\u0631</span>\r\n                  </div>\r\n                  <div class=\"grid grid-cols-3 gap-2\">\r\n                    <a href=\"${request.id_attachment_url}\" target=\"_blank\" \r\n                       class=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                    </a>\r\n                    <a href=\"${request.id_attachment_url}\" download \r\n                       class=\"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-download\"></i> \u062A\u0646\u0632\u064A\u0644\r\n                    </a>\r\n                    <button onclick=\"deleteAttachment('${request.id_attachment_url}', 'id')\" \r\n                       class=\"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ` : `\r\n                <div class=\"border-2 border-gray-200 rounded-lg p-4 bg-gray-50\">\r\n                  <div class=\"flex items-center mb-3\">\r\n                    <i class=\"fas fa-id-card text-2xl text-gray-400 ml-3\"></i>\r\n                    <span class=\"font-bold text-gray-600\">\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629</span>\r\n                  </div>\r\n                  <p class=\"text-sm text-gray-500\">\u0644\u0645 \u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0645\u0631\u0641\u0642</p>\r\n                </div>\r\n              `}\r\n              \r\n              ${request.salary_attachment_url ? `\r\n                <div class=\"border-2 border-green-200 rounded-lg p-4 hover:shadow-md transition\">\r\n                  <div class=\"flex items-center justify-between mb-3\">\r\n                    <div class=\"flex items-center\">\r\n                      <i class=\"fas fa-money-check-alt text-2xl text-green-600 ml-3\"></i>\r\n                      <span class=\"font-bold text-gray-800\">\u0643\u0634\u0641 \u0627\u0644\u0631\u0627\u062A\u0628</span>\r\n                    </div>\r\n                    <span class=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\u0645\u062A\u0648\u0641\u0631</span>\r\n                  </div>\r\n                  <div class=\"grid grid-cols-3 gap-2\">\r\n                    <a href=\"${request.salary_attachment_url}\" target=\"_blank\" \r\n                       class=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                    </a>\r\n                    <a href=\"${request.salary_attachment_url}\" download \r\n                       class=\"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-download\"></i> \u062A\u0646\u0632\u064A\u0644\r\n                    </a>\r\n                    <button onclick=\"deleteAttachment('${request.salary_attachment_url}', 'salary')\" \r\n                       class=\"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ` : `\r\n                <div class=\"border-2 border-gray-200 rounded-lg p-4 bg-gray-50\">\r\n                  <div class=\"flex items-center mb-3\">\r\n                    <i class=\"fas fa-money-check-alt text-2xl text-gray-400 ml-3\"></i>\r\n                    <span class=\"font-bold text-gray-600\">\u0643\u0634\u0641 \u0627\u0644\u0631\u0627\u062A\u0628</span>\r\n                  </div>\r\n                  <p class=\"text-sm text-gray-500\">\u0644\u0645 \u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0645\u0631\u0641\u0642</p>\r\n                </div>\r\n              `}\r\n              \r\n              ${request.bank_statement_attachment_url ? `\r\n                <div class=\"border-2 border-purple-200 rounded-lg p-4 hover:shadow-md transition\">\r\n                  <div class=\"flex items-center justify-between mb-3\">\r\n                    <div class=\"flex items-center\">\r\n                      <i class=\"fas fa-file-invoice-dollar text-2xl text-purple-600 ml-3\"></i>\r\n                      <span class=\"font-bold text-gray-800\">\u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A</span>\r\n                    </div>\r\n                    <span class=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\u0645\u062A\u0648\u0641\u0631</span>\r\n                  </div>\r\n                  <div class=\"grid grid-cols-3 gap-2\">\r\n                    <a href=\"${request.bank_statement_attachment_url}\" target=\"_blank\" \r\n                       class=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                    </a>\r\n                    <a href=\"${request.bank_statement_attachment_url}\" download \r\n                       class=\"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-download\"></i> \u062A\u0646\u0632\u064A\u0644\r\n                    </a>\r\n                    <button onclick=\"deleteAttachment('${request.bank_statement_attachment_url}', 'bank_statement')\" \r\n                       class=\"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ` : `\r\n                <div class=\"border-2 border-gray-200 rounded-lg p-4 bg-gray-50\">\r\n                  <div class=\"flex items-center mb-3\">\r\n                    <i class=\"fas fa-file-invoice-dollar text-2xl text-gray-400 ml-3\"></i>\r\n                    <span class=\"font-bold text-gray-600\">\u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A</span>\r\n                  </div>\r\n                  <p class=\"text-sm text-gray-500\">\u0644\u0645 \u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0645\u0631\u0641\u0642</p>\r\n                </div>\r\n              `}\r\n              \r\n              ${request.additional_attachment_url ? `\r\n                <div class=\"border-2 border-orange-200 rounded-lg p-4 hover:shadow-md transition\">\r\n                  <div class=\"flex items-center justify-between mb-3\">\r\n                    <div class=\"flex items-center\">\r\n                      <i class=\"fas fa-file-alt text-2xl text-orange-600 ml-3\"></i>\r\n                      <span class=\"font-bold text-gray-800\">\u0645\u0631\u0641\u0642 \u0625\u0636\u0627\u0641\u064A</span>\r\n                    </div>\r\n                    <span class=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\u0645\u062A\u0648\u0641\u0631</span>\r\n                  </div>\r\n                  <div class=\"grid grid-cols-3 gap-2\">\r\n                    <a href=\"${request.additional_attachment_url}\" target=\"_blank\" \r\n                       class=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                    </a>\r\n                    <a href=\"${request.additional_attachment_url}\" download \r\n                       class=\"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-download\"></i> \u062A\u0646\u0632\u064A\u0644\r\n                    </a>\r\n                    <button onclick=\"deleteAttachment('${request.additional_attachment_url}', 'additional')\" \r\n                       class=\"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded transition text-center text-sm\">\r\n                      <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ` : `\r\n                <div class=\"border-2 border-gray-200 rounded-lg p-4 bg-gray-50\">\r\n                  <div class=\"flex items-center mb-3\">\r\n                    <i class=\"fas fa-file-alt text-2xl text-gray-400 ml-3\"></i>\r\n                    <span class=\"font-bold text-gray-600\">\u0645\u0631\u0641\u0642 \u0625\u0636\u0627\u0641\u064A</span>\r\n                  </div>\r\n                  <p class=\"text-sm text-gray-500\">\u0644\u0645 \u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0645\u0631\u0641\u0642</p>\r\n                </div>\r\n              `}\r\n            </div>\r\n            \r\n            ${!request.id_attachment_url && !request.salary_attachment_url && !request.bank_statement_attachment_url && !request.additional_attachment_url ? `\r\n              <div class=\"text-center mt-6 text-gray-500\">\r\n                <i class=\"fas fa-inbox text-4xl mb-2\"></i>\r\n                <p>\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0631\u0641\u0642\u0627\u062A \u0644\u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628</p>\r\n              </div>\r\n            ` : ''}\r\n          </div>\r\n        </div>\r\n        \r\n        <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n        <script>\r\n          async function deleteAttachment(attachmentUrl, type) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0631\u0641\u0642\u061F \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062C\u0631\u0627\u0621.')) {\r\n              return;\r\n            }\r\n            \r\n            try {\r\n              // Extract path from URL (remove /api/attachments/view/ prefix)\r\n              const path = attachmentUrl.replace('/api/attachments/view/', '');\r\n              \r\n              const response = await axios.delete(\\`/api/attachments/delete/\\${path}\\`);\r\n              \r\n              if (response.data.success) {\r\n                alert('\u2713 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0631\u0641\u0642 \u0628\u0646\u062C\u0627\u062D');\r\n                location.reload(); // Reload page to reflect changes\r\n              } else {\r\n                alert('\u2717 \u0641\u0634\u0644 \u062D\u0630\u0641 \u0627\u0644\u0645\u0631\u0641\u0642: ' + (response.data.error || '\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641'));\r\n              }\r\n            } catch (error) {\r\n              console.error('Error deleting attachment:', error);\r\n              alert('\u2717 \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0631\u0641\u0642');\r\n            }\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0646\u0645\u0648\u0630\u062C \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F ====================\r\n\r\n// \u0635\u0641\u062D\u0629 \u0639\u0631\u0636 \u0639\u0645\u064A\u0644 \u0648\u0627\u062D\u062F\r\napp.get('/admin/customers/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const customer = await c.env.DB.prepare('SELECT * FROM customers WHERE id = ?').bind(id).first()\r\n    \r\n    if (!customer) {\r\n      return c.html('<h1>\u0627\u0644\u0639\u0645\u064A\u0644 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0639\u0631\u0636 \u0627\u0644\u0639\u0645\u064A\u0644</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/customers\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold mb-6 text-gray-800\">\r\n              <i class=\"fas fa-user text-green-600 ml-2\"></i>\r\n              \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644\r\n            </h1>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div class=\"border-r-4 border-blue-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u0631\u0642\u0645 \u0627\u0644\u0639\u0645\u064A\u0644</p>\r\n                <p class=\"text-xl font-bold text-gray-800\">#${(customer as any).id}</p>\r\n              </div>\r\n              \r\n              <div class=\"border-r-4 border-green-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644</p>\r\n                <p class=\"text-xl font-bold text-gray-800\">${(customer as any).name}</p>\r\n              </div>\r\n              \r\n              <div class=\"border-r-4 border-yellow-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</p>\r\n                <p class=\"text-xl font-bold text-gray-800\">${(customer as any).phone || '\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631'}</p>\r\n              </div>\r\n              \r\n              <div class=\"border-r-4 border-purple-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</p>\r\n                <p class=\"text-xl font-bold text-gray-800\">${(customer as any).email || '\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631'}</p>\r\n              </div>\r\n              \r\n              <div class=\"border-r-4 border-red-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A</p>\r\n                <p class=\"text-xl font-bold text-gray-800\">${(customer as any).national_id || '\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631'}</p>\r\n              </div>\r\n              \r\n              <div class=\"border-r-4 border-indigo-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0633\u062C\u064A\u0644</p>\r\n                <p class=\"text-xl font-bold text-gray-800\">${new Date((customer as any).created_at).toLocaleDateString('ar-SA')}</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"mt-8 flex gap-4\">\r\n              <a href=\"/admin/customers/${id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded-lg font-bold\">\r\n                <i class=\"fas fa-edit ml-2\"></i>\r\n                \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A\r\n              </a>\r\n              <a href=\"/admin/customers/${id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0645\u064A\u0644\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-bold\">\r\n                <i class=\"fas fa-trash ml-2\"></i>\r\n                \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u064A\u0644\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// \u0635\u0641\u062D\u0629 \u062A\u0639\u062F\u064A\u0644 \u0639\u0645\u064A\u0644\r\napp.get('/admin/customers/:id/edit', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const customer = await c.env.DB.prepare('SELECT * FROM customers WHERE id = ?').bind(id).first()\r\n    \r\n    if (!customer) {\r\n      return c.html('<h1>\u0627\u0644\u0639\u0645\u064A\u0644 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0639\u0645\u064A\u0644</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/customers/${id}\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold mb-6 text-gray-800\">\r\n              <i class=\"fas fa-edit text-yellow-600 ml-2\"></i>\r\n              \u062A\u0639\u062F\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 #${id}\r\n            </h1>\r\n            \r\n            <form method=\"POST\" action=\"/api/customers/${id}\" enctype=\"application/x-www-form-urlencoded\" class=\"space-y-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644</label>\r\n                <input type=\"text\" name=\"name\" value=\"${(customer as any).name}\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</label>\r\n                <input type=\"tel\" name=\"phone\" value=\"${(customer as any).phone || ''}\" class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</label>\r\n                <input type=\"email\" name=\"email\" value=\"${(customer as any).email || ''}\" class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A</label>\r\n                <input type=\"text\" name=\"national_id\" value=\"${(customer as any).national_id || ''}\" class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n              \r\n              <div class=\"flex gap-4\">\r\n                <button type=\"submit\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-bold\">\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A\r\n                </button>\r\n                <a href=\"/admin/customers/${id}\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-bold\">\r\n                  <i class=\"fas fa-times ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621\r\n                </a>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// \u062D\u0630\u0641 \u0639\u0645\u064A\u0644\r\napp.get('/admin/customers/:id/delete', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    await c.env.DB.prepare('DELETE FROM customers WHERE id = ?').bind(id).run()\r\n    return c.redirect('/admin/customers')\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u064A\u0644</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0635\u0641\u062D\u0627\u062A \u0627\u0644\u0628\u0646\u0648\u0643 \u0627\u0644\u0643\u0627\u0645\u0644\u0629 ====================\r\n\r\n// \u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F - \u0627\u0644\u0635\u0641\u062D\u0629\r\napp.get('/admin/banks/add', async (c) => {\r\n  return c.html(`\r\n    <!DOCTYPE html>\r\n    <html lang=\"ar\" dir=\"rtl\">\r\n    <head>\r\n      <meta charset=\"UTF-8\">\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n      <title>\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F</title>\r\n      <script src=\"https://cdn.tailwindcss.com\"></script>\r\n      <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    </head>\r\n    <body class=\"bg-gray-50\">\r\n      <div class=\"max-w-4xl mx-auto p-6\">\r\n        <div class=\"mb-6\">\r\n          <a href=\"/admin/banks\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0628\u0646\u0648\u0643</a>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n          <h1 class=\"text-3xl font-bold mb-6 text-gray-800\">\r\n            <i class=\"fas fa-plus-circle text-green-600 ml-2\"></i>\r\n            \u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F\r\n          </h1>\r\n          \r\n          <form action=\"/api/banks\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\" class=\"space-y-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643</label>\r\n              <input type=\"text\" name=\"bank_name\" required \r\n                     class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500\">\r\n            </div>\r\n            \r\n            <div>\r\n              <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0627\u0644\u0648\u0635\u0641</label>\r\n              <textarea name=\"description\" rows=\"3\"\r\n                        class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500\"></textarea>\r\n            </div>\r\n            \r\n            <div class=\"flex gap-4\">\r\n              <button type=\"submit\" \r\n                      class=\"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-bold\">\r\n                <i class=\"fas fa-save ml-2\"></i>\r\n                \u062D\u0641\u0638 \u0627\u0644\u0628\u0646\u0643\r\n              </button>\r\n              <a href=\"/admin/banks\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-bold\">\r\n                <i class=\"fas fa-times ml-2\"></i>\r\n                \u0625\u0644\u063A\u0627\u0621\r\n              </a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </body>\r\n    </html>\r\n  `)\r\n})\r\n\r\n// \u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u0643\u0627\u0645\u0644 - \u064A\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0633\u0628\u0629\r\napp.get('/admin/customers/:id/report', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // \u062C\u0644\u0628 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 \u0645\u0639 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0633\u0628\u0629\r\n    const customer = await c.env.DB.prepare(`\r\n      SELECT \r\n        c.*,\r\n        ft.type_name as financing_type_name,\r\n        b.bank_name as best_bank_name\r\n      FROM customers c\r\n      LEFT JOIN financing_types ft ON c.financing_type_id = ft.id\r\n      LEFT JOIN banks b ON c.best_bank_id = b.id\r\n      WHERE c.id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!customer) {\r\n      return c.html('<h1>\u0627\u0644\u0639\u0645\u064A\u0644 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    const cust = customer as any\r\n    \r\n    // \u062A\u0646\u0633\u064A\u0642 \u0627\u0644\u062A\u0648\u0627\u0631\u064A\u062E\r\n    const formatDate = (date: string) => {\r\n      if (!date) return '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'\r\n      return new Date(date).toLocaleDateString('ar-SA', { \r\n        year: 'numeric', \r\n        month: 'long', \r\n        day: 'numeric' \r\n      })\r\n    }\r\n    \r\n    // \u062A\u0646\u0633\u064A\u0642 \u0627\u0644\u0623\u0631\u0642\u0627\u0645\r\n    const formatNumber = (num: number) => {\r\n      if (!num) return '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'\r\n      return num.toLocaleString('ar-SA')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0639\u0645\u064A\u0644 - ${cust.full_name}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <style>\r\n          @media print {\r\n            .no-print { display: none !important; }\r\n            body { background: white; }\r\n          }\r\n          .report-section {\r\n            page-break-inside: avoid;\r\n          }\r\n          \r\n          ${getMobileResponsiveCSS()}\r\n        </style>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-5xl mx-auto p-6\">\r\n          <!-- \u0623\u0632\u0631\u0627\u0631 \u0627\u0644\u062A\u062D\u0643\u0645 -->\r\n          <div class=\"mb-6 no-print flex justify-between items-center\">\r\n            <a href=\"/admin/customers\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621\r\n            </a>\r\n            <button onclick=\"window.print()\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n              <i class=\"fas fa-print ml-2\"></i>\r\n              \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n            </button>\r\n          </div>\r\n          \r\n          <!-- \u0631\u0623\u0633 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 -->\r\n          <div class=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl shadow-lg p-8 mb-6 report-section\">\r\n            <div class=\"text-center\">\r\n              <h1 class=\"text-4xl font-bold mb-2\">\r\n                <i class=\"fas fa-file-contract ml-3\"></i>\r\n                \u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u0634\u0627\u0645\u0644\r\n              </h1>\r\n              <p class=\"text-xl opacity-90\">\u0646\u0638\u0627\u0645 \u062A\u0645\u0648\u064A\u0644 - Tamweel Finance</p>\r\n              <p class=\"text-sm opacity-75 mt-2\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0642\u0631\u064A\u0631: ${formatDate(new Date().toISOString())}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u0627\u0644\u0642\u0633\u0645 1: \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629 -->\r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6 report-section\">\r\n            <h2 class=\"text-2xl font-bold mb-4 text-gray-800 border-b-2 border-blue-500 pb-2\">\r\n              <i class=\"fas fa-user text-blue-600 ml-2\"></i>\r\n              \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629\r\n            </h2>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-id-card text-blue-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0631\u0642\u0645 \u0627\u0644\u0639\u0645\u064A\u0644</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\">#${cust.id}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-user text-green-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\">${cust.full_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-yellow-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-phone text-yellow-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\" dir=\"ltr\">${cust.phone || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-envelope text-purple-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\">${cust.email || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-red-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-calendar text-red-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\">${formatDate(cust.birthdate)}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-indigo-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-id-badge text-indigo-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\">${cust.national_id && !cust.national_id.startsWith('TEMP-') ? cust.national_id : '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u0627\u0644\u0642\u0633\u0645 2: \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u0645\u0627\u0644\u064A\u0629 -->\r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6 report-section\">\r\n            <h2 class=\"text-2xl font-bold mb-4 text-gray-800 border-b-2 border-green-500 pb-2\">\r\n              <i class=\"fas fa-calculator text-green-600 ml-2\"></i>\r\n              \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u0645\u0627\u0644\u064A\u0629\r\n            </h2>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-money-bill-wave text-green-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A</p>\r\n                  <p class=\"text-2xl font-bold text-green-600\">${formatNumber(cust.monthly_salary)} \u0631\u064A\u0627\u0644</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-hand-holding-usd text-blue-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628</p>\r\n                  <p class=\"text-2xl font-bold text-blue-600\">${formatNumber(cust.financing_amount)} \u0631\u064A\u0627\u0644</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-red-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-receipt text-red-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629</p>\r\n                  <p class=\"text-2xl font-bold text-red-600\">${formatNumber(cust.monthly_obligations)} \u0631\u064A\u0627\u0644</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-tag text-purple-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                  <p class=\"text-xl font-bold text-purple-600\">${cust.financing_type_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u0627\u0644\u0642\u0633\u0645 3: \u0646\u062A\u0627\u0626\u062C \u0627\u0644\u062A\u0645\u0648\u064A\u0644 (\u0623\u0641\u0636\u0644 \u0639\u0631\u0636) -->\r\n          <div class=\"bg-gradient-to-br from-green-50 to-blue-50 rounded-xl shadow-lg p-6 mb-6 report-section border-2 border-green-400\">\r\n            <h2 class=\"text-2xl font-bold mb-4 text-gray-800 border-b-2 border-green-500 pb-2\">\r\n              <i class=\"fas fa-star text-green-600 ml-2\"></i>\r\n              \u0623\u0641\u0636\u0644 \u0639\u0631\u0636 \u062A\u0645\u0648\u064A\u0644\u064A\r\n            </h2>\r\n            \r\n            ${cust.best_bank_id ? `\r\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                  <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                    <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                      <i class=\"fas fa-university text-green-600 text-xl\"></i>\r\n                    </div>\r\n                    <div>\r\n                      <p class=\"text-sm text-gray-500\">\u0627\u0644\u0628\u0646\u0643 \u0627\u0644\u0645\u062E\u062A\u0627\u0631</p>\r\n                      <p class=\"text-2xl font-bold text-green-600\">${cust.best_bank_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                  <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                    <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                      <i class=\"fas fa-clock text-blue-600 text-xl\"></i>\r\n                    </div>\r\n                    <div>\r\n                      <p class=\"text-sm text-gray-500\">\u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                      <p class=\"text-2xl font-bold text-blue-600\">${cust.financing_duration_months || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'} \u0634\u0647\u0631</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                  <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                    <div class=\"bg-yellow-100 p-3 rounded-lg\">\r\n                      <i class=\"fas fa-percentage text-yellow-600 text-xl\"></i>\r\n                    </div>\r\n                    <div>\r\n                      <p class=\"text-sm text-gray-500\">\u0645\u0639\u062F\u0644 \u0627\u0644\u0641\u0627\u0626\u062F\u0629</p>\r\n                      <p class=\"text-2xl font-bold text-yellow-600\">${cust.best_rate ? cust.best_rate + '%' : '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                  <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                    <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                      <i class=\"fas fa-calendar-check text-purple-600 text-xl\"></i>\r\n                    </div>\r\n                    <div>\r\n                      <p class=\"text-sm text-gray-500\">\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A</p>\r\n                      <p class=\"text-2xl font-bold text-purple-600\">${formatNumber(cust.monthly_payment)} \u0631\u064A\u0627\u0644</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-lg p-4 shadow md:col-span-2\">\r\n                  <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                    <div class=\"bg-indigo-100 p-3 rounded-lg\">\r\n                      <i class=\"fas fa-coins text-indigo-600 text-xl\"></i>\r\n                    </div>\r\n                    <div>\r\n                      <p class=\"text-sm text-gray-500\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0633\u062A\u062D\u0642</p>\r\n                      <p class=\"text-3xl font-bold text-indigo-600\">${formatNumber(cust.total_payment)} \u0631\u064A\u0627\u0644</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"bg-green-50 rounded-lg p-4 shadow md:col-span-2 border-2 border-green-300\">\r\n                  <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                    <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                      <i class=\"fas fa-calendar-alt text-green-600 text-xl\"></i>\r\n                    </div>\r\n                    <div>\r\n                      <p class=\"text-sm text-gray-500\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062D\u0633\u0627\u0628</p>\r\n                      <p class=\"text-xl font-bold text-green-600\">${formatDate(cust.calculation_date)}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ` : `\r\n              <div class=\"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-6 text-center\">\r\n                <i class=\"fas fa-exclamation-triangle text-yellow-600 text-4xl mb-3\"></i>\r\n                <p class=\"text-xl font-bold text-yellow-700\">\u0644\u0645 \u064A\u062A\u0645 \u062D\u0633\u0627\u0628 \u0639\u0631\u0636 \u062A\u0645\u0648\u064A\u0644\u064A \u0628\u0639\u062F</p>\r\n                <p class=\"text-gray-600 mt-2\">\u0627\u0644\u0639\u0645\u064A\u0644 \u0644\u0645 \u064A\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0644\u062D\u0633\u0627\u0628 \u0623\u0641\u0636\u0644 \u0639\u0631\u0636 \u062A\u0645\u0648\u064A\u0644\u064A</p>\r\n              </div>\r\n            `}\r\n          </div>\r\n          \r\n          <!-- \u0627\u0644\u0642\u0633\u0645 4: \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629 -->\r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6 report-section\">\r\n            <h2 class=\"text-2xl font-bold mb-4 text-gray-800 border-b-2 border-gray-500 pb-2\">\r\n              <i class=\"fas fa-info-circle text-gray-600 ml-2\"></i>\r\n              \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629\r\n            </h2>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-calendar-plus text-blue-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0633\u062C\u064A\u0644</p>\r\n                  <p class=\"text-lg font-bold text-gray-800\">${formatDate(cust.created_at)}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-edit text-purple-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B</p>\r\n                  <p class=\"text-lg font-bold text-gray-800\">${formatDate(cust.updated_at)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u062A\u0630\u064A\u064A\u0644 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 -->\r\n          <div class=\"bg-gray-100 rounded-xl p-6 text-center report-section\">\r\n            <p class=\"text-gray-600\">\r\n              <i class=\"fas fa-shield-alt ml-2\"></i>\r\n              \u0647\u0630\u0627 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u0633\u0631\u064A \u0648\u0645\u062E\u0635\u0635 \u0644\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062F\u0627\u062E\u0644\u064A \u0641\u0642\u0637\r\n            </p>\r\n            <p class=\"text-sm text-gray-500 mt-2\">\r\n              \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u0628\u0648\u0627\u0633\u0637\u0629 \u0646\u0638\u0627\u0645 \u062A\u0645\u0648\u064A\u0644 - Tamweel Finance Management System\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    console.error('\u062E\u0637\u0623 \u0641\u064A \u0639\u0631\u0636 \u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0639\u0645\u064A\u0644:', error)\r\n    return c.html(`<h1>\u062D\u062F\u062B \u062E\u0637\u0623: ${error.message}</h1>`)\r\n  }\r\n})\r\n\r\n// \u062A\u0642\u0631\u064A\u0631 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0643\u0627\u0645\u0644\r\napp.get('/admin/requests/:id/report', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // \u062C\u0644\u0628 \u0628\u064A\u0627\u0646\u0627\u062A \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0645\u0639 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 \u0648\u0627\u0644\u0628\u0646\u0643\r\n    const request = await c.env.DB.prepare(`\r\n      SELECT \r\n        fr.*,\r\n        c.full_name as customer_name,\r\n        c.phone as customer_phone,\r\n        c.email as customer_email,\r\n        c.national_id as customer_national_id,\r\n        c.birthdate as customer_birthdate,\r\n        c.monthly_salary as customer_salary,\r\n        b.bank_name,\r\n        ft.type_name as financing_type_name\r\n      FROM financing_requests fr\r\n      LEFT JOIN customers c ON fr.customer_id = c.id\r\n      LEFT JOIN banks b ON fr.selected_bank_id = b.id\r\n      LEFT JOIN financing_types ft ON fr.financing_type_id = ft.id\r\n      WHERE fr.id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!request) {\r\n      return c.html('<h1>\u0627\u0644\u0637\u0644\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    const req = request as any\r\n    \r\n    // \u062A\u0646\u0633\u064A\u0642 \u0627\u0644\u062A\u0648\u0627\u0631\u064A\u062E\r\n    const formatDate = (date: string) => {\r\n      if (!date) return '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'\r\n      return new Date(date).toLocaleDateString('ar-SA', { \r\n        year: 'numeric', \r\n        month: 'long', \r\n        day: 'numeric' \r\n      })\r\n    }\r\n    \r\n    // \u062A\u0646\u0633\u064A\u0642 \u0627\u0644\u0623\u0631\u0642\u0627\u0645\r\n    const formatNumber = (num: number) => {\r\n      if (!num) return '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'\r\n      return num.toLocaleString('ar-SA')\r\n    }\r\n    \r\n    // \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u0629\r\n    const statusMap: any = {\r\n      'pending': { text: '\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629', color: 'yellow', icon: 'clock' },\r\n      'approved': { text: '\u0645\u0642\u0628\u0648\u0644', color: 'green', icon: 'check-circle' },\r\n      'rejected': { text: '\u0645\u0631\u0641\u0648\u0636', color: 'red', icon: 'times-circle' }\r\n    }\r\n    const status = statusMap[req.status] || statusMap['pending']\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0642\u0631\u064A\u0631 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 - ${req.customer_name}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <style>\r\n          @media print {\r\n            .no-print { display: none !important; }\r\n            body { background: white; }\r\n          }\r\n          .report-section {\r\n            page-break-inside: avoid;\r\n          }\r\n          \r\n          ${getMobileResponsiveCSS()}\r\n        </style>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-5xl mx-auto p-6\">\r\n          <!-- \u0623\u0632\u0631\u0627\u0631 \u0627\u0644\u062A\u062D\u0643\u0645 -->\r\n          <div class=\"mb-6 no-print flex justify-between items-center flex-wrap gap-3\">\r\n            <a href=\"/admin/requests\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n            </a>\r\n            <div class=\"flex gap-3\">\r\n              <a href=\"/admin/requests/${id}/workflow\" class=\"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-lg\">\r\n                <i class=\"fas fa-route ml-2\"></i>\r\n                \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644 (Workflow)\r\n              </a>\r\n              <button onclick=\"window.print()\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                <i class=\"fas fa-print ml-2\"></i>\r\n                \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u0631\u0623\u0633 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 -->\r\n          <div class=\"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl shadow-lg p-8 mb-6 report-section\">\r\n            <div class=\"text-center\">\r\n              <h1 class=\"text-4xl font-bold mb-2\">\r\n                <i class=\"fas fa-file-invoice ml-3\"></i>\r\n                \u062A\u0642\u0631\u064A\u0631 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n              </h1>\r\n              <p class=\"text-xl opacity-90\">\u0646\u0638\u0627\u0645 \u062A\u0645\u0648\u064A\u0644 - Tamweel Finance</p>\r\n              <p class=\"text-sm opacity-75 mt-2\">\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628: #${req.id} | \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0642\u0631\u064A\u0631: ${formatDate(new Date().toISOString())}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628 -->\r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6 report-section\">\r\n            <div class=\"flex items-center justify-center\">\r\n              <div class=\"bg-${status.color}-100 border-2 border-${status.color}-300 rounded-lg p-6 text-center\">\r\n                <i class=\"fas fa-${status.icon} text-${status.color}-600 text-5xl mb-3\"></i>\r\n                <p class=\"text-2xl font-bold text-${status.color}-700\">\u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628: ${status.text}</p>\r\n                <p class=\"text-sm text-gray-600 mt-2\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0637\u0644\u0628: ${formatDate(req.created_at)}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u0627\u0644\u0642\u0633\u0645 1: \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 -->\r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6 report-section\">\r\n            <h2 class=\"text-2xl font-bold mb-4 text-gray-800 border-b-2 border-blue-500 pb-2\">\r\n              <i class=\"fas fa-user text-blue-600 ml-2\"></i>\r\n              \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644\r\n            </h2>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-user text-blue-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\">${req.customer_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-phone text-green-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\" dir=\"ltr\">${req.customer_phone || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-envelope text-purple-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\">${req.customer_email || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-red-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-calendar text-red-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\">${formatDate(req.customer_birthdate)}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-yellow-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-money-bill-wave text-yellow-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A</p>\r\n                  <p class=\"text-xl font-bold text-yellow-600\">${formatNumber(req.customer_salary)} \u0631\u064A\u0627\u0644</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-indigo-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-id-badge text-indigo-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629</p>\r\n                  <p class=\"text-xl font-bold text-gray-800\">${req.customer_national_id && !req.customer_national_id.startsWith('TEMP-') ? req.customer_national_id : '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u0627\u0644\u0642\u0633\u0645 2: \u062A\u0641\u0627\u0635\u064A\u0644 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n          <div class=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl shadow-lg p-6 mb-6 report-section border-2 border-purple-400\">\r\n            <h2 class=\"text-2xl font-bold mb-4 text-gray-800 border-b-2 border-purple-500 pb-2\">\r\n              <i class=\"fas fa-file-invoice-dollar text-purple-600 ml-2\"></i>\r\n              \u062A\u0641\u0627\u0635\u064A\u0644 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n            </h2>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                  <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                    <i class=\"fas fa-tag text-purple-600 text-xl\"></i>\r\n                  </div>\r\n                  <div>\r\n                    <p class=\"text-sm text-gray-500\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                    <p class=\"text-2xl font-bold text-purple-600\">${req.financing_type_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                  <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                    <i class=\"fas fa-hand-holding-usd text-blue-600 text-xl\"></i>\r\n                  </div>\r\n                  <div>\r\n                    <p class=\"text-sm text-gray-500\">\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628</p>\r\n                    <p class=\"text-2xl font-bold text-blue-600\">${formatNumber(req.requested_amount)} \u0631\u064A\u0627\u0644</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                  <div class=\"bg-green-100 p-3 rounded-lg\">\r\n                    <i class=\"fas fa-clock text-green-600 text-xl\"></i>\r\n                  </div>\r\n                  <div>\r\n                    <p class=\"text-sm text-gray-500\">\u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                    <p class=\"text-2xl font-bold text-green-600\">${req.duration_months || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'} \u0634\u0647\u0631</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                  <div class=\"bg-yellow-100 p-3 rounded-lg\">\r\n                    <i class=\"fas fa-university text-yellow-600 text-xl\"></i>\r\n                  </div>\r\n                  <div>\r\n                    <p class=\"text-sm text-gray-500\">\u0627\u0644\u0628\u0646\u0643 \u0627\u0644\u0645\u062E\u062A\u0627\u0631</p>\r\n                    <p class=\"text-2xl font-bold text-yellow-600\">${req.bank_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                  <div class=\"bg-red-100 p-3 rounded-lg\">\r\n                    <i class=\"fas fa-receipt text-red-600 text-xl\"></i>\r\n                  </div>\r\n                  <div>\r\n                    <p class=\"text-sm text-gray-500\">\u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629</p>\r\n                    <p class=\"text-2xl font-bold text-red-600\">${formatNumber(req.monthly_obligations)} \u0631\u064A\u0627\u0644</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"bg-white rounded-lg p-4 shadow\">\r\n                <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                  <div class=\"bg-indigo-100 p-3 rounded-lg\">\r\n                    <i class=\"fas fa-calendar-check text-indigo-600 text-xl\"></i>\r\n                  </div>\r\n                  <div>\r\n                    <p class=\"text-sm text-gray-500\">\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A</p>\r\n                    <p class=\"text-2xl font-bold text-indigo-600\">${formatNumber(req.monthly_payment)} \u0631\u064A\u0627\u0644</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u0627\u0644\u0642\u0633\u0645 3: \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629 -->\r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6 report-section\">\r\n            <h2 class=\"text-2xl font-bold mb-4 text-gray-800 border-b-2 border-gray-500 pb-2\">\r\n              <i class=\"fas fa-info-circle text-gray-600 ml-2\"></i>\r\n              \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629\r\n            </h2>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-blue-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-calendar-plus text-blue-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u062A\u0627\u0631\u064A\u062E \u062A\u0642\u062F\u064A\u0645 \u0627\u0644\u0637\u0644\u0628</p>\r\n                  <p class=\"text-lg font-bold text-gray-800\">${formatDate(req.created_at)}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-start space-x-3 space-x-reverse\">\r\n                <div class=\"bg-purple-100 p-3 rounded-lg\">\r\n                  <i class=\"fas fa-edit text-purple-600 text-xl\"></i>\r\n                </div>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-500\">\u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B</p>\r\n                  <p class=\"text-lg font-bold text-gray-800\">${formatDate(req.updated_at)}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              ${req.notes ? `\r\n              <div class=\"md:col-span-2\">\r\n                <div class=\"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4\">\r\n                  <p class=\"text-sm text-gray-500 mb-2\">\u0645\u0644\u0627\u062D\u0638\u0627\u062A</p>\r\n                  <p class=\"text-gray-700\">${req.notes}</p>\r\n                </div>\r\n              </div>\r\n              ` : ''}\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- \u062A\u0630\u064A\u064A\u0644 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 -->\r\n          <div class=\"bg-gray-100 rounded-xl p-6 text-center report-section\">\r\n            <p class=\"text-gray-600\">\r\n              <i class=\"fas fa-shield-alt ml-2\"></i>\r\n              \u0647\u0630\u0627 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u0633\u0631\u064A \u0648\u0645\u062E\u0635\u0635 \u0644\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062F\u0627\u062E\u0644\u064A \u0641\u0642\u0637\r\n            </p>\r\n            <p class=\"text-sm text-gray-500 mt-2\">\r\n              \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u0628\u0648\u0627\u0633\u0637\u0629 \u0646\u0638\u0627\u0645 \u062A\u0645\u0648\u064A\u0644 - Tamweel Finance Management System\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    console.error('\u062E\u0637\u0623 \u0641\u064A \u0639\u0631\u0636 \u062A\u0642\u0631\u064A\u0631 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644:', error)\r\n    return c.html(`<h1>\u062D\u062F\u062B \u062E\u0637\u0623: ${error.message}</h1>`)\r\n  }\r\n})\r\n\r\n// \u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0632\u0645\u0646\u064A (Timeline) \u0644\u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\napp.get('/admin/requests/:id/workflow', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // Get request data with current stage\r\n    const request = await c.env.DB.prepare(`\r\n      SELECT \r\n        fr.*,\r\n        c.full_name as customer_name,\r\n        ws.stage_name_ar,\r\n        ws.stage_color,\r\n        ws.stage_icon\r\n      FROM financing_requests fr\r\n      LEFT JOIN customers c ON fr.customer_id = c.id\r\n      LEFT JOIN workflow_stages ws ON fr.current_stage_id = ws.id\r\n      WHERE fr.id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!request) {\r\n      return c.html('<h1>\u0627\u0644\u0637\u0644\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    // Get all stages\r\n    const { results: stages } = await c.env.DB.prepare(`\r\n      SELECT * FROM workflow_stages \r\n      WHERE is_active = 1 \r\n      ORDER BY stage_order ASC\r\n    `).all()\r\n    \r\n    // Get workflow timeline (transitions, actions, tasks) - Direct DB query instead of internal API call\r\n    const { results: transitions } = await c.env.DB.prepare(`\r\n      SELECT \r\n        wst.*,\r\n        ws_from.stage_name_ar as from_stage_name,\r\n        ws_to.stage_name_ar as to_stage_name,\r\n        u.full_name as changed_by_name\r\n      FROM workflow_stage_transitions wst\r\n      LEFT JOIN workflow_stages ws_from ON wst.from_stage_id = ws_from.id\r\n      LEFT JOIN workflow_stages ws_to ON wst.to_stage_id = ws_to.id\r\n      LEFT JOIN users u ON wst.transitioned_by = u.id\r\n      WHERE wst.request_id = ?\r\n      ORDER BY wst.created_at DESC\r\n    `).bind(id).all()\r\n    \r\n    const { results: actions } = await c.env.DB.prepare(`\r\n      SELECT * FROM workflow_stage_actions WHERE request_id = ? ORDER BY created_at DESC\r\n    `).bind(id).all()\r\n    \r\n    const { results: tasks } = await c.env.DB.prepare(`\r\n      SELECT * FROM workflow_stage_tasks WHERE request_id = ? ORDER BY created_at DESC\r\n    `).bind(id).all()\r\n    \r\n    const timelineData = { data: { transitions, actions, tasks } }\r\n    \r\n    const html = generateWorkflowTimelinePage(\r\n      parseInt(id),\r\n      request,\r\n      stages,\r\n      timelineData.data || { transitions: [], actions: [], tasks: [] }\r\n    )\r\n    \r\n    return c.html(html)\r\n  } catch (error: any) {\r\n    console.error('\u062E\u0637\u0623 \u0641\u064A \u0639\u0631\u0636 Workflow:', error)\r\n    return c.html(`<h1>\u062D\u062F\u062B \u062E\u0637\u0623: ${error.message}</h1>`)\r\n  }\r\n})\r\n\r\n// API - \u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F\r\napp.post('/api/banks', async (c) => {\r\n  try {\r\n    const body = await c.req.parseBody()\r\n    await c.env.DB.prepare(`\r\n      INSERT INTO banks (bank_name, description, is_active, created_at)\r\n      VALUES (?, ?, 1, NOW())\r\n    `).bind(body.bank_name, body.description || '').run()\r\n    \r\n    return c.redirect('/admin/banks')\r\n  } catch (error) {\r\n    return c.json({ error: '\u0641\u0634\u0644 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0628\u0646\u0643' }, 500)\r\n  }\r\n})\r\n\r\n// \u0639\u0631\u0636 \u0628\u0646\u0643 \u0648\u0627\u062D\u062F\r\napp.get('/admin/banks/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const bank = await c.env.DB.prepare('SELECT * FROM banks WHERE id = ?').bind(id).first()\r\n    \r\n    if (!bank) {\r\n      return c.html('<h1>\u0627\u0644\u0628\u0646\u0643 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0639\u0631\u0636 \u0627\u0644\u0628\u0646\u0643</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/banks\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0628\u0646\u0648\u0643</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold mb-6 text-gray-800\">\r\n              <i class=\"fas fa-university text-yellow-600 ml-2\"></i>\r\n              \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0628\u0646\u0643\r\n            </h1>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div class=\"border-r-4 border-blue-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u0631\u0642\u0645 \u0627\u0644\u0628\u0646\u0643</p>\r\n                <p class=\"text-xl font-bold text-gray-800\">#${(bank as any).id}</p>\r\n              </div>\r\n              \r\n              <div class=\"border-r-4 border-green-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643</p>\r\n                <p class=\"text-xl font-bold text-gray-800\">${(bank as any).bank_name}</p>\r\n              </div>\r\n              \r\n              <div class=\"border-r-4 border-yellow-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u0627\u0644\u0648\u0635\u0641</p>\r\n                <p class=\"text-xl font-bold text-gray-800\">${(bank as any).description || '\u0644\u0627 \u064A\u0648\u062C\u062F'}</p>\r\n              </div>\r\n              \r\n              <div class=\"border-r-4 border-purple-500 pr-4\">\r\n                <p class=\"text-sm text-gray-500 mb-1\">\u0627\u0644\u062D\u0627\u0644\u0629</p>\r\n                <p class=\"text-xl font-bold ${(bank as any).is_active ? 'text-green-600' : 'text-red-600'}\">\r\n                  ${(bank as any).is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"mt-8 flex gap-4\">\r\n              <a href=\"/admin/banks/${(bank as any).id}/edit\" \r\n                 class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold\">\r\n                <i class=\"fas fa-edit ml-2\"></i>\r\n                \u062A\u0639\u062F\u064A\u0644\r\n              </a>\r\n              <a href=\"/admin/banks/${(bank as any).id}/delete\" \r\n                 class=\"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold\"\r\n                 onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0628\u0646\u0643\u061F')\">\r\n                <i class=\"fas fa-trash ml-2\"></i>\r\n                \u062D\u0630\u0641\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// \u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u0643 - \u0627\u0644\u0635\u0641\u062D\u0629\r\napp.get('/admin/banks/:id/edit', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const bank = await c.env.DB.prepare('SELECT * FROM banks WHERE id = ?').bind(id).first()\r\n    \r\n    if (!bank) {\r\n      return c.html('<h1>\u0627\u0644\u0628\u0646\u0643 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u0646\u0643</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/banks\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0628\u0646\u0648\u0643</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold mb-6 text-gray-800\">\r\n              <i class=\"fas fa-edit text-blue-600 ml-2\"></i>\r\n              \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u0646\u0643\r\n            </h1>\r\n            \r\n            <form action=\"/api/banks/${(bank as any).id}\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\" class=\"space-y-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643</label>\r\n                <input type=\"text\" name=\"bank_name\" value=\"${(bank as any).bank_name}\" required \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0627\u0644\u0648\u0635\u0641</label>\r\n                <textarea name=\"description\" rows=\"3\"\r\n                          class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500\">${(bank as any).description || ''}</textarea>\r\n              </div>\r\n              \r\n              <div class=\"flex gap-4\">\r\n                <button type=\"submit\" \r\n                        class=\"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-bold\">\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A\r\n                </button>\r\n                <a href=\"/admin/banks\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-bold\">\r\n                  <i class=\"fas fa-times ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621\r\n                </a>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// API - \u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u0643\r\napp.post('/api/banks/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const body = await c.req.parseBody()\r\n    \r\n    await c.env.DB.prepare(`\r\n      UPDATE banks \r\n      SET bank_name = ?, description = ?\r\n      WHERE id = ?\r\n    `).bind(body.bank_name, body.description || '', id).run()\r\n    \r\n    return c.redirect('/admin/banks')\r\n  } catch (error) {\r\n    return c.json({ error: '\u0641\u0634\u0644 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u0646\u0643' }, 500)\r\n  }\r\n})\r\n\r\n// \u062D\u0630\u0641 \u0628\u0646\u0643\r\napp.get('/admin/banks/:id/delete', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    await c.env.DB.prepare('DELETE FROM banks WHERE id = ?').bind(id).run()\r\n    return c.redirect('/admin/banks')\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062D\u0630\u0641 \u0627\u0644\u0628\u0646\u0643</h1>')\r\n  }\r\n})\r\n\r\n// \u062A\u062D\u062F\u064A\u062B \u0635\u0641\u062D\u0629 \u0627\u0644\u0628\u0646\u0648\u0643 \u0645\u0639 \u0623\u0632\u0631\u0627\u0631 \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A\r\napp.get('/admin/banks', async (c) => {\r\n  try {\r\n    const banks = await c.env.DB.prepare('SELECT * FROM banks ORDER BY bank_name').all()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0627\u0644\u0628\u0646\u0648\u0643</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-university text-yellow-600 ml-2\"></i>\r\n                \u0627\u0644\u0628\u0646\u0648\u0643 (<span id=\"totalCount\">${banks.results.length}</span>)\r\n              </h1>\r\n              \r\n              <div class=\"flex gap-3\">\r\n                <button onclick=\"exportToCSV()\" \r\n                        class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-file-export ml-2\"></i>\r\n                  \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n                <a href=\"/admin/banks/add\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-plus ml-2\"></i>\r\n                  \u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F\r\n                </a>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- \u0634\u0631\u064A\u0637 \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629 -->\r\n            <div class=\"border-t pt-4\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div class=\"relative\">\r\n                  <i class=\"fas fa-search absolute right-3 top-3.5 text-gray-400\"></i>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"searchInput\" \r\n                    placeholder=\"\u0628\u062D\u062B \u0641\u064A \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644...\" \r\n                    class=\"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent\"\r\n                    onkeyup=\"filterTable()\"\r\n                  >\r\n                </div>\r\n                \r\n                <div>\r\n                  <select \r\n                    id=\"filterField\" \r\n                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent\"\r\n                    onchange=\"filterTable()\"\r\n                  >\r\n                    <option value=\"all\">\u0627\u0644\u0628\u062D\u062B \u0641\u064A: \u0627\u0644\u0643\u0644</option>\r\n                    <option value=\"name\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643 \u0641\u0642\u0637</option>\r\n                    <option value=\"code\">\u0643\u0648\u062F \u0627\u0644\u0628\u0646\u0643 \u0641\u0642\u0637</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <button \r\n                  onclick=\"resetFilters()\" \r\n                  class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                >\r\n                  <i class=\"fas fa-redo ml-2\"></i>\r\n                  \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <table class=\"w-full\" id=\"dataTable\">\r\n              <thead class=\"bg-gray-100\">\r\n                <tr>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">#</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0648\u0635\u0641</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"divide-y divide-gray-200\" id=\"tableBody\">\r\n                ${banks.results.map((bank: any) => `\r\n                  <tr class=\"hover:bg-gray-50\" data-name=\"${bank.bank_name || ''}\" data-code=\"${bank.bank_code || ''}\">\r\n                    <td class=\"px-6 py-4 text-sm text-gray-900\">${bank.id}</td>\r\n                    <td class=\"px-6 py-4\">\r\n                      <div class=\"flex items-center\">\r\n                        <i class=\"fas fa-university text-yellow-600 ml-2\"></i>\r\n                        <span class=\"text-sm font-bold text-gray-900\">${bank.bank_name}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td class=\"px-6 py-4 text-sm text-gray-600\">${bank.description || '\u0644\u0627 \u064A\u0648\u062C\u062F'}</td>\r\n                    <td class=\"px-6 py-4\">\r\n                      <span class=\"px-3 py-1 rounded-full text-xs font-bold ${bank.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}\">\r\n                        ${bank.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                      </span>\r\n                    </td>\r\n                    <td class=\"px-6 py-4\">\r\n                      <div class=\"flex justify-end gap-2\">\r\n                        <a href=\"/admin/banks/${bank.id}\" \r\n                           class=\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-bold\">\r\n                          <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                        </a>\r\n                        <a href=\"/admin/banks/${bank.id}/edit\" \r\n                           class=\"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-bold\">\r\n                          <i class=\"fas fa-edit\"></i> \u062A\u0639\u062F\u064A\u0644\r\n                        </a>\r\n                        <a href=\"/admin/banks/${bank.id}/delete\" \r\n                           onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0628\u0646\u0643\u061F')\"\r\n                           class=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs font-bold\">\r\n                          <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                        </a>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                `).join('')}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          // \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629\r\n          function filterTable() {\r\n            const searchInput = document.getElementById('searchInput').value.toLowerCase().trim()\r\n            const filterField = document.getElementById('filterField').value\r\n            const tableBody = document.getElementById('tableBody')\r\n            const rows = tableBody.getElementsByTagName('tr')\r\n            let visibleCount = 0\r\n            \r\n            for (let i = 0; i < rows.length; i++) {\r\n              const row = rows[i]\r\n              const name = row.getAttribute('data-name') || ''\r\n              const code = row.getAttribute('data-code') || ''\r\n              \r\n              let shouldShow = false\r\n              \r\n              if (searchInput === '') {\r\n                shouldShow = true\r\n              } else {\r\n                switch(filterField) {\r\n                  case 'name':\r\n                    shouldShow = name.toLowerCase().includes(searchInput)\r\n                    break\r\n                  case 'code':\r\n                    shouldShow = code.toLowerCase().includes(searchInput)\r\n                    break\r\n                  default: // 'all'\r\n                    shouldShow = name.toLowerCase().includes(searchInput) || \r\n                                code.toLowerCase().includes(searchInput)\r\n                }\r\n              }\r\n              \r\n              row.style.display = shouldShow ? '' : 'none'\r\n              if (shouldShow) visibleCount++\r\n            }\r\n            \r\n            document.getElementById('totalCount').textContent = visibleCount\r\n          }\r\n          \r\n          function resetFilters() {\r\n            document.getElementById('searchInput').value = ''\r\n            document.getElementById('filterField').value = 'all'\r\n            filterTable()\r\n          }\r\n          \r\n          function exportToCSV() {\r\n            const data = [\r\n              ['#', '\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643', '\u0627\u0644\u0648\u0635\u0641', '\u0627\u0644\u062D\u0627\u0644\u0629'],\r\n              ${banks.results.map((bank: any) => `['${bank.id}', '${bank.bank_name}', '${bank.description || ''}', '${bank.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}']`).join(',\\n              ')}\r\n            ];\r\n            \r\n            let csv = '\\\\uFEFF';\r\n            data.forEach(row => {\r\n              csv += row.join(',') + '\\\\n';\r\n            });\r\n            \r\n            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n            const link = document.createElement('a');\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = '\u0627\u0644\u0628\u0646\u0648\u0643_' + new Date().toISOString().split('T')[0] + '.csv';\r\n            link.click();\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 (Rates) ====================\r\n\r\napp.get('/admin/rates', async (c) => {\r\n  try {\r\n    const rates = await c.env.DB.prepare(`\r\n      SELECT fr.*, b.bank_name, ft.type_name\r\n      FROM bank_financing_rates fr\r\n      LEFT JOIN banks b ON fr.bank_id = b.id\r\n      LEFT JOIN financing_types ft ON fr.financing_type_id = ft.id\r\n      ORDER BY b.bank_name, ft.type_name\r\n    `).all()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-percentage text-orange-600 ml-2\"></i>\r\n                \u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 (<span id=\"totalCount\">${rates.results.length}</span>)\r\n              </h1>\r\n              \r\n              <div class=\"flex gap-3\">\r\n                <a href=\"/admin/rates/new\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-plus ml-2\"></i>\r\n                  \u0625\u0636\u0627\u0641\u0629 \u062C\u062F\u064A\u062F\r\n                </a>\r\n                <button onclick=\"exportToCSV()\" \r\n                        class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-file-export ml-2\"></i>\r\n                  \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- \u0634\u0631\u064A\u0637 \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629 -->\r\n            <div class=\"border-t pt-4\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div class=\"relative\">\r\n                  <i class=\"fas fa-search absolute right-3 top-3.5 text-gray-400\"></i>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"searchInput\" \r\n                    placeholder=\"\u0628\u062D\u062B \u0641\u064A \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644...\" \r\n                    class=\"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                    onkeyup=\"filterTable()\"\r\n                  >\r\n                </div>\r\n                \r\n                <div>\r\n                  <select \r\n                    id=\"filterField\" \r\n                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                    onchange=\"filterTable()\"\r\n                  >\r\n                    <option value=\"all\">\u0627\u0644\u0628\u062D\u062B \u0641\u064A: \u0627\u0644\u0643\u0644</option>\r\n                    <option value=\"bank\">\u0627\u0644\u0628\u0646\u0643 \u0641\u0642\u0637</option>\r\n                    <option value=\"type\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0641\u0642\u0637</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <button \r\n                  onclick=\"resetFilters()\" \r\n                  class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                >\r\n                  <i class=\"fas fa-redo ml-2\"></i>\r\n                  \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <table class=\"w-full\" id=\"dataTable\">\r\n              <thead class=\"bg-gray-100\">\r\n                <tr>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">#</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0628\u0646\u0643</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0646\u0633\u0628\u0629 \u0627\u0644\u0641\u0627\u0626\u062F\u0629</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"divide-y divide-gray-200\" id=\"tableBody\">\r\n                ${rates.results.map((rate: any) => `\r\n                  <tr class=\"hover:bg-gray-50\" data-bank=\"${rate.bank_name || ''}\" data-type=\"${rate.type_name || ''}\">\r\n                    <td class=\"px-6 py-4 text-sm text-gray-900\">${rate.id}</td>\r\n                    <td class=\"px-6 py-4\">\r\n                      <div class=\"flex items-center\">\r\n                        <i class=\"fas fa-university text-yellow-600 ml-2\"></i>\r\n                        <span class=\"text-sm font-bold text-gray-900\">${rate.bank_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td class=\"px-6 py-4 text-sm text-gray-600\">${rate.type_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</td>\r\n                    <td class=\"px-6 py-4\">\r\n                      <span class=\"text-lg font-bold text-orange-600\">${rate.rate || 0}%</span>\r\n                    </td>\r\n                    <td class=\"px-6 py-4 text-sm text-gray-600\">${rate.min_amount ? rate.min_amount.toLocaleString() : '0'} \u0631\u064A\u0627\u0644</td>\r\n                    <td class=\"px-6 py-4 text-sm text-gray-600\">${rate.max_amount ? rate.max_amount.toLocaleString() : '0'} \u0631\u064A\u0627\u0644</td>\r\n                    <td class=\"px-6 py-4\">\r\n                      <div class=\"flex gap-2 justify-end\">\r\n                        <a href=\"/admin/rates/${rate.id}\" class=\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                          <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                        </a>\r\n                        <a href=\"/admin/rates/${rate.id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                          <i class=\"fas fa-edit\"></i> \u062A\u0639\u062F\u064A\u0644\r\n                        </a>\r\n                        <a href=\"/admin/rates/${rate.id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                          <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                        </a>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                `).join('')}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          // \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629\r\n          function filterTable() {\r\n            const searchInput = document.getElementById('searchInput').value.toLowerCase().trim()\r\n            const filterField = document.getElementById('filterField').value\r\n            const tableBody = document.getElementById('tableBody')\r\n            const rows = tableBody.getElementsByTagName('tr')\r\n            let visibleCount = 0\r\n            \r\n            for (let i = 0; i < rows.length; i++) {\r\n              const row = rows[i]\r\n              const bank = row.getAttribute('data-bank') || ''\r\n              const type = row.getAttribute('data-type') || ''\r\n              \r\n              let shouldShow = false\r\n              \r\n              if (searchInput === '') {\r\n                shouldShow = true\r\n              } else {\r\n                switch(filterField) {\r\n                  case 'bank':\r\n                    shouldShow = bank.toLowerCase().includes(searchInput)\r\n                    break\r\n                  case 'type':\r\n                    shouldShow = type.toLowerCase().includes(searchInput)\r\n                    break\r\n                  default: // 'all'\r\n                    shouldShow = bank.toLowerCase().includes(searchInput) || \r\n                                type.toLowerCase().includes(searchInput)\r\n                }\r\n              }\r\n              \r\n              row.style.display = shouldShow ? '' : 'none'\r\n              if (shouldShow) visibleCount++\r\n            }\r\n            \r\n            document.getElementById('totalCount').textContent = visibleCount\r\n          }\r\n          \r\n          function resetFilters() {\r\n            document.getElementById('searchInput').value = ''\r\n            document.getElementById('filterField').value = 'all'\r\n            filterTable()\r\n          }\r\n          \r\n          function exportToCSV() {\r\n            const data = [\r\n              ['#', '\u0627\u0644\u0628\u0646\u0643', '\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644', '\u0646\u0633\u0628\u0629 \u0627\u0644\u0641\u0627\u0626\u062F\u0629', '\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649', '\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649'],\r\n              ${rates.results.map((rate: any) => `['${rate.id}', '${rate.bank_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}', '${rate.type_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}', '${rate.rate || 0}%', '${rate.min_amount || 0}', '${rate.max_amount || 0}']`).join(',\\n              ')}\r\n            ];\r\n            \r\n            let csv = '\\\\uFEFF';\r\n            data.forEach(row => {\r\n              csv += row.join(',') + '\\\\n';\r\n            });\r\n            \r\n            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n            const link = document.createElement('a');\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = '\u0646\u0633\u0628_\u0627\u0644\u062A\u0645\u0648\u064A\u0644_' + new Date().toISOString().split('T')[0] + '.csv';\r\n            link.click();\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0639\u0631\u0636 \u0646\u0633\u0628\u0629 \u062A\u0645\u0648\u064A\u0644 \u0648\u0627\u062D\u062F\u0629 ====================\r\napp.get('/admin/rates/new', async (c) => {\r\n  try {\r\n    const banks = await c.env.DB.prepare('SELECT id, bank_name FROM banks WHERE is_active = 1 ORDER BY bank_name').all()\r\n    const financingTypes = await c.env.DB.prepare('SELECT id, type_name FROM financing_types ORDER BY type_name').all()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0625\u0636\u0627\u0641\u0629 \u0646\u0633\u0628\u0629 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F\u0629</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/rates\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n            </a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-6\">\r\n              <i class=\"fas fa-plus-circle text-orange-600 ml-2\"></i>\r\n              \u0625\u0636\u0627\u0641\u0629 \u0646\u0633\u0628\u0629 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F\u0629\r\n            </h1>\r\n            \r\n            <form action=\"/api/rates\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\" class=\"space-y-6\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <!-- \u0627\u0644\u0628\u0646\u0643 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-university text-yellow-600 ml-1\"></i>\r\n                    \u0627\u0644\u0628\u0646\u0643 *\r\n                  </label>\r\n                  <select name=\"bank_id\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0646\u0643 --</option>\r\n                    ${banks.results.map((bank: any) => `\r\n                      <option value=\"${bank.id}\">${bank.bank_name}</option>\r\n                    `).join('')}\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-file-invoice text-purple-600 ml-1\"></i>\r\n                    \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 *\r\n                  </label>\r\n                  <select name=\"financing_type_id\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 --</option>\r\n                    ${financingTypes.results.map((type: any) => `\r\n                      <option value=\"${type.id}\">${type.type_name}</option>\r\n                    `).join('')}\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0646\u0633\u0628\u0629 \u0627\u0644\u0641\u0627\u0626\u062F\u0629 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-percentage text-orange-600 ml-1\"></i>\r\n                    \u0646\u0633\u0628\u0629 \u0627\u0644\u0641\u0627\u0626\u062F\u0629 (%) *\r\n                  </label>\r\n                  <input type=\"number\" name=\"rate\" required min=\"0\" max=\"100\" step=\"0.01\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: 4.5\">\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u0628\u0644\u063A -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-arrow-down text-green-600 ml-1\"></i>\r\n                    \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u0628\u0644\u063A (\u0631\u064A\u0627\u0644)\r\n                  </label>\r\n                  <input type=\"number\" name=\"min_amount\" min=\"0\" step=\"1000\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: 10000\">\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u0628\u0644\u063A -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-arrow-up text-red-600 ml-1\"></i>\r\n                    \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u0628\u0644\u063A (\u0631\u064A\u0627\u0644)\r\n                  </label>\r\n                  <input type=\"number\" name=\"max_amount\" min=\"0\" step=\"1000\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: 500000\">\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u062F\u0629 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-calendar text-blue-600 ml-1\"></i>\r\n                    \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u062F\u0629 (\u0634\u0647\u0648\u0631)\r\n                  </label>\r\n                  <input type=\"number\" name=\"min_duration\" min=\"1\" max=\"360\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: 12\">\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u062F\u0629 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-calendar-alt text-purple-600 ml-1\"></i>\r\n                    \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u062F\u0629 (\u0634\u0647\u0648\u0631)\r\n                  </label>\r\n                  <input type=\"number\" name=\"max_duration\" min=\"1\" max=\"360\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: 60\">\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex gap-4 pt-6 border-t\">\r\n                <button type=\"submit\" class=\"flex-1 bg-orange-600 hover:bg-orange-700 text-white py-3 px-6 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638 \u0627\u0644\u0646\u0633\u0628\u0629\r\n                </button>\r\n                <a href=\"/admin/rates\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 px-6 rounded-lg font-bold text-center transition-all\">\r\n                  <i class=\"fas fa-times ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621\r\n                </a>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629</h1>')\r\n  }\r\n})\r\napp.get('/admin/rates/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    const rate = await c.env.DB.prepare(`\r\n      SELECT fr.*, b.bank_name, ft.type_name\r\n      FROM bank_financing_rates fr\r\n      LEFT JOIN banks b ON fr.bank_id = b.id\r\n      LEFT JOIN financing_types ft ON fr.financing_type_id = ft.id\r\n      WHERE fr.id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!rate) {\r\n      return c.html('<h1>\u0627\u0644\u0646\u0633\u0628\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0639\u0631\u0636 \u0646\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 #${id}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6 flex justify-between items-center\">\r\n            <a href=\"/admin/rates\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0646\u0633\u0628\r\n            </a>\r\n            <div class=\"flex gap-2\">\r\n              <a href=\"/admin/rates/${id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-edit ml-1\"></i> \u062A\u0639\u062F\u064A\u0644\r\n              </a>\r\n              <a href=\"/admin/rates/${id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-trash ml-1\"></i> \u062D\u0630\u0641\r\n              </a>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-6 flex items-center\">\r\n              <i class=\"fas fa-percentage text-orange-600 ml-3\"></i>\r\n              \u0646\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 #${id}\r\n            </h1>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0628\u0646\u0643</label>\r\n                <p class=\"text-lg text-gray-900\">${rate.bank_name || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</label>\r\n                <p class=\"text-lg text-gray-900\">${rate.type_name || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0646\u0633\u0628\u0629 \u0627\u0644\u0641\u0627\u0626\u062F\u0629</label>\r\n                <p class=\"text-3xl font-bold text-orange-600\">${rate.rate || 0}%</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062D\u0627\u0644\u0629</label>\r\n                <p>\r\n                  <span class=\"px-4 py-2 rounded-full text-sm font-bold ${rate.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}\">\r\n                    ${rate.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u0628\u0644\u063A</label>\r\n                <p class=\"text-lg text-gray-900\">${rate.min_amount ? rate.min_amount.toLocaleString() : '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'} \u0631\u064A\u0627\u0644</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u0628\u0644\u063A</label>\r\n                <p class=\"text-lg text-gray-900\">${rate.max_amount ? rate.max_amount.toLocaleString() : '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'} \u0631\u064A\u0627\u0644</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u062F\u0629</label>\r\n                <p class=\"text-lg text-gray-900\">${rate.min_duration || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'} \u0634\u0647\u0631</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u062F\u0629</label>\r\n                <p class=\"text-lg text-gray-900\">${rate.max_duration || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'} \u0634\u0647\u0631</p>\r\n              </div>\r\n              \r\n              <div class=\"md:col-span-2 mt-4\">\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621</label>\r\n                <p class=\"text-gray-900\">${new Date(rate.created_at).toLocaleString('ar-SA')}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0646\u0645\u0648\u0630\u062C \u0625\u0636\u0627\u0641\u0629 \u0646\u0633\u0628\u0629 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F\u0629 ====================\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A (Subscriptions) ====================\r\n\r\napp.get('/admin/subscriptions', async (c) => {\r\n  try {\r\n    const subscriptions = await c.env.DB.prepare(`\r\n      SELECT s.*, p.package_name, p.price\r\n      FROM subscriptions s\r\n      LEFT JOIN packages p ON s.package_id = p.id\r\n      ORDER BY s.created_at DESC\r\n    `).all()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-id-card text-teal-600 ml-2\"></i>\r\n                \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A (<span id=\"totalCount\">${subscriptions.results.length}</span>)\r\n              </h1>\r\n              \r\n              <div class=\"flex gap-3\">\r\n                <a href=\"/admin/subscriptions/new\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-plus ml-2\"></i>\r\n                  \u0625\u0636\u0627\u0641\u0629 \u062C\u062F\u064A\u062F\r\n                </a>\r\n                <button onclick=\"exportToCSV()\" \r\n                        class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-file-export ml-2\"></i>\r\n                  \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- \u0634\u0631\u064A\u0637 \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629 -->\r\n            <div class=\"border-t pt-4\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div class=\"relative\">\r\n                  <i class=\"fas fa-search absolute right-3 top-3.5 text-gray-400\"></i>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"searchInput\" \r\n                    placeholder=\"\u0628\u062D\u062B \u0641\u064A \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644...\" \r\n                    class=\"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                    onkeyup=\"filterTable()\"\r\n                  >\r\n                </div>\r\n                \r\n                <div>\r\n                  <select \r\n                    id=\"filterField\" \r\n                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                    onchange=\"filterTable()\"\r\n                  >\r\n                    <option value=\"all\">\u0627\u0644\u0628\u062D\u062B \u0641\u064A: \u0627\u0644\u0643\u0644</option>\r\n                    <option value=\"company\">\u0627\u0644\u0634\u0631\u0643\u0629 \u0641\u0642\u0637</option>\r\n                    <option value=\"package\">\u0627\u0644\u0628\u0627\u0642\u0629 \u0641\u0642\u0637</option>\r\n                    <option value=\"status\">\u0627\u0644\u062D\u0627\u0644\u0629 \u0641\u0642\u0637</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <button \r\n                  onclick=\"resetFilters()\" \r\n                  class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                >\r\n                  <i class=\"fas fa-redo ml-2\"></i>\r\n                  \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <table class=\"w-full\" id=\"dataTable\">\r\n              <thead class=\"bg-gray-100\">\r\n                <tr>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">#</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0628\u0627\u0642\u0629</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u062A\u0647\u0627\u0621</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0629</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"divide-y divide-gray-200\" id=\"tableBody\">\r\n                ${subscriptions.results.map((sub: any) => {\r\n                  const statusAr = sub.status === 'active' ? '\u0646\u0634\u0637' : sub.status === 'expired' ? '\u0645\u0646\u062A\u0647\u064A' : '\u0645\u0639\u0644\u0642';\r\n                  return `\r\n                  <tr class=\"hover:bg-gray-50\" \r\n                      data-company=\"${sub.company_name || ''}\" \r\n                      data-package=\"${sub.package_name || ''}\" \r\n                      data-status=\"${statusAr}\">\r\n                    <td class=\"px-6 py-4 text-sm text-gray-900\">${sub.id}</td>\r\n                    <td class=\"px-6 py-4\">\r\n                      <div class=\"flex items-center\">\r\n                        <i class=\"fas fa-building text-teal-600 ml-2\"></i>\r\n                        <span class=\"text-sm font-bold text-gray-900\">${sub.company_name}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td class=\"px-6 py-4 text-sm text-gray-600\">${sub.package_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</td>\r\n                    <td class=\"px-6 py-4 text-sm text-gray-600\">${sub.start_date || '-'}</td>\r\n                    <td class=\"px-6 py-4 text-sm text-gray-600\">${sub.end_date || '-'}</td>\r\n                    <td class=\"px-6 py-4\">\r\n                      <span class=\"px-3 py-1 rounded-full text-xs font-bold ${\r\n                        sub.status === 'active' ? 'bg-green-100 text-green-800' : \r\n                        sub.status === 'expired' ? 'bg-red-100 text-red-800' : \r\n                        'bg-yellow-100 text-yellow-800'\r\n                      }\">\r\n                        ${statusAr}\r\n                      </span>\r\n                    </td>\r\n                    <td class=\"px-6 py-4 text-sm text-gray-600\">${sub.calculations_used || 0}</td>\r\n                    <td class=\"px-6 py-4\">\r\n                      <div class=\"flex gap-2 justify-end\">\r\n                        <a href=\"/admin/subscriptions/${sub.id}\" class=\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                          <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                        </a>\r\n                        <a href=\"/admin/subscriptions/${sub.id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                          <i class=\"fas fa-edit\"></i> \u062A\u0639\u062F\u064A\u0644\r\n                        </a>\r\n                        <a href=\"/admin/subscriptions/${sub.id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                          <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                        </a>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                `}).join('')}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          // \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629\r\n          function filterTable() {\r\n            const searchInput = document.getElementById('searchInput').value.toLowerCase().trim()\r\n            const filterField = document.getElementById('filterField').value\r\n            const tableBody = document.getElementById('tableBody')\r\n            const rows = tableBody.getElementsByTagName('tr')\r\n            let visibleCount = 0\r\n            \r\n            for (let i = 0; i < rows.length; i++) {\r\n              const row = rows[i]\r\n              const company = row.getAttribute('data-company') || ''\r\n              const package_name = row.getAttribute('data-package') || ''\r\n              const status = row.getAttribute('data-status') || ''\r\n              \r\n              let shouldShow = false\r\n              \r\n              if (searchInput === '') {\r\n                shouldShow = true\r\n              } else {\r\n                switch(filterField) {\r\n                  case 'company':\r\n                    shouldShow = company.toLowerCase().includes(searchInput)\r\n                    break\r\n                  case 'package':\r\n                    shouldShow = package_name.toLowerCase().includes(searchInput)\r\n                    break\r\n                  case 'status':\r\n                    shouldShow = status.toLowerCase().includes(searchInput)\r\n                    break\r\n                  default: // 'all'\r\n                    shouldShow = company.toLowerCase().includes(searchInput) || \r\n                                package_name.toLowerCase().includes(searchInput) || \r\n                                status.toLowerCase().includes(searchInput)\r\n                }\r\n              }\r\n              \r\n              row.style.display = shouldShow ? '' : 'none'\r\n              if (shouldShow) visibleCount++\r\n            }\r\n            \r\n            document.getElementById('totalCount').textContent = visibleCount\r\n          }\r\n          \r\n          function resetFilters() {\r\n            document.getElementById('searchInput').value = ''\r\n            document.getElementById('filterField').value = 'all'\r\n            filterTable()\r\n          }\r\n          \r\n          function exportToCSV() {\r\n            const data = [\r\n              ['#', '\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629', '\u0627\u0644\u0628\u0627\u0642\u0629', '\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629', '\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u062A\u0647\u0627\u0621', '\u0627\u0644\u062D\u0627\u0644\u0629', '\u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0629'],\r\n              ${subscriptions.results.map((sub: any) => {\r\n                const statusAr = sub.status === 'active' ? '\u0646\u0634\u0637' : sub.status === 'expired' ? '\u0645\u0646\u062A\u0647\u064A' : '\u0645\u0639\u0644\u0642';\r\n                return `['${sub.id}', '${sub.company_name}', '${sub.package_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}', '${sub.start_date || '-'}', '${sub.end_date || '-'}', '${statusAr}', '${sub.calculations_used || 0}']`;\r\n              }).join(',\\n              ')}\r\n            ];\r\n            \r\n            let csv = '\\\\uFEFF';\r\n            data.forEach(row => {\r\n              csv += row.join(',') + '\\\\n';\r\n            });\r\n            \r\n            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n            const link = document.createElement('a');\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = '\u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A_' + new Date().toISOString().split('T')[0] + '.csv';\r\n            link.click();\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0639\u0631\u0636 \u0627\u0634\u062A\u0631\u0627\u0643 \u0648\u0627\u062D\u062F ====================\r\napp.get('/admin/subscriptions/new', async (c) => {\r\n  try {\r\n    const packages = await c.env.DB.prepare('SELECT id, package_name, price, duration_months FROM packages WHERE is_active = 1 ORDER BY price').all()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0625\u0636\u0627\u0641\u0629 \u0627\u0634\u062A\u0631\u0627\u0643 \u062C\u062F\u064A\u062F</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/subscriptions\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A\r\n            </a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-6\">\r\n              <i class=\"fas fa-plus-circle text-teal-600 ml-2\"></i>\r\n              \u0625\u0636\u0627\u0641\u0629 \u0627\u0634\u062A\u0631\u0627\u0643 \u062C\u062F\u064A\u062F\r\n            </h1>\r\n            \r\n            <form action=\"/api/subscriptions\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\" class=\"space-y-6\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <!-- \u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 -->\r\n                <div class=\"md:col-span-2\">\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-building text-teal-600 ml-1\"></i>\r\n                    \u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 *\r\n                  </label>\r\n                  <input type=\"text\" name=\"company_name\" required \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: \u0634\u0631\u0643\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0633\u0631\u064A\u0639\">\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u0628\u0627\u0642\u0629 -->\r\n                <div class=\"md:col-span-2\">\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-box text-purple-600 ml-1\"></i>\r\n                    \u0627\u0644\u0628\u0627\u0642\u0629 *\r\n                  </label>\r\n                  <select name=\"package_id\" id=\"packageSelect\" required onchange=\"updateDates()\" \r\n                          class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0627\u0642\u0629 --</option>\r\n                    ${packages.results.map((pkg: any) => `\r\n                      <option value=\"${pkg.id}\" data-duration=\"${pkg.duration_months}\">\r\n                        ${pkg.package_name} - ${pkg.price} \u0631\u064A\u0627\u0644 - ${pkg.duration_months} \u0634\u0647\u0631\r\n                      </option>\r\n                    `).join('')}\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-calendar-check text-green-600 ml-1\"></i>\r\n                    \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629 *\r\n                  </label>\r\n                  <input type=\"date\" name=\"start_date\" id=\"startDate\" required onchange=\"updateEndDate()\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\">\r\n                </div>\r\n                \r\n                <!-- \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u062A\u0647\u0627\u0621 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-calendar-times text-red-600 ml-1\"></i>\r\n                    \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u062A\u0647\u0627\u0621 *\r\n                  </label>\r\n                  <input type=\"date\" name=\"end_date\" id=\"endDate\" required \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                         readonly>\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u062D\u0627\u0644\u0629 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-flag text-blue-600 ml-1\"></i>\r\n                    \u0627\u0644\u062D\u0627\u0644\u0629 *\r\n                  </label>\r\n                  <select name=\"status\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\">\r\n                    <option value=\"active\">\u0646\u0634\u0637</option>\r\n                    <option value=\"pending\">\u0645\u0639\u0644\u0642</option>\r\n                    <option value=\"expired\">\u0645\u0646\u062A\u0647\u064A</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0639\u062F\u062F \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0629 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-calculator text-orange-600 ml-1\"></i>\r\n                    \u0639\u062F\u062F \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0629\r\n                  </label>\r\n                  <input type=\"number\" name=\"calculations_used\" min=\"0\" value=\"0\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\">\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex gap-4 pt-6 border-t\">\r\n                <button type=\"submit\" class=\"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 px-6 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\r\n                </button>\r\n                <a href=\"/admin/subscriptions\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 px-6 rounded-lg font-bold text-center transition-all\">\r\n                  <i class=\"fas fa-times ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621\r\n                </a>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          // Set today as default start date\r\n          document.getElementById('startDate').valueAsDate = new Date();\r\n          \r\n          function updateEndDate() {\r\n            const packageSelect = document.getElementById('packageSelect');\r\n            const startDate = document.getElementById('startDate').value;\r\n            const endDateInput = document.getElementById('endDate');\r\n            \r\n            if (packageSelect.value && startDate) {\r\n              const selectedOption = packageSelect.options[packageSelect.selectedIndex];\r\n              const durationMonths = parseInt(selectedOption.dataset.duration);\r\n              \r\n              const start = new Date(startDate);\r\n              const end = new Date(start);\r\n              end.setMonth(end.getMonth() + durationMonths);\r\n              \r\n              endDateInput.value = end.toISOString().split('T')[0];\r\n            }\r\n          }\r\n          \r\n          function updateDates() {\r\n            updateEndDate();\r\n          }\r\n          \r\n          // Auto-update end date when package changes\r\n          document.getElementById('packageSelect').addEventListener('change', updateDates);\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629</h1>')\r\n  }\r\n})\r\napp.get('/admin/subscriptions/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    const subscription = await c.env.DB.prepare(`\r\n      SELECT s.*, p.package_name, p.price\r\n      FROM subscriptions s\r\n      LEFT JOIN packages p ON s.package_id = p.id\r\n      WHERE s.id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!subscription) {\r\n      return c.html('<h1>\u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0639\u0631\u0636 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 #${id}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6 flex justify-between items-center\">\r\n            <a href=\"/admin/subscriptions\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A\r\n            </a>\r\n            <div class=\"flex gap-2\">\r\n              <a href=\"/admin/subscriptions/${id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-edit ml-1\"></i> \u062A\u0639\u062F\u064A\u0644\r\n              </a>\r\n              <a href=\"/admin/subscriptions/${id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-trash ml-1\"></i> \u062D\u0630\u0641\r\n              </a>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-6 flex items-center\">\r\n              <i class=\"fas fa-id-card text-teal-600 ml-3\"></i>\r\n              \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 #${id}\r\n            </h1>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div class=\"md:col-span-2\">\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629</label>\r\n                <p class=\"text-2xl font-bold text-gray-900\">${subscription.company_name}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0628\u0627\u0642\u0629</label>\r\n                <p class=\"text-lg text-gray-900\">${subscription.package_name || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0633\u0639\u0631</label>\r\n                <p class=\"text-lg font-bold text-green-600\">${subscription.price ? subscription.price.toLocaleString() : '0'} \u0631\u064A\u0627\u0644</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629</label>\r\n                <p class=\"text-lg text-gray-900\">${subscription.start_date || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u062A\u0647\u0627\u0621</label>\r\n                <p class=\"text-lg text-gray-900\">${subscription.end_date || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062D\u0627\u0644\u0629</label>\r\n                <p>\r\n                  <span class=\"px-4 py-2 rounded-full text-sm font-bold ${\r\n                    subscription.status === 'active' ? 'bg-green-100 text-green-800' : \r\n                    subscription.status === 'expired' ? 'bg-red-100 text-red-800' : \r\n                    'bg-yellow-100 text-yellow-800'\r\n                  }\">\r\n                    ${subscription.status === 'active' ? '\u0646\u0634\u0637' : subscription.status === 'expired' ? '\u0645\u0646\u062A\u0647\u064A' : '\u0645\u0639\u0644\u0642'}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0629</label>\r\n                <p class=\"text-lg text-gray-900\">${subscription.calculations_used || 0}</p>\r\n              </div>\r\n              \r\n              <div class=\"md:col-span-2 mt-4\">\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621</label>\r\n                <p class=\"text-gray-900\">${new Date(subscription.created_at).toLocaleString('ar-SA')}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0646\u0645\u0648\u0630\u062C \u0625\u0636\u0627\u0641\u0629 \u0627\u0634\u062A\u0631\u0627\u0643 \u062C\u062F\u064A\u062F ====================\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0627\u0644\u0628\u0627\u0642\u0627\u062A (Packages) ====================\r\n\r\napp.get('/admin/packages', async (c) => {\r\n  try {\r\n    const packages = await c.env.DB.prepare(`\r\n      SELECT * FROM packages ORDER BY price\r\n    `).all()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0627\u0644\u0628\u0627\u0642\u0627\u062A</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-box text-purple-600 ml-2\"></i>\r\n                \u0627\u0644\u0628\u0627\u0642\u0627\u062A (<span id=\"totalCount\">${packages.results.length}</span>)\r\n              </h1>\r\n              \r\n              <div class=\"flex gap-3\">\r\n                <a href=\"/admin/packages/new\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-plus ml-2\"></i>\r\n                  \u0625\u0636\u0627\u0641\u0629 \u062C\u062F\u064A\u062F\r\n                </a>\r\n                <button onclick=\"exportToCSV()\" \r\n                        class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-file-export ml-2\"></i>\r\n                  \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- \u0634\u0631\u064A\u0637 \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629 -->\r\n            <div class=\"border-t pt-4\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div class=\"relative\">\r\n                  <i class=\"fas fa-search absolute right-3 top-3.5 text-gray-400\"></i>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"searchInput\" \r\n                    placeholder=\"\u0628\u062D\u062B \u0641\u064A \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644...\" \r\n                    class=\"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                    onkeyup=\"filterPackages()\"\r\n                  >\r\n                </div>\r\n                \r\n                <div>\r\n                  <select \r\n                    id=\"filterField\" \r\n                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                    onchange=\"filterPackages()\"\r\n                  >\r\n                    <option value=\"all\">\u0627\u0644\u0628\u062D\u062B \u0641\u064A: \u0627\u0644\u0643\u0644</option>\r\n                    <option value=\"name\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0627\u0642\u0629 \u0641\u0642\u0637</option>\r\n                    <option value=\"price\">\u0627\u0644\u0633\u0639\u0631 \u0641\u0642\u0637</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <button \r\n                  onclick=\"resetFilters()\" \r\n                  class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                >\r\n                  <i class=\"fas fa-redo ml-2\"></i>\r\n                  \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\" id=\"packagesGrid\">\r\n            ${packages.results.map((pkg: any) => `\r\n              <div class=\"package-card bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border-t-4 ${\r\n                pkg.package_name.includes('\u0627\u0644\u0630\u0647\u0628\u064A\u0629') ? 'border-yellow-500' :\r\n                pkg.package_name.includes('\u0627\u0644\u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629') ? 'border-purple-500' :\r\n                'border-blue-500'\r\n              }\" data-name=\"${pkg.package_name || ''}\" data-price=\"${pkg.price || 0}\">\r\n                <div class=\"text-center mb-4\">\r\n                  <i class=\"fas fa-box text-5xl ${\r\n                    pkg.package_name.includes('\u0627\u0644\u0630\u0647\u0628\u064A\u0629') ? 'text-yellow-500' :\r\n                    pkg.package_name.includes('\u0627\u0644\u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629') ? 'text-purple-500' :\r\n                    'text-blue-500'\r\n                  } mb-3\"></i>\r\n                  <h3 class=\"text-2xl font-bold text-gray-800\">${pkg.package_name}</h3>\r\n                  <p class=\"text-sm text-gray-600 mt-2\">${pkg.description || ''}</p>\r\n                </div>\r\n                \r\n                <div class=\"border-t border-b border-gray-200 py-4 my-4\">\r\n                  <div class=\"text-center\">\r\n                    <span class=\"text-4xl font-bold text-gray-800\">${pkg.price}</span>\r\n                    <span class=\"text-gray-600\"> \u0631\u064A\u0627\u0644</span>\r\n                    <p class=\"text-sm text-gray-500 mt-1\">\u0644\u0645\u062F\u0629 ${pkg.duration_months} \u0634\u0647\u0631</p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"space-y-3 mb-4\">\r\n                  <div class=\"flex items-center text-sm\">\r\n                    <i class=\"fas fa-check-circle text-green-500 ml-2\"></i>\r\n                    <span><strong>${pkg.max_calculations}</strong> \u062D\u0633\u0627\u0628</span>\r\n                  </div>\r\n                  <div class=\"flex items-center text-sm\">\r\n                    <i class=\"fas fa-users text-blue-500 ml-2\"></i>\r\n                    <span>\u062D\u062A\u0649 <strong>${pkg.max_users}</strong> \u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</span>\r\n                  </div>\r\n                  <div class=\"flex items-center text-sm\">\r\n                    <i class=\"fas fa-${pkg.is_active ? 'check' : 'times'}-circle ${pkg.is_active ? 'text-green-500' : 'text-red-500'} ml-2\"></i>\r\n                    <span>${pkg.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"pt-4 border-t border-gray-200 flex gap-2 justify-end\">\r\n                  <a href=\"/admin/packages/${pkg.id}\" class=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded text-sm transition-all\">\r\n                    <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                  </a>\r\n                  <a href=\"/admin/packages/${pkg.id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded text-sm transition-all\">\r\n                    <i class=\"fas fa-edit\"></i> \u062A\u0639\u062F\u064A\u0644\r\n                  </a>\r\n                  <a href=\"/admin/packages/${pkg.id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded text-sm transition-all\">\r\n                    <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            `).join('')}\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          // \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629\r\n          function filterPackages() {\r\n            const searchInput = document.getElementById('searchInput').value.toLowerCase().trim()\r\n            const filterField = document.getElementById('filterField').value\r\n            const grid = document.getElementById('packagesGrid')\r\n            const cards = grid.getElementsByClassName('package-card')\r\n            let visibleCount = 0\r\n            \r\n            for (let i = 0; i < cards.length; i++) {\r\n              const card = cards[i]\r\n              const name = card.getAttribute('data-name') || ''\r\n              const price = card.getAttribute('data-price') || ''\r\n              \r\n              let shouldShow = false\r\n              \r\n              if (searchInput === '') {\r\n                shouldShow = true\r\n              } else {\r\n                switch(filterField) {\r\n                  case 'name':\r\n                    shouldShow = name.toLowerCase().includes(searchInput)\r\n                    break\r\n                  case 'price':\r\n                    shouldShow = price.toLowerCase().includes(searchInput)\r\n                    break\r\n                  default: // 'all'\r\n                    shouldShow = name.toLowerCase().includes(searchInput) || \r\n                                price.toLowerCase().includes(searchInput)\r\n                }\r\n              }\r\n              \r\n              card.style.display = shouldShow ? '' : 'none'\r\n              if (shouldShow) visibleCount++\r\n            }\r\n            \r\n            document.getElementById('totalCount').textContent = visibleCount\r\n          }\r\n          \r\n          function resetFilters() {\r\n            document.getElementById('searchInput').value = ''\r\n            document.getElementById('filterField').value = 'all'\r\n            filterPackages()\r\n          }\r\n          \r\n          function exportToCSV() {\r\n            const data = [\r\n              ['#', '\u0627\u0633\u0645 \u0627\u0644\u0628\u0627\u0642\u0629', '\u0627\u0644\u0648\u0635\u0641', '\u0627\u0644\u0633\u0639\u0631', '\u0627\u0644\u0645\u062F\u0629 (\u0634\u0647\u0648\u0631)', '\u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A', '\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646', '\u0627\u0644\u062D\u0627\u0644\u0629'],\r\n              ${packages.results.map((pkg: any) => `['${pkg.id}', '${pkg.package_name}', '${pkg.description || ''}', '${pkg.price}', '${pkg.duration_months}', '${pkg.max_calculations}', '${pkg.max_users}', '${pkg.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}']`).join(',\\n              ')}\r\n            ];\r\n            \r\n            let csv = '\\\\uFEFF';\r\n            data.forEach(row => {\r\n              csv += row.join(',') + '\\\\n';\r\n            });\r\n            \r\n            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n            const link = document.createElement('a');\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = '\u0627\u0644\u0628\u0627\u0642\u0627\u062A_' + new Date().toISOString().split('T')[0] + '.csv';\r\n            link.click();\r\n          }\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0639\u0631\u0636 \u0628\u0627\u0642\u0629 \u0648\u0627\u062D\u062F\u0629 ====================\r\napp.get('/admin/packages/new', async (c) => {\r\n  return c.html(`\r\n    <!DOCTYPE html>\r\n    <html lang=\"ar\" dir=\"rtl\">\r\n    <head>\r\n      <meta charset=\"UTF-8\">\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n      <title>\u0625\u0636\u0627\u0641\u0629 \u0628\u0627\u0642\u0629 \u062C\u062F\u064A\u062F\u0629</title>\r\n      <script src=\"https://cdn.tailwindcss.com\"></script>\r\n      <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    </head>\r\n    <body class=\"bg-gray-50\">\r\n      <div class=\"max-w-4xl mx-auto p-6\">\r\n        <div class=\"mb-6\">\r\n          <a href=\"/admin/packages\" class=\"text-blue-600 hover:text-blue-800\">\r\n            <i class=\"fas fa-arrow-right ml-2\"></i>\r\n            \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0628\u0627\u0642\u0627\u062A\r\n          </a>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n          <h1 class=\"text-3xl font-bold text-gray-800 mb-6\">\r\n            <i class=\"fas fa-plus-circle text-pink-600 ml-2\"></i>\r\n            \u0625\u0636\u0627\u0641\u0629 \u0628\u0627\u0642\u0629 \u062C\u062F\u064A\u062F\u0629\r\n          </h1>\r\n          \r\n          <form action=\"/api/packages\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\" class=\"space-y-6\">\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <!-- \u0627\u0633\u0645 \u0627\u0644\u0628\u0627\u0642\u0629 -->\r\n              <div class=\"md:col-span-2\">\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-box text-purple-600 ml-1\"></i>\r\n                  \u0627\u0633\u0645 \u0627\u0644\u0628\u0627\u0642\u0629 *\r\n                </label>\r\n                <input type=\"text\" name=\"package_name\" required \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent\"\r\n                       placeholder=\"\u0645\u062B\u0627\u0644: \u0627\u0644\u0628\u0627\u0642\u0629 \u0627\u0644\u0630\u0647\u0628\u064A\u0629\">\r\n              </div>\r\n              \r\n              <!-- \u0627\u0644\u0633\u0639\u0631 -->\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-money-bill-wave text-green-600 ml-1\"></i>\r\n                  \u0627\u0644\u0633\u0639\u0631 (\u0631\u064A\u0627\u0644) *\r\n                </label>\r\n                <input type=\"number\" name=\"price\" required min=\"0\" step=\"0.01\" \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent\"\r\n                       placeholder=\"\u0645\u062B\u0627\u0644: 5000\">\r\n              </div>\r\n              \r\n              <!-- \u0627\u0644\u0645\u062F\u0629 \u0628\u0627\u0644\u0623\u0634\u0647\u0631 -->\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-calendar text-blue-600 ml-1\"></i>\r\n                  \u0627\u0644\u0645\u062F\u0629 (\u0634\u0647\u0648\u0631) *\r\n                </label>\r\n                <select name=\"duration_months\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent\">\r\n                  <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u062F\u0629 --</option>\r\n                  <option value=\"1\">\u0634\u0647\u0631 \u0648\u0627\u062D\u062F</option>\r\n                  <option value=\"3\">3 \u0623\u0634\u0647\u0631</option>\r\n                  <option value=\"6\">6 \u0623\u0634\u0647\u0631</option>\r\n                  <option value=\"12\">\u0633\u0646\u0629 \u0648\u0627\u062D\u062F\u0629 (12 \u0634\u0647\u0631)</option>\r\n                  <option value=\"24\">\u0633\u0646\u062A\u064A\u0646 (24 \u0634\u0647\u0631)</option>\r\n                  <option value=\"36\">3 \u0633\u0646\u0648\u0627\u062A (36 \u0634\u0647\u0631)</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <!-- \u0639\u062F\u062F \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A -->\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-calculator text-orange-600 ml-1\"></i>\r\n                  \u0639\u062F\u062F \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0645\u0633\u0645\u0648\u062D\u0629 *\r\n                </label>\r\n                <input type=\"number\" name=\"max_calculations\" required min=\"1\" \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent\"\r\n                       placeholder=\"\u0645\u062B\u0627\u0644: 1000\">\r\n              </div>\r\n              \r\n              <!-- \u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 -->\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-users text-indigo-600 ml-1\"></i>\r\n                  \u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0627\u0644\u0645\u0633\u0645\u0648\u062D *\r\n                </label>\r\n                <input type=\"number\" name=\"max_users\" required min=\"1\" \r\n                       class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent\"\r\n                       placeholder=\"\u0645\u062B\u0627\u0644: 5\">\r\n              </div>\r\n              \r\n              <!-- \u0627\u0644\u062D\u0627\u0644\u0629 -->\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-toggle-on text-green-600 ml-1\"></i>\r\n                  \u0627\u0644\u062D\u0627\u0644\u0629 *\r\n                </label>\r\n                <select name=\"is_active\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent\">\r\n                  <option value=\"1\">\u0646\u0634\u0637</option>\r\n                  <option value=\"0\">\u063A\u064A\u0631 \u0646\u0634\u0637</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <!-- \u0627\u0644\u0648\u0635\u0641 -->\r\n              <div class=\"md:col-span-2\">\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-align-right text-gray-600 ml-1\"></i>\r\n                  \u0627\u0644\u0648\u0635\u0641\r\n                </label>\r\n                <textarea name=\"description\" rows=\"3\" \r\n                          class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent\"\r\n                          placeholder=\"\u0648\u0635\u0641 \u0645\u062E\u062A\u0635\u0631 \u0644\u0644\u0628\u0627\u0642\u0629...\"></textarea>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"flex gap-4 pt-6 border-t\">\r\n              <button type=\"submit\" class=\"flex-1 bg-pink-600 hover:bg-pink-700 text-white py-3 px-6 rounded-lg font-bold transition-all\">\r\n                <i class=\"fas fa-save ml-2\"></i>\r\n                \u062D\u0641\u0638 \u0627\u0644\u0628\u0627\u0642\u0629\r\n              </button>\r\n              <a href=\"/admin/packages\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 px-6 rounded-lg font-bold text-center transition-all\">\r\n                <i class=\"fas fa-times ml-2\"></i>\r\n                \u0625\u0644\u063A\u0627\u0621\r\n              </a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </body>\r\n    </html>\r\n  `)\r\n})\r\napp.get('/admin/packages/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    const pkg = await c.env.DB.prepare('SELECT * FROM packages WHERE id = ?').bind(id).first()\r\n    \r\n    if (!pkg) {\r\n      return c.html('<h1>\u0627\u0644\u0628\u0627\u0642\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0639\u0631\u0636 \u0627\u0644\u0628\u0627\u0642\u0629 #${id}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6 flex justify-between items-center\">\r\n            <a href=\"/admin/packages\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0628\u0627\u0642\u0627\u062A\r\n            </a>\r\n            <div class=\"flex gap-2\">\r\n              <a href=\"/admin/packages/${id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-edit ml-1\"></i> \u062A\u0639\u062F\u064A\u0644\r\n              </a>\r\n              <a href=\"/admin/packages/${id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-trash ml-1\"></i> \u062D\u0630\u0641\r\n              </a>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8 border-t-4 ${\r\n            pkg.package_name.includes('\u0627\u0644\u0630\u0647\u0628\u064A\u0629') ? 'border-yellow-500' :\r\n            pkg.package_name.includes('\u0627\u0644\u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629') ? 'border-purple-500' :\r\n            'border-blue-500'\r\n          }\">\r\n            <div class=\"text-center mb-8\">\r\n              <i class=\"fas fa-box text-6xl ${\r\n                pkg.package_name.includes('\u0627\u0644\u0630\u0647\u0628\u064A\u0629') ? 'text-yellow-500' :\r\n                pkg.package_name.includes('\u0627\u0644\u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629') ? 'text-purple-500' :\r\n                'text-blue-500'\r\n              } mb-4\"></i>\r\n              <h1 class=\"text-4xl font-bold text-gray-800\">${pkg.package_name}</h1>\r\n              ${pkg.description ? `<p class=\"text-gray-600 mt-2\">${pkg.description}</p>` : ''}\r\n            </div>\r\n            \r\n            <div class=\"border-t border-b border-gray-200 py-6 my-6\">\r\n              <div class=\"text-center\">\r\n                <span class=\"text-5xl font-bold text-gray-800\">${pkg.price}</span>\r\n                <span class=\"text-2xl text-gray-600\"> \u0631\u064A\u0627\u0644</span>\r\n                <p class=\"text-gray-500 mt-2\">\u0644\u0645\u062F\u0629 ${pkg.duration_months} \u0634\u0647\u0631</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n              <div class=\"flex items-center\">\r\n                <i class=\"fas fa-calculator text-orange-600 text-2xl ml-3\"></i>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-600\">\u0639\u062F\u062F \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A</p>\r\n                  <p class=\"text-2xl font-bold text-gray-800\">${pkg.max_calculations || '\u063A\u064A\u0631 \u0645\u062D\u062F\u0648\u062F'}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-center\">\r\n                <i class=\"fas fa-users text-blue-600 text-2xl ml-3\"></i>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-600\">\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</p>\r\n                  <p class=\"text-2xl font-bold text-gray-800\">${pkg.max_users || '\u063A\u064A\u0631 \u0645\u062D\u062F\u0648\u062F'}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-center\">\r\n                <i class=\"fas fa-${pkg.is_active ? 'check' : 'times'}-circle text-2xl ml-3 ${pkg.is_active ? 'text-green-600' : 'text-red-600'}\"></i>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-600\">\u0627\u0644\u062D\u0627\u0644\u0629</p>\r\n                  <p class=\"text-xl font-bold ${pkg.is_active ? 'text-green-600' : 'text-red-600'}\">\r\n                    ${pkg.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex items-center\">\r\n                <i class=\"fas fa-calendar text-purple-600 text-2xl ml-3\"></i>\r\n                <div>\r\n                  <p class=\"text-sm text-gray-600\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621</p>\r\n                  <p class=\"text-sm text-gray-800\">${new Date(pkg.created_at).toLocaleDateString('ar-SA')}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0646\u0645\u0648\u0630\u062C \u0625\u0636\u0627\u0641\u0629 \u0628\u0627\u0642\u0629 \u062C\u062F\u064A\u062F\u0629 ====================\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 (Users) ====================\r\n\r\napp.get('/admin/users', async (c) => {\r\n  try {\r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n        <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n          <div class=\"mb-6 flex items-center justify-between\">\r\n            <a href=\"/admin\" class=\"text-blue-600 hover:text-blue-800\">\u2190 \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</a>\r\n            <div class=\"flex items-center gap-3\">\r\n              <i class=\"fas fa-user-circle text-2xl text-gray-600\"></i>\r\n              <div class=\"text-right\">\r\n                <div class=\"text-sm font-bold text-gray-800\" id=\"currentUserName\">\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...</div>\r\n                <div class=\"text-xs text-gray-500\" id=\"currentUserRole\">-</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n              <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-users text-indigo-600 ml-2\"></i>\r\n                \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 (<span id=\"totalCount\">0</span>)\r\n              </h1>\r\n              \r\n              <div class=\"flex gap-3\">\r\n                <a href=\"/admin/users-new\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-plus ml-2\"></i>\r\n                  \u0625\u0636\u0627\u0641\u0629 \u062C\u062F\u064A\u062F\r\n                </a>\r\n                <button onclick=\"exportToCSV()\" \r\n                        class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-file-export ml-2\"></i>\r\n                  \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- \u0634\u0631\u064A\u0637 \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629 -->\r\n            <div class=\"border-t pt-4\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div class=\"relative\">\r\n                  <i class=\"fas fa-search absolute right-3 top-3.5 text-gray-400\"></i>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"searchInput\" \r\n                    placeholder=\"\u0628\u062D\u062B \u0641\u064A \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644...\" \r\n                    class=\"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                    onkeyup=\"filterTable()\"\r\n                  >\r\n                </div>\r\n                \r\n                <div>\r\n                  <select \r\n                    id=\"filterField\" \r\n                    class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                    onchange=\"filterTable()\"\r\n                  >\r\n                    <option value=\"all\">\u0627\u0644\u0628\u062D\u062B \u0641\u064A: \u0627\u0644\u0643\u0644</option>\r\n                    <option value=\"username\">\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0641\u0642\u0637</option>\r\n                    <option value=\"fullname\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 \u0641\u0642\u0637</option>\r\n                    <option value=\"email\">\u0627\u0644\u0628\u0631\u064A\u062F \u0641\u0642\u0637</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <button \r\n                  onclick=\"resetFilters()\" \r\n                  class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\"\r\n                >\r\n                  <i class=\"fas fa-redo ml-2\"></i>\r\n                  \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <table class=\"w-full\" id=\"dataTable\">\r\n              <thead class=\"bg-gray-100\">\r\n                <tr>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">#</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u062F\u0648\u0631</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0634\u0631\u0643\u0629</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"divide-y divide-gray-200\" id=\"tableBody\">\r\n                <tr>\r\n                  <td colspan=\"8\" class=\"px-6 py-8 text-center text-gray-500\">\r\n                    <i class=\"fas fa-spinner fa-spin text-3xl mb-2\"></i>\r\n                    <div>\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...</div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          let allUsers = []; // \u062A\u062E\u0632\u064A\u0646 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646\r\n          \r\n          // \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u062D\u0627\u0644\u064A\r\n          function loadCurrentUser() {\r\n            const userData = localStorage.getItem('userData') || localStorage.getItem('user');\r\n            if (userData) {\r\n              const user = JSON.parse(userData);\r\n              document.getElementById('currentUserName').textContent = user.full_name || user.username || '\u0645\u0633\u062A\u062E\u062F\u0645';\r\n              document.getElementById('currentUserRole').textContent = user.role === 'company' ? '\u0645\u062F\u064A\u0631 \u0634\u0631\u0643\u0629' : (user.role === 'admin' ? '\u0645\u062F\u064A\u0631 \u0646\u0638\u0627\u0645' : '\u0645\u0633\u062A\u062E\u062F\u0645');\r\n            }\r\n          }\r\n          \r\n          // \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0645\u0646 API\r\n          async function loadUsers() {\r\n            try {\r\n              const authToken = localStorage.getItem('authToken');\r\n              if (!authToken) {\r\n                console.error('\u26A0\uFE0F \u0644\u0627 \u064A\u0648\u062C\u062F authToken - \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u0648\u062C\u064A\u0647 \u0644\u0635\u0641\u062D\u0629 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644');\r\n                window.location.href = '/login';\r\n                return;\r\n              }\r\n              \r\n              console.log('\uD83D\uDD04 \u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0645\u0646 API...');\r\n              const response = await axios.get('/api/users', {\r\n                headers: { 'Authorization': \\`Bearer \\${authToken}\\` }\r\n              });\r\n              \r\n              if (response.data.success) {\r\n                allUsers = response.data.data;\r\n                console.log(\\`\u2705 \u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \\${allUsers.length} \u0645\u0633\u062A\u062E\u062F\u0645\\`);\r\n                renderUsers(allUsers);\r\n              } else {\r\n                throw new Error(response.data.error || '\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646');\r\n              }\r\n            } catch (error) {\r\n              console.error('\u274C \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646:', error);\r\n              document.getElementById('tableBody').innerHTML = \\`\r\n                <tr>\r\n                  <td colspan=\"8\" class=\"px-6 py-8 text-center text-red-500\">\r\n                    <i class=\"fas fa-exclamation-triangle text-3xl mb-2\"></i>\r\n                    <div>\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: \\${error.message}</div>\r\n                  </td>\r\n                </tr>\r\n              \\`;\r\n            }\r\n          }\r\n          \r\n          // \u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0641\u064A \u0627\u0644\u062C\u062F\u0648\u0644\r\n          function renderUsers(users) {\r\n            const tbody = document.getElementById('tableBody');\r\n            \r\n            if (!users || users.length === 0) {\r\n              tbody.innerHTML = \\`\r\n                <tr>\r\n                  <td colspan=\"8\" class=\"px-6 py-8 text-center text-gray-500\">\r\n                    <i class=\"fas fa-users text-3xl mb-2\"></i>\r\n                    <div>\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</div>\r\n                  </td>\r\n                </tr>\r\n              \\`;\r\n              document.getElementById('totalCount').textContent = '0';\r\n              return;\r\n            }\r\n            \r\n            tbody.innerHTML = users.map(user => {\r\n              const roleClass = user.user_type === 'admin' ? 'bg-red-100 text-red-800' : \r\n                                user.user_type === 'company' ? 'bg-blue-100 text-blue-800' : \r\n                                'bg-gray-100 text-gray-800';\r\n              const statusClass = user.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800';\r\n              const statusText = user.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637';\r\n              \r\n              return \\`\r\n                <tr class=\"hover:bg-gray-50\" \r\n                    data-username=\"\\${user.username || ''}\" \r\n                    data-fullname=\"\\${user.full_name || ''}\" \r\n                    data-email=\"\\${user.email || ''}\">\r\n                  <td class=\"px-6 py-4 text-sm text-gray-900\">\\${user.id}</td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"flex items-center\">\r\n                      <i class=\"fas fa-user text-indigo-600 ml-2\"></i>\r\n                      <span class=\"text-sm font-bold text-gray-900\">\\${user.username}</span>\r\n                    </div>\r\n                  </td>\r\n                  <td class=\"px-6 py-4 text-sm text-gray-600\">\\${user.full_name || '-'}</td>\r\n                  <td class=\"px-6 py-4 text-sm text-gray-600\">\\${user.email || '-'}</td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <span class=\"px-3 py-1 rounded-full text-xs font-bold \\${roleClass}\">\r\n                      \\${user.role_name || user.user_type || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}\r\n                    </span>\r\n                  </td>\r\n                  <td class=\"px-6 py-4 text-sm text-gray-600\">\\${user.company_name || '-'}</td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <span class=\"px-3 py-1 rounded-full text-xs font-bold \\${statusClass}\">\r\n                      \\${statusText}\r\n                    </span>\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"flex gap-2 justify-end\">\r\n                      <a href=\"/admin/users/\\${user.id}\" class=\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                        <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                      </a>\r\n                      <a href=\"/admin/users/\\${user.id}/permissions\" class=\"bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded text-xs transition-all\" title=\"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A\">\r\n                        <i class=\"fas fa-user-shield\"></i> \u0635\u0644\u0627\u062D\u064A\u0627\u062A\r\n                      </a>\r\n                      <a href=\"/admin/users/\\${user.id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                        <i class=\"fas fa-edit\"></i> \u062A\u0639\u062F\u064A\u0644\r\n                      </a>\r\n                      <a href=\"/admin/users/\\${user.id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-xs transition-all\">\r\n                        <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                      </a>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              \\`;\r\n            }).join('');\r\n            \r\n            document.getElementById('totalCount').textContent = users.length;\r\n          }\r\n          \r\n          // \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u0641\u0644\u062A\u0631\u0629\r\n          function filterTable() {\r\n            const searchInput = document.getElementById('searchInput').value.toLowerCase().trim();\r\n            const filterField = document.getElementById('filterField').value;\r\n            \r\n            if (searchInput === '') {\r\n              renderUsers(allUsers);\r\n              return;\r\n            }\r\n            \r\n            const filtered = allUsers.filter(user => {\r\n              const username = (user.username || '').toLowerCase();\r\n              const fullname = (user.full_name || '').toLowerCase();\r\n              const email = (user.email || '').toLowerCase();\r\n              \r\n              switch(filterField) {\r\n                case 'username':\r\n                  return username.includes(searchInput);\r\n                case 'fullname':\r\n                  return fullname.includes(searchInput);\r\n                case 'email':\r\n                  return email.includes(searchInput);\r\n                default:\r\n                  return username.includes(searchInput) || \r\n                         fullname.includes(searchInput) || \r\n                         email.includes(searchInput);\r\n              }\r\n            });\r\n            \r\n            renderUsers(filtered);\r\n          }\r\n          \r\n          function resetFilters() {\r\n            document.getElementById('searchInput').value = '';\r\n            document.getElementById('filterField').value = 'all';\r\n            renderUsers(allUsers);\r\n          }\r\n          \r\n          function exportToCSV() {\r\n            const data = [\r\n              ['#', '\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645', '\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644', '\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A', '\u0627\u0644\u062F\u0648\u0631', '\u0627\u0644\u0634\u0631\u0643\u0629', '\u0627\u0644\u062D\u0627\u0644\u0629']\r\n            ];\r\n            \r\n            allUsers.forEach(user => {\r\n              data.push([\r\n                user.id,\r\n                user.username,\r\n                user.full_name || '-',\r\n                user.email || '-',\r\n                user.role_name || user.user_type || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F',\r\n                user.company_name || '-',\r\n                user.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'\r\n              ]);\r\n            });\r\n            \r\n            let csv = '\\\\uFEFF';\r\n            data.forEach(row => {\r\n              csv += row.join(',') + '\\\\n';\r\n            });\r\n            \r\n            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n            const link = document.createElement('a');\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = '\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646_' + new Date().toISOString().split('T')[0] + '.csv';\r\n            link.click();\r\n          }\r\n          \r\n          // \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0639\u0646\u062F \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629\r\n          document.addEventListener('DOMContentLoaded', () => {\r\n            loadCurrentUser();\r\n            loadUsers();\r\n          });\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0639\u0631\u0636 \u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u062D\u062F\u062F ====================\r\napp.get('/admin/users/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // \u0625\u0630\u0627 \u0643\u0627\u0646 :id \u0647\u0648 \"new\"\u060C \u0625\u0639\u0627\u062F\u0629 \u062A\u0648\u062C\u064A\u0647 \u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0625\u0636\u0627\u0641\u0629\r\n    if (id === 'new') {\r\n      return c.redirect('/admin/users-new')\r\n    }\r\n    \r\n    const query = `\r\n      SELECT u.*, r.role_name, r.description as role_description,\r\n             t.company_name as tenant_name\r\n      FROM users u\r\n      LEFT JOIN roles r ON u.role_id = r.id\r\n      LEFT JOIN tenants t ON u.tenant_id = t.id\r\n      WHERE u.id = ?\r\n    `\r\n    const { results } = await c.env.DB.prepare(query).bind(id).all()\r\n    \r\n    if (!results || results.length === 0) {\r\n      return c.html('<h1>\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    const user = results[0]\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0639\u0631\u0636 \u0645\u0633\u062A\u062E\u062F\u0645 - ${user.full_name}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/users\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-left ml-2\"></i> \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646\r\n            </a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <div class=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white\">\r\n              <div class=\"flex items-center\">\r\n                <i class=\"fas fa-user-circle text-5xl ml-4\"></i>\r\n                <div>\r\n                  <h1 class=\"text-3xl font-bold\">${user.full_name || user.username}</h1>\r\n                  <p class=\"text-indigo-100 mt-1\">${user.role_name || '\u0644\u0627 \u064A\u0648\u062C\u062F \u062F\u0648\u0631'}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"p-6\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div class=\"border-r border-gray-200 pr-6\">\r\n                  <h3 class=\"text-lg font-bold text-gray-800 mb-4 flex items-center\">\r\n                    <i class=\"fas fa-id-card text-indigo-600 ml-2\"></i>\r\n                    \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629\r\n                  </h3>\r\n                  \r\n                  <div class=\"space-y-3\">\r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u062A\u0639\u0631\u064A\u0641\u064A</label>\r\n                      <p class=\"font-bold text-gray-800\">#${user.id}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645</label>\r\n                      <p class=\"font-bold text-gray-800\">${user.username}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644</label>\r\n                      <p class=\"font-bold text-gray-800\">${user.full_name || '-'}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</label>\r\n                      <p class=\"font-bold text-gray-800\">${user.email || '-'}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644</label>\r\n                      <p class=\"font-bold text-gray-800\">${user.phone || '-'}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div>\r\n                  <h3 class=\"text-lg font-bold text-gray-800 mb-4 flex items-center\">\r\n                    <i class=\"fas fa-shield-alt text-indigo-600 ml-2\"></i>\r\n                    \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0648\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A\r\n                  </h3>\r\n                  \r\n                  <div class=\"space-y-3\">\r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0627\u0644\u062F\u0648\u0631 \u0627\u0644\u0648\u0638\u064A\u0641\u064A</label>\r\n                      <p class=\"font-bold text-gray-800\">${user.role_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                      ${user.role_description ? `<p class=\"text-xs text-gray-500 mt-1\">${user.role_description}</p>` : ''}\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645</label>\r\n                      <p class=\"font-bold text-gray-800\">${user.user_type === 'admin' ? '\u0645\u062F\u064A\u0631 \u0646\u0638\u0627\u0645' : user.user_type === 'company' ? '\u0634\u0631\u0643\u0629' : user.user_type === 'employee' ? '\u0645\u0648\u0638\u0641' : '\u0645\u0633\u062A\u062E\u062F\u0645 \u0639\u0627\u062F\u064A'}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0627\u0644\u0634\u0631\u0643\u0629</label>\r\n                      <p class=\"font-bold text-gray-800\">${user.tenant_name || '\u0644\u0627 \u062A\u0648\u062C\u062F \u0634\u0631\u0643\u0629'}</p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0627\u0644\u062D\u0627\u0644\u0629</label>\r\n                      <p class=\"font-bold ${user.is_active ? 'text-green-600' : 'text-red-600'}\">\r\n                        <i class=\"fas ${user.is_active ? 'fa-check-circle' : 'fa-times-circle'} ml-1\"></i>\r\n                        ${user.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621</label>\r\n                      <p class=\"font-bold text-gray-800\">${user.created_at || '-'}</p>\r\n                    </div>\r\n                    \r\n                    ${user.last_login ? `\r\n                    <div>\r\n                      <label class=\"text-sm text-gray-500\">\u0622\u062E\u0631 \u062A\u0633\u062C\u064A\u0644 \u062F\u062E\u0648\u0644</label>\r\n                      <p class=\"font-bold text-gray-800\">${user.last_login}</p>\r\n                    </div>\r\n                    ` : ''}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"mt-8 pt-6 border-t border-gray-200 flex gap-3\">\r\n                <a href=\"/admin/users/${user.id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-edit ml-2\"></i> \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A\r\n                </a>\r\n                <a href=\"/admin/users/${user.id}/permissions\" class=\"bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-user-shield ml-2\"></i> \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A\r\n                </a>\r\n                <a href=\"/admin/users/${user.id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u061F\\\\n\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646\u0647\u0627!')\" class=\"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-trash ml-2\"></i> \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    return c.html(`<h1>\u062E\u0637\u0623: ${error.message}</h1>`)\r\n  }\r\n})\r\n\r\n// ==================== \u062A\u0639\u062F\u064A\u0644 \u0645\u0633\u062A\u062E\u062F\u0645 ====================\r\napp.get('/admin/users/:id/edit', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // Get current user info to check permissions\r\n    const userInfo = await getUserInfo(c)\r\n    const currentUserRoleId = userInfo.roleId\r\n    \r\n    // Get user data\r\n    const userQuery = `\r\n      SELECT u.*, r.role_name\r\n      FROM users u\r\n      LEFT JOIN roles r ON u.role_id = r.id\r\n      WHERE u.id = ?\r\n    `\r\n    const { results: userResults } = await c.env.DB.prepare(userQuery).bind(id).all()\r\n    \r\n    if (!userResults || userResults.length === 0) {\r\n      return c.html('<h1>\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    const user = userResults[0]\r\n    \r\n    // Get roles\r\n    const roles = await c.env.DB.prepare('SELECT id, role_name, description FROM roles ORDER BY id').all()\r\n    \r\n    // Get tenants only if current user is superadmin (role_id = 1)\r\n    let tenants = { results: [] }\r\n    if (currentUserRoleId === 1) {\r\n      tenants = await c.env.DB.prepare('SELECT id, company_name FROM tenants WHERE status = \"active\" ORDER BY company_name').all()\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0639\u062F\u064A\u0644 \u0645\u0633\u062A\u062E\u062F\u0645 - ${user.full_name}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/users/${user.id}\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-left ml-2\"></i> \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n            </a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-6 flex items-center\">\r\n              <i class=\"fas fa-user-edit text-indigo-600 ml-2\"></i>\r\n              \u062A\u0639\u062F\u064A\u0644 \u0645\u0633\u062A\u062E\u062F\u0645: ${user.full_name}\r\n            </h1>\r\n            \r\n            <form action=\"/admin/users/${user.id}\" method=\"POST\" class=\"space-y-6\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 <span class=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <input type=\"text\" name=\"username\" value=\"${user.username}\" required \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                </div>\r\n                \r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 <span class=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <input type=\"text\" name=\"full_name\" value=\"${user.full_name || ''}\" required \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                </div>\r\n                \r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\r\n                  </label>\r\n                  <input type=\"email\" name=\"email\" value=\"${user.email || ''}\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                </div>\r\n                \r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    \u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644\r\n                  </label>\r\n                  <input type=\"text\" name=\"phone\" value=\"${user.phone || ''}\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                </div>\r\n                \r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629\r\n                  </label>\r\n                  <input type=\"password\" name=\"password\" placeholder=\"\u0627\u062A\u0631\u0643\u0647 \u0641\u0627\u0631\u063A\u0627\u064B \u0625\u0646 \u0644\u0645 \u062A\u0631\u062F \u0627\u0644\u062A\u063A\u064A\u064A\u0631\"\r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                  <p class=\"text-xs text-gray-500 mt-1\">* \u0627\u062A\u0631\u0643 \u0627\u0644\u062D\u0642\u0644 \u0641\u0627\u0631\u063A\u0627\u064B \u0625\u0630\u0627 \u0644\u0645 \u062A\u0631\u064A\u062F \u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 <span class=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <select name=\"user_type\" required onchange=\"updateRoleFilter(this.value)\"\r\n                          class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                    <option value=\"admin\" ${user.user_type === 'admin' ? 'selected' : ''}>\u0645\u062F\u064A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645 (Super Admin)</option>\r\n                    <option value=\"company\" ${user.user_type === 'company' ? 'selected' : ''}>\u062D\u0633\u0627\u0628 \u0634\u0631\u0643\u0629</option>\r\n                    <option value=\"employee\" ${user.user_type === 'employee' ? 'selected' : ''}>\u0645\u0648\u0638\u0641</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    \u0627\u0644\u062F\u0648\u0631 <span class=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <select name=\"role_id\" id=\"roleSelect\" required\r\n                          class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                    ${roles.results?.map((role: any) => `\r\n                      <option value=\"${role.id}\" ${user.role_id === role.id ? 'selected' : ''}>\r\n                        ${role.role_name} ${role.description ? `- ${role.description}` : ''}\r\n                      </option>\r\n                    `).join('') || ''}\r\n                  </select>\r\n                </div>\r\n                \r\n                ${currentUserRoleId === 1 ? `\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    \u0627\u0644\u0634\u0631\u0643\u0629\r\n                  </label>\r\n                  <select name=\"tenant_id\"\r\n                          class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                    <option value=\"\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0634\u0631\u0643\u0629 (Super Admin \u0641\u0642\u0637)</option>\r\n                    ${tenants.results?.map((tenant: any) => `\r\n                      <option value=\"${tenant.id}\" ${user.tenant_id === tenant.id ? 'selected' : ''}>\r\n                        ${tenant.company_name}\r\n                      </option>\r\n                    `).join('') || ''}\r\n                  </select>\r\n                </div>\r\n                ` : `\r\n                <input type=\"hidden\" name=\"tenant_id\" value=\"${user.tenant_id || ''}\">\r\n                `}\r\n                \r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    \u0627\u0644\u062D\u0627\u0644\u0629 <span class=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <select name=\"is_active\" required\r\n                          class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                    <option value=\"1\" ${user.is_active ? 'selected' : ''}>\u0646\u0634\u0637</option>\r\n                    <option value=\"0\" ${!user.is_active ? 'selected' : ''}>\u063A\u064A\u0631 \u0646\u0634\u0637</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex gap-3 pt-6 border-t border-gray-200\">\r\n                <button type=\"submit\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-save ml-2\"></i> \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A\r\n                </button>\r\n                <a href=\"/admin/users/${user.id}\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-times ml-2\"></i> \u0625\u0644\u063A\u0627\u0621\r\n                </a>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        \r\n        <script>\r\n          function updateRoleFilter(userType) {\r\n            const roleSelect = document.getElementById('roleSelect');\r\n            const options = roleSelect.options;\r\n            \r\n            // Show all options first\r\n            for (let i = 0; i < options.length; i++) {\r\n              options[i].style.display = 'block';\r\n            }\r\n            \r\n            // Filter based on user type\r\n            // Role IDs: 1=Super Admin, 2=Company Account, 3=Employee, 4=Company Admin, 5=Supervisor\r\n            if (userType === 'admin') {\r\n              // Super Admin: role_id = 1\r\n              for (let i = 0; i < options.length; i++) {\r\n                if (options[i].value !== '1') {\r\n                  options[i].style.display = 'none';\r\n                } else {\r\n                  roleSelect.value = '1';\r\n                }\r\n              }\r\n            } else if (userType === 'employee') {\r\n              // Employee: role_id = 3\r\n              for (let i = 0; i < options.length; i++) {\r\n                if (options[i].value !== '3') {\r\n                  options[i].style.display = 'none';\r\n                } else {\r\n                  roleSelect.value = '3';\r\n                }\r\n              }\r\n            } else if (userType === 'company') {\r\n              // Company: role_id can be 2, 4, or 5\r\n              for (let i = 0; i < options.length; i++) {\r\n                const val = options[i].value;\r\n                if (val !== '2' && val !== '4' && val !== '5') {\r\n                  options[i].style.display = 'none';\r\n                }\r\n              }\r\n            }\r\n          }\r\n          \r\n          // Apply filter on page load\r\n          document.addEventListener('DOMContentLoaded', () => {\r\n            const userTypeSelect = document.querySelector('select[name=\"user_type\"]');\r\n            if (userTypeSelect) {\r\n              updateRoleFilter(userTypeSelect.value);\r\n            }\r\n          });\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    return c.html(`<h1>\u062E\u0637\u0623: ${error.message}</h1>`)\r\n  }\r\n})\r\n\r\n// ==================== \u0645\u0639\u0627\u0644\u062C\u0629 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 ====================\r\napp.post('/admin/users/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    const formData = await c.req.formData()\r\n    \r\n    const username = formData.get('username')\r\n    const full_name = formData.get('full_name')\r\n    const email = formData.get('email') || null\r\n    const phone = formData.get('phone') || null\r\n    const password = formData.get('password') // Can be empty\r\n    const user_type = formData.get('user_type')\r\n    const role_id = formData.get('role_id')\r\n    const tenant_id = formData.get('tenant_id') || null\r\n    const is_active = formData.get('is_active')\r\n    \r\n    // Build UPDATE query\r\n    let query = `\r\n      UPDATE users \r\n      SET username = ?, full_name = ?, email = ?, phone = ?, \r\n          user_type = ?, role_id = ?, tenant_id = ?, is_active = ?\r\n    `\r\n    let params = [username, full_name, email, phone, user_type, role_id, tenant_id, is_active]\r\n    \r\n    // Only update password if provided\r\n    if (password && password.toString().trim() !== '') {\r\n      query = `\r\n        UPDATE users \r\n        SET username = ?, full_name = ?, email = ?, phone = ?, \r\n            password = ?, user_type = ?, role_id = ?, tenant_id = ?, is_active = ?\r\n      `\r\n      params = [username, full_name, email, phone, password, user_type, role_id, tenant_id, is_active]\r\n    }\r\n    \r\n    query += ` WHERE id = ?`\r\n    params.push(id)\r\n    \r\n    await c.env.DB.prepare(query).bind(...params).run()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-md mx-auto mt-20\">\r\n          <div class=\"bg-white rounded-xl shadow-lg p-8 text-center\">\r\n            <div class=\"mb-4\">\r\n              <i class=\"fas fa-check-circle text-green-500 text-6xl\"></i>\r\n            </div>\r\n            <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D!</h2>\r\n            <p class=\"text-gray-600 mb-6\">\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D</p>\r\n            <div class=\"flex gap-3 justify-center\">\r\n              <a href=\"/admin/users/${id}\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                <i class=\"fas fa-eye ml-2\"></i> \u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n              </a>\r\n              <a href=\"/admin/users\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                <i class=\"fas fa-list ml-2\"></i> \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <script>\r\n          // Auto redirect after 3 seconds\r\n          setTimeout(() => {\r\n            window.location.href = '/admin/users/${id}';\r\n          }, 3000);\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <title>\u062E\u0637\u0623</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-md mx-auto mt-20\">\r\n          <div class=\"bg-white rounded-xl shadow-lg p-8 text-center\">\r\n            <i class=\"fas fa-exclamation-triangle text-red-500 text-6xl mb-4\"></i>\r\n            <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">\u062D\u062F\u062B \u062E\u0637\u0623</h2>\r\n            <p class=\"text-gray-600 mb-6\">${error.message}</p>\r\n            <a href=\"/admin/users\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold\">\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0642\u0627\u0626\u0645\u0629\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  }\r\n})\r\n\r\n// ==================== \u062D\u0630\u0641 \u0645\u0633\u062A\u062E\u062F\u0645 ====================\r\napp.get('/admin/users/:id/delete', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    // Get user data first\r\n    const { results } = await c.env.DB.prepare('SELECT id, username, full_name FROM users WHERE id = ?').bind(id).all()\r\n    \r\n    if (!results || results.length === 0) {\r\n      return c.html('<h1>\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    const user = results[0]\r\n    \r\n    // Delete user\r\n    await c.env.DB.prepare('DELETE FROM users WHERE id = ?').bind(id).run()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u062A\u0645 \u0627\u0644\u062D\u0630\u0641</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-md mx-auto mt-20\">\r\n          <div class=\"bg-white rounded-xl shadow-lg p-8 text-center\">\r\n            <div class=\"mb-4\">\r\n              <i class=\"fas fa-trash-alt text-red-500 text-6xl\"></i>\r\n            </div>\r\n            <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D!</h2>\r\n            <p class=\"text-gray-600 mb-2\">\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:</p>\r\n            <p class=\"font-bold text-gray-800 mb-6\">${user.full_name} (${user.username})</p>\r\n            <a href=\"/admin/users\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-bold transition-all inline-block\">\r\n              <i class=\"fas fa-list ml-2\"></i> \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <script>\r\n          // Auto redirect after 2 seconds\r\n          setTimeout(() => {\r\n            window.location.href = '/admin/users';\r\n          }, 2000);\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <title>\u062E\u0637\u0623</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-md mx-auto mt-20\">\r\n          <div class=\"bg-white rounded-xl shadow-lg p-8 text-center\">\r\n            <i class=\"fas fa-exclamation-triangle text-red-500 text-6xl mb-4\"></i>\r\n            <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">\u062D\u062F\u062B \u062E\u0637\u0623</h2>\r\n            <p class=\"text-gray-600 mb-6\">${error.message}</p>\r\n            <a href=\"/admin/users\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold\">\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0642\u0627\u0626\u0645\u0629\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  }\r\n})\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F - \u0628\u062F\u0648\u0646 \u062A\u0639\u0627\u0631\u0636 ====================\r\napp.get('/admin/users-new', async (c) => {\r\n  try {\r\n    const roles = await c.env.DB.prepare('SELECT id, role_name, description FROM roles ORDER BY id').all()\r\n    const tenants = await c.env.DB.prepare('SELECT id, company_name FROM tenants ORDER BY company_name').all()\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <!-- Header \u0645\u0639 \u0632\u0631 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C -->\r\n        <div class=\"bg-gradient-to-r from-blue-600 to-blue-800 text-white shadow-lg mb-6\">\r\n          <div class=\"flex items-center justify-between px-6 py-4\">\r\n            <div class=\"flex items-center space-x-reverse space-x-4\">\r\n              <button onclick=\"doLogout()\" class=\"p-2 hover:bg-red-500 rounded-lg transition-colors\" title=\"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\">\r\n                <i class=\"fas fa-sign-out-alt\"></i>\r\n              </button>\r\n            </div>\r\n            <div class=\"flex items-center space-x-reverse space-x-3\">\r\n              <div class=\"text-right\">\r\n                <div class=\"font-bold\" id=\"userDisplayName\">\u0645\u062F\u064A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645</div>\r\n                <div class=\"text-xs text-blue-200\" id=\"userEmail\">admin@tamweel.sa</div>\r\n              </div>\r\n              <i class=\"fas fa-user-circle text-3xl\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6\">\r\n            <a href=\"/admin/users\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646\r\n            </a>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-6\">\r\n              <i class=\"fas fa-plus-circle text-indigo-600 ml-2\"></i>\r\n              \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F\r\n            </h1>\r\n            \r\n            <form id=\"addUserForm\" class=\"space-y-6\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <!-- \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-user text-indigo-600 ml-1\"></i>\r\n                    \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 *\r\n                  </label>\r\n                  <input type=\"text\" name=\"username\" required \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: ahmed123\">\r\n                </div>\r\n                \r\n                <!-- \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-lock text-red-600 ml-1\"></i>\r\n                    \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *\r\n                  </label>\r\n                  <input type=\"password\" name=\"password\" required minlength=\"6\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                         placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\">\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 -->\r\n                <div class=\"md:col-span-2\">\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-id-card text-blue-600 ml-1\"></i>\r\n                    \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *\r\n                  </label>\r\n                  <input type=\"text\" name=\"full_name\" required \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: \u0623\u062D\u0645\u062F \u0645\u062D\u0645\u062F \u0627\u0644\u0633\u0639\u064A\u062F\">\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-envelope text-purple-600 ml-1\"></i>\r\n                    \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\r\n                  </label>\r\n                  <input type=\"email\" name=\"email\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: ahmed@example.com\">\r\n                </div>\r\n                \r\n                <!-- \u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-phone text-green-600 ml-1\"></i>\r\n                    \u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644\r\n                  </label>\r\n                  <input type=\"tel\" name=\"phone\" \r\n                         class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                         placeholder=\"\u0645\u062B\u0627\u0644: 0512345678\">\r\n                </div>\r\n                \r\n                <!-- \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-user-tag text-orange-600 ml-1\"></i>\r\n                    \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 *\r\n                  </label>\r\n                  <select name=\"user_type\" required id=\"userType\" onchange=\"updateRoleOptions()\" \r\n                          class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 --</option>\r\n                    <option value=\"admin\">\u0645\u062F\u064A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645 (Super Admin)</option>\r\n                    <option value=\"company_admin\">\u0645\u062F\u064A\u0631 \u0634\u0631\u0643\u0629 (Company Admin)</option>\r\n                    <option value=\"supervisor\">\u0645\u0634\u0631\u0641 \u0645\u0648\u0638\u0641\u064A\u0646 (Supervisor)</option>\r\n                    <option value=\"employee\">\u0645\u0648\u0638\u0641 (Employee)</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u062F\u0648\u0631 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-shield-alt text-red-600 ml-1\"></i>\r\n                    \u0627\u0644\u062F\u0648\u0631 * <span id=\"roleHint\" class=\"text-sm text-gray-500\"></span>\r\n                  </label>\r\n                  <select name=\"role_id\" required id=\"roleSelect\" class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0627\u0644\u062F\u0648\u0631 --</option>\r\n                    ${roles.results.map((role: any) => `\r\n                      <option value=\"${role.id}\" data-role-name=\"${role.role_name}\">${role.role_name} - ${role.description || ''}</option>\r\n                    `).join('')}\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u0634\u0631\u0643\u0629 -->\r\n                <div id=\"subscriptionDiv\" class=\"md:col-span-2\" style=\"display: none;\">\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-building text-teal-600 ml-1\"></i>\r\n                    \u0627\u0644\u0634\u0631\u0643\u0629 <span id=\"tenantRequired\" class=\"text-red-600\">*</span>\r\n                  </label>\r\n                  <select name=\"tenant_id\" id=\"tenantSelect\" class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                    <option value=\"\">-- \u0627\u062E\u062A\u0631 \u0627\u0644\u0634\u0631\u0643\u0629 --</option>\r\n                    ${tenants.results.map((tenant: any) => `\r\n                      <option value=\"${tenant.id}\">${tenant.company_name}</option>\r\n                    `).join('')}\r\n                  </select>\r\n                </div>\r\n                \r\n                <!-- \u0627\u0644\u062D\u0627\u0644\u0629 -->\r\n                <div>\r\n                  <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                    <i class=\"fas fa-toggle-on text-green-600 ml-1\"></i>\r\n                    \u0627\u0644\u062D\u0627\u0644\u0629 *\r\n                  </label>\r\n                  <select name=\"is_active\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\r\n                    <option value=\"1\">\u0646\u0634\u0637</option>\r\n                    <option value=\"0\">\u063A\u064A\u0631 \u0646\u0634\u0637</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"flex gap-4 pt-6 border-t\">\r\n                <button type=\"submit\" class=\"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-3 px-6 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n                </button>\r\n                <a href=\"/admin/users\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 px-6 rounded-lg font-bold text-center transition-all\">\r\n                  <i class=\"fas fa-times ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621\r\n                </a>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        \r\n        <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n        <script>\r\n          // \u062F\u0627\u0644\u0629 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\r\n          function doLogout() {\r\n            if (confirm('\u0647\u0644 \u062A\u0631\u064A\u062F \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\u061F')) {\r\n              console.log('\uD83D\uDEAA \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C...');\r\n              localStorage.removeItem('user');\r\n              localStorage.removeItem('userData');\r\n              localStorage.removeItem('authToken');\r\n              localStorage.removeItem('token');\r\n              console.log('\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0648\u0627\u0644\u062A\u0648\u0643\u0646');\r\n              window.location.href = '/login';\r\n            }\r\n          }\r\n          \r\n          // \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n          function loadUserData() {\r\n            try {\r\n              let userStr = localStorage.getItem('userData') || localStorage.getItem('user');\r\n              if (userStr) {\r\n                const user = JSON.parse(userStr);\r\n                const displayNameEl = document.getElementById('userDisplayName');\r\n                const emailEl = document.getElementById('userEmail');\r\n                \r\n                if (displayNameEl) {\r\n                  let displayName = user.full_name || user.username || '\u0645\u0633\u062A\u062E\u062F\u0645';\r\n                  if (user.tenant_name) {\r\n                    displayName = '\u0645\u062F\u064A\u0631 ' + user.tenant_name;\r\n                  } else if (user.role === 'admin') {\r\n                    displayName += ' (\u0645\u062F\u064A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645)';\r\n                  }\r\n                  displayNameEl.textContent = displayName;\r\n                }\r\n                \r\n                if (emailEl && user.email) {\r\n                  emailEl.textContent = user.email;\r\n                }\r\n              }\r\n            } catch (error) {\r\n              console.error('\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:', error);\r\n            }\r\n          }\r\n          \r\n          // \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0639\u0646\u062F \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629\r\n          loadUserData();\r\n          document.addEventListener('DOMContentLoaded', loadUserData);\r\n          \r\n          // \u062A\u062D\u062F\u064A\u062B \u062E\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0628\u0646\u0627\u0621\u064B \u0639\u0644\u0649 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n          function updateRoleOptions() {\r\n            const userType = document.getElementById('userType').value;\r\n            const roleSelect = document.getElementById('roleSelect');\r\n            const roleHint = document.getElementById('roleHint');\r\n            const subscriptionDiv = document.getElementById('subscriptionDiv');\r\n            const tenantSelect = document.getElementById('tenantSelect');\r\n            \r\n            // \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646\r\n            roleSelect.selectedIndex = 0;\r\n            if (tenantSelect) tenantSelect.selectedIndex = 0;\r\n            \r\n            // \u062A\u062D\u062F\u064A\u062B \u062A\u0644\u0645\u064A\u062D \u0627\u0644\u062F\u0648\u0631\r\n            if (userType === 'admin') {\r\n              roleHint.textContent = '(Role ID: 1) - \u0643\u0644 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A + \u0628\u064A\u0627\u0646\u0627\u062A SaaS';\r\n              roleSelect.value = '1'; // \u0645\u062F\u064A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645 (superadmin)\r\n              subscriptionDiv.style.display = 'none'; // \u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0639\u0627\u0645 \u0644\u0627 \u064A\u0646\u062A\u0645\u064A \u0644\u0634\u0631\u0643\u0629 \u0645\u0639\u064A\u0646\u0629\r\n              if (tenantSelect) tenantSelect.removeAttribute('required');\r\n            } else if (userType === 'company_admin') {\r\n              roleHint.textContent = '(Role ID: 2) - \u0643\u0644 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0629 (\u0639\u062F\u0627 SaaS)';\r\n              roleSelect.value = '2'; // \u0645\u062F\u064A\u0631 \u0634\u0631\u0643\u0629 (companyadmin)\r\n              subscriptionDiv.style.display = 'block'; // \u064A\u062C\u0628 \u0627\u062E\u062A\u064A\u0627\u0631 \u0634\u0631\u0643\u0629\r\n              if (tenantSelect) tenantSelect.setAttribute('required', 'required');\r\n            } else if (userType === 'supervisor') {\r\n              roleHint.textContent = '(Role ID: 3) - \u064A\u0631\u0649 \u062C\u0645\u064A\u0639 \u0639\u0645\u0644\u0627\u0621 \u0627\u0644\u0634\u0631\u0643\u0629 (\u0642\u0631\u0627\u0621\u0629 \u0641\u0642\u0637)';\r\n              roleSelect.value = '3'; // \u0645\u0634\u0631\u0641 (supervisor)\r\n              subscriptionDiv.style.display = 'block'; // \u064A\u062C\u0628 \u0627\u062E\u062A\u064A\u0627\u0631 \u0634\u0631\u0643\u0629\r\n              if (tenantSelect) tenantSelect.setAttribute('required', 'required');\r\n            } else if (userType === 'employee') {\r\n              roleHint.textContent = '(Role ID: 4) - \u064A\u0631\u0649 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0648\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0645\u062E\u0635\u0635\u0629 \u0644\u0647 \u0641\u0642\u0637';\r\n              roleSelect.value = '4'; // \u0645\u0648\u0638\u0641 (employee)\r\n              subscriptionDiv.style.display = 'block'; // \u064A\u062C\u0628 \u0627\u062E\u062A\u064A\u0627\u0631 \u0634\u0631\u0643\u0629\r\n              if (tenantSelect) tenantSelect.setAttribute('required', 'required');\r\n            } else {\r\n              roleHint.textContent = '';\r\n              subscriptionDiv.style.display = 'none';\r\n              if (tenantSelect) tenantSelect.removeAttribute('required');\r\n            }\r\n          }\r\n          \r\n          function toggleSubscription() {\r\n            const userType = document.getElementById('userType').value;\r\n            const subscriptionDiv = document.getElementById('subscriptionDiv');\r\n            \r\n            if (userType === 'company' || userType === 'company_admin') {\r\n              subscriptionDiv.style.display = 'block';\r\n            } else {\r\n              subscriptionDiv.style.display = 'none';\r\n            }\r\n          }\r\n          \r\n          // Handle form submission with token\r\n          document.getElementById('addUserForm').addEventListener('submit', async function(e) {\r\n            e.preventDefault();\r\n            \r\n            const formData = new FormData(this);\r\n            const token = localStorage.getItem('authToken');\r\n            \r\n            if (!token) {\r\n              alert('\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0631\u0645\u0632 \u0627\u0644\u062A\u0648\u062B\u064A\u0642. \u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.');\r\n              window.location.href = '/login';\r\n              return;\r\n            }\r\n            \r\n            console.log('\uD83D\uDCE4 \u0625\u0631\u0633\u0627\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645...');\r\n            \r\n            try {\r\n              const response = await axios.post('/api/users', formData, {\r\n                headers: {\r\n                  'Authorization': \\`Bearer \\${token}\\`\r\n                }\r\n              });\r\n              \r\n              console.log('\u2705 \u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D:', response.data);\r\n              alert('\u2713 \u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D!');\r\n              \r\n              // Redirect to users page on success\r\n              window.location.href = '/admin/users';\r\n            } catch (error) {\r\n              console.error('\u274C \u062E\u0637\u0623 \u0641\u064A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:', error);\r\n              alert(error.response?.data?.error || '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645');\r\n            }\r\n          });\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    console.error('Error loading add user page:', error)\r\n    return c.html(`<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629</h1><p style=\"color:red; direction:ltr;\">${error.message}</p><pre style=\"direction:ltr;\">${error.stack}</pre>`)\r\n  }\r\n})\r\napp.get('/admin/users/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id')\r\n    \r\n    const user = await c.env.DB.prepare(`\r\n      SELECT u.*, r.role_name, s.company_name\r\n      FROM users u\r\n      LEFT JOIN roles r ON u.role_id = r.id\r\n      LEFT JOIN subscriptions s ON u.subscription_id = s.id\r\n      WHERE u.id = ?\r\n    `).bind(id).first()\r\n    \r\n    if (!user) {\r\n      return c.html('<h1>\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 #${id}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"max-w-4xl mx-auto p-6\">\r\n          <div class=\"mb-6 flex justify-between items-center\">\r\n            <a href=\"/admin/users\" class=\"text-blue-600 hover:text-blue-800\">\r\n              <i class=\"fas fa-arrow-right ml-2\"></i>\r\n              \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646\r\n            </a>\r\n            <div class=\"flex gap-2\">\r\n              <a href=\"/admin/users/${id}/edit\" class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-edit ml-1\"></i> \u062A\u0639\u062F\u064A\u0644\r\n              </a>\r\n              <a href=\"/admin/users/${id}/delete\" onclick=\"return confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u062D\u0630\u0641\u061F')\" class=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition-all\">\r\n                <i class=\"fas fa-trash ml-1\"></i> \u062D\u0630\u0641\r\n              </a>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n            <div class=\"flex items-center mb-6\">\r\n              <div class=\"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold ml-4\">\r\n                ${user.full_name ? user.full_name.charAt(0).toUpperCase() : 'U'}\r\n              </div>\r\n              <div>\r\n                <h1 class=\"text-3xl font-bold text-gray-800\">${user.full_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</h1>\r\n                <p class=\"text-gray-600\">@${user.username}</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645</label>\r\n                <p class=\"text-lg text-gray-900\">${user.username}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644</label>\r\n                <p class=\"text-lg text-gray-900\">${user.full_name || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</label>\r\n                <p class=\"text-lg text-gray-900\">${user.email || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644</label>\r\n                <p class=\"text-lg text-gray-900\">${user.phone || '-'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062F\u0648\u0631</label>\r\n                <p class=\"text-lg text-gray-900\">\r\n                  <span class=\"px-3 py-1 rounded-full ${\r\n                    user.role_name === '\u0645\u062F\u064A\u0631' ? 'bg-red-100 text-red-800' :\r\n                    user.role_name === '\u0645\u062D\u0627\u0633\u0628' ? 'bg-blue-100 text-blue-800' :\r\n                    'bg-gray-100 text-gray-800'\r\n                  }\">\r\n                    ${user.role_name || '-'}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u0634\u0631\u0643\u0629</label>\r\n                <p class=\"text-lg text-gray-900\">${user.company_name || '\u063A\u064A\u0631 \u0645\u0631\u062A\u0628\u0637'}</p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0627\u0644\u062D\u0627\u0644\u0629</label>\r\n                <p>\r\n                  <span class=\"px-4 py-2 rounded-full text-sm font-bold ${user.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}\">\r\n                    ${user.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621</label>\r\n                <p class=\"text-gray-900\">${new Date(user.created_at).toLocaleString('ar-SA')}</p>\r\n              </div>\r\n              \r\n              ${user.last_login ? `\r\n                <div class=\"md:col-span-2\">\r\n                  <label class=\"block text-sm font-bold text-gray-600 mb-1\">\u0622\u062E\u0631 \u062A\u0633\u062C\u064A\u0644 \u062F\u062E\u0648\u0644</label>\r\n                  <p class=\"text-gray-900\">${new Date(user.last_login).toLocaleString('ar-SA')}</p>\r\n                </div>\r\n              ` : ''}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h1>')\r\n  }\r\n})\r\n\r\n// ==================== \u0646\u0645\u0648\u0630\u062C \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F ====================\r\n\r\n// ==================== \u0635\u0641\u062D\u0629 \u0625\u062F\u0627\u0631\u0629 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 ====================\r\napp.get('/admin/users/:id/permissions', async (c) => {\r\n  try {\r\n    const userId = c.req.param('id')\r\n    \r\n    // \u062C\u0644\u0628 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n    const user = await c.env.DB.prepare(`\r\n      SELECT u.*, r.role_name \r\n      FROM users u\r\n      LEFT JOIN roles r ON u.role_id = r.id\r\n      WHERE u.id = ?\r\n    `).bind(userId).first()\r\n    \r\n    if (!user) {\r\n      return c.html('<h1>\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F</h1>')\r\n    }\r\n    \r\n    // \u062C\u0644\u0628 \u062C\u0645\u064A\u0639 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0645\u0639 \u0627\u0644\u062A\u0635\u0646\u064A\u0641\r\n    const allPermissions = await c.env.DB.prepare(`\r\n      SELECT * FROM permissions ORDER BY category, id\r\n    `).all()\r\n    \r\n    // \u062C\u0644\u0628 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0639\u0628\u0631 \u0627\u0644\u062F\u0648\u0631 (role)\r\n    const userPermissions = await c.env.DB.prepare(`\r\n      SELECT p.id, p.permission_key\r\n      FROM permissions p\r\n      JOIN role_permissions rp ON p.id = rp.permission_id\r\n      WHERE rp.role_id = ?\r\n    `).bind(user.role_id).all()\r\n    \r\n    const userPermissionIds = userPermissions.results.map((p: any) => p.id)\r\n    \r\n    // \u062A\u062C\u0645\u064A\u0639 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0641\u0626\u0629\r\n    const groupedPermissions: any = {}\r\n    allPermissions.results.forEach((perm: any) => {\r\n      if (!groupedPermissions[perm.category]) {\r\n        groupedPermissions[perm.category] = []\r\n      }\r\n      groupedPermissions[perm.category].push({\r\n        ...perm,\r\n        hasPermission: userPermissionIds.includes(perm.id)\r\n      })\r\n    })\r\n    \r\n    const categoryNames: any = {\r\n      'dashboard': '\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645',\r\n      'customers': '\u0627\u0644\u0639\u0645\u0644\u0627\u0621',\r\n      'requests': '\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644',\r\n      'banks': '\u0627\u0644\u0628\u0646\u0648\u0643',\r\n      'rates': '\u0627\u0644\u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\u064A\u0629',\r\n      'packages': '\u0627\u0644\u0628\u0627\u0642\u0627\u062A',\r\n      'subscriptions': '\u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A',\r\n      'users': '\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646',\r\n      'calculator': '\u0627\u0644\u062D\u0627\u0633\u0628\u0629',\r\n      'reports': '\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631'\r\n    }\r\n    \r\n    return c.html(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"ar\" dir=\"rtl\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>\u0625\u062F\u0627\u0631\u0629 \u0635\u0644\u0627\u062D\u064A\u0627\u062A ${user.full_name}</title>\r\n        <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      </head>\r\n      <body class=\"bg-gray-50\">\r\n        <div class=\"container mx-auto px-4 py-8\">\r\n          <!-- \u0627\u0644\u0639\u0646\u0648\u0627\u0646 -->\r\n          <div class=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <div>\r\n                <h1 class=\"text-3xl font-bold text-gray-800 mb-2\">\r\n                  <i class=\"fas fa-user-shield text-indigo-600 ml-2\"></i>\r\n                  \u0625\u062F\u0627\u0631\u0629 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n                </h1>\r\n                <div class=\"flex items-center gap-4 text-gray-600\">\r\n                  <span><i class=\"fas fa-user ml-1\"></i> ${user.full_name}</span>\r\n                  <span><i class=\"fas fa-envelope ml-1\"></i> ${user.email}</span>\r\n                  <span><i class=\"fas fa-shield-alt ml-1\"></i> ${user.role_name}</span>\r\n                </div>\r\n              </div>\r\n              <a href=\"/admin/users\" class=\"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                \u0631\u062C\u0648\u0639 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- \u0646\u0645\u0648\u0630\u062C \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A -->\r\n          <form id=\"permissionsForm\" class=\"space-y-6\">\r\n            <input type=\"hidden\" name=\"user_id\" value=\"${userId}\">\r\n            <input type=\"hidden\" name=\"role_id\" value=\"${user.role_id}\">\r\n            \r\n            ${Object.keys(groupedPermissions).map(category => `\r\n              <div class=\"bg-white rounded-lg shadow-md p-6\">\r\n                <h2 class=\"text-xl font-bold text-gray-800 mb-4 border-b-2 border-indigo-600 pb-2\">\r\n                  <i class=\"fas fa-folder text-indigo-600 ml-2\"></i>\r\n                  ${categoryNames[category] || category}\r\n                </h2>\r\n                \r\n                <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                  ${groupedPermissions[category].map((perm: any) => `\r\n                    <div class=\"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all\">\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        id=\"perm_${perm.id}\" \r\n                        name=\"permissions[]\" \r\n                        value=\"${perm.id}\"\r\n                        ${perm.hasPermission ? 'checked' : ''}\r\n                        class=\"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\r\n                      >\r\n                      <label for=\"perm_${perm.id}\" class=\"mr-3 flex-1 cursor-pointer\">\r\n                        <div class=\"font-semibold text-gray-800\">${perm.permission_name}</div>\r\n                        ${perm.description ? `<div class=\"text-xs text-gray-500\">${perm.description}</div>` : ''}\r\n                      </label>\r\n                    </div>\r\n                  `).join('')}\r\n                </div>\r\n              </div>\r\n            `).join('')}\r\n            \r\n            <!-- \u0623\u0632\u0631\u0627\u0631 \u0627\u0644\u062D\u0641\u0638 -->\r\n            <div class=\"bg-white rounded-lg shadow-md p-6\">\r\n              <div class=\"flex gap-4 justify-end\">\r\n                <button type=\"button\" onclick=\"selectAll()\" class=\"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-check-double ml-2\"></i>\r\n                  \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0643\u0644\r\n                </button>\r\n                <button type=\"button\" onclick=\"deselectAll()\" class=\"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-times-circle ml-2\"></i>\r\n                  \u0625\u0644\u063A\u0627\u0621 \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0643\u0644\r\n                </button>\r\n                <button type=\"submit\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-12 py-3 rounded-lg font-bold transition-all\">\r\n                  <i class=\"fas fa-save ml-2\"></i>\r\n                  \u062D\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        <script>\r\n          function selectAll() {\r\n            document.querySelectorAll('input[type=\"checkbox\"]').forEach(cb => cb.checked = true)\r\n          }\r\n          \r\n          function deselectAll() {\r\n            document.querySelectorAll('input[type=\"checkbox\"]').forEach(cb => cb.checked = false)\r\n          }\r\n          \r\n          document.getElementById('permissionsForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault()\r\n            \r\n            const formData = new FormData(e.target)\r\n            const userId = formData.get('user_id')\r\n            const roleId = formData.get('role_id')\r\n            const permissions = formData.getAll('permissions[]')\r\n            \r\n            try {\r\n              const response = await fetch(\\`/api/users/\\${userId}/permissions\\`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ role_id: roleId, permission_ids: permissions })\r\n              })\r\n              \r\n              const result = await response.json()\r\n              \r\n              if (result.success) {\r\n                alert('\u2705 \u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0628\u0646\u062C\u0627\u062D!')\r\n                window.location.href = '/admin/users'\r\n              } else {\r\n                alert('\u274C \u062E\u0637\u0623: ' + result.error)\r\n              }\r\n            } catch (error) {\r\n              alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0641\u0638')\r\n              console.error(error)\r\n            }\r\n          })\r\n        </script>\r\n      </body>\r\n      </html>\r\n    `)\r\n  } catch (error: any) {\r\n    return c.html('<h1>\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: ' + error.message + '</h1>')\r\n  }\r\n})\r\n\r\n// API \u0644\u062D\u0641\u0638 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\napp.post('/api/users/:id/permissions', async (c) => {\r\n  try {\r\n    const userId = c.req.param('id')\r\n    const { role_id, permission_ids } = await c.req.json()\r\n    \r\n    // \u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u062F\u0648\u0631 \u0627\u0644\u062D\u0627\u0644\u064A\u0629\r\n    await c.env.DB.prepare(`\r\n      DELETE FROM role_permissions WHERE role_id = ?\r\n    `).bind(role_id).run()\r\n    \r\n    // \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u062C\u062F\u064A\u062F\u0629\r\n    if (permission_ids && permission_ids.length > 0) {\r\n      for (const permId of permission_ids) {\r\n        await c.env.DB.prepare(`\r\n          INSERT INTO role_permissions (role_id, permission_id)\r\n          VALUES (?, ?)\r\n          ON CONFLICT (role_id, permission_id) DO NOTHING\r\n        `).bind(role_id, permId).run()\r\n      }\r\n    }\r\n    \r\n    return c.json({ success: true, message: '\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0628\u0646\u062C\u0627\u062D' })\r\n  } catch (error: any) {\r\n    return c.json({ success: false, error: error.message }, 500)\r\n  }\r\n})\r\n\r\nexport default wrapper\r\n", "// src/compose.ts\nvar compose = (middleware, onError, onNotFound) => {\n  return (context, next) => {\n    let index = -1;\n    return dispatch(0);\n    async function dispatch(i) {\n      if (i <= index) {\n        throw new Error(\"next() called multiple times\");\n      }\n      index = i;\n      let res;\n      let isError = false;\n      let handler;\n      if (middleware[i]) {\n        handler = middleware[i][0][0];\n        context.req.routeIndex = i;\n      } else {\n        handler = i === middleware.length && next || void 0;\n      }\n      if (handler) {\n        try {\n          res = await handler(context, () => dispatch(i + 1));\n        } catch (err) {\n          if (err instanceof Error && onError) {\n            context.error = err;\n            res = await onError(err, context);\n            isError = true;\n          } else {\n            throw err;\n          }\n        }\n      } else {\n        if (context.finalized === false && onNotFound) {\n          res = await onNotFound(context);\n        }\n      }\n      if (res && (context.finalized === false || isError)) {\n        context.res = res;\n      }\n      return context;\n    }\n  };\n};\nexport {\n  compose\n};\n", "// src/request/constants.ts\nvar GET_MATCH_RESULT = /* @__PURE__ */ Symbol();\nexport {\n  GET_MATCH_RESULT\n};\n", "// src/utils/body.ts\nimport { HonoRequest } from \"../request.js\";\nvar parseBody = async (request, options = /* @__PURE__ */ Object.create(null)) => {\n  const { all = false, dot = false } = options;\n  const headers = request instanceof HonoRequest ? request.raw.headers : request.headers;\n  const contentType = headers.get(\"Content-Type\");\n  if (contentType?.startsWith(\"multipart/form-data\") || contentType?.startsWith(\"application/x-www-form-urlencoded\")) {\n    return parseFormData(request, { all, dot });\n  }\n  return {};\n};\nasync function parseFormData(request, options) {\n  const formData = await request.formData();\n  if (formData) {\n    return convertFormDataToBodyData(formData, options);\n  }\n  return {};\n}\nfunction convertFormDataToBodyData(formData, options) {\n  const form = /* @__PURE__ */ Object.create(null);\n  formData.forEach((value, key) => {\n    const shouldParseAllValues = options.all || key.endsWith(\"[]\");\n    if (!shouldParseAllValues) {\n      form[key] = value;\n    } else {\n      handleParsingAllValues(form, key, value);\n    }\n  });\n  if (options.dot) {\n    Object.entries(form).forEach(([key, value]) => {\n      const shouldParseDotValues = key.includes(\".\");\n      if (shouldParseDotValues) {\n        handleParsingNestedValues(form, key, value);\n        delete form[key];\n      }\n    });\n  }\n  return form;\n}\nvar handleParsingAllValues = (form, key, value) => {\n  if (form[key] !== void 0) {\n    if (Array.isArray(form[key])) {\n      ;\n      form[key].push(value);\n    } else {\n      form[key] = [form[key], value];\n    }\n  } else {\n    if (!key.endsWith(\"[]\")) {\n      form[key] = value;\n    } else {\n      form[key] = [value];\n    }\n  }\n};\nvar handleParsingNestedValues = (form, key, value) => {\n  let nestedForm = form;\n  const keys = key.split(\".\");\n  keys.forEach((key2, index) => {\n    if (index === keys.length - 1) {\n      nestedForm[key2] = value;\n    } else {\n      if (!nestedForm[key2] || typeof nestedForm[key2] !== \"object\" || Array.isArray(nestedForm[key2]) || nestedForm[key2] instanceof File) {\n        nestedForm[key2] = /* @__PURE__ */ Object.create(null);\n      }\n      nestedForm = nestedForm[key2];\n    }\n  });\n};\nexport {\n  parseBody\n};\n", "// src/utils/url.ts\nvar splitPath = (path) => {\n  const paths = path.split(\"/\");\n  if (paths[0] === \"\") {\n    paths.shift();\n  }\n  return paths;\n};\nvar splitRoutingPath = (routePath) => {\n  const { groups, path } = extractGroupsFromPath(routePath);\n  const paths = splitPath(path);\n  return replaceGroupMarks(paths, groups);\n};\nvar extractGroupsFromPath = (path) => {\n  const groups = [];\n  path = path.replace(/\\{[^}]+\\}/g, (match, index) => {\n    const mark = `@${index}`;\n    groups.push([mark, match]);\n    return mark;\n  });\n  return { groups, path };\n};\nvar replaceGroupMarks = (paths, groups) => {\n  for (let i = groups.length - 1; i >= 0; i--) {\n    const [mark] = groups[i];\n    for (let j = paths.length - 1; j >= 0; j--) {\n      if (paths[j].includes(mark)) {\n        paths[j] = paths[j].replace(mark, groups[i][1]);\n        break;\n      }\n    }\n  }\n  return paths;\n};\nvar patternCache = {};\nvar getPattern = (label, next) => {\n  if (label === \"*\") {\n    return \"*\";\n  }\n  const match = label.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n  if (match) {\n    const cacheKey = `${label}#${next}`;\n    if (!patternCache[cacheKey]) {\n      if (match[2]) {\n        patternCache[cacheKey] = next && next[0] !== \":\" && next[0] !== \"*\" ? [cacheKey, match[1], new RegExp(`^${match[2]}(?=/${next})`)] : [label, match[1], new RegExp(`^${match[2]}$`)];\n      } else {\n        patternCache[cacheKey] = [label, match[1], true];\n      }\n    }\n    return patternCache[cacheKey];\n  }\n  return null;\n};\nvar tryDecode = (str, decoder) => {\n  try {\n    return decoder(str);\n  } catch {\n    return str.replace(/(?:%[0-9A-Fa-f]{2})+/g, (match) => {\n      try {\n        return decoder(match);\n      } catch {\n        return match;\n      }\n    });\n  }\n};\nvar tryDecodeURI = (str) => tryDecode(str, decodeURI);\nvar getPath = (request) => {\n  const url = request.url;\n  const start = url.indexOf(\"/\", url.indexOf(\":\") + 4);\n  let i = start;\n  for (; i < url.length; i++) {\n    const charCode = url.charCodeAt(i);\n    if (charCode === 37) {\n      const queryIndex = url.indexOf(\"?\", i);\n      const path = url.slice(start, queryIndex === -1 ? void 0 : queryIndex);\n      return tryDecodeURI(path.includes(\"%25\") ? path.replace(/%25/g, \"%2525\") : path);\n    } else if (charCode === 63) {\n      break;\n    }\n  }\n  return url.slice(start, i);\n};\nvar getQueryStrings = (url) => {\n  const queryIndex = url.indexOf(\"?\", 8);\n  return queryIndex === -1 ? \"\" : \"?\" + url.slice(queryIndex + 1);\n};\nvar getPathNoStrict = (request) => {\n  const result = getPath(request);\n  return result.length > 1 && result.at(-1) === \"/\" ? result.slice(0, -1) : result;\n};\nvar mergePath = (base, sub, ...rest) => {\n  if (rest.length) {\n    sub = mergePath(sub, ...rest);\n  }\n  return `${base?.[0] === \"/\" ? \"\" : \"/\"}${base}${sub === \"/\" ? \"\" : `${base?.at(-1) === \"/\" ? \"\" : \"/\"}${sub?.[0] === \"/\" ? sub.slice(1) : sub}`}`;\n};\nvar checkOptionalParameter = (path) => {\n  if (path.charCodeAt(path.length - 1) !== 63 || !path.includes(\":\")) {\n    return null;\n  }\n  const segments = path.split(\"/\");\n  const results = [];\n  let basePath = \"\";\n  segments.forEach((segment) => {\n    if (segment !== \"\" && !/\\:/.test(segment)) {\n      basePath += \"/\" + segment;\n    } else if (/\\:/.test(segment)) {\n      if (/\\?/.test(segment)) {\n        if (results.length === 0 && basePath === \"\") {\n          results.push(\"/\");\n        } else {\n          results.push(basePath);\n        }\n        const optionalSegment = segment.replace(\"?\", \"\");\n        basePath += \"/\" + optionalSegment;\n        results.push(basePath);\n      } else {\n        basePath += \"/\" + segment;\n      }\n    }\n  });\n  return results.filter((v, i, a) => a.indexOf(v) === i);\n};\nvar _decodeURI = (value) => {\n  if (!/[%+]/.test(value)) {\n    return value;\n  }\n  if (value.indexOf(\"+\") !== -1) {\n    value = value.replace(/\\+/g, \" \");\n  }\n  return value.indexOf(\"%\") !== -1 ? tryDecode(value, decodeURIComponent_) : value;\n};\nvar _getQueryParam = (url, key, multiple) => {\n  let encoded;\n  if (!multiple && key && !/[%+]/.test(key)) {\n    let keyIndex2 = url.indexOf(\"?\", 8);\n    if (keyIndex2 === -1) {\n      return void 0;\n    }\n    if (!url.startsWith(key, keyIndex2 + 1)) {\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    while (keyIndex2 !== -1) {\n      const trailingKeyCode = url.charCodeAt(keyIndex2 + key.length + 1);\n      if (trailingKeyCode === 61) {\n        const valueIndex = keyIndex2 + key.length + 2;\n        const endIndex = url.indexOf(\"&\", valueIndex);\n        return _decodeURI(url.slice(valueIndex, endIndex === -1 ? void 0 : endIndex));\n      } else if (trailingKeyCode == 38 || isNaN(trailingKeyCode)) {\n        return \"\";\n      }\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    encoded = /[%+]/.test(url);\n    if (!encoded) {\n      return void 0;\n    }\n  }\n  const results = {};\n  encoded ??= /[%+]/.test(url);\n  let keyIndex = url.indexOf(\"?\", 8);\n  while (keyIndex !== -1) {\n    const nextKeyIndex = url.indexOf(\"&\", keyIndex + 1);\n    let valueIndex = url.indexOf(\"=\", keyIndex);\n    if (valueIndex > nextKeyIndex && nextKeyIndex !== -1) {\n      valueIndex = -1;\n    }\n    let name = url.slice(\n      keyIndex + 1,\n      valueIndex === -1 ? nextKeyIndex === -1 ? void 0 : nextKeyIndex : valueIndex\n    );\n    if (encoded) {\n      name = _decodeURI(name);\n    }\n    keyIndex = nextKeyIndex;\n    if (name === \"\") {\n      continue;\n    }\n    let value;\n    if (valueIndex === -1) {\n      value = \"\";\n    } else {\n      value = url.slice(valueIndex + 1, nextKeyIndex === -1 ? void 0 : nextKeyIndex);\n      if (encoded) {\n        value = _decodeURI(value);\n      }\n    }\n    if (multiple) {\n      if (!(results[name] && Array.isArray(results[name]))) {\n        results[name] = [];\n      }\n      ;\n      results[name].push(value);\n    } else {\n      results[name] ??= value;\n    }\n  }\n  return key ? results[key] : results;\n};\nvar getQueryParam = _getQueryParam;\nvar getQueryParams = (url, key) => {\n  return _getQueryParam(url, key, true);\n};\nvar decodeURIComponent_ = decodeURIComponent;\nexport {\n  checkOptionalParameter,\n  decodeURIComponent_,\n  getPath,\n  getPathNoStrict,\n  getPattern,\n  getQueryParam,\n  getQueryParams,\n  getQueryStrings,\n  mergePath,\n  splitPath,\n  splitRoutingPath,\n  tryDecode\n};\n", "// src/request.ts\nimport { HTTPException } from \"./http-exception.js\";\nimport { GET_MATCH_RESULT } from \"./request/constants.js\";\nimport { parseBody } from \"./utils/body.js\";\nimport { decodeURIComponent_, getQueryParam, getQueryParams, tryDecode } from \"./utils/url.js\";\nvar tryDecodeURIComponent = (str) => tryDecode(str, decodeURIComponent_);\nvar HonoRequest = class {\n  /**\n   * `.raw` can get the raw Request object.\n   *\n   * @see {@link https://hono.dev/docs/api/request#raw}\n   *\n   * @example\n   * ```ts\n   * // For Cloudflare Workers\n   * app.post('/', async (c) => {\n   *   const metadata = c.req.raw.cf?.hostMetadata?\n   *   ...\n   * })\n   * ```\n   */\n  raw;\n  #validatedData;\n  // Short name of validatedData\n  #matchResult;\n  routeIndex = 0;\n  /**\n   * `.path` can get the pathname of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#path}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const pathname = c.req.path // `/about/me`\n   * })\n   * ```\n   */\n  path;\n  bodyCache = {};\n  constructor(request, path = \"/\", matchResult = [[]]) {\n    this.raw = request;\n    this.path = path;\n    this.#matchResult = matchResult;\n    this.#validatedData = {};\n  }\n  param(key) {\n    return key ? this.#getDecodedParam(key) : this.#getAllDecodedParams();\n  }\n  #getDecodedParam(key) {\n    const paramKey = this.#matchResult[0][this.routeIndex][1][key];\n    const param = this.#getParamValue(paramKey);\n    return param && /\\%/.test(param) ? tryDecodeURIComponent(param) : param;\n  }\n  #getAllDecodedParams() {\n    const decoded = {};\n    const keys = Object.keys(this.#matchResult[0][this.routeIndex][1]);\n    for (const key of keys) {\n      const value = this.#getParamValue(this.#matchResult[0][this.routeIndex][1][key]);\n      if (value !== void 0) {\n        decoded[key] = /\\%/.test(value) ? tryDecodeURIComponent(value) : value;\n      }\n    }\n    return decoded;\n  }\n  #getParamValue(paramKey) {\n    return this.#matchResult[1] ? this.#matchResult[1][paramKey] : paramKey;\n  }\n  query(key) {\n    return getQueryParam(this.url, key);\n  }\n  queries(key) {\n    return getQueryParams(this.url, key);\n  }\n  header(name) {\n    if (name) {\n      return this.raw.headers.get(name) ?? void 0;\n    }\n    const headerData = {};\n    this.raw.headers.forEach((value, key) => {\n      headerData[key] = value;\n    });\n    return headerData;\n  }\n  async parseBody(options) {\n    return this.bodyCache.parsedBody ??= await parseBody(this, options);\n  }\n  #cachedBody = (key) => {\n    const { bodyCache, raw } = this;\n    const cachedBody = bodyCache[key];\n    if (cachedBody) {\n      return cachedBody;\n    }\n    const anyCachedKey = Object.keys(bodyCache)[0];\n    if (anyCachedKey) {\n      return bodyCache[anyCachedKey].then((body) => {\n        if (anyCachedKey === \"json\") {\n          body = JSON.stringify(body);\n        }\n        return new Response(body)[key]();\n      });\n    }\n    return bodyCache[key] = raw[key]();\n  };\n  /**\n   * `.json()` can parse Request body of type `application/json`\n   *\n   * @see {@link https://hono.dev/docs/api/request#json}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.json()\n   * })\n   * ```\n   */\n  json() {\n    return this.#cachedBody(\"text\").then((text) => JSON.parse(text));\n  }\n  /**\n   * `.text()` can parse Request body of type `text/plain`\n   *\n   * @see {@link https://hono.dev/docs/api/request#text}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.text()\n   * })\n   * ```\n   */\n  text() {\n    return this.#cachedBody(\"text\");\n  }\n  /**\n   * `.arrayBuffer()` parse Request body as an `ArrayBuffer`\n   *\n   * @see {@link https://hono.dev/docs/api/request#arraybuffer}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.arrayBuffer()\n   * })\n   * ```\n   */\n  arrayBuffer() {\n    return this.#cachedBody(\"arrayBuffer\");\n  }\n  /**\n   * Parses the request body as a `Blob`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.blob();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#blob\n   */\n  blob() {\n    return this.#cachedBody(\"blob\");\n  }\n  /**\n   * Parses the request body as `FormData`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.formData();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#formdata\n   */\n  formData() {\n    return this.#cachedBody(\"formData\");\n  }\n  /**\n   * Adds validated data to the request.\n   *\n   * @param target - The target of the validation.\n   * @param data - The validated data to add.\n   */\n  addValidatedData(target, data) {\n    this.#validatedData[target] = data;\n  }\n  valid(target) {\n    return this.#validatedData[target];\n  }\n  /**\n   * `.url()` can get the request url strings.\n   *\n   * @see {@link https://hono.dev/docs/api/request#url}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const url = c.req.url // `http://localhost:8787/about/me`\n   *   ...\n   * })\n   * ```\n   */\n  get url() {\n    return this.raw.url;\n  }\n  /**\n   * `.method()` can get the method name of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#method}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const method = c.req.method // `GET`\n   * })\n   * ```\n   */\n  get method() {\n    return this.raw.method;\n  }\n  get [GET_MATCH_RESULT]() {\n    return this.#matchResult;\n  }\n  /**\n   * `.matchedRoutes()` can return a matched route in the handler\n   *\n   * @deprecated\n   *\n   * Use matchedRoutes helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#matchedroutes}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async function logger(c, next) {\n   *   await next()\n   *   c.req.matchedRoutes.forEach(({ handler, method, path }, i) => {\n   *     const name = handler.name || (handler.length < 2 ? '[handler]' : '[middleware]')\n   *     console.log(\n   *       method,\n   *       ' ',\n   *       path,\n   *       ' '.repeat(Math.max(10 - path.length, 0)),\n   *       name,\n   *       i === c.req.routeIndex ? '<- respond from here' : ''\n   *     )\n   *   })\n   * })\n   * ```\n   */\n  get matchedRoutes() {\n    return this.#matchResult[0].map(([[, route]]) => route);\n  }\n  /**\n   * `routePath()` can retrieve the path registered within the handler\n   *\n   * @deprecated\n   *\n   * Use routePath helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#routepath}\n   *\n   * @example\n   * ```ts\n   * app.get('/posts/:id', (c) => {\n   *   return c.json({ path: c.req.routePath })\n   * })\n   * ```\n   */\n  get routePath() {\n    return this.#matchResult[0].map(([[, route]]) => route)[this.routeIndex].path;\n  }\n};\nvar cloneRawRequest = async (req) => {\n  if (!req.raw.bodyUsed) {\n    return req.raw.clone();\n  }\n  const cacheKey = Object.keys(req.bodyCache)[0];\n  if (!cacheKey) {\n    throw new HTTPException(500, {\n      message: \"Cannot clone request: body was already consumed and not cached. Please use HonoRequest methods (e.g., req.json(), req.text()) instead of consuming req.raw directly.\"\n    });\n  }\n  const requestInit = {\n    body: await req[cacheKey](),\n    cache: req.raw.cache,\n    credentials: req.raw.credentials,\n    headers: req.header(),\n    integrity: req.raw.integrity,\n    keepalive: req.raw.keepalive,\n    method: req.method,\n    mode: req.raw.mode,\n    redirect: req.raw.redirect,\n    referrer: req.raw.referrer,\n    referrerPolicy: req.raw.referrerPolicy,\n    signal: req.raw.signal\n  };\n  return new Request(req.url, requestInit);\n};\nexport {\n  HonoRequest,\n  cloneRawRequest\n};\n", "// src/utils/html.ts\nvar HtmlEscapedCallbackPhase = {\n  Stringify: 1,\n  BeforeStream: 2,\n  Stream: 3\n};\nvar raw = (value, callbacks) => {\n  const escapedString = new String(value);\n  escapedString.isEscaped = true;\n  escapedString.callbacks = callbacks;\n  return escapedString;\n};\nvar escapeRe = /[&<>'\"]/;\nvar stringBufferToString = async (buffer, callbacks) => {\n  let str = \"\";\n  callbacks ||= [];\n  const resolvedBuffer = await Promise.all(buffer);\n  for (let i = resolvedBuffer.length - 1; ; i--) {\n    str += resolvedBuffer[i];\n    i--;\n    if (i < 0) {\n      break;\n    }\n    let r = resolvedBuffer[i];\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    const isEscaped = r.isEscaped;\n    r = await (typeof r === \"object\" ? r.toString() : r);\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    if (r.isEscaped ?? isEscaped) {\n      str += r;\n    } else {\n      const buf = [str];\n      escapeToBuffer(r, buf);\n      str = buf[0];\n    }\n  }\n  return raw(str, callbacks);\n};\nvar escapeToBuffer = (str, buffer) => {\n  const match = str.search(escapeRe);\n  if (match === -1) {\n    buffer[0] += str;\n    return;\n  }\n  let escape;\n  let index;\n  let lastIndex = 0;\n  for (index = match; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escape = \"&quot;\";\n        break;\n      case 39:\n        escape = \"&#39;\";\n        break;\n      case 38:\n        escape = \"&amp;\";\n        break;\n      case 60:\n        escape = \"&lt;\";\n        break;\n      case 62:\n        escape = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    buffer[0] += str.substring(lastIndex, index) + escape;\n    lastIndex = index + 1;\n  }\n  buffer[0] += str.substring(lastIndex, index);\n};\nvar resolveCallbackSync = (str) => {\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return str;\n  }\n  const buffer = [str];\n  const context = {};\n  callbacks.forEach((c) => c({ phase: HtmlEscapedCallbackPhase.Stringify, buffer, context }));\n  return buffer[0];\n};\nvar resolveCallback = async (str, phase, preserveCallbacks, context, buffer) => {\n  if (typeof str === \"object\" && !(str instanceof String)) {\n    if (!(str instanceof Promise)) {\n      str = str.toString();\n    }\n    if (str instanceof Promise) {\n      str = await str;\n    }\n  }\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return Promise.resolve(str);\n  }\n  if (buffer) {\n    buffer[0] += str;\n  } else {\n    buffer = [str];\n  }\n  const resStr = Promise.all(callbacks.map((c) => c({ phase, buffer, context }))).then(\n    (res) => Promise.all(\n      res.filter(Boolean).map((str2) => resolveCallback(str2, phase, false, context, buffer))\n    ).then(() => buffer[0])\n  );\n  if (preserveCallbacks) {\n    return raw(await resStr, callbacks);\n  } else {\n    return resStr;\n  }\n};\nexport {\n  HtmlEscapedCallbackPhase,\n  escapeToBuffer,\n  raw,\n  resolveCallback,\n  resolveCallbackSync,\n  stringBufferToString\n};\n", "// src/context.ts\nimport { HonoRequest } from \"./request.js\";\nimport { HtmlEscapedCallbackPhase, resolveCallback } from \"./utils/html.js\";\nvar TEXT_PLAIN = \"text/plain; charset=UTF-8\";\nvar setDefaultContentType = (contentType, headers) => {\n  return {\n    \"Content-Type\": contentType,\n    ...headers\n  };\n};\nvar Context = class {\n  #rawRequest;\n  #req;\n  /**\n   * `.env` can get bindings (environment variables, secrets, KV namespaces, D1 database, R2 bucket etc.) in Cloudflare Workers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#env}\n   *\n   * @example\n   * ```ts\n   * // Environment object for Cloudflare Workers\n   * app.get('*', async c => {\n   *   const counter = c.env.COUNTER\n   * })\n   * ```\n   */\n  env = {};\n  #var;\n  finalized = false;\n  /**\n   * `.error` can get the error object from the middleware if the Handler throws an error.\n   *\n   * @see {@link https://hono.dev/docs/api/context#error}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   await next()\n   *   if (c.error) {\n   *     // do something...\n   *   }\n   * })\n   * ```\n   */\n  error;\n  #status;\n  #executionCtx;\n  #res;\n  #layout;\n  #renderer;\n  #notFoundHandler;\n  #preparedHeaders;\n  #matchResult;\n  #path;\n  /**\n   * Creates an instance of the Context class.\n   *\n   * @param req - The Request object.\n   * @param options - Optional configuration options for the context.\n   */\n  constructor(req, options) {\n    this.#rawRequest = req;\n    if (options) {\n      this.#executionCtx = options.executionCtx;\n      this.env = options.env;\n      this.#notFoundHandler = options.notFoundHandler;\n      this.#path = options.path;\n      this.#matchResult = options.matchResult;\n    }\n  }\n  /**\n   * `.req` is the instance of {@link HonoRequest}.\n   */\n  get req() {\n    this.#req ??= new HonoRequest(this.#rawRequest, this.#path, this.#matchResult);\n    return this.#req;\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#event}\n   * The FetchEvent associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have a FetchEvent.\n   */\n  get event() {\n    if (this.#executionCtx && \"respondWith\" in this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no FetchEvent\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#executionctx}\n   * The ExecutionContext associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have an ExecutionContext.\n   */\n  get executionCtx() {\n    if (this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no ExecutionContext\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#res}\n   * The Response object for the current request.\n   */\n  get res() {\n    return this.#res ||= new Response(null, {\n      headers: this.#preparedHeaders ??= new Headers()\n    });\n  }\n  /**\n   * Sets the Response object for the current request.\n   *\n   * @param _res - The Response object to set.\n   */\n  set res(_res) {\n    if (this.#res && _res) {\n      _res = new Response(_res.body, _res);\n      for (const [k, v] of this.#res.headers.entries()) {\n        if (k === \"content-type\") {\n          continue;\n        }\n        if (k === \"set-cookie\") {\n          const cookies = this.#res.headers.getSetCookie();\n          _res.headers.delete(\"set-cookie\");\n          for (const cookie of cookies) {\n            _res.headers.append(\"set-cookie\", cookie);\n          }\n        } else {\n          _res.headers.set(k, v);\n        }\n      }\n    }\n    this.#res = _res;\n    this.finalized = true;\n  }\n  /**\n   * `.render()` can create a response within a layout.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   return c.render('Hello!')\n   * })\n   * ```\n   */\n  render = (...args) => {\n    this.#renderer ??= (content) => this.html(content);\n    return this.#renderer(...args);\n  };\n  /**\n   * Sets the layout for the response.\n   *\n   * @param layout - The layout to set.\n   * @returns The layout function.\n   */\n  setLayout = (layout) => this.#layout = layout;\n  /**\n   * Gets the current layout for the response.\n   *\n   * @returns The current layout function.\n   */\n  getLayout = () => this.#layout;\n  /**\n   * `.setRenderer()` can set the layout in the custom middleware.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```tsx\n   * app.use('*', async (c, next) => {\n   *   c.setRenderer((content) => {\n   *     return c.html(\n   *       <html>\n   *         <body>\n   *           <p>{content}</p>\n   *         </body>\n   *       </html>\n   *     )\n   *   })\n   *   await next()\n   * })\n   * ```\n   */\n  setRenderer = (renderer) => {\n    this.#renderer = renderer;\n  };\n  /**\n   * `.header()` can set headers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#header}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  header = (name, value, options) => {\n    if (this.finalized) {\n      this.#res = new Response(this.#res.body, this.#res);\n    }\n    const headers = this.#res ? this.#res.headers : this.#preparedHeaders ??= new Headers();\n    if (value === void 0) {\n      headers.delete(name);\n    } else if (options?.append) {\n      headers.append(name, value);\n    } else {\n      headers.set(name, value);\n    }\n  };\n  status = (status) => {\n    this.#status = status;\n  };\n  /**\n   * `.set()` can set the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   c.set('message', 'Hono is hot!!')\n   *   await next()\n   * })\n   * ```\n   */\n  set = (key, value) => {\n    this.#var ??= /* @__PURE__ */ new Map();\n    this.#var.set(key, value);\n  };\n  /**\n   * `.get()` can use the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   const message = c.get('message')\n   *   return c.text(`The message is \"${message}\"`)\n   * })\n   * ```\n   */\n  get = (key) => {\n    return this.#var ? this.#var.get(key) : void 0;\n  };\n  /**\n   * `.var` can access the value of a variable.\n   *\n   * @see {@link https://hono.dev/docs/api/context#var}\n   *\n   * @example\n   * ```ts\n   * const result = c.var.client.oneMethod()\n   * ```\n   */\n  // c.var.propName is a read-only\n  get var() {\n    if (!this.#var) {\n      return {};\n    }\n    return Object.fromEntries(this.#var);\n  }\n  #newResponse(data, arg, headers) {\n    const responseHeaders = this.#res ? new Headers(this.#res.headers) : this.#preparedHeaders ?? new Headers();\n    if (typeof arg === \"object\" && \"headers\" in arg) {\n      const argHeaders = arg.headers instanceof Headers ? arg.headers : new Headers(arg.headers);\n      for (const [key, value] of argHeaders) {\n        if (key.toLowerCase() === \"set-cookie\") {\n          responseHeaders.append(key, value);\n        } else {\n          responseHeaders.set(key, value);\n        }\n      }\n    }\n    if (headers) {\n      for (const [k, v] of Object.entries(headers)) {\n        if (typeof v === \"string\") {\n          responseHeaders.set(k, v);\n        } else {\n          responseHeaders.delete(k);\n          for (const v2 of v) {\n            responseHeaders.append(k, v2);\n          }\n        }\n      }\n    }\n    const status = typeof arg === \"number\" ? arg : arg?.status ?? this.#status;\n    return new Response(data, { status, headers: responseHeaders });\n  }\n  newResponse = (...args) => this.#newResponse(...args);\n  /**\n   * `.body()` can return the HTTP response.\n   * You can set headers with `.header()` and set HTTP status code with `.status`.\n   * This can also be set in `.text()`, `.json()` and so on.\n   *\n   * @see {@link https://hono.dev/docs/api/context#body}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *   // Set HTTP status code\n   *   c.status(201)\n   *\n   *   // Return the response body\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  body = (data, arg, headers) => this.#newResponse(data, arg, headers);\n  /**\n   * `.text()` can render text as `Content-Type:text/plain`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#text}\n   *\n   * @example\n   * ```ts\n   * app.get('/say', (c) => {\n   *   return c.text('Hello!')\n   * })\n   * ```\n   */\n  text = (text, arg, headers) => {\n    return !this.#preparedHeaders && !this.#status && !arg && !headers && !this.finalized ? new Response(text) : this.#newResponse(\n      text,\n      arg,\n      setDefaultContentType(TEXT_PLAIN, headers)\n    );\n  };\n  /**\n   * `.json()` can render JSON as `Content-Type:application/json`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#json}\n   *\n   * @example\n   * ```ts\n   * app.get('/api', (c) => {\n   *   return c.json({ message: 'Hello!' })\n   * })\n   * ```\n   */\n  json = (object, arg, headers) => {\n    return this.#newResponse(\n      JSON.stringify(object),\n      arg,\n      setDefaultContentType(\"application/json\", headers)\n    );\n  };\n  html = (html, arg, headers) => {\n    const res = (html2) => this.#newResponse(html2, arg, setDefaultContentType(\"text/html; charset=UTF-8\", headers));\n    return typeof html === \"object\" ? resolveCallback(html, HtmlEscapedCallbackPhase.Stringify, false, {}).then(res) : res(html);\n  };\n  /**\n   * `.redirect()` can Redirect, default status code is 302.\n   *\n   * @see {@link https://hono.dev/docs/api/context#redirect}\n   *\n   * @example\n   * ```ts\n   * app.get('/redirect', (c) => {\n   *   return c.redirect('/')\n   * })\n   * app.get('/redirect-permanently', (c) => {\n   *   return c.redirect('/', 301)\n   * })\n   * ```\n   */\n  redirect = (location, status) => {\n    const locationString = String(location);\n    this.header(\n      \"Location\",\n      // Multibyes should be encoded\n      // eslint-disable-next-line no-control-regex\n      !/[^\\x00-\\xFF]/.test(locationString) ? locationString : encodeURI(locationString)\n    );\n    return this.newResponse(null, status ?? 302);\n  };\n  /**\n   * `.notFound()` can return the Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/context#notfound}\n   *\n   * @example\n   * ```ts\n   * app.get('/notfound', (c) => {\n   *   return c.notFound()\n   * })\n   * ```\n   */\n  notFound = () => {\n    this.#notFoundHandler ??= () => new Response();\n    return this.#notFoundHandler(this);\n  };\n};\nexport {\n  Context,\n  TEXT_PLAIN\n};\n", "// src/router.ts\nvar METHOD_NAME_ALL = \"ALL\";\nvar METHOD_NAME_ALL_LOWERCASE = \"all\";\nvar METHODS = [\"get\", \"post\", \"put\", \"delete\", \"options\", \"patch\"];\nvar MESSAGE_MATCHER_IS_ALREADY_BUILT = \"Can not add a route since the matcher is already built.\";\nvar UnsupportedPathError = class extends Error {\n};\nexport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHODS,\n  METHOD_NAME_ALL,\n  METHOD_NAME_ALL_LOWERCASE,\n  UnsupportedPathError\n};\n", "// src/utils/constants.ts\nvar COMPOSED_HANDLER = \"__COMPOSED_HANDLER\";\nexport {\n  COMPOSED_HANDLER\n};\n", "// src/hono-base.ts\nimport { compose } from \"./compose.js\";\nimport { Context } from \"./context.js\";\nimport { METHODS, METHOD_NAME_ALL, METHOD_NAME_ALL_LOWERCASE } from \"./router.js\";\nimport { COMPOSED_HANDLER } from \"./utils/constants.js\";\nimport { getPath, getPathNoStrict, mergePath } from \"./utils/url.js\";\nvar notFoundHandler = (c) => {\n  return c.text(\"404 Not Found\", 404);\n};\nvar errorHandler = (err, c) => {\n  if (\"getResponse\" in err) {\n    const res = err.getResponse();\n    return c.newResponse(res.body, res);\n  }\n  console.error(err);\n  return c.text(\"Internal Server Error\", 500);\n};\nvar Hono = class _Hono {\n  get;\n  post;\n  put;\n  delete;\n  options;\n  patch;\n  all;\n  on;\n  use;\n  /*\n    This class is like an abstract class and does not have a router.\n    To use it, inherit the class and implement router in the constructor.\n  */\n  router;\n  getPath;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  _basePath = \"/\";\n  #path = \"/\";\n  routes = [];\n  constructor(options = {}) {\n    const allMethods = [...METHODS, METHOD_NAME_ALL_LOWERCASE];\n    allMethods.forEach((method) => {\n      this[method] = (args1, ...args) => {\n        if (typeof args1 === \"string\") {\n          this.#path = args1;\n        } else {\n          this.#addRoute(method, this.#path, args1);\n        }\n        args.forEach((handler) => {\n          this.#addRoute(method, this.#path, handler);\n        });\n        return this;\n      };\n    });\n    this.on = (method, path, ...handlers) => {\n      for (const p of [path].flat()) {\n        this.#path = p;\n        for (const m of [method].flat()) {\n          handlers.map((handler) => {\n            this.#addRoute(m.toUpperCase(), this.#path, handler);\n          });\n        }\n      }\n      return this;\n    };\n    this.use = (arg1, ...handlers) => {\n      if (typeof arg1 === \"string\") {\n        this.#path = arg1;\n      } else {\n        this.#path = \"*\";\n        handlers.unshift(arg1);\n      }\n      handlers.forEach((handler) => {\n        this.#addRoute(METHOD_NAME_ALL, this.#path, handler);\n      });\n      return this;\n    };\n    const { strict, ...optionsWithoutStrict } = options;\n    Object.assign(this, optionsWithoutStrict);\n    this.getPath = strict ?? true ? options.getPath ?? getPath : getPathNoStrict;\n  }\n  #clone() {\n    const clone = new _Hono({\n      router: this.router,\n      getPath: this.getPath\n    });\n    clone.errorHandler = this.errorHandler;\n    clone.#notFoundHandler = this.#notFoundHandler;\n    clone.routes = this.routes;\n    return clone;\n  }\n  #notFoundHandler = notFoundHandler;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  errorHandler = errorHandler;\n  /**\n   * `.route()` allows grouping other Hono instance in routes.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#grouping}\n   *\n   * @param {string} path - base Path\n   * @param {Hono} app - other Hono instance\n   * @returns {Hono} routed Hono instance\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * const app2 = new Hono()\n   *\n   * app2.get(\"/user\", (c) => c.text(\"user\"))\n   * app.route(\"/api\", app2) // GET /api/user\n   * ```\n   */\n  route(path, app) {\n    const subApp = this.basePath(path);\n    app.routes.map((r) => {\n      let handler;\n      if (app.errorHandler === errorHandler) {\n        handler = r.handler;\n      } else {\n        handler = async (c, next) => (await compose([], app.errorHandler)(c, () => r.handler(c, next))).res;\n        handler[COMPOSED_HANDLER] = r.handler;\n      }\n      subApp.#addRoute(r.method, r.path, handler);\n    });\n    return this;\n  }\n  /**\n   * `.basePath()` allows base paths to be specified.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#base-path}\n   *\n   * @param {string} path - base Path\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * const api = new Hono().basePath('/api')\n   * ```\n   */\n  basePath(path) {\n    const subApp = this.#clone();\n    subApp._basePath = mergePath(this._basePath, path);\n    return subApp;\n  }\n  /**\n   * `.onError()` handles an error and returns a customized Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#error-handling}\n   *\n   * @param {ErrorHandler} handler - request Handler for error\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.onError((err, c) => {\n   *   console.error(`${err}`)\n   *   return c.text('Custom Error Message', 500)\n   * })\n   * ```\n   */\n  onError = (handler) => {\n    this.errorHandler = handler;\n    return this;\n  };\n  /**\n   * `.notFound()` allows you to customize a Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#not-found}\n   *\n   * @param {NotFoundHandler} handler - request handler for not-found\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.notFound((c) => {\n   *   return c.text('Custom 404 Message', 404)\n   * })\n   * ```\n   */\n  notFound = (handler) => {\n    this.#notFoundHandler = handler;\n    return this;\n  };\n  /**\n   * `.mount()` allows you to mount applications built with other frameworks into your Hono application.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#mount}\n   *\n   * @param {string} path - base Path\n   * @param {Function} applicationHandler - other Request Handler\n   * @param {MountOptions} [options] - options of `.mount()`\n   * @returns {Hono} mounted Hono instance\n   *\n   * @example\n   * ```ts\n   * import { Router as IttyRouter } from 'itty-router'\n   * import { Hono } from 'hono'\n   * // Create itty-router application\n   * const ittyRouter = IttyRouter()\n   * // GET /itty-router/hello\n   * ittyRouter.get('/hello', () => new Response('Hello from itty-router'))\n   *\n   * const app = new Hono()\n   * app.mount('/itty-router', ittyRouter.handle)\n   * ```\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * // Send the request to another application without modification.\n   * app.mount('/app', anotherApp, {\n   *   replaceRequest: (req) => req,\n   * })\n   * ```\n   */\n  mount(path, applicationHandler, options) {\n    let replaceRequest;\n    let optionHandler;\n    if (options) {\n      if (typeof options === \"function\") {\n        optionHandler = options;\n      } else {\n        optionHandler = options.optionHandler;\n        if (options.replaceRequest === false) {\n          replaceRequest = (request) => request;\n        } else {\n          replaceRequest = options.replaceRequest;\n        }\n      }\n    }\n    const getOptions = optionHandler ? (c) => {\n      const options2 = optionHandler(c);\n      return Array.isArray(options2) ? options2 : [options2];\n    } : (c) => {\n      let executionContext = void 0;\n      try {\n        executionContext = c.executionCtx;\n      } catch {\n      }\n      return [c.env, executionContext];\n    };\n    replaceRequest ||= (() => {\n      const mergedPath = mergePath(this._basePath, path);\n      const pathPrefixLength = mergedPath === \"/\" ? 0 : mergedPath.length;\n      return (request) => {\n        const url = new URL(request.url);\n        url.pathname = url.pathname.slice(pathPrefixLength) || \"/\";\n        return new Request(url, request);\n      };\n    })();\n    const handler = async (c, next) => {\n      const res = await applicationHandler(replaceRequest(c.req.raw), ...getOptions(c));\n      if (res) {\n        return res;\n      }\n      await next();\n    };\n    this.#addRoute(METHOD_NAME_ALL, mergePath(path, \"*\"), handler);\n    return this;\n  }\n  #addRoute(method, path, handler) {\n    method = method.toUpperCase();\n    path = mergePath(this._basePath, path);\n    const r = { basePath: this._basePath, path, method, handler };\n    this.router.add(method, path, [handler, r]);\n    this.routes.push(r);\n  }\n  #handleError(err, c) {\n    if (err instanceof Error) {\n      return this.errorHandler(err, c);\n    }\n    throw err;\n  }\n  #dispatch(request, executionCtx, env, method) {\n    if (method === \"HEAD\") {\n      return (async () => new Response(null, await this.#dispatch(request, executionCtx, env, \"GET\")))();\n    }\n    const path = this.getPath(request, { env });\n    const matchResult = this.router.match(method, path);\n    const c = new Context(request, {\n      path,\n      matchResult,\n      env,\n      executionCtx,\n      notFoundHandler: this.#notFoundHandler\n    });\n    if (matchResult[0].length === 1) {\n      let res;\n      try {\n        res = matchResult[0][0][0][0](c, async () => {\n          c.res = await this.#notFoundHandler(c);\n        });\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n      return res instanceof Promise ? res.then(\n        (resolved) => resolved || (c.finalized ? c.res : this.#notFoundHandler(c))\n      ).catch((err) => this.#handleError(err, c)) : res ?? this.#notFoundHandler(c);\n    }\n    const composed = compose(matchResult[0], this.errorHandler, this.#notFoundHandler);\n    return (async () => {\n      try {\n        const context = await composed(c);\n        if (!context.finalized) {\n          throw new Error(\n            \"Context is not finalized. Did you forget to return a Response object or `await next()`?\"\n          );\n        }\n        return context.res;\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n    })();\n  }\n  /**\n   * `.fetch()` will be entry point of your app.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#fetch}\n   *\n   * @param {Request} request - request Object of request\n   * @param {Env} Env - env Object\n   * @param {ExecutionContext} - context of execution\n   * @returns {Response | Promise<Response>} response of request\n   *\n   */\n  fetch = (request, ...rest) => {\n    return this.#dispatch(request, rest[1], rest[0], request.method);\n  };\n  /**\n   * `.request()` is a useful method for testing.\n   * You can pass a URL or pathname to send a GET request.\n   * app will return a Response object.\n   * ```ts\n   * test('GET /hello is ok', async () => {\n   *   const res = await app.request('/hello')\n   *   expect(res.status).toBe(200)\n   * })\n   * ```\n   * @see https://hono.dev/docs/api/hono#request\n   */\n  request = (input, requestInit, Env, executionCtx) => {\n    if (input instanceof Request) {\n      return this.fetch(requestInit ? new Request(input, requestInit) : input, Env, executionCtx);\n    }\n    input = input.toString();\n    return this.fetch(\n      new Request(\n        /^https?:\\/\\//.test(input) ? input : `http://localhost${mergePath(\"/\", input)}`,\n        requestInit\n      ),\n      Env,\n      executionCtx\n    );\n  };\n  /**\n   * `.fire()` automatically adds a global fetch event listener.\n   * This can be useful for environments that adhere to the Service Worker API, such as non-ES module Cloudflare Workers.\n   * @deprecated\n   * Use `fire` from `hono/service-worker` instead.\n   * ```ts\n   * import { Hono } from 'hono'\n   * import { fire } from 'hono/service-worker'\n   *\n   * const app = new Hono()\n   * // ...\n   * fire(app)\n   * ```\n   * @see https://hono.dev/docs/api/hono#fire\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n   * @see https://developers.cloudflare.com/workers/reference/migrate-to-module-workers/\n   */\n  fire = () => {\n    addEventListener(\"fetch\", (event) => {\n      event.respondWith(this.#dispatch(event.request, event, void 0, event.request.method));\n    });\n  };\n};\nexport {\n  Hono as HonoBase\n};\n", "// src/router/reg-exp-router/matcher.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nvar emptyParam = [];\nfunction match(method, path) {\n  const matchers = this.buildAllMatchers();\n  const match2 = ((method2, path2) => {\n    const matcher = matchers[method2] || matchers[METHOD_NAME_ALL];\n    const staticMatch = matcher[2][path2];\n    if (staticMatch) {\n      return staticMatch;\n    }\n    const match3 = path2.match(matcher[0]);\n    if (!match3) {\n      return [[], emptyParam];\n    }\n    const index = match3.indexOf(\"\", 1);\n    return [matcher[1][index], match3];\n  });\n  this.match = match2;\n  return match2(method, path);\n}\nexport {\n  emptyParam,\n  match\n};\n", "// src/router/reg-exp-router/node.ts\nvar LABEL_REG_EXP_STR = \"[^/]+\";\nvar ONLY_WILDCARD_REG_EXP_STR = \".*\";\nvar TAIL_WILDCARD_REG_EXP_STR = \"(?:|/.*)\";\nvar PATH_ERROR = /* @__PURE__ */ Symbol();\nvar regExpMetaChars = new Set(\".\\\\+*[^]$()\");\nfunction compareKey(a, b) {\n  if (a.length === 1) {\n    return b.length === 1 ? a < b ? -1 : 1 : -1;\n  }\n  if (b.length === 1) {\n    return 1;\n  }\n  if (a === ONLY_WILDCARD_REG_EXP_STR || a === TAIL_WILDCARD_REG_EXP_STR) {\n    return 1;\n  } else if (b === ONLY_WILDCARD_REG_EXP_STR || b === TAIL_WILDCARD_REG_EXP_STR) {\n    return -1;\n  }\n  if (a === LABEL_REG_EXP_STR) {\n    return 1;\n  } else if (b === LABEL_REG_EXP_STR) {\n    return -1;\n  }\n  return a.length === b.length ? a < b ? -1 : 1 : b.length - a.length;\n}\nvar Node = class _Node {\n  #index;\n  #varIndex;\n  #children = /* @__PURE__ */ Object.create(null);\n  insert(tokens, index, paramMap, context, pathErrorCheckOnly) {\n    if (tokens.length === 0) {\n      if (this.#index !== void 0) {\n        throw PATH_ERROR;\n      }\n      if (pathErrorCheckOnly) {\n        return;\n      }\n      this.#index = index;\n      return;\n    }\n    const [token, ...restTokens] = tokens;\n    const pattern = token === \"*\" ? restTokens.length === 0 ? [\"\", \"\", ONLY_WILDCARD_REG_EXP_STR] : [\"\", \"\", LABEL_REG_EXP_STR] : token === \"/*\" ? [\"\", \"\", TAIL_WILDCARD_REG_EXP_STR] : token.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n    let node;\n    if (pattern) {\n      const name = pattern[1];\n      let regexpStr = pattern[2] || LABEL_REG_EXP_STR;\n      if (name && pattern[2]) {\n        if (regexpStr === \".*\") {\n          throw PATH_ERROR;\n        }\n        regexpStr = regexpStr.replace(/^\\((?!\\?:)(?=[^)]+\\)$)/, \"(?:\");\n        if (/\\((?!\\?:)/.test(regexpStr)) {\n          throw PATH_ERROR;\n        }\n      }\n      node = this.#children[regexpStr];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[regexpStr] = new _Node();\n        if (name !== \"\") {\n          node.#varIndex = context.varIndex++;\n        }\n      }\n      if (!pathErrorCheckOnly && name !== \"\") {\n        paramMap.push([name, node.#varIndex]);\n      }\n    } else {\n      node = this.#children[token];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k.length > 1 && k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[token] = new _Node();\n      }\n    }\n    node.insert(restTokens, index, paramMap, context, pathErrorCheckOnly);\n  }\n  buildRegExpStr() {\n    const childKeys = Object.keys(this.#children).sort(compareKey);\n    const strList = childKeys.map((k) => {\n      const c = this.#children[k];\n      return (typeof c.#varIndex === \"number\" ? `(${k})@${c.#varIndex}` : regExpMetaChars.has(k) ? `\\\\${k}` : k) + c.buildRegExpStr();\n    });\n    if (typeof this.#index === \"number\") {\n      strList.unshift(`#${this.#index}`);\n    }\n    if (strList.length === 0) {\n      return \"\";\n    }\n    if (strList.length === 1) {\n      return strList[0];\n    }\n    return \"(?:\" + strList.join(\"|\") + \")\";\n  }\n};\nexport {\n  Node,\n  PATH_ERROR\n};\n", "// src/router/reg-exp-router/trie.ts\nimport { Node } from \"./node.js\";\nvar Trie = class {\n  #context = { varIndex: 0 };\n  #root = new Node();\n  insert(path, index, pathErrorCheckOnly) {\n    const paramAssoc = [];\n    const groups = [];\n    for (let i = 0; ; ) {\n      let replaced = false;\n      path = path.replace(/\\{[^}]+\\}/g, (m) => {\n        const mark = `@\\\\${i}`;\n        groups[i] = [mark, m];\n        i++;\n        replaced = true;\n        return mark;\n      });\n      if (!replaced) {\n        break;\n      }\n    }\n    const tokens = path.match(/(?::[^\\/]+)|(?:\\/\\*$)|./g) || [];\n    for (let i = groups.length - 1; i >= 0; i--) {\n      const [mark] = groups[i];\n      for (let j = tokens.length - 1; j >= 0; j--) {\n        if (tokens[j].indexOf(mark) !== -1) {\n          tokens[j] = tokens[j].replace(mark, groups[i][1]);\n          break;\n        }\n      }\n    }\n    this.#root.insert(tokens, index, paramAssoc, this.#context, pathErrorCheckOnly);\n    return paramAssoc;\n  }\n  buildRegExp() {\n    let regexp = this.#root.buildRegExpStr();\n    if (regexp === \"\") {\n      return [/^$/, [], []];\n    }\n    let captureIndex = 0;\n    const indexReplacementMap = [];\n    const paramReplacementMap = [];\n    regexp = regexp.replace(/#(\\d+)|@(\\d+)|\\.\\*\\$/g, (_, handlerIndex, paramIndex) => {\n      if (handlerIndex !== void 0) {\n        indexReplacementMap[++captureIndex] = Number(handlerIndex);\n        return \"$()\";\n      }\n      if (paramIndex !== void 0) {\n        paramReplacementMap[Number(paramIndex)] = ++captureIndex;\n        return \"\";\n      }\n      return \"\";\n    });\n    return [new RegExp(`^${regexp}`), indexReplacementMap, paramReplacementMap];\n  }\n};\nexport {\n  Trie\n};\n", "// src/router/reg-exp-router/router.ts\nimport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHOD_NAME_ALL,\n  UnsupportedPathError\n} from \"../../router.js\";\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { match, emptyParam } from \"./matcher.js\";\nimport { PATH_ERROR } from \"./node.js\";\nimport { Trie } from \"./trie.js\";\nvar nullMatcher = [/^$/, [], /* @__PURE__ */ Object.create(null)];\nvar wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\nfunction buildWildcardRegExp(path) {\n  return wildcardRegExpCache[path] ??= new RegExp(\n    path === \"*\" ? \"\" : `^${path.replace(\n      /\\/\\*$|([.\\\\+*[^\\]$()])/g,\n      (_, metaChar) => metaChar ? `\\\\${metaChar}` : \"(?:|/.*)\"\n    )}$`\n  );\n}\nfunction clearWildcardRegExpCache() {\n  wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\n}\nfunction buildMatcherFromPreprocessedRoutes(routes) {\n  const trie = new Trie();\n  const handlerData = [];\n  if (routes.length === 0) {\n    return nullMatcher;\n  }\n  const routesWithStaticPathFlag = routes.map(\n    (route) => [!/\\*|\\/:/.test(route[0]), ...route]\n  ).sort(\n    ([isStaticA, pathA], [isStaticB, pathB]) => isStaticA ? 1 : isStaticB ? -1 : pathA.length - pathB.length\n  );\n  const staticMap = /* @__PURE__ */ Object.create(null);\n  for (let i = 0, j = -1, len = routesWithStaticPathFlag.length; i < len; i++) {\n    const [pathErrorCheckOnly, path, handlers] = routesWithStaticPathFlag[i];\n    if (pathErrorCheckOnly) {\n      staticMap[path] = [handlers.map(([h]) => [h, /* @__PURE__ */ Object.create(null)]), emptyParam];\n    } else {\n      j++;\n    }\n    let paramAssoc;\n    try {\n      paramAssoc = trie.insert(path, j, pathErrorCheckOnly);\n    } catch (e) {\n      throw e === PATH_ERROR ? new UnsupportedPathError(path) : e;\n    }\n    if (pathErrorCheckOnly) {\n      continue;\n    }\n    handlerData[j] = handlers.map(([h, paramCount]) => {\n      const paramIndexMap = /* @__PURE__ */ Object.create(null);\n      paramCount -= 1;\n      for (; paramCount >= 0; paramCount--) {\n        const [key, value] = paramAssoc[paramCount];\n        paramIndexMap[key] = value;\n      }\n      return [h, paramIndexMap];\n    });\n  }\n  const [regexp, indexReplacementMap, paramReplacementMap] = trie.buildRegExp();\n  for (let i = 0, len = handlerData.length; i < len; i++) {\n    for (let j = 0, len2 = handlerData[i].length; j < len2; j++) {\n      const map = handlerData[i][j]?.[1];\n      if (!map) {\n        continue;\n      }\n      const keys = Object.keys(map);\n      for (let k = 0, len3 = keys.length; k < len3; k++) {\n        map[keys[k]] = paramReplacementMap[map[keys[k]]];\n      }\n    }\n  }\n  const handlerMap = [];\n  for (const i in indexReplacementMap) {\n    handlerMap[i] = handlerData[indexReplacementMap[i]];\n  }\n  return [regexp, handlerMap, staticMap];\n}\nfunction findMiddleware(middleware, path) {\n  if (!middleware) {\n    return void 0;\n  }\n  for (const k of Object.keys(middleware).sort((a, b) => b.length - a.length)) {\n    if (buildWildcardRegExp(k).test(path)) {\n      return [...middleware[k]];\n    }\n  }\n  return void 0;\n}\nvar RegExpRouter = class {\n  name = \"RegExpRouter\";\n  #middleware;\n  #routes;\n  constructor() {\n    this.#middleware = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n    this.#routes = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n  }\n  add(method, path, handler) {\n    const middleware = this.#middleware;\n    const routes = this.#routes;\n    if (!middleware || !routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    if (!middleware[method]) {\n      ;\n      [middleware, routes].forEach((handlerMap) => {\n        handlerMap[method] = /* @__PURE__ */ Object.create(null);\n        Object.keys(handlerMap[METHOD_NAME_ALL]).forEach((p) => {\n          handlerMap[method][p] = [...handlerMap[METHOD_NAME_ALL][p]];\n        });\n      });\n    }\n    if (path === \"/*\") {\n      path = \"*\";\n    }\n    const paramCount = (path.match(/\\/:/g) || []).length;\n    if (/\\*$/.test(path)) {\n      const re = buildWildcardRegExp(path);\n      if (method === METHOD_NAME_ALL) {\n        Object.keys(middleware).forEach((m) => {\n          middleware[m][path] ||= findMiddleware(middleware[m], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n        });\n      } else {\n        middleware[method][path] ||= findMiddleware(middleware[method], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n      }\n      Object.keys(middleware).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(middleware[m]).forEach((p) => {\n            re.test(p) && middleware[m][p].push([handler, paramCount]);\n          });\n        }\n      });\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(routes[m]).forEach(\n            (p) => re.test(p) && routes[m][p].push([handler, paramCount])\n          );\n        }\n      });\n      return;\n    }\n    const paths = checkOptionalParameter(path) || [path];\n    for (let i = 0, len = paths.length; i < len; i++) {\n      const path2 = paths[i];\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          routes[m][path2] ||= [\n            ...findMiddleware(middleware[m], path2) || findMiddleware(middleware[METHOD_NAME_ALL], path2) || []\n          ];\n          routes[m][path2].push([handler, paramCount - len + i + 1]);\n        }\n      });\n    }\n  }\n  match = match;\n  buildAllMatchers() {\n    const matchers = /* @__PURE__ */ Object.create(null);\n    Object.keys(this.#routes).concat(Object.keys(this.#middleware)).forEach((method) => {\n      matchers[method] ||= this.#buildMatcher(method);\n    });\n    this.#middleware = this.#routes = void 0;\n    clearWildcardRegExpCache();\n    return matchers;\n  }\n  #buildMatcher(method) {\n    const routes = [];\n    let hasOwnRoute = method === METHOD_NAME_ALL;\n    [this.#middleware, this.#routes].forEach((r) => {\n      const ownRoute = r[method] ? Object.keys(r[method]).map((path) => [path, r[method][path]]) : [];\n      if (ownRoute.length !== 0) {\n        hasOwnRoute ||= true;\n        routes.push(...ownRoute);\n      } else if (method !== METHOD_NAME_ALL) {\n        routes.push(\n          ...Object.keys(r[METHOD_NAME_ALL]).map((path) => [path, r[METHOD_NAME_ALL][path]])\n        );\n      }\n    });\n    if (!hasOwnRoute) {\n      return null;\n    } else {\n      return buildMatcherFromPreprocessedRoutes(routes);\n    }\n  }\n};\nexport {\n  RegExpRouter\n};\n", "// src/router/smart-router/router.ts\nimport { MESSAGE_MATCHER_IS_ALREADY_BUILT, UnsupportedPathError } from \"../../router.js\";\nvar SmartRouter = class {\n  name = \"SmartRouter\";\n  #routers = [];\n  #routes = [];\n  constructor(init) {\n    this.#routers = init.routers;\n  }\n  add(method, path, handler) {\n    if (!this.#routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    this.#routes.push([method, path, handler]);\n  }\n  match(method, path) {\n    if (!this.#routes) {\n      throw new Error(\"Fatal error\");\n    }\n    const routers = this.#routers;\n    const routes = this.#routes;\n    const len = routers.length;\n    let i = 0;\n    let res;\n    for (; i < len; i++) {\n      const router = routers[i];\n      try {\n        for (let i2 = 0, len2 = routes.length; i2 < len2; i2++) {\n          router.add(...routes[i2]);\n        }\n        res = router.match(method, path);\n      } catch (e) {\n        if (e instanceof UnsupportedPathError) {\n          continue;\n        }\n        throw e;\n      }\n      this.match = router.match.bind(router);\n      this.#routers = [router];\n      this.#routes = void 0;\n      break;\n    }\n    if (i === len) {\n      throw new Error(\"Fatal error\");\n    }\n    this.name = `SmartRouter + ${this.activeRouter.name}`;\n    return res;\n  }\n  get activeRouter() {\n    if (this.#routes || this.#routers.length !== 1) {\n      throw new Error(\"No active router has been determined yet.\");\n    }\n    return this.#routers[0];\n  }\n};\nexport {\n  SmartRouter\n};\n", "// src/router/trie-router/node.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nimport { getPattern, splitPath, splitRoutingPath } from \"../../utils/url.js\";\nvar emptyParams = /* @__PURE__ */ Object.create(null);\nvar Node = class _Node {\n  #methods;\n  #children;\n  #patterns;\n  #order = 0;\n  #params = emptyParams;\n  constructor(method, handler, children) {\n    this.#children = children || /* @__PURE__ */ Object.create(null);\n    this.#methods = [];\n    if (method && handler) {\n      const m = /* @__PURE__ */ Object.create(null);\n      m[method] = { handler, possibleKeys: [], score: 0 };\n      this.#methods = [m];\n    }\n    this.#patterns = [];\n  }\n  insert(method, path, handler) {\n    this.#order = ++this.#order;\n    let curNode = this;\n    const parts = splitRoutingPath(path);\n    const possibleKeys = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const p = parts[i];\n      const nextP = parts[i + 1];\n      const pattern = getPattern(p, nextP);\n      const key = Array.isArray(pattern) ? pattern[0] : p;\n      if (key in curNode.#children) {\n        curNode = curNode.#children[key];\n        if (pattern) {\n          possibleKeys.push(pattern[1]);\n        }\n        continue;\n      }\n      curNode.#children[key] = new _Node();\n      if (pattern) {\n        curNode.#patterns.push(pattern);\n        possibleKeys.push(pattern[1]);\n      }\n      curNode = curNode.#children[key];\n    }\n    curNode.#methods.push({\n      [method]: {\n        handler,\n        possibleKeys: possibleKeys.filter((v, i, a) => a.indexOf(v) === i),\n        score: this.#order\n      }\n    });\n    return curNode;\n  }\n  #getHandlerSets(node, method, nodeParams, params) {\n    const handlerSets = [];\n    for (let i = 0, len = node.#methods.length; i < len; i++) {\n      const m = node.#methods[i];\n      const handlerSet = m[method] || m[METHOD_NAME_ALL];\n      const processedSet = {};\n      if (handlerSet !== void 0) {\n        handlerSet.params = /* @__PURE__ */ Object.create(null);\n        handlerSets.push(handlerSet);\n        if (nodeParams !== emptyParams || params && params !== emptyParams) {\n          for (let i2 = 0, len2 = handlerSet.possibleKeys.length; i2 < len2; i2++) {\n            const key = handlerSet.possibleKeys[i2];\n            const processed = processedSet[handlerSet.score];\n            handlerSet.params[key] = params?.[key] && !processed ? params[key] : nodeParams[key] ?? params?.[key];\n            processedSet[handlerSet.score] = true;\n          }\n        }\n      }\n    }\n    return handlerSets;\n  }\n  search(method, path) {\n    const handlerSets = [];\n    this.#params = emptyParams;\n    const curNode = this;\n    let curNodes = [curNode];\n    const parts = splitPath(path);\n    const curNodesQueue = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const part = parts[i];\n      const isLast = i === len - 1;\n      const tempNodes = [];\n      for (let j = 0, len2 = curNodes.length; j < len2; j++) {\n        const node = curNodes[j];\n        const nextNode = node.#children[part];\n        if (nextNode) {\n          nextNode.#params = node.#params;\n          if (isLast) {\n            if (nextNode.#children[\"*\"]) {\n              handlerSets.push(\n                ...this.#getHandlerSets(nextNode.#children[\"*\"], method, node.#params)\n              );\n            }\n            handlerSets.push(...this.#getHandlerSets(nextNode, method, node.#params));\n          } else {\n            tempNodes.push(nextNode);\n          }\n        }\n        for (let k = 0, len3 = node.#patterns.length; k < len3; k++) {\n          const pattern = node.#patterns[k];\n          const params = node.#params === emptyParams ? {} : { ...node.#params };\n          if (pattern === \"*\") {\n            const astNode = node.#children[\"*\"];\n            if (astNode) {\n              handlerSets.push(...this.#getHandlerSets(astNode, method, node.#params));\n              astNode.#params = params;\n              tempNodes.push(astNode);\n            }\n            continue;\n          }\n          const [key, name, matcher] = pattern;\n          if (!part && !(matcher instanceof RegExp)) {\n            continue;\n          }\n          const child = node.#children[key];\n          const restPathString = parts.slice(i).join(\"/\");\n          if (matcher instanceof RegExp) {\n            const m = matcher.exec(restPathString);\n            if (m) {\n              params[name] = m[0];\n              handlerSets.push(...this.#getHandlerSets(child, method, node.#params, params));\n              if (Object.keys(child.#children).length) {\n                child.#params = params;\n                const componentCount = m[0].match(/\\//)?.length ?? 0;\n                const targetCurNodes = curNodesQueue[componentCount] ||= [];\n                targetCurNodes.push(child);\n              }\n              continue;\n            }\n          }\n          if (matcher === true || matcher.test(part)) {\n            params[name] = part;\n            if (isLast) {\n              handlerSets.push(...this.#getHandlerSets(child, method, params, node.#params));\n              if (child.#children[\"*\"]) {\n                handlerSets.push(\n                  ...this.#getHandlerSets(child.#children[\"*\"], method, params, node.#params)\n                );\n              }\n            } else {\n              child.#params = params;\n              tempNodes.push(child);\n            }\n          }\n        }\n      }\n      curNodes = tempNodes.concat(curNodesQueue.shift() ?? []);\n    }\n    if (handlerSets.length > 1) {\n      handlerSets.sort((a, b) => {\n        return a.score - b.score;\n      });\n    }\n    return [handlerSets.map(({ handler, params }) => [handler, params])];\n  }\n};\nexport {\n  Node\n};\n", "// src/router/trie-router/router.ts\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { Node } from \"./node.js\";\nvar TrieRouter = class {\n  name = \"TrieRouter\";\n  #node;\n  constructor() {\n    this.#node = new Node();\n  }\n  add(method, path, handler) {\n    const results = checkOptionalParameter(path);\n    if (results) {\n      for (let i = 0, len = results.length; i < len; i++) {\n        this.#node.insert(method, results[i], handler);\n      }\n      return;\n    }\n    this.#node.insert(method, path, handler);\n  }\n  match(method, path) {\n    return this.#node.search(method, path);\n  }\n};\nexport {\n  TrieRouter\n};\n", "// src/hono.ts\nimport { HonoBase } from \"./hono-base.js\";\nimport { RegExpRouter } from \"./router/reg-exp-router/index.js\";\nimport { SmartRouter } from \"./router/smart-router/index.js\";\nimport { TrieRouter } from \"./router/trie-router/index.js\";\nvar Hono = class extends HonoBase {\n  /**\n   * Creates an instance of the Hono class.\n   *\n   * @param options - Optional configuration options for the Hono instance.\n   */\n  constructor(options = {}) {\n    super(options);\n    this.router = options.router ?? new SmartRouter({\n      routers: [new RegExpRouter(), new TrieRouter()]\n    });\n  }\n};\nexport {\n  Hono\n};\n", "// src/middleware/cors/index.ts\nvar cors = (options) => {\n  const defaults = {\n    origin: \"*\",\n    allowMethods: [\"GET\", \"HEAD\", \"PUT\", \"POST\", \"DELETE\", \"PATCH\"],\n    allowHeaders: [],\n    exposeHeaders: []\n  };\n  const opts = {\n    ...defaults,\n    ...options\n  };\n  const findAllowOrigin = ((optsOrigin) => {\n    if (typeof optsOrigin === \"string\") {\n      if (optsOrigin === \"*\") {\n        return () => optsOrigin;\n      } else {\n        return (origin) => optsOrigin === origin ? origin : null;\n      }\n    } else if (typeof optsOrigin === \"function\") {\n      return optsOrigin;\n    } else {\n      return (origin) => optsOrigin.includes(origin) ? origin : null;\n    }\n  })(opts.origin);\n  const findAllowMethods = ((optsAllowMethods) => {\n    if (typeof optsAllowMethods === \"function\") {\n      return optsAllowMethods;\n    } else if (Array.isArray(optsAllowMethods)) {\n      return () => optsAllowMethods;\n    } else {\n      return () => [];\n    }\n  })(opts.allowMethods);\n  return async function cors2(c, next) {\n    function set(key, value) {\n      c.res.headers.set(key, value);\n    }\n    const allowOrigin = await findAllowOrigin(c.req.header(\"origin\") || \"\", c);\n    if (allowOrigin) {\n      set(\"Access-Control-Allow-Origin\", allowOrigin);\n    }\n    if (opts.credentials) {\n      set(\"Access-Control-Allow-Credentials\", \"true\");\n    }\n    if (opts.exposeHeaders?.length) {\n      set(\"Access-Control-Expose-Headers\", opts.exposeHeaders.join(\",\"));\n    }\n    if (c.req.method === \"OPTIONS\") {\n      if (opts.origin !== \"*\") {\n        set(\"Vary\", \"Origin\");\n      }\n      if (opts.maxAge != null) {\n        set(\"Access-Control-Max-Age\", opts.maxAge.toString());\n      }\n      const allowMethods = await findAllowMethods(c.req.header(\"origin\") || \"\", c);\n      if (allowMethods.length) {\n        set(\"Access-Control-Allow-Methods\", allowMethods.join(\",\"));\n      }\n      let headers = opts.allowHeaders;\n      if (!headers?.length) {\n        const requestHeaders = c.req.header(\"Access-Control-Request-Headers\");\n        if (requestHeaders) {\n          headers = requestHeaders.split(/\\s*,\\s*/);\n        }\n      }\n      if (headers?.length) {\n        set(\"Access-Control-Allow-Headers\", headers.join(\",\"));\n        c.res.headers.append(\"Vary\", \"Access-Control-Request-Headers\");\n      }\n      c.res.headers.delete(\"Content-Length\");\n      c.res.headers.delete(\"Content-Type\");\n      return new Response(null, {\n        headers: c.res.headers,\n        status: 204,\n        statusText: \"No Content\"\n      });\n    }\n    await next();\n    if (opts.origin !== \"*\") {\n      c.header(\"Vary\", \"Origin\", { append: true });\n    }\n  };\n};\nexport {\n  cors\n};\n", "export const homePage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0645\u0646\u0635\u0629 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n</head>\r\n<body class=\"bg-gradient-to-br from-blue-50 via-white to-purple-50 min-h-screen\">\r\n    <div class=\"container mx-auto px-4 py-12\">\r\n        <div class=\"max-w-6xl mx-auto\">\r\n            <!-- Header -->\r\n            <div class=\"text-center mb-12\">\r\n                <i class=\"fas fa-calculator text-6xl text-blue-600 mb-4\"></i>\r\n                <h1 class=\"text-5xl font-bold text-gray-800 mb-4\">\u0645\u0646\u0635\u0629 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</h1>\r\n                <p class=\"text-xl text-gray-600\">\u0646\u0638\u0627\u0645 \u0634\u0627\u0645\u0644 \u0644\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0648\u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0648\u0627\u0644\u0628\u0646\u0648\u0643</p>\r\n            </div>\r\n            \r\n            <!-- Main Links -->\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12 max-w-4xl mx-auto\">\r\n                <a href=\"/calculator\" class=\"block bg-gradient-to-br from-blue-500 to-blue-700 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition transform hover:scale-105\">\r\n                    <i class=\"fas fa-calculator text-5xl mb-4\"></i>\r\n                    <h2 class=\"text-2xl font-bold mb-2\">\u0627\u0644\u062D\u0627\u0633\u0628\u0629</h2>\r\n                    <p class=\"text-blue-100\">\u0627\u062D\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0645\u0646\u0627\u0633\u0628 \u0644\u0643</p>\r\n                </a>\r\n                \r\n                <a href=\"/login\" class=\"block bg-gradient-to-br from-green-500 to-green-700 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition transform hover:scale-105\">\r\n                    <i class=\"fas fa-sign-in-alt text-5xl mb-4\"></i>\r\n                    <h2 class=\"text-2xl font-bold mb-2\">\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644</h2>\r\n                    <p class=\"text-green-100\">\u062F\u062E\u0648\u0644 \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646</p>\r\n                </a>\r\n            </div>\r\n            \r\n            <!-- Features -->\r\n            <div class=\"bg-white rounded-2xl shadow-xl p-8\">\r\n                <h3 class=\"text-2xl font-bold mb-6 text-gray-800\">\r\n                    <i class=\"fas fa-star text-yellow-500 ml-2\"></i>\r\n                    \u0645\u0645\u064A\u0632\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645\r\n                </h3>\r\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div class=\"flex items-start\">\r\n                        <i class=\"fas fa-calculator text-blue-500 text-2xl ml-3 mt-1\"></i>\r\n                        <div>\r\n                            <h4 class=\"font-bold text-lg mb-1\">\u062D\u0627\u0633\u0628\u0629 \u062A\u0645\u0648\u064A\u0644 \u0645\u062A\u0642\u062F\u0645\u0629</h4>\r\n                            <p class=\"text-gray-600\">\u062D\u0633\u0627\u0628 \u062F\u0642\u064A\u0642 \u0644\u062C\u0645\u064A\u0639 \u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex items-start\">\r\n                        <i class=\"fas fa-university text-green-500 text-2xl ml-3 mt-1\"></i>\r\n                        <div>\r\n                            <h4 class=\"font-bold text-lg mb-1\">\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0628\u0646\u0648\u0643 \u0648\u0627\u0644\u0646\u0633\u0628</h4>\r\n                            <p class=\"text-gray-600\">\u062A\u062D\u062F\u064A\u062B \u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0644\u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u0646\u0648\u0643</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex items-start\">\r\n                        <i class=\"fas fa-users text-purple-500 text-2xl ml-3 mt-1\"></i>\r\n                        <div>\r\n                            <h4 class=\"font-bold text-lg mb-1\">\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</h4>\r\n                            <p class=\"text-gray-600\">\u0646\u0638\u0627\u0645 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0643\u0627\u0645\u0644</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex items-start\">\r\n                        <i class=\"fas fa-file-invoice-dollar text-orange-500 text-2xl ml-3 mt-1\"></i>\r\n                        <div>\r\n                            <h4 class=\"font-bold text-lg mb-1\">\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A</h4>\r\n                            <p class=\"text-gray-600\">\u0628\u0627\u0642\u0627\u062A \u0645\u0631\u0646\u0629 \u0644\u0644\u0634\u0631\u0643\u0627\u062A</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script>\r\n        // Load unread notifications count\r\n        async function loadUnreadCount() {\r\n            try {\r\n                const response = await axios.get('/api/notifications/unread-count');\r\n                if (response.data.success && response.data.count > 0) {\r\n                    const badge = document.getElementById('notif-badge');\r\n                    badge.textContent = response.data.count;\r\n                    badge.classList.remove('hidden');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading unread count:', error);\r\n            }\r\n        }\r\n        \r\n        loadUnreadCount();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const calculatorPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n</head>\r\n<body class=\"bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen\">\r\n    <!-- Header -->\r\n    <nav class=\"bg-white shadow-lg\">\r\n        <div class=\"container mx-auto px-4 py-4\">\r\n            <div class=\"flex justify-between items-center\">\r\n                <a href=\"/\" class=\"text-2xl font-bold text-blue-600\">\r\n                    <i class=\"fas fa-calculator ml-2\"></i>\r\n                    \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n                </a>\r\n                <div class=\"space-x-reverse space-x-4\">\r\n                    <a href=\"/\" class=\"text-gray-700 hover:text-blue-600\">\r\n                        <i class=\"fas fa-home ml-1\"></i>\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n                    </a>\r\n                    <a href=\"/admin\" class=\"text-gray-700 hover:text-blue-600\">\r\n                        <i class=\"fas fa-user-shield ml-1\"></i>\u0627\u0644\u0625\u062F\u0627\u0631\u0629\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    <div class=\"container mx-auto px-4 py-8\">\r\n        <div class=\"max-w-6xl mx-auto\">\r\n            <!-- Calculator Form -->\r\n            <div class=\"bg-white rounded-2xl shadow-xl p-8 mb-8\">\r\n                <h2 class=\"text-3xl font-bold mb-6 text-gray-800\">\r\n                    <i class=\"fas fa-calculator text-blue-600 ml-2\"></i>\r\n                    \u0627\u062D\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0645\u0646\u0627\u0633\u0628 \u0644\u0643\r\n                </h2>\r\n                \r\n                <form id=\"calculatorForm\" class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <!-- \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</label>\r\n                        <select id=\"financingType\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                            <option value=\"\">\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</option>\r\n                        </select>\r\n                    </div>\r\n                    \r\n                    <!-- \u0627\u0644\u0628\u0646\u0643 -->\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\u0627\u0644\u0628\u0646\u0643</label>\r\n                        <select id=\"bank\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                            <option value=\"\">\u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0646\u0643</option>\r\n                        </select>\r\n                    </div>\r\n                    \r\n                    <!-- \u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 (\u0631\u064A\u0627\u0644)</label>\r\n                        <input type=\"number\" id=\"amount\" required min=\"10000\" step=\"1000\" \r\n                               class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                               placeholder=\"\u0645\u062B\u0627\u0644: 100000\">\r\n                    </div>\r\n                    \r\n                    <!-- \u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 (\u0634\u0647\u0631)</label>\r\n                        <input type=\"number\" id=\"duration\" required min=\"12\" max=\"360\" \r\n                               class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                               placeholder=\"\u0645\u062B\u0627\u0644: 60\">\r\n                    </div>\r\n                    \r\n                    <!-- \u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A -->\r\n                    <div class=\"md:col-span-2\">\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A (\u0631\u064A\u0627\u0644)</label>\r\n                        <input type=\"number\" id=\"salary\" required min=\"3000\" step=\"100\"\r\n                               class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                               placeholder=\"\u0645\u062B\u0627\u0644: 10000\">\r\n                    </div>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u062D\u0633\u0627\u0628 -->\r\n                    <div class=\"md:col-span-2\">\r\n                        <button type=\"submit\" class=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-xl transition transform hover:scale-105\">\r\n                            <i class=\"fas fa-calculator ml-2\"></i>\r\n                            \u0627\u062D\u0633\u0628 \u0627\u0644\u0622\u0646\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            \r\n            <!-- Results -->\r\n            <div id=\"results\" class=\"hidden\">\r\n                <div class=\"bg-gradient-to-br from-green-50 to-blue-50 rounded-2xl shadow-xl p-8\">\r\n                    <h3 class=\"text-2xl font-bold mb-6 text-gray-800\">\r\n                        <i class=\"fas fa-check-circle text-green-600 ml-2\"></i>\r\n                        \u0646\u062A\u064A\u062C\u0629 \u0627\u0644\u062D\u0633\u0627\u0628\r\n                    </h3>\r\n                    \r\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n                        <div class=\"bg-white rounded-xl p-6 shadow-lg\">\r\n                            <div class=\"text-gray-600 text-sm mb-1\">\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A</div>\r\n                            <div class=\"text-3xl font-bold text-blue-600\" id=\"monthlyPayment\">0</div>\r\n                            <div class=\"text-gray-500 text-sm mt-1\">\u0631\u064A\u0627\u0644</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"bg-white rounded-xl p-6 shadow-lg\">\r\n                            <div class=\"text-gray-600 text-sm mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A</div>\r\n                            <div class=\"text-3xl font-bold text-purple-600\" id=\"totalPayment\">0</div>\r\n                            <div class=\"text-gray-500 text-sm mt-1\">\u0631\u064A\u0627\u0644</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"bg-white rounded-xl p-6 shadow-lg\">\r\n                            <div class=\"text-gray-600 text-sm mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0641\u0627\u0626\u062F\u0629</div>\r\n                            <div class=\"text-3xl font-bold text-orange-600\" id=\"totalInterest\">0</div>\r\n                            <div class=\"text-gray-500 text-sm mt-1\">\u0631\u064A\u0627\u0644</div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-white rounded-xl p-6 shadow-lg\">\r\n                        <h4 class=\"font-bold text-lg mb-3\">\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062D\u0633\u0627\u0628</h4>\r\n                        <div class=\"grid grid-cols-2 gap-4 text-sm\">\r\n                            <div>\r\n                                <span class=\"text-gray-600\">\u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644:</span>\r\n                                <span class=\"font-bold mr-2\" id=\"detailAmount\">0</span> \u0631\u064A\u0627\u0644\r\n                            </div>\r\n                            <div>\r\n                                <span class=\"text-gray-600\">\u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644:</span>\r\n                                <span class=\"font-bold mr-2\" id=\"detailDuration\">0</span> \u0634\u0647\u0631\r\n                            </div>\r\n                            <div>\r\n                                <span class=\"text-gray-600\">\u0646\u0633\u0628\u0629 \u0627\u0644\u0641\u0627\u0626\u062F\u0629:</span>\r\n                                <span class=\"font-bold mr-2\" id=\"detailRate\">0</span>%\r\n                            </div>\r\n                            <div>\r\n                                <span class=\"text-gray-600\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A:</span>\r\n                                <span class=\"font-bold mr-2\" id=\"detailSalary\">0</span> \u0631\u064A\u0627\u0644\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        let banks = [];\r\n        let financingTypes = [];\r\n        \r\n        // Load data\r\n        async function loadData() {\r\n            try {\r\n                const [banksRes, typesRes] = await Promise.all([\r\n                    axios.get('/api/banks'),\r\n                    axios.get('/api/financing-types')\r\n                ]);\r\n                \r\n                banks = banksRes.data.data;\r\n                financingTypes = typesRes.data.data;\r\n                \r\n                // Populate selects\r\n                const bankSelect = document.getElementById('bank');\r\n                banks.forEach(bank => {\r\n                    const option = document.createElement('option');\r\n                    option.value = bank.id;\r\n                    option.textContent = bank.bank_name;\r\n                    bankSelect.appendChild(option);\r\n                });\r\n                \r\n                const typeSelect = document.getElementById('financingType');\r\n                financingTypes.forEach(type => {\r\n                    const option = document.createElement('option');\r\n                    option.value = type.id;\r\n                    option.textContent = type.type_name;\r\n                    typeSelect.appendChild(option);\r\n                });\r\n            } catch (error) {\r\n                console.error('Error loading data:', error);\r\n                alert('\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A');\r\n            }\r\n        }\r\n        \r\n        // Calculate\r\n        document.getElementById('calculatorForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            \r\n            const amount = parseFloat(document.getElementById('amount').value);\r\n            const duration = parseInt(document.getElementById('duration').value);\r\n            const salary = parseFloat(document.getElementById('salary').value);\r\n            const bankId = parseInt(document.getElementById('bank').value);\r\n            const financingTypeId = parseInt(document.getElementById('financingType').value);\r\n            \r\n            try {\r\n                const response = await axios.post('/api/calculate', {\r\n                    amount,\r\n                    duration_months: duration,\r\n                    salary,\r\n                    bank_id: bankId,\r\n                    financing_type_id: financingTypeId\r\n                });\r\n                \r\n                if (response.data.success) {\r\n                    const result = response.data.data;\r\n                    \r\n                    // Display results\r\n                    document.getElementById('monthlyPayment').textContent = result.monthly_payment.toLocaleString('ar-SA');\r\n                    document.getElementById('totalPayment').textContent = result.total_payment.toLocaleString('ar-SA');\r\n                    document.getElementById('totalInterest').textContent = result.total_interest.toLocaleString('ar-SA');\r\n                    document.getElementById('detailAmount').textContent = amount.toLocaleString('ar-SA');\r\n                    document.getElementById('detailDuration').textContent = duration;\r\n                    document.getElementById('detailRate').textContent = result.rate;\r\n                    document.getElementById('detailSalary').textContent = salary.toLocaleString('ar-SA');\r\n                    \r\n                    document.getElementById('results').classList.remove('hidden');\r\n                    document.getElementById('results').scrollIntoView({ behavior: 'smooth' });\r\n                } else {\r\n                    alert(response.data.error || '\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062D\u0633\u0627\u0628');\r\n                }\r\n            } catch (error) {\r\n                console.error('Calculation error:', error);\r\n                alert('\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062D\u0633\u0627\u0628. \u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062F\u062E\u0644\u0629.');\r\n            }\r\n        });\r\n        \r\n        // Load data on page load\r\n        loadData();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const smartCalculator = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0630\u0643\u064A\u0629</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <style>\r\n        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); overflow-y: auto; }\r\n        .modal.active { display: flex; align-items: center; justify-content: center; }\r\n        .best-offer { border: 3px solid #10B981; background: linear-gradient(135deg, #ECFDF5 0%, #D1FAE5 100%); }\r\n        .bank-card { transition: all 0.3s; cursor: pointer; }\r\n        .bank-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.2); }\r\n        .qualification-badge { \r\n            display: inline-block; \r\n            padding: 8px 20px; \r\n            border-radius: 50px; \r\n            font-weight: bold; \r\n            font-size: 1.1rem;\r\n        }\r\n        .qualified { background: linear-gradient(135deg, #10B981, #059669); color: white; }\r\n        .not-qualified { background: linear-gradient(135deg, #EF4444, #DC2626); color: white; }\r\n        \r\n        /* Mobile Responsive Styles */\r\n        @media (max-width: 768px) {\r\n            /* Adjust padding and margins */\r\n            .container { padding-left: 1rem; padding-right: 1rem; }\r\n            .px-8 { padding-left: 1rem; padding-right: 1rem; }\r\n            .py-12 { padding-top: 2rem; padding-bottom: 2rem; }\r\n            \r\n            /* Make grid single column */\r\n            .grid-cols-2 { grid-template-columns: repeat(1, minmax(0, 1fr)); }\r\n            .grid-cols-3 { grid-template-columns: repeat(1, minmax(0, 1fr)); }\r\n            \r\n            /* Adjust font sizes */\r\n            .text-4xl { font-size: 1.75rem; }\r\n            .text-3xl { font-size: 1.5rem; }\r\n            .text-2xl { font-size: 1.25rem; }\r\n            \r\n            /* Make modals full screen */\r\n            .modal > div {\r\n                width: 95% !important;\r\n                max-width: 95% !important;\r\n                margin: 1rem !important;\r\n                max-height: 90vh !important;\r\n                overflow-y: auto !important;\r\n            }\r\n            \r\n            /* Adjust input sizes */\r\n            input, select, button {\r\n                font-size: 16px !important; /* Prevent zoom on iOS */\r\n                padding: 0.75rem !important;\r\n            }\r\n            \r\n            /* Stack bank cards vertically */\r\n            .bank-card {\r\n                margin-bottom: 1rem;\r\n            }\r\n            \r\n            /* Adjust button sizes */\r\n            button {\r\n                padding: 0.75rem 1.5rem !important;\r\n                width: 100%;\r\n                margin-bottom: 0.5rem;\r\n            }\r\n            \r\n            /* Hide decorative elements on mobile */\r\n            .absolute.top-0.left-0 { display: none; }\r\n            .absolute.bottom-0.right-0 { display: none; }\r\n        }\r\n        \r\n        /* Print styles */\r\n        @media print {\r\n            body { background: white; }\r\n            nav, .modal, button { display: none !important; }\r\n            #step1 { display: none !important; }\r\n            #resultsSection { display: block !important; }\r\n            .bank-card { break-inside: avoid; }\r\n            @page { margin: 1cm; }\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen\">\r\n    <!-- Header -->\r\n    <nav class=\"bg-white shadow-lg\">\r\n        <div class=\"container mx-auto px-4 py-4\">\r\n            <div class=\"flex justify-between items-center\">\r\n                <a href=\"/\" class=\"text-2xl font-bold text-blue-600\">\r\n                    <i class=\"fas fa-calculator ml-2\"></i>\r\n                    \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0630\u0643\u064A\u0629\r\n                </a>\r\n                <div class=\"flex items-center space-x-reverse space-x-4\">\r\n                    <a href=\"/packages\" class=\"text-gray-700 hover:text-blue-600 transition-colors\">\r\n                        <i class=\"fas fa-box ml-1\"></i>\u0627\u0644\u0628\u0627\u0642\u0627\u062A\r\n                    </a>\r\n                    <a href=\"/login\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors\">\r\n                        <i class=\"fas fa-sign-in-alt ml-1\"></i>\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644\r\n                    </a>\r\n                    <a href=\"/subscribe\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-colors\">\r\n                        <i class=\"fas fa-rocket ml-1\"></i>\u0627\u0634\u062A\u0631\u0643 \u0627\u0644\u0622\u0646\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    <div class=\"container mx-auto px-4 py-8\">\r\n        <div class=\"max-w-4xl mx-auto\">\r\n            <!-- Step 1: Main Calculator Form -->\r\n            <div id=\"step1\" class=\"bg-white rounded-2xl shadow-2xl p-8 mb-8\">\r\n                <div class=\"text-center mb-8\">\r\n                    <div class=\"inline-block bg-blue-100 rounded-full p-4 mb-4\">\r\n                        <i class=\"fas fa-calculator text-4xl text-blue-600\"></i>\r\n                    </div>\r\n                    <h2 class=\"text-3xl font-bold text-gray-800 mb-2\">\u0627\u062D\u0633\u0628 \u0623\u0641\u0636\u0644 \u0639\u0631\u0636 \u062A\u0645\u0648\u064A\u0644</h2>\r\n                    <p class=\"text-gray-600\">\u0633\u0646\u0642\u0627\u0631\u0646 \u0644\u0643 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u0646\u0648\u0643 \u0648\u0646\u062E\u062A\u0627\u0631 \u0627\u0644\u0623\u0641\u0636\u0644</p>\r\n                </div>\r\n                \r\n                <form id=\"calculatorForm\" class=\"space-y-6\">\r\n                    <!-- \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-hand-holding-usd text-blue-600 ml-2\"></i>\r\n                            \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n                        </label>\r\n                        <select id=\"financingType\" required class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\r\n                            <option value=\"\">\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</option>\r\n                        </select>\r\n                    </div>\r\n                    \r\n                    <!-- \u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-money-bill-wave text-green-600 ml-2\"></i>\r\n                            \u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 (\u0631\u064A\u0627\u0644)\r\n                        </label>\r\n                        <input type=\"number\" id=\"amount\" required min=\"10000\" step=\"1000\" \r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                               placeholder=\"\u0645\u062B\u0627\u0644: 100000\">\r\n                        <p class=\"text-sm text-gray-500 mt-1\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649: 10,000 \u0631\u064A\u0627\u0644</p>\r\n                    </div>\r\n                    \r\n                    <!-- \u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A -->\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-wallet text-purple-600 ml-2\"></i>\r\n                            \u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A (\u0631\u064A\u0627\u0644)\r\n                        </label>\r\n                        <input type=\"number\" id=\"salary\" required min=\"3000\" step=\"100\"\r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                               placeholder=\"\u0645\u062B\u0627\u0644: 10000\">\r\n                        <p class=\"text-sm text-gray-500 mt-1\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649: 3,000 \u0631\u064A\u0627\u0644</p>\r\n                    </div>\r\n                    \r\n                    <!-- \u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629 -->\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-credit-card text-red-600 ml-2\"></i>\r\n                            \u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629 (\u0631\u064A\u0627\u0644)\r\n                        </label>\r\n                        <input type=\"number\" id=\"obligations\" min=\"0\" step=\"100\" value=\"0\"\r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                               placeholder=\"\u0645\u062B\u0627\u0644: 2000\">\r\n                        <p class=\"text-sm text-gray-500 mt-1\">\u0623\u0642\u0633\u0627\u0637 \u0627\u0644\u0642\u0631\u0648\u0636 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0623\u0648 \u0628\u0637\u0627\u0642\u0627\u062A \u0627\u0644\u0627\u0626\u062A\u0645\u0627\u0646</p>\r\n                    </div>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u062D\u0633\u0627\u0628 -->\r\n                    <button type=\"submit\" class=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-lg font-bold text-xl hover:shadow-xl transition transform hover:scale-105\">\r\n                        <i class=\"fas fa-calculator ml-2\"></i>\r\n                        \u0627\u062D\u0633\u0628 \u0623\u0641\u0636\u0644 \u0639\u0631\u0636\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Modal: Customer Info -->\r\n    <div id=\"customerModal\" class=\"modal\">\r\n        <div class=\"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4\">\r\n            <div class=\"text-center mb-6\">\r\n                <div class=\"inline-block bg-green-100 rounded-full p-4 mb-4\">\r\n                    <i class=\"fas fa-user-check text-4xl text-green-600\"></i>\r\n                </div>\r\n                <h3 class=\"text-2xl font-bold text-gray-800 mb-2\">\u0645\u0639\u0644\u0648\u0645\u0627\u062A\u0643 \u0627\u0644\u0634\u062E\u0635\u064A\u0629</h3>\r\n                <p class=\"text-gray-600\">\u0644\u0646\u062C\u062F \u0644\u0643 \u0623\u0641\u0636\u0644 \u0639\u0631\u0636 \u0645\u062E\u0635\u0635</p>\r\n            </div>\r\n            \r\n            <form id=\"customerForm\" class=\"space-y-4\">\r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-user text-blue-600 ml-2\"></i>\r\n                        \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644\r\n                    </label>\r\n                    <input type=\"text\" id=\"customerName\" required \r\n                           class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                           placeholder=\"\u0645\u062B\u0627\u0644: \u0645\u062D\u0645\u062F \u0623\u062D\u0645\u062F \u0627\u0644\u0633\u0639\u064A\u062F\">\r\n                </div>\r\n                \r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-phone text-green-600 ml-2\"></i>\r\n                        \u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644\r\n                    </label>\r\n                    <input type=\"tel\" id=\"customerPhone\" required pattern=\"05[0-9]{8}\"\r\n                           class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                           placeholder=\"\u0645\u062B\u0627\u0644: 0512345678\">\r\n                    <p class=\"text-sm text-gray-500 mt-1\">\u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 05 \u0648\u064A\u062A\u0643\u0648\u0646 \u0645\u0646 10 \u0623\u0631\u0642\u0627\u0645</p>\r\n                </div>\r\n                \r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-calendar text-purple-600 ml-2\"></i>\r\n                        \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F\r\n                    </label>\r\n                    <input type=\"date\" id=\"customerBirthdate\" required max=\"2006-12-31\"\r\n                           class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    <p class=\"text-sm text-gray-500 mt-1\">\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0639\u0645\u0631\u0643 18 \u0633\u0646\u0629 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644</p>\r\n                </div>\r\n                \r\n                <div class=\"flex space-x-reverse space-x-3 mt-6\">\r\n                    <button type=\"button\" onclick=\"closeModal()\" class=\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 py-3 rounded-lg font-bold\">\r\n                        \u0625\u0644\u063A\u0627\u0621\r\n                    </button>\r\n                    <button type=\"submit\" class=\"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-search ml-2\"></i>\r\n                        \u0627\u0628\u062D\u062B \u0639\u0646 \u0623\u0641\u0636\u0644 \u0639\u0631\u0636\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Modal: Complete Request Form -->\r\n    <div id=\"completeRequestModal\" class=\"modal\">\r\n        <div class=\"bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full mx-4 my-8\">\r\n            <div class=\"text-center mb-6\">\r\n                <div class=\"inline-block bg-blue-100 rounded-full p-4 mb-4\">\r\n                    <i class=\"fas fa-file-alt text-4xl text-blue-600\"></i>\r\n                </div>\r\n                <h3 class=\"text-2xl font-bold text-gray-800 mb-2\">\u0625\u0643\u0645\u0627\u0644 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</h3>\r\n                <p class=\"text-gray-600\">\u0627\u0645\u0644\u0623 \u0628\u064A\u0627\u0646\u0627\u062A\u0643 \u0627\u0644\u0643\u0627\u0645\u0644\u0629 \u0644\u0625\u062A\u0645\u0627\u0645 \u0627\u0644\u0637\u0644\u0628</p>\r\n            </div>\r\n            \r\n            <form id=\"completeRequestForm\" class=\"space-y-4\">\r\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-user text-blue-600 ml-2\"></i>\r\n                            \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644\r\n                        </label>\r\n                        <input type=\"text\" id=\"fullName\" required \r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-phone text-green-600 ml-2\"></i>\r\n                            \u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644\r\n                        </label>\r\n                        <input type=\"tel\" id=\"fullPhone\" required \r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-envelope text-purple-600 ml-2\"></i>\r\n                            \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\r\n                        </label>\r\n                        <input type=\"email\" id=\"email\" \r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-id-card text-orange-600 ml-2\"></i>\r\n                            \u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629\r\n                        </label>\r\n                        <input type=\"text\" id=\"nationalId\" required \r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-building text-indigo-600 ml-2\"></i>\r\n                            \u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644\r\n                        </label>\r\n                        <input type=\"text\" id=\"employer\" required \r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-briefcase text-pink-600 ml-2\"></i>\r\n                            \u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A\r\n                        </label>\r\n                        <input type=\"text\" id=\"jobTitle\" required \r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-calendar-alt text-teal-600 ml-2\"></i>\r\n                            \u062A\u0627\u0631\u064A\u062E \u0628\u062F\u0627\u064A\u0629 \u0627\u0644\u0639\u0645\u0644\r\n                        </label>\r\n                        <input type=\"date\" id=\"workStartDate\" required \r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-home text-red-600 ml-2\"></i>\r\n                            \u0627\u0644\u0645\u062F\u064A\u0646\u0629\r\n                        </label>\r\n                        <input type=\"text\" id=\"city\" required \r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    </div>\r\n                </div>\r\n                \r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-comment text-gray-600 ml-2\"></i>\r\n                        \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\r\n                    </label>\r\n                    <textarea id=\"notes\" rows=\"3\"\r\n                              class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"></textarea>\r\n                </div>\r\n                \r\n                <!-- File Attachments Section -->\r\n                <div class=\"border-t-2 border-gray-200 pt-6 mt-6\">\r\n                    <h4 class=\"text-lg font-bold text-gray-800 mb-4\">\r\n                        <i class=\"fas fa-paperclip text-blue-600 ml-2\"></i>\r\n                        \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\r\n                    </h4>\r\n                    \r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <!-- \u0627\u0644\u0647\u0648\u064A\u0629 -->\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-id-card text-blue-600 ml-2\"></i>\r\n                                \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629\r\n                            </label>\r\n                            <input type=\"file\" id=\"idAttachment\" accept=\"image/*,.pdf\" onchange=\"previewFile(this, 'idPreview')\"\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:ml-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\">\r\n                            <div id=\"idPreview\" class=\"mt-2\"></div>\r\n                            <p class=\"text-xs text-gray-500 mt-1\">\u0635\u064A\u063A\u0629 \u0627\u0644\u0645\u0644\u0641: \u0635\u0648\u0631\u0629 \u0623\u0648 PDF (\u062D\u062F \u0623\u0642\u0635\u0649: 5 \u0645\u064A\u063A\u0627\u0628\u0627\u064A\u062A)</p>\r\n                        </div>\r\n                        \r\n                        <!-- \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A -->\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-file-invoice text-green-600 ml-2\"></i>\r\n                                \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A (\u0622\u062E\u0631 3 \u0623\u0634\u0647\u0631)\r\n                            </label>\r\n                            <input type=\"file\" id=\"bankStatementAttachment\" accept=\"image/*,.pdf\" onchange=\"previewFile(this, 'bankStatementPreview')\"\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:ml-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100\">\r\n                            <div id=\"bankStatementPreview\" class=\"mt-2\"></div>\r\n                            <p class=\"text-xs text-gray-500 mt-1\">\u0635\u064A\u063A\u0629 \u0627\u0644\u0645\u0644\u0641: \u0635\u0648\u0631\u0629 \u0623\u0648 PDF (\u062D\u062F \u0623\u0642\u0635\u0649: 5 \u0645\u064A\u063A\u0627\u0628\u0627\u064A\u062A)</p>\r\n                        </div>\r\n                        \r\n                        <!-- \u062A\u0639\u0631\u064A\u0641 \u0628\u0627\u0644\u0631\u0627\u062A\u0628 -->\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-file-contract text-purple-600 ml-2\"></i>\r\n                                \u062A\u0639\u0631\u064A\u0641 \u0628\u0627\u0644\u0631\u0627\u062A\u0628\r\n                            </label>\r\n                            <input type=\"file\" id=\"salaryAttachment\" accept=\"image/*,.pdf\" onchange=\"previewFile(this, 'salaryPreview')\"\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:ml-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100\">\r\n                            <div id=\"salaryPreview\" class=\"mt-2\"></div>\r\n                            <p class=\"text-xs text-gray-500 mt-1\">\u0635\u064A\u063A\u0629 \u0627\u0644\u0645\u0644\u0641: \u0635\u0648\u0631\u0629 \u0623\u0648 PDF (\u062D\u062F \u0623\u0642\u0635\u0649: 5 \u0645\u064A\u063A\u0627\u0628\u0627\u064A\u062A)</p>\r\n                        </div>\r\n                        \r\n                        <!-- \u0645\u0631\u0641\u0642 \u0625\u0636\u0627\u0641\u064A -->\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-file text-orange-600 ml-2\"></i>\r\n                                \u0645\u0631\u0641\u0642 \u0625\u0636\u0627\u0641\u064A\r\n                            </label>\r\n                            <input type=\"file\" id=\"additionalAttachment\" accept=\"image/*,.pdf\" onchange=\"previewFile(this, 'additionalPreview')\"\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:ml-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100\">\r\n                            <div id=\"additionalPreview\" class=\"mt-2\"></div>\r\n                            <p class=\"text-xs text-gray-500 mt-1\">\u0635\u064A\u063A\u0629 \u0627\u0644\u0645\u0644\u0641: \u0635\u0648\u0631\u0629 \u0623\u0648 PDF (\u062D\u062F \u0623\u0642\u0635\u0649: 5 \u0645\u064A\u063A\u0627\u0628\u0627\u064A\u062A)</p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Progress bars container -->\r\n                    <div id=\"uploadProgress\" class=\"hidden mt-4 space-y-2\"></div>\r\n                    \r\n                    <div class=\"bg-blue-50 border-r-4 border-blue-500 p-4 mt-4 rounded\">\r\n                        <p class=\"text-sm text-blue-800\">\r\n                            <i class=\"fas fa-info-circle ml-2\"></i>\r\n                            <strong>\u0645\u0644\u0627\u062D\u0638\u0629:</strong> \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u062E\u062A\u064A\u0627\u0631\u064A\u0629\u060C \u0644\u0643\u0646 \u0625\u0631\u0641\u0627\u0642 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u064A\u0633\u0627\u0639\u062F \u0641\u064A \u062A\u0633\u0631\u064A\u0639 \u0645\u0639\u0627\u0644\u062C\u0629 \u0637\u0644\u0628\u0643\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"flex space-x-reverse space-x-3 mt-6\">\r\n                    <button type=\"button\" onclick=\"closeCompleteRequestModal()\" \r\n                            class=\"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 py-3 rounded-lg font-bold\">\r\n                        \u0625\u0644\u063A\u0627\u0621\r\n                    </button>\r\n                    <button type=\"submit\" \r\n                            class=\"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-paper-plane ml-2\"></i>\r\n                        \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Success Modal -->\r\n    <div id=\"successModal\" class=\"modal hidden\">\r\n        <div class=\"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4\">\r\n            <div class=\"text-center\">\r\n                <!-- Success Icon -->\r\n                <div class=\"inline-block bg-green-100 rounded-full p-6 mb-4\">\r\n                    <i class=\"fas fa-check-circle text-6xl text-green-600\"></i>\r\n                </div>\r\n                \r\n                <!-- Success Message -->\r\n                <h3 class=\"text-3xl font-bold text-gray-800 mb-3\">\uD83C\uDF89 \u062A\u0647\u0627\u0646\u064A\u0646\u0627!</h3>\r\n                <p class=\"text-xl text-gray-700 mb-2 font-semibold\">\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628\u0643 \u0628\u0646\u062C\u0627\u062D</p>\r\n                <p class=\"text-gray-600 mb-4\">\u0633\u064A\u062A\u0645 \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629 \u0645\u0646 \u0634\u0631\u0643\u0629 <span id=\"companyNameInSuccess\" class=\"font-bold text-blue-600\"></span></p>\r\n                <p class=\"text-gray-600 mb-6\">\u0648\u0633\u0648\u0641 \u064A\u062A\u0645 \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0642\u0631\u064A\u0628\u0627\u064B</p>\r\n                \r\n                <!-- Attachments Count -->\r\n                <div id=\"attachmentsCount\" class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 hidden\">\r\n                    <i class=\"fas fa-paperclip text-blue-600 ml-2\"></i>\r\n                    <span class=\"text-blue-800 font-medium\">\u062A\u0645 \u0631\u0641\u0639 <span id=\"attachmentNumber\"></span> \u0645\u0631\u0641\u0642(\u0627\u062A) \u0628\u0646\u062C\u0627\u062D</span>\r\n                </div>\r\n                \r\n                <!-- Auto close message -->\r\n                <p class=\"text-sm text-gray-500\">\r\n                    <i class=\"fas fa-info-circle ml-1\"></i>\r\n                    \u0633\u064A\u062A\u0645 \u0625\u063A\u0644\u0627\u0642 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0628\u0639\u062F 3 \u062B\u0648\u0627\u0646\u064D\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Error Modal -->\r\n    <div id=\"errorModal\" class=\"modal hidden\">\r\n        <div class=\"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4\">\r\n            <div class=\"text-center\">\r\n                <!-- Error Icon -->\r\n                <div class=\"inline-block bg-red-100 rounded-full p-6 mb-4\">\r\n                    <i class=\"fas fa-exclamation-circle text-6xl text-red-600\"></i>\r\n                </div>\r\n                \r\n                <!-- Error Message -->\r\n                <h3 class=\"text-2xl font-bold text-gray-800 mb-3\">\u274C \u062D\u062F\u062B \u062E\u0637\u0623</h3>\r\n                <p class=\"text-gray-700 mb-6\" id=\"errorMessage\">\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628</p>\r\n                \r\n                <!-- Close Button -->\r\n                <button onclick=\"closeErrorModal()\" class=\"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-bold transition-colors\">\r\n                    <i class=\"fas fa-times ml-2\"></i>\r\n                    \u0625\u063A\u0644\u0627\u0642\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Results Section -->\r\n    <div id=\"resultsSection\" class=\"container mx-auto px-4 py-8 hidden\">\r\n        <div class=\"max-w-6xl mx-auto\">\r\n            <!-- Qualification Status -->\r\n            <div id=\"qualificationStatus\" class=\"text-center mb-8\">\r\n                <!-- Will be filled dynamically -->\r\n            </div>\r\n\r\n            <!-- Best Offer Banner -->\r\n            <div id=\"bestOfferBanner\" class=\"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-2xl shadow-2xl p-8 mb-8 text-center\">\r\n                <div class=\"inline-block bg-white/20 rounded-full p-4 mb-4\">\r\n                    <i class=\"fas fa-trophy text-5xl\"></i>\r\n                </div>\r\n                <h2 class=\"text-3xl font-bold mb-2\">\uD83C\uDF89 \u0648\u062C\u062F\u0646\u0627 \u0644\u0643 \u0623\u0641\u0636\u0644 \u0639\u0631\u0636!</h2>\r\n                <p class=\"text-xl mb-4\" id=\"bestOfferText\">\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...</p>\r\n                \r\n                <!-- Complete Request Button -->\r\n                <button id=\"completeRequestBtn\" onclick=\"openCompleteRequestModal()\" \r\n                        class=\"bg-white text-green-600 px-8 py-4 rounded-lg font-bold text-xl hover:shadow-xl transition transform hover:scale-105 mt-4\">\r\n                    <i class=\"fas fa-clipboard-check ml-2\"></i>\r\n                    \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\r\n                </button>\r\n            </div>\r\n\r\n            <!-- All Offers -->\r\n            <div class=\"mb-8\">\r\n                <h3 class=\"text-2xl font-bold mb-6 text-gray-800\">\r\n                    <i class=\"fas fa-list ml-2 text-blue-600\"></i>\r\n                    \u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0631\u0648\u0636 \u0627\u0644\u0645\u062A\u0627\u062D\u0629\r\n                </h3>\r\n                <div id=\"offersGrid\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                    <!-- Offers will be loaded here -->\r\n                </div>\r\n            </div>\r\n            \r\n            <!-- Comparison Table -->\r\n            <div id=\"comparisonTable\" class=\"mb-8\">\r\n                <!-- Detailed comparison table will be loaded here -->\r\n            </div>\r\n\r\n            <!-- Action Buttons -->\r\n            <div class=\"flex justify-center space-x-reverse space-x-4\">\r\n                <button onclick=\"window.print()\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold\">\r\n                    <i class=\"fas fa-print ml-2\"></i>\r\n                    \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0639\u0631\u0648\u0636\r\n                </button>\r\n                <button onclick=\"restartCalculator()\" class=\"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-bold\">\r\n                    <i class=\"fas fa-redo ml-2\"></i>\r\n                    \u062D\u0633\u0627\u0628 \u062C\u062F\u064A\u062F\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        let calculationData = {};\r\n        let customerData = {};\r\n        let selectedBestOffer = null;\r\n        let allBanks = [];\r\n        let financingTypes = [];\r\n        let allRates = [];\r\n        \r\n        // File validation and preview\r\n        function previewFile(input, previewId) {\r\n            const preview = document.getElementById(previewId);\r\n            const file = input.files[0];\r\n            \r\n            if (!file) {\r\n                preview.innerHTML = '';\r\n                return;\r\n            }\r\n            \r\n            // Validate file size (5MB max)\r\n            const maxSize = 5 * 1024 * 1024; // 5MB in bytes\r\n            if (file.size > maxSize) {\r\n                alert('\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627\u064B! \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: 5 \u0645\u064A\u063A\u0627\u0628\u0627\u064A\u062A');\r\n                input.value = '';\r\n                preview.innerHTML = '';\r\n                return;\r\n            }\r\n            \r\n            // Show preview\r\n            if (file.type.startsWith('image/')) {\r\n                const reader = new FileReader();\r\n                reader.onload = function(e) {\r\n                    preview.innerHTML = \\`\r\n                        <div class=\"flex items-center gap-3 bg-green-50 border border-green-300 rounded p-2\">\r\n                            <img src=\"\\${e.target.result}\" class=\"w-20 h-20 object-cover rounded border\">\r\n                            <div class=\"flex-1\">\r\n                                <p class=\"text-sm font-bold text-green-800\">\\${file.name}</p>\r\n                                <p class=\"text-xs text-green-600\">\\${(file.size / 1024).toFixed(1)} KB</p>\r\n                            </div>\r\n                            <i class=\"fas fa-check-circle text-2xl text-green-600\"></i>\r\n                        </div>\r\n                    \\`;\r\n                };\r\n                reader.readAsDataURL(file);\r\n            } else {\r\n                preview.innerHTML = \\`\r\n                    <div class=\"flex items-center gap-3 bg-green-50 border border-green-300 rounded p-2\">\r\n                        <i class=\"fas fa-file-pdf text-4xl text-red-600\"></i>\r\n                        <div class=\"flex-1\">\r\n                            <p class=\"text-sm font-bold text-green-800\">\\${file.name}</p>\r\n                            <p class=\"text-xs text-green-600\">\\${(file.size / 1024).toFixed(1)} KB</p>\r\n                        </div>\r\n                        <i class=\"fas fa-check-circle text-2xl text-green-600\"></i>\r\n                    </div>\r\n                \\`;\r\n            }\r\n        }\r\n        \r\n        // Load initial data\r\n        async function loadData() {\r\n            try {\r\n                const [banksRes, typesRes, ratesRes] = await Promise.all([\r\n                    axios.get('/api/banks'),\r\n                    axios.get('/api/financing-types'),\r\n                    axios.get('/api/rates')\r\n                ]);\r\n                \r\n                allBanks = banksRes.data.data;\r\n                financingTypes = typesRes.data.data;\r\n                allRates = ratesRes.data.data;\r\n                \r\n                // Populate financing types\r\n                const typeSelect = document.getElementById('financingType');\r\n                financingTypes.forEach(type => {\r\n                    const option = document.createElement('option');\r\n                    option.value = type.id;\r\n                    option.textContent = type.type_name;\r\n                    typeSelect.appendChild(option);\r\n                });\r\n            } catch (error) {\r\n                console.error('Error loading data:', error);\r\n                alert('\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A');\r\n            }\r\n        }\r\n        \r\n        // Step 1: Main form submission\r\n        document.getElementById('calculatorForm').addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            \r\n            // Get form data\r\n            calculationData = {\r\n                financing_type_id: parseInt(document.getElementById('financingType').value),\r\n                amount: parseFloat(document.getElementById('amount').value),\r\n                salary: parseFloat(document.getElementById('salary').value),\r\n                obligations: parseFloat(document.getElementById('obligations').value) || 0\r\n            };\r\n            \r\n            // Calculate available income\r\n            const availableIncome = calculationData.salary - calculationData.obligations;\r\n            \r\n            // Check if customer can afford\r\n            if (availableIncome < 1000) {\r\n                alert('\u0639\u0630\u0631\u0627\u064B\u060C \u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0645\u062A\u0627\u062D \u0628\u0639\u062F \u062E\u0635\u0645 \u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A \u063A\u064A\u0631 \u0643\u0627\u0641\u064D (\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 1000 \u0631\u064A\u0627\u0644 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644)');\r\n                return;\r\n            }\r\n            \r\n            // Show modal\r\n            document.getElementById('customerModal').classList.add('active');\r\n        });\r\n        \r\n        // Step 2: Customer info submission\r\n        document.getElementById('customerForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            \r\n            // Get customer info\r\n            customerData = {\r\n                name: document.getElementById('customerName').value,\r\n                phone: document.getElementById('customerPhone').value,\r\n                birthdate: document.getElementById('customerBirthdate').value\r\n            };\r\n            \r\n            // Close modal\r\n            closeModal();\r\n            \r\n            // Save customer initial data to database\r\n            try {\r\n                // Extract tenant from URL (for /c/tenant/calculator) or use null for /calculator\r\n                const pathParts = window.location.pathname.split('/');\r\n                const tenantSlug = pathParts[1] === 'c' ? pathParts[2] : null;\r\n                \r\n                console.log('\uD83D\uDD0D Saving customer data:', {\r\n                    name: customerData.name,\r\n                    phone: customerData.phone,\r\n                    birthdate: customerData.birthdate,\r\n                    salary: calculationData.salary,\r\n                    amount: calculationData.amount,\r\n                    tenantSlug: tenantSlug\r\n                });\r\n                \r\n                const response = await axios.post('/api/calculator/save-customer', {\r\n                    name: customerData.name,\r\n                    phone: customerData.phone,\r\n                    birthdate: customerData.birthdate,\r\n                    salary: calculationData.salary,\r\n                    amount: calculationData.amount,\r\n                    obligations: calculationData.obligations,\r\n                    financing_type_id: calculationData.financing_type_id,\r\n                    tenant_slug: tenantSlug\r\n                });\r\n                \r\n                console.log('\u2705 \u062A\u0645 \u062D\u0641\u0638 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 \u0641\u064A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:', response.data);\r\n            } catch (error) {\r\n                console.error('\u274C \u062E\u0637\u0623 \u0641\u064A \u062D\u0641\u0638 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644:', error);\r\n                if (error.response) {\r\n                    console.error('Error details:', error.response.data);\r\n                }\r\n                // Continue anyway - don't block the user\r\n            }\r\n            \r\n            // Show loading\r\n            document.getElementById('resultsSection').classList.remove('hidden');\r\n            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });\r\n            \r\n            // Calculate all offers\r\n            await calculateAllOffers();\r\n        });\r\n        \r\n        // Step 3: Complete Request Form submission\r\n        document.getElementById('completeRequestForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            \r\n            // Get file attachments info (filename only for now)\r\n            const idFile = document.getElementById('idAttachment').files[0];\r\n            const bankStatementFile = document.getElementById('bankStatementAttachment').files[0];\r\n            const salaryFile = document.getElementById('salaryAttachment').files[0];\r\n            const additionalFile = document.getElementById('additionalAttachment').files[0];\r\n            \r\n            // Build request data object\r\n            const requestData = {\r\n                full_name: document.getElementById('fullName').value,\r\n                phone: document.getElementById('fullPhone').value,\r\n                email: document.getElementById('email').value || null,\r\n                national_id: document.getElementById('nationalId').value,\r\n                birthdate: customerData.birthdate,\r\n                employer: document.getElementById('employer').value,\r\n                job_title: document.getElementById('jobTitle').value,\r\n                monthly_salary: calculationData.salary,\r\n                work_start_date: document.getElementById('workStartDate').value,\r\n                city: document.getElementById('city').value,\r\n                financing_type_id: calculationData.financing_type_id,\r\n                bank_id: selectedBestOffer.bank.id,\r\n                requested_amount: calculationData.amount,\r\n                monthly_obligations: calculationData.obligations,\r\n                duration: selectedBestOffer.bestCalculation.duration,\r\n                monthly_payment: selectedBestOffer.bestCalculation.monthlyPayment,\r\n                notes: document.getElementById('notes').value || null,\r\n                // Store filenames for tracking\r\n                id_attachment_filename: idFile ? idFile.name : null,\r\n                bank_statement_attachment_filename: bankStatementFile ? bankStatementFile.name : null,\r\n                salary_attachment_filename: salaryFile ? salaryFile.name : null,\r\n                additional_attachment_filename: additionalFile ? additionalFile.name : null\r\n            };\r\n            \r\n            try {\r\n                // Show loading message\r\n                const submitBtn = e.target.querySelector('button[type=\"submit\"]');\r\n                const originalText = submitBtn.innerHTML;\r\n                submitBtn.disabled = true;\r\n                submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin ml-2\"></i> \u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644...';\r\n                \r\n                // Step 1: Create the financing request first\r\n                const response = await axios.post('/api/calculator/submit-request', requestData, {\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                });\r\n                \r\n                if (response.data.success) {\r\n                    const requestId = response.data.request_id;\r\n                    console.log('\u2705 Request created successfully:', { requestId, response: response.data });\r\n                    \r\n                    // Step 2: Upload attachments if any exist\r\n                    const attachments = [\r\n                        { file: idFile, type: 'id', label: '\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629' },\r\n                        { file: salaryFile, type: 'salary', label: '\u062A\u0639\u0631\u064A\u0641 \u0628\u0627\u0644\u0631\u0627\u062A\u0628' },\r\n                        { file: bankStatementFile, type: 'bank_statement', label: '\u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A' },\r\n                        { file: additionalFile, type: 'additional', label: '\u0645\u0631\u0641\u0642 \u0625\u0636\u0627\u0641\u064A' }\r\n                    ].filter(att => att.file);\r\n                    \r\n                    if (attachments.length > 0) {\r\n                        submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin ml-2\"></i> \u062C\u0627\u0631\u064A \u0631\u0641\u0639 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A...';\r\n                        \r\n                        // Show progress container\r\n                        const progressContainer = document.getElementById('uploadProgress');\r\n                        progressContainer.classList.remove('hidden');\r\n                        progressContainer.innerHTML = '';\r\n                        \r\n                        let uploadedCount = 0;\r\n                        \r\n                        for (const attachment of attachments) {\r\n                            // Add progress bar\r\n                            const progressId = \\`progress-\\${attachment.type}\\`;\r\n                            progressContainer.innerHTML += \\`\r\n                                <div class=\"bg-gray-100 rounded p-3\">\r\n                                    <div class=\"flex justify-between items-center mb-1\">\r\n                                        <span class=\"text-sm font-bold text-gray-700\">\\${attachment.label}</span>\r\n                                        <span id=\"\\${progressId}-status\" class=\"text-xs text-gray-600\">\u062C\u0627\u0631\u064A \u0627\u0644\u0631\u0641\u0639...</span>\r\n                                    </div>\r\n                                    <div class=\"w-full bg-gray-300 rounded-full h-2\">\r\n                                        <div id=\"\\${progressId}-bar\" class=\"bg-blue-600 h-2 rounded-full transition-all duration-300\" style=\"width: 0%\"></div>\r\n                                    </div>\r\n                                </div>\r\n                            \\`;\r\n                            \r\n                            const formData = new FormData();\r\n                            formData.append('file', attachment.file);\r\n                            formData.append('request_id', requestId);\r\n                            formData.append('attachment_type', attachment.type);\r\n                            \r\n                            console.log('\uD83D\uDCE4 Uploading attachment:', { \r\n                                requestId, \r\n                                type: attachment.type, \r\n                                fileName: attachment.file.name \r\n                            });\r\n                            \r\n                            try {\r\n                                // Simulate progress (since R2 upload doesn't report progress)\r\n                                const progressBar = document.getElementById(\\`\\${progressId}-bar\\`);\r\n                                const progressStatus = document.getElementById(\\`\\${progressId}-status\\`);\r\n                                \r\n                                progressBar.style.width = '30%';\r\n                                \r\n                                await axios.post('/api/attachments/upload', formData, {\r\n                                    headers: {\r\n                                        'Content-Type': 'multipart/form-data'\r\n                                    }\r\n                                });\r\n                                \r\n                                progressBar.style.width = '100%';\r\n                                progressBar.classList.remove('bg-blue-600');\r\n                                progressBar.classList.add('bg-green-600');\r\n                                progressStatus.textContent = '\u2713 \u062A\u0645 \u0627\u0644\u0631\u0641\u0639';\r\n                                progressStatus.classList.remove('text-gray-600');\r\n                                progressStatus.classList.add('text-green-600');\r\n                                uploadedCount++;\r\n                            } catch (uploadError) {\r\n                                console.error(\\`Error uploading \\${attachment.type}:\\`, uploadError);\r\n                                const progressBar = document.getElementById(\\`\\${progressId}-bar\\`);\r\n                                const progressStatus = document.getElementById(\\`\\${progressId}-status\\`);\r\n                                progressBar.style.width = '100%';\r\n                                progressBar.classList.remove('bg-blue-600');\r\n                                progressBar.classList.add('bg-red-600');\r\n                                progressStatus.textContent = '\u2717 \u0641\u0634\u0644 \u0627\u0644\u0631\u0641\u0639';\r\n                                progressStatus.classList.remove('text-gray-600');\r\n                                progressStatus.classList.add('text-red-600');\r\n                            }\r\n                        }\r\n                        \r\n                        submitBtn.innerHTML = '<i class=\"fas fa-check ml-2\"></i> \u0627\u0643\u062A\u0645\u0644 \u0627\u0644\u0631\u0641\u0639!';\r\n                    }\r\n                    \r\n                    closeCompleteRequestModal();\r\n                    \r\n                    // Show success modal\r\n                    showSuccessModal(attachments.length);\r\n                    \r\n                    // Reset calculator after 3 seconds\r\n                    setTimeout(() => {\r\n                        restartCalculator();\r\n                    }, 3000);\r\n                } else {\r\n                    showErrorModal(response.data.error || response.data.message || '\u062D\u062F\u062B \u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u062A\u0648\u0642\u0639');\r\n                    submitBtn.disabled = false;\r\n                    submitBtn.innerHTML = originalText;\r\n                }\r\n            } catch (error) {\r\n                console.error('Error submitting request:', error);\r\n                showErrorModal('\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.');\r\n                const submitBtn = e.target.querySelector('button[type=\"submit\"]');\r\n                submitBtn.disabled = false;\r\n                submitBtn.innerHTML = '<i class=\"fas fa-paper-plane ml-2\"></i> \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628';\r\n            }\r\n        });\r\n        \r\n        async function calculateAllOffers() {\r\n            const availableIncome = calculationData.salary - calculationData.obligations;\r\n            const maxMonthlyPayment = availableIncome * 0.33; // 33% \u0645\u0646 \u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0645\u062A\u0627\u062D\r\n            \r\n            // Determine qualification status\r\n            const isQualified = maxMonthlyPayment >= 500; // \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A\r\n            \r\n            // Display qualification status\r\n            const qualificationDiv = document.getElementById('qualificationStatus');\r\n            qualificationDiv.innerHTML = \\`\r\n                <div class=\"inline-block qualification-badge \\${isQualified ? 'qualified' : 'not-qualified'}\">\r\n                    <i class=\"fas fa-\\${isQualified ? 'check-circle' : 'times-circle'} ml-2\"></i>\r\n                    \\${isQualified ? '\u0645\u0624\u0647\u0644 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062A\u0645\u0648\u064A\u0644' : '\u063A\u064A\u0631 \u0645\u0624\u0647\u0644 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062A\u0645\u0648\u064A\u0644'}\r\n                </div>\r\n                <div class=\"mt-4 text-gray-700\">\r\n                    <p>\u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0645\u062A\u0627\u062D: <span class=\"font-bold text-blue-600\">\\${availableIncome.toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</span></p>\r\n                    <p>\u0627\u0644\u0642\u062F\u0631\u0629 \u0627\u0644\u0634\u0631\u0627\u0626\u064A\u0629: <span class=\"font-bold text-green-600\">\\${maxMonthlyPayment.toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</span></p>\r\n                </div>\r\n            \\`;\r\n            \r\n            if (!isQualified) {\r\n                document.getElementById('bestOfferBanner').classList.add('hidden');\r\n                document.getElementById('offersGrid').innerHTML = '<div class=\"col-span-full text-center text-gray-600 text-lg\">\u0639\u0630\u0631\u0627\u064B\u060C \u0627\u0644\u0642\u062F\u0631\u0629 \u0627\u0644\u0634\u0631\u0627\u0626\u064A\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u063A\u064A\u0631 \u0643\u0627\u0641\u064A\u0629 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u062A\u0645\u0648\u064A\u0644</div>';\r\n                return;\r\n            }\r\n            \r\n            // Filter rates for selected financing type\r\n            const applicableRates = allRates.filter(rate => \r\n                rate.financing_type_id === calculationData.financing_type_id &&\r\n                rate.is_active === 1 &&\r\n                rate.min_salary <= calculationData.salary &&\r\n                rate.max_salary >= calculationData.salary &&\r\n                rate.min_amount <= calculationData.amount &&\r\n                rate.max_amount >= calculationData.amount\r\n            );\r\n            \r\n            if (applicableRates.length === 0) {\r\n                document.getElementById('bestOfferText').textContent = '\u0639\u0630\u0631\u0627\u064B\u060C \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0631\u0648\u0636 \u0645\u062A\u0627\u062D\u0629 \u062D\u0627\u0644\u064A\u0627\u064B \u062A\u0646\u0627\u0633\u0628 \u0645\u0639\u0627\u064A\u064A\u0631\u0643';\r\n                document.getElementById('completeRequestBtn').classList.add('hidden');\r\n                return;\r\n            }\r\n            \r\n            // Calculate offers for each bank\r\n            const offers = applicableRates.map(rate => {\r\n                const bank = allBanks.find(b => b.id === rate.bank_id);\r\n                const calculations = [];\r\n                \r\n                // Try different durations\r\n                for (let months = rate.min_duration; months <= rate.max_duration; months += 12) {\r\n                    const monthlyRate = rate.rate / 100 / 12;\r\n                    const monthlyPayment = (calculationData.amount * monthlyRate * Math.pow(1 + monthlyRate, months)) / \r\n                                          (Math.pow(1 + monthlyRate, months) - 1);\r\n                    \r\n                    if (monthlyPayment <= maxMonthlyPayment) {\r\n                        const totalPayment = monthlyPayment * months;\r\n                        const totalInterest = totalPayment - calculationData.amount;\r\n                        \r\n                        calculations.push({\r\n                            duration: months,\r\n                            monthlyPayment: Math.round(monthlyPayment * 100) / 100,\r\n                            totalPayment: Math.round(totalPayment * 100) / 100,\r\n                            totalInterest: Math.round(totalInterest * 100) / 100\r\n                        });\r\n                    }\r\n                }\r\n                \r\n                // Get best duration (lowest total interest)\r\n                const bestCalc = calculations.sort((a, b) => a.totalInterest - b.totalInterest)[0];\r\n                \r\n                return {\r\n                    bank: bank,\r\n                    rate: rate.rate,\r\n                    bestCalculation: bestCalc,\r\n                    allCalculations: calculations\r\n                };\r\n            }).filter(offer => offer.bestCalculation);\r\n            \r\n            // Sort by total interest (best first)\r\n            offers.sort((a, b) => a.bestCalculation.totalInterest - b.bestCalculation.totalInterest);\r\n            \r\n            // Display results\r\n            displayOffers(offers);\r\n            \r\n            // Update customer record with calculation results\r\n            if (offers.length > 0 && customerData && customerData.phone) {\r\n                const bestOffer = offers[0];\r\n                try {\r\n                    const pathParts = window.location.pathname.split('/');\r\n                    const tenantSlug = pathParts[1] === 'c' ? pathParts[2] : null;\r\n                    \r\n                    console.log('\uD83D\uDCBE Updating customer with calculation results:', {\r\n                        phone: customerData.phone,\r\n                        best_bank: bestOffer.bank.bank_name,\r\n                        duration: bestOffer.bestCalculation.duration,\r\n                        monthly_payment: bestOffer.bestCalculation.monthlyPayment\r\n                    });\r\n                    \r\n                    await axios.post('/api/calculator/save-customer', {\r\n                        name: customerData.name,\r\n                        phone: customerData.phone,\r\n                        birthdate: customerData.birthdate,\r\n                        salary: calculationData.salary,\r\n                        amount: calculationData.amount,\r\n                        obligations: calculationData.obligations,\r\n                        financing_type_id: calculationData.financing_type_id,\r\n                        duration_months: bestOffer.bestCalculation.duration,\r\n                        best_bank_id: bestOffer.bank.id,\r\n                        best_rate: bestOffer.rate,\r\n                        monthly_payment: bestOffer.bestCalculation.monthlyPayment,\r\n                        total_payment: bestOffer.bestCalculation.totalPayment,\r\n                        tenant_slug: tenantSlug\r\n                    });\r\n                    \r\n                    console.log('\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 \u0628\u0646\u062A\u0627\u0626\u062C \u0627\u0644\u062D\u0633\u0627\u0628');\r\n                } catch (error) {\r\n                    console.error('\u274C \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u062F\u064A\u062B \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644:', error);\r\n                }\r\n            }\r\n        }\r\n        \r\n        function displayOffers(offers) {\r\n            if (offers.length === 0) {\r\n                document.getElementById('bestOfferText').textContent = '\u0639\u0630\u0631\u0627\u064B\u060C \u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0631\u0648\u0636 \u062A\u0646\u0627\u0633\u0628 \u0642\u062F\u0631\u062A\u0643 \u0627\u0644\u0634\u0631\u0627\u0626\u064A\u0629 \u062D\u0627\u0644\u064A\u0627\u064B';\r\n                document.getElementById('completeRequestBtn').classList.add('hidden');\r\n                return;\r\n            }\r\n            \r\n            const bestOffer = offers[0];\r\n            selectedBestOffer = bestOffer;\r\n            \r\n            // Update best offer banner\r\n            document.getElementById('bestOfferText').innerHTML = \\`\r\n                <span class=\"text-2xl\">\u0623\u0641\u0636\u0644 \u0639\u0631\u0636 \u0645\u0646 <span class=\"font-bold\">\\${bestOffer.bank.bank_name}</span></span>\r\n                <br>\r\n                <span class=\"text-lg\">\u0642\u0633\u0637 \u0634\u0647\u0631\u064A: \\${bestOffer.bestCalculation.monthlyPayment.toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</span>\r\n            \\`;\r\n            \r\n            // Show complete request button\r\n            document.getElementById('completeRequestBtn').classList.remove('hidden');\r\n            \r\n            // Display all offers (cards)\r\n            const offersGrid = document.getElementById('offersGrid');\r\n            offersGrid.innerHTML = offers.map((offer, index) => {\r\n                const isBest = index === 0;\r\n                return \\`\r\n                    <div class=\"bank-card \\${isBest ? 'best-offer' : 'bg-white'} rounded-xl shadow-lg p-6 relative\">\r\n                        \\${isBest ? '<div class=\"absolute top-0 right-0 bg-green-500 text-white px-4 py-1 rounded-tr-xl rounded-bl-xl font-bold\"><i class=\"fas fa-star ml-1\"></i>\u0627\u0644\u0623\u0641\u0636\u0644</div>' : ''}\r\n                        \r\n                        <div class=\"text-center mb-4 \\${isBest ? 'mt-6' : ''}\">\r\n                            <div class=\"inline-block bg-blue-100 rounded-full p-3 mb-2\">\r\n                                <i class=\"fas fa-university text-3xl text-blue-600\"></i>\r\n                            </div>\r\n                            <h4 class=\"text-xl font-bold text-gray-800\">\\${offer.bank.bank_name}</h4>\r\n                        </div>\r\n                        \r\n                        <div class=\"space-y-3\">\r\n                            <div class=\"bg-gray-50 p-3 rounded-lg\">\r\n                                <div class=\"text-sm text-gray-600\">\u0646\u0633\u0628\u0629 \u0627\u0644\u0641\u0627\u0626\u062F\u0629</div>\r\n                                <div class=\"text-lg font-bold text-blue-600\">\\${offer.rate}%</div>\r\n                            </div>\r\n                            \r\n                            <div class=\"bg-blue-50 p-3 rounded-lg\">\r\n                                <div class=\"text-sm text-gray-600\">\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A</div>\r\n                                <div class=\"text-2xl font-bold text-blue-600\">\\${offer.bestCalculation.monthlyPayment.toLocaleString('ar-SA')} <span class=\"text-sm\">\u0631\u064A\u0627\u0644</span></div>\r\n                            </div>\r\n                            \r\n                            <div class=\"grid grid-cols-2 gap-2\">\r\n                                <div class=\"bg-gray-50 p-2 rounded text-center\">\r\n                                    <div class=\"text-xs text-gray-600\">\u0627\u0644\u0645\u062F\u0629</div>\r\n                                    <div class=\"font-bold\">\\${offer.bestCalculation.duration} \u0634\u0647\u0631</div>\r\n                                </div>\r\n                                <div class=\"bg-gray-50 p-2 rounded text-center\">\r\n                                    <div class=\"text-xs text-gray-600\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0641\u0627\u0626\u062F\u0629</div>\r\n                                    <div class=\"font-bold text-orange-600\">\\${offer.bestCalculation.totalInterest.toLocaleString('ar-SA')}</div>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"bg-purple-50 p-3 rounded-lg\">\r\n                                <div class=\"text-sm text-gray-600\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A</div>\r\n                                <div class=\"text-xl font-bold text-purple-600\">\\${offer.bestCalculation.totalPayment.toLocaleString('ar-SA')} <span class=\"text-sm\">\u0631\u064A\u0627\u0644</span></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                \\`;\r\n            }).join('');\r\n            \r\n            // Display comparison table\r\n            displayComparisonTable(offers);\r\n        }\r\n        \r\n        function displayComparisonTable(offers) {\r\n            const comparisonTable = document.getElementById('comparisonTable');\r\n            if (!comparisonTable) return;\r\n            \r\n            comparisonTable.innerHTML = \\`\r\n                <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n                    <div class=\"flex justify-between items-center mb-6\">\r\n                        <div>\r\n                            <h3 class=\"text-2xl font-bold text-gray-800 mb-2\">\r\n                                <i class=\"fas fa-table text-blue-600 ml-2\"></i>\r\n                                \u062C\u062F\u0648\u0644 \u0627\u0644\u0645\u0642\u0627\u0631\u0646\u0629 \u0627\u0644\u062A\u0641\u0635\u064A\u0644\u064A\r\n                            </h3>\r\n                            <p class=\"text-gray-600\">\u0642\u0627\u0631\u0646 \u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0631\u0648\u0636 \u0627\u0644\u0645\u062A\u0627\u062D\u0629 \u0628\u0633\u0647\u0648\u0644\u0629</p>\r\n                        </div>\r\n                        <button onclick=\"printResults()\" class=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition\">\r\n                            <i class=\"fas fa-print ml-2\"></i>\r\n                            \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0646\u062A\u0627\u0626\u062C\r\n                        </button>\r\n                    </div>\r\n                    \r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full text-right\">\r\n                            <thead class=\"bg-gray-100\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0627\u0644\u0628\u0646\u0643</th>\r\n                                    <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0646\u0633\u0628\u0629 \u0627\u0644\u0641\u0627\u0626\u062F\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A</th>\r\n                                    <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0627\u0644\u0645\u062F\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0641\u0627\u0626\u062F\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A</th>\r\n                                    <th class=\"px-4 py-3 text-gray-700 font-bold\">\u0627\u0644\u062A\u0648\u0641\u064A\u0631</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                \\${offers.map((offer, index) => {\r\n                                    const isBest = index === 0;\r\n                                    const savings = index > 0 ? offer.bestCalculation.totalInterest - offers[0].bestCalculation.totalInterest : 0;\r\n                                    return \\`\r\n                                        <tr class=\"\\${isBest ? 'bg-green-50 font-bold' : 'hover:bg-gray-50'}\">\r\n                                            <td class=\"px-4 py-3 border-t\">\r\n                                                \\${offer.bank.bank_name}\r\n                                                \\${isBest ? '<span class=\"mr-2 text-green-600\"><i class=\"fas fa-star\"></i></span>' : ''}\r\n                                            </td>\r\n                                            <td class=\"px-4 py-3 border-t\">\\${offer.rate}%</td>\r\n                                            <td class=\"px-4 py-3 border-t text-blue-600\">\\${offer.bestCalculation.monthlyPayment.toLocaleString('ar-SA')} \u0631.\u0633</td>\r\n                                            <td class=\"px-4 py-3 border-t\">\\${offer.bestCalculation.duration} \u0634\u0647\u0631</td>\r\n                                            <td class=\"px-4 py-3 border-t text-orange-600\">\\${offer.bestCalculation.totalInterest.toLocaleString('ar-SA')} \u0631.\u0633</td>\r\n                                            <td class=\"px-4 py-3 border-t text-purple-600\">\\${offer.bestCalculation.totalPayment.toLocaleString('ar-SA')} \u0631.\u0633</td>\r\n                                            <td class=\"px-4 py-3 border-t \\${isBest ? 'text-green-600' : 'text-red-600'}\">\r\n                                                \\${isBest ? '\u0627\u0644\u0623\u0641\u0636\u0644 \u2713' : '+' + savings.toLocaleString('ar-SA') + ' \u0631.\u0633'}\r\n                                            </td>\r\n                                        </tr>\r\n                                    \\`;\r\n                                }).join('')}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    \r\n                    <!-- Smart Recommendations -->\r\n                    <div class=\"mt-6 bg-blue-50 p-4 rounded-lg\">\r\n                        <h4 class=\"font-bold text-blue-800 mb-2\">\r\n                            <i class=\"fas fa-lightbulb text-yellow-500 ml-2\"></i>\r\n                            \u0646\u0635\u0627\u0626\u062D \u0630\u0643\u064A\u0629\r\n                        </h4>\r\n                        <ul class=\"text-sm text-gray-700 space-y-2\">\r\n                            \\${generateSmartRecommendations(offers)}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            \\`;\r\n        }\r\n        \r\n        function generateSmartRecommendations(offers) {\r\n            if (offers.length === 0) return '';\r\n            \r\n            const recommendations = [];\r\n            const bestOffer = offers[0];\r\n            \r\n            // Recommendation 1: Best bank\r\n            recommendations.push(\\`<li><i class=\"fas fa-check-circle text-green-600 ml-2\"></i>\u0639\u0631\u0636 <strong>\\${bestOffer.bank.bank_name}</strong> \u0647\u0648 \u0627\u0644\u0623\u0641\u0636\u0644 \u0628\u0642\u0633\u0637 \u0634\u0647\u0631\u064A \\${bestOffer.bestCalculation.monthlyPayment.toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</li>\\`);\r\n            \r\n            // Recommendation 2: Savings\r\n            if (offers.length > 1) {\r\n                const savings = offers[1].bestCalculation.totalInterest - bestOffer.bestCalculation.totalInterest;\r\n                recommendations.push(\\`<li><i class=\"fas fa-piggy-bank text-green-600 ml-2\"></i>\u0633\u062A\u0648\u0641\u0631 <strong>\\${savings.toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</strong> \u0628\u0627\u0644\u0645\u0642\u0627\u0631\u0646\u0629 \u0645\u0639 \u062B\u0627\u0646\u064A \u0623\u0641\u0636\u0644 \u0639\u0631\u0636</li>\\`);\r\n            }\r\n            \r\n            // Recommendation 3: Duration advice\r\n            if (bestOffer.bestCalculation.duration >= 60) {\r\n                recommendations.push(\\`<li><i class=\"fas fa-clock text-orange-600 ml-2\"></i>\u0627\u0644\u0645\u062F\u0629 \u0637\u0648\u064A\u0644\u0629 (\\${bestOffer.bestCalculation.duration} \u0634\u0647\u0631). \u062D\u0627\u0648\u0644 \u062A\u0642\u0644\u064A\u0635\u0647\u0627 \u0625\u0646 \u0623\u0645\u0643\u0646 \u0644\u062A\u0648\u0641\u064A\u0631 \u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0641\u0648\u0627\u0626\u062F</li>\\`);\r\n            } else {\r\n                recommendations.push(\\`<li><i class=\"fas fa-clock text-green-600 ml-2\"></i>\u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0645\u0639\u0642\u0648\u0644\u0629 (\\${bestOffer.bestCalculation.duration} \u0634\u0647\u0631)</li>\\`);\r\n            }\r\n            \r\n            // Recommendation 4: Monthly payment\r\n            const paymentRatio = (bestOffer.bestCalculation.monthlyPayment / calculationData.salary) * 100;\r\n            if (paymentRatio <= 25) {\r\n                recommendations.push(\\`<li><i class=\"fas fa-check-circle text-green-600 ml-2\"></i>\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A \u064A\u0634\u0643\u0644 \\${paymentRatio.toFixed(1)}% \u0641\u0642\u0637 \u0645\u0646 \u0631\u0627\u062A\u0628\u0643 - \u0646\u0633\u0628\u0629 \u0645\u0645\u062A\u0627\u0632\u0629!</li>\\`);\r\n            } else {\r\n                recommendations.push(\\`<li><i class=\"fas fa-exclamation-triangle text-orange-600 ml-2\"></i>\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A \u064A\u0634\u0643\u0644 \\${paymentRatio.toFixed(1)}% \u0645\u0646 \u0631\u0627\u062A\u0628\u0643 - \u062A\u0623\u0643\u062F \u0645\u0646 \u0642\u062F\u0631\u062A\u0643 \u0639\u0644\u0649 \u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645</li>\\`);\r\n            }\r\n            \r\n            return recommendations.join('');\r\n        }\r\n        \r\n        function printResults() {\r\n            window.print();\r\n        }\r\n        \r\n        function openCompleteRequestModal() {\r\n            // Pre-fill some data\r\n            document.getElementById('fullName').value = customerData.name;\r\n            document.getElementById('fullPhone').value = customerData.phone;\r\n            \r\n            // Show modal\r\n            document.getElementById('completeRequestModal').classList.add('active');\r\n        }\r\n        \r\n        function closeModal() {\r\n            document.getElementById('customerModal').classList.remove('active');\r\n        }\r\n        \r\n        function closeCompleteRequestModal() {\r\n            document.getElementById('completeRequestModal').classList.remove('active');\r\n        }\r\n        \r\n        function restartCalculator() {\r\n            document.getElementById('resultsSection').classList.add('hidden');\r\n            document.getElementById('calculatorForm').reset();\r\n            calculationData = {};\r\n            customerData = {};\r\n            selectedBestOffer = null;\r\n            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n        }\r\n        \r\n        function showSuccessModal(attachmentCount) {\r\n            const modal = document.getElementById('successModal');\r\n            const companyName = window.TENANT_NAME || '\u0627\u0644\u0634\u0631\u0643\u0629';\r\n            \r\n            // Set company name\r\n            document.getElementById('companyNameInSuccess').textContent = companyName;\r\n            \r\n            // Show attachments count if any\r\n            if (attachmentCount > 0) {\r\n                document.getElementById('attachmentsCount').classList.remove('hidden');\r\n                document.getElementById('attachmentNumber').textContent = attachmentCount;\r\n            } else {\r\n                document.getElementById('attachmentsCount').classList.add('hidden');\r\n            }\r\n            \r\n            // Show modal\r\n            modal.classList.remove('hidden');\r\n            modal.style.display = 'flex';\r\n            \r\n            // Auto close after 3 seconds\r\n            setTimeout(() => {\r\n                modal.classList.add('hidden');\r\n                modal.style.display = 'none';\r\n            }, 3000);\r\n        }\r\n        \r\n        function showErrorModal(message) {\r\n            const modal = document.getElementById('errorModal');\r\n            document.getElementById('errorMessage').textContent = message;\r\n            \r\n            // Show modal\r\n            modal.classList.remove('hidden');\r\n            modal.style.display = 'flex';\r\n        }\r\n        \r\n        window.closeErrorModal = function() {\r\n            const modal = document.getElementById('errorModal');\r\n            modal.classList.add('hidden');\r\n            modal.style.display = 'none';\r\n        }\r\n        \r\n        // Load data on page load\r\n        loadData();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const loginPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 - \u0645\u0646\u0635\u0629 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <style>\r\n        .gradient-bg {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n        }\r\n        .glass-effect {\r\n            background: rgba(255, 255, 255, 0.95);\r\n            backdrop-filter: blur(10px);\r\n            border: 1px solid rgba(255, 255, 255, 0.3);\r\n        }\r\n        .input-focus:focus {\r\n            border-color: #667eea;\r\n            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n        }\r\n        @keyframes slideIn {\r\n            from {\r\n                opacity: 0;\r\n                transform: translateY(20px);\r\n            }\r\n            to {\r\n                opacity: 1;\r\n                transform: translateY(0);\r\n            }\r\n        }\r\n        .animate-slide-in {\r\n            animation: slideIn 0.5s ease-out;\r\n        }\r\n        \r\n        /* Mobile Responsive Styles */\r\n        @media (max-width: 768px) {\r\n            .glass-effect {\r\n                padding: 1.5rem !important;\r\n            }\r\n            h1 {\r\n                font-size: 1.75rem !important;\r\n            }\r\n            button {\r\n                font-size: 1rem !important;\r\n            }\r\n        }\r\n        @media (max-width: 480px) {\r\n            .glass-effect {\r\n                padding: 1rem !important;\r\n            }\r\n            h1 {\r\n                font-size: 1.5rem !important;\r\n            }\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"gradient-bg min-h-screen flex items-center justify-center p-4\">\r\n    <div class=\"container max-w-md\">\r\n        <!-- Login Card -->\r\n        <div class=\"glass-effect rounded-2xl shadow-2xl p-8 animate-slide-in\">\r\n            <!-- Logo and Title -->\r\n            <div class=\"text-center mb-8\">\r\n                <div class=\"inline-block bg-gradient-to-br from-purple-500 to-indigo-600 text-white rounded-full p-4 mb-4\">\r\n                    <i class=\"fas fa-calculator text-4xl\"></i>\r\n                </div>\r\n                <h1 class=\"text-3xl font-bold text-gray-800 mb-2\">\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644</h1>\r\n                <p class=\"text-gray-600\">\u0645\u0631\u062D\u0628\u0627\u064B \u0628\u0643 \u0641\u064A \u0645\u0646\u0635\u0629 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n            </div>\r\n\r\n            <!-- Alert Messages -->\r\n            <div id=\"alertMessage\" class=\"hidden mb-4 p-4 rounded-lg\"></div>\r\n\r\n            <!-- Login Form -->\r\n            <form id=\"loginForm\" class=\"space-y-6\">\r\n                <!-- Username -->\r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-user text-purple-600 ml-2\"></i>\r\n                        \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0623\u0648 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\r\n                    </label>\r\n                    <input type=\"text\" id=\"username\" required\r\n                           class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg input-focus transition\"\r\n                           placeholder=\"\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\">\r\n                </div>\r\n\r\n                <!-- Password -->\r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-lock text-purple-600 ml-2\"></i>\r\n                        \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\r\n                    </label>\r\n                    <div class=\"relative\">\r\n                        <input type=\"password\" id=\"password\" required\r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg input-focus transition\"\r\n                               placeholder=\"\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\">\r\n                        <button type=\"button\" onclick=\"togglePassword()\" \r\n                                class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\">\r\n                            <i id=\"passwordIcon\" class=\"fas fa-eye\"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Remember Me & Forgot Password -->\r\n                <div class=\"flex items-center justify-between\">\r\n                    <label class=\"flex items-center\">\r\n                        <input type=\"checkbox\" id=\"rememberMe\" class=\"ml-2 w-4 h-4 text-purple-600\">\r\n                        <span class=\"text-gray-700\">\u062A\u0630\u0643\u0631\u0646\u064A</span>\r\n                    </label>\r\n                    <a href=\"/forgot-password\" class=\"text-purple-600 hover:text-purple-800 font-bold\">\r\n                        \u0646\u0633\u064A\u062A \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\u061F\r\n                    </a>\r\n                </div>\r\n\r\n                <!-- Submit Button -->\r\n                <button type=\"submit\" id=\"loginBtn\"\r\n                        class=\"w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-lg font-bold hover:from-purple-700 hover:to-indigo-700 transition transform hover:scale-105\">\r\n                    <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                    \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644\r\n                </button>\r\n            </form>\r\n\r\n            <!-- Divider -->\r\n            <div class=\"flex items-center my-6\">\r\n                <div class=\"flex-1 border-t border-gray-300\"></div>\r\n                <span class=\"px-4 text-gray-500\">\u0623\u0648</span>\r\n                <div class=\"flex-1 border-t border-gray-300\"></div>\r\n            </div>\r\n\r\n            <!-- Links -->\r\n            <div class=\"text-center space-y-3\">\r\n                <p class=\"text-gray-600\">\r\n                    \u0644\u064A\u0633 \u0644\u062F\u064A\u0643 \u062D\u0633\u0627\u0628\u061F\r\n                    <a href=\"/packages\" class=\"text-purple-600 hover:text-purple-800 font-bold\">\r\n                        \u0627\u0634\u062A\u0631\u0643 \u0627\u0644\u0622\u0646\r\n                    </a>\r\n                </p>\r\n                <a href=\"/\" class=\"block text-gray-600 hover:text-gray-800\">\r\n                    <i class=\"fas fa-home ml-2\"></i>\r\n                    \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n                </a>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Footer -->\r\n        <div class=\"text-center mt-6 text-white\">\r\n            <p class=\"text-sm\">\u00A9 2025 \u0645\u0646\u0635\u0629 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644. \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0642 \u0645\u062D\u0641\u0648\u0638\u0629.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script>\r\n        function togglePassword() {\r\n            const passwordInput = document.getElementById('password');\r\n            const passwordIcon = document.getElementById('passwordIcon');\r\n            \r\n            if (passwordInput.type === 'password') {\r\n                passwordInput.type = 'text';\r\n                passwordIcon.classList.remove('fa-eye');\r\n                passwordIcon.classList.add('fa-eye-slash');\r\n            } else {\r\n                passwordInput.type = 'password';\r\n                passwordIcon.classList.remove('fa-eye-slash');\r\n                passwordIcon.classList.add('fa-eye');\r\n            }\r\n        }\r\n\r\n        function showAlert(message, type = 'error') {\r\n            const alertDiv = document.getElementById('alertMessage');\r\n            alertDiv.className = \\`mb-4 p-4 rounded-lg \\${type === 'error' ? 'bg-red-100 border-2 border-red-500 text-red-800' : 'bg-green-100 border-2 border-green-500 text-green-800'}\\`;\r\n            alertDiv.innerHTML = \\`\r\n                <div class=\"flex items-center\">\r\n                    <i class=\"fas fa-\\${type === 'error' ? 'exclamation-circle' : 'check-circle'} text-2xl ml-3\"></i>\r\n                    <span>\\${message}</span>\r\n                </div>\r\n            \\`;\r\n            alertDiv.classList.remove('hidden');\r\n            \r\n            if (type === 'success') {\r\n                setTimeout(() => {\r\n                    alertDiv.classList.add('hidden');\r\n                }, 3000);\r\n            }\r\n        }\r\n\r\n        document.getElementById('loginForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            \r\n            const username = document.getElementById('username').value;\r\n            const password = document.getElementById('password').value;\r\n            const rememberMe = document.getElementById('rememberMe').checked;\r\n            const loginBtn = document.getElementById('loginBtn');\r\n            \r\n            // Disable button\r\n            loginBtn.disabled = true;\r\n            loginBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin ml-2\"></i> \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642...';\r\n            \r\n            try {\r\n                const response = await axios.post('/api/auth/login', {\r\n                    username,\r\n                    password,\r\n                    rememberMe\r\n                });\r\n                \r\n                if (response.data.success) {\r\n                    showAlert('\u2713 \u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0646\u062C\u0627\u062D! \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0648\u064A\u0644...', 'success');\r\n                    \r\n                    // Save token in cookie and localStorage\r\n                    const token = response.data.token;\r\n                    const maxAge = 7 * 24 * 60 * 60;\r\n                    document.cookie = 'authToken=' + token + '; path=/; max-age=' + maxAge + '; SameSite=Lax';\r\n                    localStorage.setItem('authToken', token);\r\n                    localStorage.setItem('userData', JSON.stringify(response.data.user));\r\n                    console.log('\u2705 \u062A\u0645 \u062D\u0641\u0638 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:', response.data.user);\r\n                    console.log('\uD83C\uDF6A Cookie saved:', document.cookie.includes('authToken') ? 'YES' : 'NO');\r\n                    \r\n                    // Redirect based on user type\r\n                    setTimeout(() => {\r\n                        window.location.href = response.data.redirect || '/admin';\r\n                    }, 1000);\r\n                } else {\r\n                    showAlert(response.data.error || response.data.message || '\u0641\u0634\u0644 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644');\r\n                    loginBtn.disabled = false;\r\n                    loginBtn.innerHTML = '<i class=\"fas fa-sign-in-alt ml-2\"></i> \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644';\r\n                }\r\n            } catch (error) {\r\n                console.error('\u274C Login error:', error);\r\n                const errorMsg = error.response?.data?.error || error.response?.data?.message || '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.';\r\n                showAlert(errorMsg);\r\n                loginBtn.disabled = false;\r\n                loginBtn.innerHTML = '<i class=\"fas fa-sign-in-alt ml-2\"></i> \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644';\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const forgotPasswordPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 - \u0645\u0646\u0635\u0629 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <style>\r\n        .gradient-bg {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n        }\r\n        .glass-effect {\r\n            background: rgba(255, 255, 255, 0.95);\r\n            backdrop-filter: blur(10px);\r\n            border: 1px solid rgba(255, 255, 255, 0.3);\r\n        }\r\n        .input-focus:focus {\r\n            border-color: #667eea;\r\n            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n        }\r\n        @keyframes fadeIn {\r\n            from { opacity: 0; transform: scale(0.9); }\r\n            to { opacity: 1; transform: scale(1); }\r\n        }\r\n        .animate-fade-in {\r\n            animation: fadeIn 0.3s ease-out;\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"gradient-bg min-h-screen flex items-center justify-center p-4\">\r\n    <div class=\"container max-w-md\">\r\n        <!-- Reset Password Card -->\r\n        <div class=\"glass-effect rounded-2xl shadow-2xl p-8 animate-fade-in\">\r\n            <!-- Step 1: Email Input -->\r\n            <div id=\"step1\">\r\n                <div class=\"text-center mb-8\">\r\n                    <div class=\"inline-block bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full p-4 mb-4\">\r\n                        <i class=\"fas fa-key text-4xl\"></i>\r\n                    </div>\r\n                    <h1 class=\"text-3xl font-bold text-gray-800 mb-2\">\u0646\u0633\u064A\u062A \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\u061F</h1>\r\n                    <p class=\"text-gray-600\">\u0644\u0627 \u062A\u0642\u0644\u0642\u060C \u0633\u0646\u0633\u0627\u0639\u062F\u0643 \u0639\u0644\u0649 \u0627\u0633\u062A\u0639\u0627\u062F\u062A\u0647\u0627</p>\r\n                </div>\r\n\r\n                <div id=\"alertMessage\" class=\"hidden mb-4 p-4 rounded-lg\"></div>\r\n\r\n                <form id=\"emailForm\" class=\"space-y-6\">\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-envelope text-orange-600 ml-2\"></i>\r\n                            \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0623\u0648 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n                        </label>\r\n                        <input type=\"text\" id=\"email\" required\r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg input-focus transition\"\r\n                               placeholder=\"\u0623\u062F\u062E\u0644 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\">\r\n                        <p class=\"text-sm text-gray-500 mt-2\">\r\n                            <i class=\"fas fa-info-circle ml-1\"></i>\r\n                            \u0633\u0646\u0631\u0633\u0644 \u0644\u0643 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642 \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\r\n                        </p>\r\n                    </div>\r\n\r\n                    <button type=\"submit\" id=\"sendCodeBtn\"\r\n                            class=\"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg font-bold hover:from-orange-700 hover:to-red-700 transition transform hover:scale-105\">\r\n                        <i class=\"fas fa-paper-plane ml-2\"></i>\r\n                        \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n            <!-- Step 2: Verification Code -->\r\n            <div id=\"step2\" class=\"hidden\">\r\n                <div class=\"text-center mb-8\">\r\n                    <div class=\"inline-block bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-full p-4 mb-4\">\r\n                        <i class=\"fas fa-shield-alt text-4xl\"></i>\r\n                    </div>\r\n                    <h1 class=\"text-3xl font-bold text-gray-800 mb-2\">\u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642</h1>\r\n                    <p class=\"text-gray-600\">\u0623\u062F\u062E\u0644 \u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0631\u0633\u0644 \u0625\u0644\u0649 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</p>\r\n                    <p class=\"text-sm text-gray-500 mt-2\" id=\"emailDisplay\"></p>\r\n                </div>\r\n\r\n                <div id=\"alertMessage2\" class=\"hidden mb-4 p-4 rounded-lg\"></div>\r\n\r\n                <form id=\"verifyForm\" class=\"space-y-6\">\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2 text-center\">\r\n                            <i class=\"fas fa-hashtag text-blue-600 ml-2\"></i>\r\n                            \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642\r\n                        </label>\r\n                        <input type=\"text\" id=\"verificationCode\" required maxlength=\"6\"\r\n                               class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg input-focus transition text-center text-2xl tracking-widest\"\r\n                               placeholder=\"000000\">\r\n                    </div>\r\n\r\n                    <button type=\"submit\" id=\"verifyBtn\"\r\n                            class=\"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg font-bold hover:from-blue-700 hover:to-indigo-700 transition transform hover:scale-105\">\r\n                        <i class=\"fas fa-check-circle ml-2\"></i>\r\n                        \u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0631\u0645\u0632\r\n                    </button>\r\n\r\n                    <button type=\"button\" onclick=\"resendCode()\" id=\"resendBtn\"\r\n                            class=\"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-300 transition\">\r\n                        <i class=\"fas fa-redo ml-2\"></i>\r\n                        \u0625\u0639\u0627\u062F\u0629 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0645\u0632\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n            <!-- Step 3: New Password -->\r\n            <div id=\"step3\" class=\"hidden\">\r\n                <div class=\"text-center mb-8\">\r\n                    <div class=\"inline-block bg-gradient-to-br from-green-500 to-teal-600 text-white rounded-full p-4 mb-4\">\r\n                        <i class=\"fas fa-lock text-4xl\"></i>\r\n                    </div>\r\n                    <h1 class=\"text-3xl font-bold text-gray-800 mb-2\">\u0643\u0644\u0645\u0629 \u0633\u0631 \u062C\u062F\u064A\u062F\u0629</h1>\r\n                    <p class=\"text-gray-600\">\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629</p>\r\n                </div>\r\n\r\n                <div id=\"alertMessage3\" class=\"hidden mb-4 p-4 rounded-lg\"></div>\r\n\r\n                <form id=\"resetForm\" class=\"space-y-6\">\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-lock text-green-600 ml-2\"></i>\r\n                            \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629\r\n                        </label>\r\n                        <div class=\"relative\">\r\n                            <input type=\"password\" id=\"newPassword\" required minlength=\"8\"\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg input-focus transition\"\r\n                                   placeholder=\"\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629\">\r\n                            <button type=\"button\" onclick=\"togglePassword('newPassword', 'icon1')\" \r\n                                    class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">\r\n                                <i id=\"icon1\" class=\"fas fa-eye\"></i>\r\n                            </button>\r\n                        </div>\r\n                        <p class=\"text-xs text-gray-500 mt-1\">\u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 8 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644</p>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label class=\"block text-gray-700 font-bold mb-2\">\r\n                            <i class=\"fas fa-check-double text-green-600 ml-2\"></i>\r\n                            \u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\r\n                        </label>\r\n                        <div class=\"relative\">\r\n                            <input type=\"password\" id=\"confirmPassword\" required minlength=\"8\"\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg input-focus transition\"\r\n                                   placeholder=\"\u0623\u0639\u062F \u0625\u062F\u062E\u0627\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\">\r\n                            <button type=\"button\" onclick=\"togglePassword('confirmPassword', 'icon2')\" \r\n                                    class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">\r\n                                <i id=\"icon2\" class=\"fas fa-eye\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button type=\"submit\" id=\"resetBtn\"\r\n                            class=\"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-3 rounded-lg font-bold hover:from-green-700 hover:to-teal-700 transition transform hover:scale-105\">\r\n                        <i class=\"fas fa-save ml-2\"></i>\r\n                        \u062D\u0641\u0638 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n            <!-- Back to Login -->\r\n            <div class=\"text-center mt-6\">\r\n                <a href=\"/login\" class=\"text-purple-600 hover:text-purple-800 font-bold\">\r\n                    <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                    \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script>\r\n        let userEmail = '';\r\n        let resetToken = '';\r\n\r\n        function showAlert(step, message, type = 'error') {\r\n            const alertDiv = document.getElementById(\\`alertMessage\\${step > 1 ? step : ''}\\`);\r\n            alertDiv.className = \\`mb-4 p-4 rounded-lg \\${type === 'error' ? 'bg-red-100 border-2 border-red-500 text-red-800' : 'bg-green-100 border-2 border-green-500 text-green-800'}\\`;\r\n            alertDiv.innerHTML = \\`\r\n                <div class=\"flex items-center\">\r\n                    <i class=\"fas fa-\\${type === 'error' ? 'exclamation-circle' : 'check-circle'} text-2xl ml-3\"></i>\r\n                    <span>\\${message}</span>\r\n                </div>\r\n            \\`;\r\n            alertDiv.classList.remove('hidden');\r\n        }\r\n\r\n        function goToStep(step) {\r\n            document.getElementById('step1').classList.add('hidden');\r\n            document.getElementById('step2').classList.add('hidden');\r\n            document.getElementById('step3').classList.add('hidden');\r\n            document.getElementById(\\`step\\${step}\\`).classList.remove('hidden');\r\n        }\r\n\r\n        function togglePassword(inputId, iconId) {\r\n            const input = document.getElementById(inputId);\r\n            const icon = document.getElementById(iconId);\r\n            \r\n            if (input.type === 'password') {\r\n                input.type = 'text';\r\n                icon.classList.replace('fa-eye', 'fa-eye-slash');\r\n            } else {\r\n                input.type = 'password';\r\n                icon.classList.replace('fa-eye-slash', 'fa-eye');\r\n            }\r\n        }\r\n\r\n        // Step 1: Send verification code\r\n        document.getElementById('emailForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            \r\n            const email = document.getElementById('email').value;\r\n            const btn = document.getElementById('sendCodeBtn');\r\n            \r\n            btn.disabled = true;\r\n            btn.innerHTML = '<i class=\"fas fa-spinner fa-spin ml-2\"></i> \u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644...';\r\n            \r\n            try {\r\n                const response = await axios.post('/api/auth/forgot-password', { email });\r\n                \r\n                if (response.data.success) {\r\n                    userEmail = email;\r\n                    document.getElementById('emailDisplay').textContent = email;\r\n                    showAlert(1, '\u2713 \u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642 \u0625\u0644\u0649 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A', 'success');\r\n                    setTimeout(() => goToStep(2), 1500);\r\n                } else {\r\n                    showAlert(1, response.data.message || '\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642');\r\n                    btn.disabled = false;\r\n                    btn.innerHTML = '<i class=\"fas fa-paper-plane ml-2\"></i> \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642';\r\n                }\r\n            } catch (error) {\r\n                console.error('Error:', error);\r\n                showAlert(1, error.response?.data?.message || '\u062D\u062F\u062B \u062E\u0637\u0623. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.');\r\n                btn.disabled = false;\r\n                btn.innerHTML = '<i class=\"fas fa-paper-plane ml-2\"></i> \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642';\r\n            }\r\n        });\r\n\r\n        // Step 2: Verify code\r\n        document.getElementById('verifyForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            \r\n            const code = document.getElementById('verificationCode').value;\r\n            const btn = document.getElementById('verifyBtn');\r\n            \r\n            btn.disabled = true;\r\n            btn.innerHTML = '<i class=\"fas fa-spinner fa-spin ml-2\"></i> \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642...';\r\n            \r\n            try {\r\n                const response = await axios.post('/api/auth/verify-reset-code', {\r\n                    email: userEmail,\r\n                    code: code\r\n                });\r\n                \r\n                if (response.data.success) {\r\n                    resetToken = response.data.token;\r\n                    showAlert(2, '\u2713 \u062A\u0645 \u0627\u0644\u062A\u062D\u0642\u0642 \u0628\u0646\u062C\u0627\u062D!', 'success');\r\n                    setTimeout(() => goToStep(3), 1000);\r\n                } else {\r\n                    showAlert(2, response.data.message || '\u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D');\r\n                    btn.disabled = false;\r\n                    btn.innerHTML = '<i class=\"fas fa-check-circle ml-2\"></i> \u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0631\u0645\u0632';\r\n                }\r\n            } catch (error) {\r\n                console.error('Error:', error);\r\n                showAlert(2, error.response?.data?.message || '\u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D');\r\n                btn.disabled = false;\r\n                btn.innerHTML = '<i class=\"fas fa-check-circle ml-2\"></i> \u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0631\u0645\u0632';\r\n            }\r\n        });\r\n\r\n        // Step 3: Reset password\r\n        document.getElementById('resetForm').addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            \r\n            const newPassword = document.getElementById('newPassword').value;\r\n            const confirmPassword = document.getElementById('confirmPassword').value;\r\n            const btn = document.getElementById('resetBtn');\r\n            \r\n            if (newPassword !== confirmPassword) {\r\n                showAlert(3, '\u0643\u0644\u0645\u062A\u0627 \u0627\u0644\u0633\u0631 \u063A\u064A\u0631 \u0645\u062A\u0637\u0627\u0628\u0642\u062A\u064A\u0646');\r\n                return;\r\n            }\r\n            \r\n            if (newPassword.length < 8) {\r\n                showAlert(3, '\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 8 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644');\r\n                return;\r\n            }\r\n            \r\n            btn.disabled = true;\r\n            btn.innerHTML = '<i class=\"fas fa-spinner fa-spin ml-2\"></i> \u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...';\r\n            \r\n            try {\r\n                const response = await axios.post('/api/auth/reset-password', {\r\n                    email: userEmail,\r\n                    token: resetToken,\r\n                    newPassword: newPassword\r\n                });\r\n                \r\n                if (response.data.success) {\r\n                    showAlert(3, '\u2713 \u062A\u0645 \u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0628\u0646\u062C\u0627\u062D! \u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0648\u064A\u0644...', 'success');\r\n                    setTimeout(() => {\r\n                        window.location.href = '/login';\r\n                    }, 2000);\r\n                } else {\r\n                    showAlert(3, response.data.message || '\u0641\u0634\u0644 \u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631');\r\n                    btn.disabled = false;\r\n                    btn.innerHTML = '<i class=\"fas fa-save ml-2\"></i> \u062D\u0641\u0638 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629';\r\n                }\r\n            } catch (error) {\r\n                console.error('Error:', error);\r\n                showAlert(3, error.response?.data?.message || '\u062D\u062F\u062B \u062E\u0637\u0623. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.');\r\n                btn.disabled = false;\r\n                btn.innerHTML = '<i class=\"fas fa-save ml-2\"></i> \u062D\u0641\u0638 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629';\r\n            }\r\n        });\r\n\r\n        async function resendCode() {\r\n            const btn = document.getElementById('resendBtn');\r\n            btn.disabled = true;\r\n            btn.innerHTML = '<i class=\"fas fa-spinner fa-spin ml-2\"></i> \u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644...';\r\n            \r\n            try {\r\n                await axios.post('/api/auth/forgot-password', { email: userEmail });\r\n                showAlert(2, '\u2713 \u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642', 'success');\r\n            } catch (error) {\r\n                showAlert(2, '\u0641\u0634\u0644 \u0625\u0639\u0627\u062F\u0629 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0645\u0632');\r\n            }\r\n            \r\n            btn.disabled = false;\r\n            btn.innerHTML = '<i class=\"fas fa-redo ml-2\"></i> \u0625\u0639\u0627\u062F\u0629 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0645\u0632';\r\n        }\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const packagesPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0628\u0627\u0642\u0627\u062A \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 - \u0645\u0646\u0635\u0629 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <style>\r\n        .gradient-header {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n        }\r\n        .package-card {\r\n            transition: all 0.3s ease;\r\n        }\r\n        .package-card:hover {\r\n            transform: translateY(-10px);\r\n            box-shadow: 0 20px 40px rgba(0,0,0,0.15);\r\n        }\r\n        .feature-item {\r\n            display: flex;\r\n            align-items: start;\r\n            padding: 12px 0;\r\n            border-bottom: 1px solid #f0f0f0;\r\n        }\r\n        .feature-item:last-child {\r\n            border-bottom: none;\r\n        }\r\n        .popular-badge {\r\n            animation: pulse 2s infinite;\r\n        }\r\n        @keyframes pulse {\r\n            0%, 100% { opacity: 1; }\r\n            50% { opacity: 0.7; }\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <!-- Header -->\r\n    <div class=\"gradient-header text-white py-16\">\r\n        <div class=\"container mx-auto px-4\">\r\n            <div class=\"text-center\">\r\n                <h1 class=\"text-5xl font-bold mb-4\">\r\n                    <i class=\"fas fa-box-open ml-3\"></i>\r\n                    \u0628\u0627\u0642\u0627\u062A \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\r\n                </h1>\r\n                <p class=\"text-xl text-purple-100\">\u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0627\u0642\u0629 \u0627\u0644\u0645\u0646\u0627\u0633\u0628\u0629 \u0644\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A \u0634\u0631\u0643\u062A\u0643</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Packages Container -->\r\n    <div class=\"container mx-auto px-4 py-12\">\r\n        <!-- Loading -->\r\n        <div id=\"loading\" class=\"text-center py-12\">\r\n            <i class=\"fas fa-spinner fa-spin text-6xl text-purple-600\"></i>\r\n            <p class=\"text-gray-600 mt-4 text-xl\">\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u0627\u0642\u0627\u062A...</p>\r\n        </div>\r\n\r\n        <!-- Packages Grid -->\r\n        <div id=\"packagesGrid\" class=\"hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto\">\r\n            <!-- Packages will be loaded here -->\r\n        </div>\r\n\r\n        <!-- No Packages -->\r\n        <div id=\"noPackages\" class=\"hidden text-center py-12\">\r\n            <i class=\"fas fa-inbox text-6xl text-gray-400 mb-4\"></i>\r\n            <p class=\"text-gray-600 text-xl\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u0627\u0642\u0627\u062A \u0645\u062A\u0627\u062D\u0629 \u062D\u0627\u0644\u064A\u0627\u064B</p>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Features Comparison Section -->\r\n    <div class=\"bg-white py-16 mt-12\">\r\n        <div class=\"container mx-auto px-4\">\r\n            <h2 class=\"text-4xl font-bold text-center mb-12 text-gray-800\">\r\n                <i class=\"fas fa-chart-bar text-purple-600 ml-3\"></i>\r\n                \u0645\u0642\u0627\u0631\u0646\u0629 \u0627\u0644\u0645\u0645\u064A\u0632\u0627\u062A\r\n            </h2>\r\n            <div class=\"max-w-6xl mx-auto overflow-x-auto\">\r\n                <table class=\"w-full border-collapse\" id=\"comparisonTable\">\r\n                    <thead>\r\n                        <tr class=\"bg-gradient-to-r from-purple-600 to-indigo-600 text-white\">\r\n                            <th class=\"px-6 py-4 text-right\">\u0627\u0644\u0645\u064A\u0632\u0629</th>\r\n                            <!-- Package columns will be added dynamically -->\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"comparisonBody\">\r\n                        <!-- Rows will be added dynamically -->\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- CTA Section -->\r\n    <div class=\"gradient-header text-white py-16\">\r\n        <div class=\"container mx-auto px-4 text-center\">\r\n            <h2 class=\"text-4xl font-bold mb-4\">\u0647\u0644 \u0644\u062F\u064A\u0643 \u0623\u0633\u0626\u0644\u0629\u061F</h2>\r\n            <p class=\"text-xl mb-8\">\u0641\u0631\u064A\u0642\u0646\u0627 \u0645\u0633\u062A\u0639\u062F \u0644\u0645\u0633\u0627\u0639\u062F\u062A\u0643 \u0641\u064A \u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0628\u0627\u0642\u0629 \u0627\u0644\u0645\u0646\u0627\u0633\u0628\u0629</p>\r\n            <div class=\"flex justify-center gap-4\">\r\n                <a href=\"/login\" class=\"bg-white text-purple-600 px-8 py-4 rounded-lg font-bold hover:bg-gray-100 transition\">\r\n                    <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                    \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644\r\n                </a>\r\n                <a href=\"/\" class=\"bg-purple-800 text-white px-8 py-4 rounded-lg font-bold hover:bg-purple-900 transition\">\r\n                    <i class=\"fas fa-home ml-2\"></i>\r\n                    \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Footer -->\r\n    <footer class=\"bg-gray-800 text-white py-8\">\r\n        <div class=\"container mx-auto px-4 text-center\">\r\n            <p>\u00A9 2025 \u0645\u0646\u0635\u0629 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644. \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0642 \u0645\u062D\u0641\u0648\u0638\u0629.</p>\r\n        </div>\r\n    </footer>\r\n\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script>\r\n        let packages = [];\r\n\r\n        async function loadPackages() {\r\n            try {\r\n                const response = await axios.get('/api/packages');\r\n                \r\n                if (response.data.success) {\r\n                    packages = response.data.data.filter(pkg => pkg.is_active === 1);\r\n                    \r\n                    if (packages.length === 0) {\r\n                        document.getElementById('loading').classList.add('hidden');\r\n                        document.getElementById('noPackages').classList.remove('hidden');\r\n                        return;\r\n                    }\r\n                    \r\n                    renderPackages();\r\n                    renderComparison();\r\n                    \r\n                    document.getElementById('loading').classList.add('hidden');\r\n                    document.getElementById('packagesGrid').classList.remove('hidden');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading packages:', error);\r\n                document.getElementById('loading').innerHTML = \\`\r\n                    <i class=\"fas fa-exclamation-circle text-6xl text-red-500\"></i>\r\n                    <p class=\"text-red-600 mt-4 text-xl\">\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u0627\u0642\u0627\u062A</p>\r\n                \\`;\r\n            }\r\n        }\r\n\r\n        function renderPackages() {\r\n            const grid = document.getElementById('packagesGrid');\r\n            \r\n            const html = packages.map((pkg, index) => {\r\n                const isPopular = pkg.is_popular === 1;\r\n                const features = JSON.parse(pkg.features || '[]');\r\n                const priceMonthly = parseFloat(pkg.price_monthly || 0);\r\n                const priceYearly = parseFloat(pkg.price_yearly || 0);\r\n                const discount = priceYearly > 0 ? Math.round((1 - (priceYearly / (priceMonthly * 12))) * 100) : 0;\r\n                \r\n                return \\`\r\n                    <div class=\"package-card bg-white rounded-2xl shadow-xl overflow-hidden relative \\${isPopular ? 'ring-4 ring-purple-500' : ''}\">\r\n                        \\${isPopular ? \\`\r\n                            <div class=\"absolute top-0 left-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-bl-2xl popular-badge\">\r\n                                <i class=\"fas fa-star ml-2\"></i>\r\n                                \u0627\u0644\u0623\u0643\u062B\u0631 \u0634\u0639\u0628\u064A\u0629\r\n                            </div>\r\n                        \\` : ''}\r\n                        \r\n                        <div class=\"p-8 \\${isPopular ? 'pt-16' : ''}\">\r\n                            <!-- Package Icon -->\r\n                            <div class=\"text-center mb-6\">\r\n                                <div class=\"inline-block bg-gradient-to-br from-\\${index === 0 ? 'blue' : index === 1 ? 'purple' : 'orange'}-500 to-\\${index === 0 ? 'indigo' : index === 1 ? 'pink' : 'red'}-600 text-white rounded-full p-6 mb-4\">\r\n                                    <i class=\"fas fa-\\${index === 0 ? 'rocket' : index === 1 ? 'crown' : 'star'} text-4xl\"></i>\r\n                                </div>\r\n                                <h3 class=\"text-3xl font-bold text-gray-800\">\\${pkg.package_name}</h3>\r\n                                <p class=\"text-gray-600 mt-2\">\\${pkg.description || ''}</p>\r\n                            </div>\r\n\r\n                            <!-- Pricing -->\r\n                            <div class=\"text-center mb-8 pb-8 border-b-2 border-gray-200\">\r\n                                <div class=\"mb-4\">\r\n                                    <span class=\"text-5xl font-bold text-gray-800\">\\${priceMonthly.toLocaleString()}</span>\r\n                                    <span class=\"text-gray-600\"> \u0631\u064A\u0627\u0644 / \u0634\u0647\u0631\u064A\u0627\u064B</span>\r\n                                </div>\r\n                                \\${priceYearly > 0 ? \\`\r\n                                    <div class=\"bg-green-50 border-2 border-green-500 rounded-lg p-3 inline-block\">\r\n                                        <p class=\"text-green-800 font-bold\">\r\n                                            <i class=\"fas fa-tag ml-2\"></i>\r\n                                            \u0648\u0641\u0651\u0631 \\${discount}% \u0628\u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0627\u0644\u0633\u0646\u0648\u064A\r\n                                        </p>\r\n                                        <p class=\"text-green-700\">\\${priceYearly.toLocaleString()} \u0631\u064A\u0627\u0644 / \u0633\u0646\u0648\u064A\u0627\u064B</p>\r\n                                    </div>\r\n                                \\` : ''}\r\n                            </div>\r\n\r\n                            <!-- Features -->\r\n                            <div class=\"mb-8\">\r\n                                <h4 class=\"font-bold text-gray-800 mb-4 text-lg\">\r\n                                    <i class=\"fas fa-check-circle text-green-600 ml-2\"></i>\r\n                                    \u0627\u0644\u0645\u0645\u064A\u0632\u0627\u062A \u0627\u0644\u0645\u062A\u0636\u0645\u0646\u0629:\r\n                                </h4>\r\n                                <div class=\"space-y-3\">\r\n                                    \\${features.map(feature => \\`\r\n                                        <div class=\"feature-item\">\r\n                                            <i class=\"fas fa-check text-green-500 ml-3 mt-1\"></i>\r\n                                            <span class=\"text-gray-700\">\\${feature}</span>\r\n                                        </div>\r\n                                    \\`).join('')}\r\n                                    \r\n                                    <!-- Package Limits -->\r\n                                    <div class=\"feature-item\">\r\n                                        <i class=\"fas fa-users text-blue-500 ml-3 mt-1\"></i>\r\n                                        <span class=\"text-gray-700\">\u062D\u062A\u0649 \\${pkg.max_users || '\u063A\u064A\u0631 \u0645\u062D\u062F\u0648\u062F'} \u0645\u0633\u062A\u062E\u062F\u0645</span>\r\n                                    </div>\r\n                                    <div class=\"feature-item\">\r\n                                        <i class=\"fas fa-database text-purple-500 ml-3 mt-1\"></i>\r\n                                        <span class=\"text-gray-700\">\\${pkg.storage_gb || '\u063A\u064A\u0631 \u0645\u062D\u062F\u0648\u062F'} \u062C\u064A\u062C\u0627\u0628\u0627\u064A\u062A \u062A\u062E\u0632\u064A\u0646</span>\r\n                                    </div>\r\n                                    <div class=\"feature-item\">\r\n                                        <i class=\"fas fa-headset text-orange-500 ml-3 mt-1\"></i>\r\n                                        <span class=\"text-gray-700\">\u062F\u0639\u0645 \u0641\u0646\u064A \\${pkg.support_level || '\u0623\u0633\u0627\u0633\u064A'}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <!-- CTA Button -->\r\n                            <button onclick=\"subscribePackage(\\${pkg.id}, '\\${pkg.package_name}')\" \r\n                                    class=\"w-full bg-gradient-to-r from-\\${index === 0 ? 'blue' : index === 1 ? 'purple' : 'orange'}-600 to-\\${index === 0 ? 'indigo' : index === 1 ? 'pink' : 'red'}-600 text-white py-4 rounded-lg font-bold hover:shadow-lg transition transform hover:scale-105\">\r\n                                <i class=\"fas fa-shopping-cart ml-2\"></i>\r\n                                \u0627\u0634\u062A\u0631\u0643 \u0627\u0644\u0622\u0646\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                \\`;\r\n            }).join('');\r\n            \r\n            grid.innerHTML = html;\r\n        }\r\n\r\n        function renderComparison() {\r\n            const thead = document.querySelector('#comparisonTable thead tr');\r\n            const tbody = document.getElementById('comparisonBody');\r\n            \r\n            // Add package columns to header\r\n            packages.forEach((pkg, index) => {\r\n                const th = document.createElement('th');\r\n                th.className = 'px-6 py-4 text-center';\r\n                th.innerHTML = \\`\r\n                    <div class=\"font-bold\">\\${pkg.package_name}</div>\r\n                    <div class=\"text-sm font-normal\">\\${parseFloat(pkg.price_monthly).toLocaleString()} \u0631\u064A\u0627\u0644/\u0634\u0647\u0631</div>\r\n                \\`;\r\n                thead.appendChild(th);\r\n            });\r\n            \r\n            // Comparison features\r\n            const comparisonFeatures = [\r\n                { label: '\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646', key: 'max_users' },\r\n                { label: '\u0645\u0633\u0627\u062D\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646', key: 'storage_gb', suffix: ' \u062C\u064A\u062C\u0627\u0628\u0627\u064A\u062A' },\r\n                { label: '\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062F\u0639\u0645', key: 'support_level' },\r\n                { label: '\u062A\u0642\u0627\u0631\u064A\u0631 \u0645\u062A\u0642\u062F\u0645\u0629', key: 'advanced_reports', type: 'bool' },\r\n                { label: '\u0648\u0627\u062C\u0647\u0629 \u0628\u0631\u0645\u062C\u064A\u0629 API', key: 'api_access', type: 'bool' }\r\n            ];\r\n            \r\n            comparisonFeatures.forEach(feature => {\r\n                const tr = document.createElement('tr');\r\n                tr.className = 'border-b hover:bg-gray-50';\r\n                tr.innerHTML = \\`<td class=\"px-6 py-4 font-bold text-gray-700\">\\${feature.label}</td>\\`;\r\n                \r\n                packages.forEach(pkg => {\r\n                    const td = document.createElement('td');\r\n                    td.className = 'px-6 py-4 text-center';\r\n                    \r\n                    let value = pkg[feature.key];\r\n                    if (feature.type === 'bool') {\r\n                        value = value === 1 ? '<i class=\"fas fa-check text-green-600 text-2xl\"></i>' : '<i class=\"fas fa-times text-red-600 text-2xl\"></i>';\r\n                    } else {\r\n                        value = value + (feature.suffix || '');\r\n                    }\r\n                    \r\n                    td.innerHTML = value;\r\n                    tr.appendChild(td);\r\n                });\r\n                \r\n                tbody.appendChild(tr);\r\n            });\r\n        }\r\n\r\n        function subscribePackage(packageId, packageName) {\r\n            // Redirect to subscription request page\r\n            window.location.href = \\`/subscribe?package=\\${packageId}\\`;\r\n        }\r\n\r\n        // Load packages on page load\r\n        loadPackages();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const subscribePage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0637\u0644\u0628 \u0627\u0634\u062A\u0631\u0627\u0643 - \u0645\u0646\u0635\u0629 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <style>\r\n        .gradient-header {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n        }\r\n        .step-indicator {\r\n            transition: all 0.3s ease;\r\n        }\r\n        .step-indicator.active {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n        }\r\n        .step-indicator.completed {\r\n            background: #10b981;\r\n            color: white;\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <!-- Header -->\r\n    <div class=\"gradient-header text-white py-12\">\r\n        <div class=\"container mx-auto px-4\">\r\n            <div class=\"max-w-4xl mx-auto\">\r\n                <h1 class=\"text-4xl font-bold mb-4\">\r\n                    <i class=\"fas fa-clipboard-list ml-3\"></i>\r\n                    \u0637\u0644\u0628 \u0627\u0634\u062A\u0631\u0627\u0643 \u062C\u062F\u064A\u062F\r\n                </h1>\r\n                <p class=\"text-purple-100 text-lg\">\u0627\u0645\u0644\u0623 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u0627\u0644\u064A\u0629 \u0644\u0625\u062A\u0645\u0627\u0645 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Progress Steps -->\r\n    <div class=\"bg-white shadow-md py-6\">\r\n        <div class=\"container mx-auto px-4\">\r\n            <div class=\"max-w-4xl mx-auto\">\r\n                <div class=\"flex justify-between items-center\">\r\n                    <div class=\"flex items-center flex-1\">\r\n                        <div id=\"step1-indicator\" class=\"step-indicator active w-12 h-12 rounded-full flex items-center justify-center font-bold border-4 border-white shadow-lg\">1</div>\r\n                        <div class=\"flex-1 h-1 bg-gray-300 mx-2\"></div>\r\n                    </div>\r\n                    <div class=\"flex items-center flex-1\">\r\n                        <div id=\"step2-indicator\" class=\"step-indicator w-12 h-12 rounded-full flex items-center justify-center font-bold bg-gray-300 border-4 border-white shadow-lg\">2</div>\r\n                        <div class=\"flex-1 h-1 bg-gray-300 mx-2\"></div>\r\n                    </div>\r\n                    <div class=\"flex items-center flex-1\">\r\n                        <div id=\"step3-indicator\" class=\"step-indicator w-12 h-12 rounded-full flex items-center justify-center font-bold bg-gray-300 border-4 border-white shadow-lg\">3</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"flex justify-between mt-2 text-sm\">\r\n                    <span class=\"flex-1 text-center font-bold\">\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0629</span>\r\n                    <span class=\"flex-1 text-center\">\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0633\u0624\u0648\u0644</span>\r\n                    <span class=\"flex-1 text-center\">\u0645\u0631\u0627\u062C\u0639\u0629 \u0648\u0625\u0631\u0633\u0627\u0644</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Main Content -->\r\n    <div class=\"container mx-auto px-4 py-12\">\r\n        <div class=\"max-w-4xl mx-auto\">\r\n            <!-- Alert Messages -->\r\n            <div id=\"alertMessage\" class=\"hidden mb-6 p-4 rounded-lg\"></div>\r\n\r\n            <!-- Step 1: Company Information -->\r\n            <div id=\"step1\" class=\"bg-white rounded-2xl shadow-xl p-8\">\r\n                <h2 class=\"text-3xl font-bold text-gray-800 mb-6 flex items-center\">\r\n                    <i class=\"fas fa-building text-purple-600 ml-3 text-4xl\"></i>\r\n                    \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0629\r\n                </h2>\r\n\r\n                <form id=\"companyForm\" class=\"space-y-6\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-building text-blue-600 ml-2\"></i>\r\n                                \u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 *\r\n                            </label>\r\n                            <input type=\"text\" id=\"company_name\" required\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-id-card text-green-600 ml-2\"></i>\r\n                                \u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u064A *\r\n                            </label>\r\n                            <input type=\"text\" id=\"commercial_register\" required\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-envelope text-purple-600 ml-2\"></i>\r\n                                \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0644\u0644\u0634\u0631\u0643\u0629 *\r\n                            </label>\r\n                            <input type=\"email\" id=\"company_email\" required\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-phone text-orange-600 ml-2\"></i>\r\n                                \u0647\u0627\u062A\u0641 \u0627\u0644\u0634\u0631\u0643\u0629 *\r\n                            </label>\r\n                            <input type=\"tel\" id=\"company_phone\" required\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\"\r\n                                   placeholder=\"05xxxxxxxx\">\r\n                        </div>\r\n\r\n                        <div class=\"md:col-span-2\">\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-map-marker-alt text-red-600 ml-2\"></i>\r\n                                \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0634\u0631\u0643\u0629 *\r\n                            </label>\r\n                            <textarea id=\"company_address\" required rows=\"3\"\r\n                                      class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\"></textarea>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-city text-indigo-600 ml-2\"></i>\r\n                                \u0627\u0644\u0645\u062F\u064A\u0646\u0629 *\r\n                            </label>\r\n                            <input type=\"text\" id=\"city\" required\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-briefcase text-teal-600 ml-2\"></i>\r\n                                \u0646\u0648\u0639 \u0627\u0644\u0646\u0634\u0627\u0637 *\r\n                            </label>\r\n                            <select id=\"business_type\" required\r\n                                    class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                                <option value=\"\">\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0646\u0634\u0627\u0637</option>\r\n                                <option value=\"finance\">\u0645\u0627\u0644\u064A</option>\r\n                                <option value=\"banking\">\u0628\u0646\u0643\u064A</option>\r\n                                <option value=\"insurance\">\u062A\u0623\u0645\u064A\u0646</option>\r\n                                <option value=\"real_estate\">\u0639\u0642\u0627\u0631\u064A</option>\r\n                                <option value=\"other\">\u0623\u062E\u0631\u0649</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button type=\"submit\" \r\n                            class=\"w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-4 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-indigo-700 transition transform hover:scale-105\">\r\n                        <span>\u0627\u0644\u062A\u0627\u0644\u064A</span>\r\n                        <i class=\"fas fa-arrow-left mr-2\"></i>\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n            <!-- Step 2: Admin Information -->\r\n            <div id=\"step2\" class=\"hidden bg-white rounded-2xl shadow-xl p-8\">\r\n                <h2 class=\"text-3xl font-bold text-gray-800 mb-6 flex items-center\">\r\n                    <i class=\"fas fa-user-tie text-indigo-600 ml-3 text-4xl\"></i>\r\n                    \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0633\u0624\u0648\u0644\r\n                </h2>\r\n\r\n                <form id=\"adminForm\" class=\"space-y-6\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-user text-blue-600 ml-2\"></i>\r\n                                \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *\r\n                            </label>\r\n                            <input type=\"text\" id=\"admin_name\" required\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-envelope text-purple-600 ml-2\"></i>\r\n                                \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A *\r\n                            </label>\r\n                            <input type=\"email\" id=\"admin_email\" required\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-phone text-green-600 ml-2\"></i>\r\n                                \u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644 *\r\n                            </label>\r\n                            <input type=\"tel\" id=\"admin_phone\" required pattern=\"05[0-9]{8}\"\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\"\r\n                                   placeholder=\"05xxxxxxxx\">\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-briefcase text-orange-600 ml-2\"></i>\r\n                                \u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A *\r\n                            </label>\r\n                            <input type=\"text\" id=\"admin_position\" required\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-user-circle text-indigo-600 ml-2\"></i>\r\n                                \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 *\r\n                            </label>\r\n                            <input type=\"text\" id=\"username\" required\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label class=\"block text-gray-700 font-bold mb-2\">\r\n                                <i class=\"fas fa-lock text-red-600 ml-2\"></i>\r\n                                \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 *\r\n                            </label>\r\n                            <input type=\"password\" id=\"password\" required minlength=\"8\"\r\n                                   class=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition\">\r\n                            <p class=\"text-xs text-gray-500 mt-1\">8 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"flex gap-4\">\r\n                        <button type=\"button\" onclick=\"goToStep(1)\" \r\n                                class=\"flex-1 bg-gray-300 text-gray-800 py-4 rounded-lg font-bold text-lg hover:bg-gray-400 transition\">\r\n                            <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                            \u0627\u0644\u0633\u0627\u0628\u0642\r\n                        </button>\r\n                        <button type=\"submit\" \r\n                                class=\"flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-4 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-indigo-700 transition transform hover:scale-105\">\r\n                            <span>\u0627\u0644\u062A\u0627\u0644\u064A</span>\r\n                            <i class=\"fas fa-arrow-left mr-2\"></i>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            <!-- Step 3: Review & Submit -->\r\n            <div id=\"step3\" class=\"hidden bg-white rounded-2xl shadow-xl p-8\">\r\n                <h2 class=\"text-3xl font-bold text-gray-800 mb-6 flex items-center\">\r\n                    <i class=\"fas fa-check-circle text-green-600 ml-3 text-4xl\"></i>\r\n                    \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A\r\n                </h2>\r\n\r\n                <div class=\"space-y-6\">\r\n                    <!-- Selected Package -->\r\n                    <div class=\"bg-gradient-to-r from-purple-100 to-indigo-100 border-2 border-purple-500 rounded-lg p-6\">\r\n                        <h3 class=\"text-xl font-bold text-purple-800 mb-4\">\u0627\u0644\u0628\u0627\u0642\u0629 \u0627\u0644\u0645\u062E\u062A\u0627\u0631\u0629</h3>\r\n                        <div id=\"packageInfo\"></div>\r\n                    </div>\r\n\r\n                    <!-- Company Info Summary -->\r\n                    <div class=\"border-2 border-gray-200 rounded-lg p-6\">\r\n                        <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0629</h3>\r\n                        <div id=\"companyInfo\" class=\"grid grid-cols-2 gap-4\"></div>\r\n                    </div>\r\n\r\n                    <!-- Admin Info Summary -->\r\n                    <div class=\"border-2 border-gray-200 rounded-lg p-6\">\r\n                        <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0633\u0624\u0648\u0644</h3>\r\n                        <div id=\"adminInfo\" class=\"grid grid-cols-2 gap-4\"></div>\r\n                    </div>\r\n\r\n                    <!-- Terms and Conditions -->\r\n                    <div class=\"bg-yellow-50 border-2 border-yellow-500 rounded-lg p-6\">\r\n                        <label class=\"flex items-start\">\r\n                            <input type=\"checkbox\" id=\"acceptTerms\" class=\"mt-1 ml-3 w-5 h-5 text-purple-600\">\r\n                            <span class=\"text-gray-800\">\r\n                                \u0623\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 <a href=\"#\" class=\"text-purple-600 font-bold hover:text-purple-800\">\u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0623\u062D\u0643\u0627\u0645</a> \r\n                                \u0648 <a href=\"#\" class=\"text-purple-600 font-bold hover:text-purple-800\">\u0633\u064A\u0627\u0633\u0629 \u0627\u0644\u062E\u0635\u0648\u0635\u064A\u0629</a>\r\n                            </span>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <div class=\"flex gap-4\">\r\n                        <button type=\"button\" onclick=\"goToStep(2)\" \r\n                                class=\"flex-1 bg-gray-300 text-gray-800 py-4 rounded-lg font-bold text-lg hover:bg-gray-400 transition\">\r\n                            <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                            \u0627\u0644\u0633\u0627\u0628\u0642\r\n                        </button>\r\n                        <button type=\"button\" onclick=\"submitSubscription()\" id=\"submitBtn\"\r\n                                class=\"flex-1 bg-gradient-to-r from-green-600 to-teal-600 text-white py-4 rounded-lg font-bold text-lg hover:from-green-700 hover:to-teal-700 transition transform hover:scale-105\">\r\n                            <i class=\"fas fa-paper-plane ml-2\"></i>\r\n                            \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script>\r\n        let currentStep = 1;\r\n        let formData = {\r\n            package_id: null,\r\n            company: {},\r\n            admin: {}\r\n        };\r\n        let selectedPackage = null;\r\n\r\n        // Get package ID from URL\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        formData.package_id = urlParams.get('package');\r\n\r\n        async function loadPackageInfo() {\r\n            if (!formData.package_id) {\r\n                window.location.href = '/packages';\r\n                return;\r\n            }\r\n\r\n            try {\r\n                const response = await axios.get('/api/packages');\r\n                selectedPackage = response.data.data.find(p => p.id == formData.package_id);\r\n                \r\n                if (!selectedPackage) {\r\n                    window.location.href = '/packages';\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading package:', error);\r\n            }\r\n        }\r\n\r\n        function showAlert(message, type = 'error') {\r\n            const alertDiv = document.getElementById('alertMessage');\r\n            alertDiv.className = \\`mb-6 p-4 rounded-lg \\${type === 'error' ? 'bg-red-100 border-2 border-red-500 text-red-800' : 'bg-green-100 border-2 border-green-500 text-green-800'}\\`;\r\n            alertDiv.innerHTML = \\`\r\n                <div class=\"flex items-center\">\r\n                    <i class=\"fas fa-\\${type === 'error' ? 'exclamation-circle' : 'check-circle'} text-2xl ml-3\"></i>\r\n                    <span>\\${message}</span>\r\n                </div>\r\n            \\`;\r\n            alertDiv.classList.remove('hidden');\r\n            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n        }\r\n\r\n        function goToStep(step) {\r\n            // Hide all steps\r\n            document.getElementById('step1').classList.add('hidden');\r\n            document.getElementById('step2').classList.add('hidden');\r\n            document.getElementById('step3').classList.add('hidden');\r\n            \r\n            // Show target step\r\n            document.getElementById(\\`step\\${step}\\`).classList.remove('hidden');\r\n            \r\n            // Update step indicators\r\n            for (let i = 1; i <= 3; i++) {\r\n                const indicator = document.getElementById(\\`step\\${i}-indicator\\`);\r\n                if (i < step) {\r\n                    indicator.className = 'step-indicator completed w-12 h-12 rounded-full flex items-center justify-center font-bold border-4 border-white shadow-lg';\r\n                } else if (i === step) {\r\n                    indicator.className = 'step-indicator active w-12 h-12 rounded-full flex items-center justify-center font-bold border-4 border-white shadow-lg';\r\n                } else {\r\n                    indicator.className = 'step-indicator w-12 h-12 rounded-full flex items-center justify-center font-bold bg-gray-300 border-4 border-white shadow-lg';\r\n                }\r\n            }\r\n            \r\n            currentStep = step;\r\n            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n        }\r\n\r\n        // Step 1: Company Form\r\n        document.getElementById('companyForm').addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            \r\n            formData.company = {\r\n                company_name: document.getElementById('company_name').value,\r\n                commercial_register: document.getElementById('commercial_register').value,\r\n                company_email: document.getElementById('company_email').value,\r\n                company_phone: document.getElementById('company_phone').value,\r\n                company_address: document.getElementById('company_address').value,\r\n                city: document.getElementById('city').value,\r\n                business_type: document.getElementById('business_type').value\r\n            };\r\n            \r\n            goToStep(2);\r\n        });\r\n\r\n        // Step 2: Admin Form\r\n        document.getElementById('adminForm').addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            \r\n            formData.admin = {\r\n                admin_name: document.getElementById('admin_name').value,\r\n                admin_email: document.getElementById('admin_email').value,\r\n                admin_phone: document.getElementById('admin_phone').value,\r\n                admin_position: document.getElementById('admin_position').value,\r\n                username: document.getElementById('username').value,\r\n                password: document.getElementById('password').value\r\n            };\r\n            \r\n            showReview();\r\n            goToStep(3);\r\n        });\r\n\r\n        function showReview() {\r\n            // Package Info\r\n            if (selectedPackage) {\r\n                document.getElementById('packageInfo').innerHTML = \\`\r\n                    <div class=\"flex justify-between items-center\">\r\n                        <div>\r\n                            <p class=\"text-2xl font-bold text-purple-800\">\\${selectedPackage.package_name}</p>\r\n                            <p class=\"text-gray-600\">\\${selectedPackage.description || ''}</p>\r\n                        </div>\r\n                        <div class=\"text-left\">\r\n                            <p class=\"text-3xl font-bold text-purple-800\">\\${parseFloat(selectedPackage.price_monthly).toLocaleString()} \u0631\u064A\u0627\u0644</p>\r\n                            <p class=\"text-gray-600\">\u0634\u0647\u0631\u064A\u0627\u064B</p>\r\n                        </div>\r\n                    </div>\r\n                \\`;\r\n            }\r\n            \r\n            // Company Info\r\n            const companyHtml = Object.entries(formData.company).map(([key, value]) => \\`\r\n                <div>\r\n                    <p class=\"text-sm text-gray-600\">\\${getFieldLabel(key)}</p>\r\n                    <p class=\"font-bold text-gray-800\">\\${value}</p>\r\n                </div>\r\n            \\`).join('');\r\n            document.getElementById('companyInfo').innerHTML = companyHtml;\r\n            \r\n            // Admin Info (hide password)\r\n            const adminHtml = Object.entries(formData.admin).filter(([key]) => key !== 'password').map(([key, value]) => \\`\r\n                <div>\r\n                    <p class=\"text-sm text-gray-600\">\\${getFieldLabel(key)}</p>\r\n                    <p class=\"font-bold text-gray-800\">\\${value}</p>\r\n                </div>\r\n            \\`).join('');\r\n            document.getElementById('adminInfo').innerHTML = adminHtml;\r\n        }\r\n\r\n        function getFieldLabel(key) {\r\n            const labels = {\r\n                company_name: '\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629',\r\n                commercial_register: '\u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u064A',\r\n                company_email: '\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A',\r\n                company_phone: '\u0627\u0644\u0647\u0627\u062A\u0641',\r\n                company_address: '\u0627\u0644\u0639\u0646\u0648\u0627\u0646',\r\n                city: '\u0627\u0644\u0645\u062F\u064A\u0646\u0629',\r\n                business_type: '\u0646\u0648\u0639 \u0627\u0644\u0646\u0634\u0627\u0637',\r\n                admin_name: '\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644',\r\n                admin_email: '\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A',\r\n                admin_phone: '\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644',\r\n                admin_position: '\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A',\r\n                username: '\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645'\r\n            };\r\n            return labels[key] || key;\r\n        }\r\n\r\n        async function submitSubscription() {\r\n            if (!document.getElementById('acceptTerms').checked) {\r\n                showAlert('\u064A\u062C\u0628 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0623\u062D\u0643\u0627\u0645');\r\n                return;\r\n            }\r\n            \r\n            const submitBtn = document.getElementById('submitBtn');\r\n            submitBtn.disabled = true;\r\n            submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin ml-2\"></i> \u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644...';\r\n            \r\n            try {\r\n                const response = await axios.post('/api/subscription-requests', formData);\r\n                \r\n                if (response.data.success) {\r\n                    showAlert('\u2713 \u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D! \u0633\u064A\u062A\u0645 \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0642\u0631\u064A\u0628\u0627\u064B', 'success');\r\n                    setTimeout(() => {\r\n                        window.location.href = '/login';\r\n                    }, 3000);\r\n                } else {\r\n                    showAlert(response.data.message || '\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628');\r\n                    submitBtn.disabled = false;\r\n                    submitBtn.innerHTML = '<i class=\"fas fa-paper-plane ml-2\"></i> \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628';\r\n                }\r\n            } catch (error) {\r\n                console.error('Error:', error);\r\n                showAlert(error.response?.data?.message || '\u062D\u062F\u062B \u062E\u0637\u0623. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.');\r\n                submitBtn.disabled = false;\r\n                submitBtn.innerHTML = '<i class=\"fas fa-paper-plane ml-2\"></i> \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628';\r\n            }\r\n        }\r\n\r\n        // Load package info on page load\r\n        loadPackageInfo();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const fullAdminPanel = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"Cache-Control\" content=\"no-cache, no-store, must-revalidate\">\r\n    <meta http-equiv=\"Pragma\" content=\"no-cache\">\r\n    <meta http-equiv=\"Expires\" content=\"0\">\r\n    <title>\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 - \u0646\u0638\u0627\u0645 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script src=\"https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js\"></script>\r\n    <style>\r\n        .content-section { display: none; }\r\n        .content-section.active { display: block; animation: fadeIn 0.5s; }\r\n        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\r\n        .quick-access-btn { box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\r\n        .quick-access-btn:active { transform: scale(0.95) !important; }\r\n        \r\n        /* Enhanced Scrollbar Styles */\r\n        .overflow-x-auto {\r\n            overflow-x: auto;\r\n            -webkit-overflow-scrolling: touch;\r\n            scrollbar-width: thin;\r\n            scrollbar-color: #cbd5e0 #f7fafc;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar {\r\n            height: 8px;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-track {\r\n            background: #f7fafc;\r\n            border-radius: 10px;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-thumb {\r\n            background: #cbd5e0;\r\n            border-radius: 10px;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-thumb:hover {\r\n            background: #a0aec0;\r\n        }\r\n        \r\n        /* Mobile Responsive Styles */\r\n        @media (max-width: 768px) {\r\n            /* Make tables horizontally scrollable */\r\n            .overflow-x-auto {\r\n                -webkit-overflow-scrolling: touch;\r\n            }\r\n            \r\n            /* Adjust padding for mobile */\r\n            .px-6 { padding-left: 1rem; padding-right: 1rem; }\r\n            .px-8 { padding-left: 1rem; padding-right: 1rem; }\r\n            \r\n            /* Make buttons full width on mobile */\r\n            .quick-access-btn {\r\n                width: 100%;\r\n                margin-bottom: 0.5rem;\r\n            }\r\n            \r\n            /* Adjust grid columns for mobile */\r\n            .grid-cols-2 { grid-template-columns: repeat(1, minmax(0, 1fr)); }\r\n            .grid-cols-3 { grid-template-columns: repeat(1, minmax(0, 1fr)); }\r\n            .grid-cols-4 { grid-template-columns: repeat(2, minmax(0, 1fr)); }\r\n            \r\n            /* Hide less important columns on mobile */\r\n            .mobile-hide { display: none; }\r\n            \r\n            /* Make modals full screen on mobile */\r\n            .fixed.inset-0 > div {\r\n                width: 95% !important;\r\n                max-width: 95% !important;\r\n                margin: 1rem auto !important;\r\n                max-height: 90vh !important;\r\n                overflow-y: auto !important;\r\n            }\r\n            \r\n            /* Adjust font sizes */\r\n            .text-3xl { font-size: 1.5rem; }\r\n            .text-2xl { font-size: 1.25rem; }\r\n            \r\n            /* Make sidebar toggleable on mobile */\r\n            #sidebar {\r\n                position: fixed;\r\n                left: -100%;\r\n                transition: left 0.3s ease;\r\n                z-index: 50;\r\n                height: 100vh;\r\n            }\r\n            \r\n            #sidebar.active {\r\n                left: 0;\r\n            }\r\n            \r\n            /* Add overlay for mobile sidebar */\r\n            #sidebar-overlay {\r\n                display: none;\r\n                position: fixed;\r\n                inset: 0;\r\n                background: rgba(0,0,0,0.5);\r\n                z-index: 40;\r\n            }\r\n            \r\n            #sidebar-overlay.active {\r\n                display: block;\r\n            }\r\n        }\r\n        \r\n        /* Tablet Styles */\r\n        @media (min-width: 769px) and (max-width: 1024px) {\r\n            .grid-cols-4 { grid-template-columns: repeat(3, minmax(0, 1fr)); }\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <!-- Top Header -->\r\n    <div class=\"bg-gradient-to-r from-blue-600 to-blue-800 text-white shadow-lg\">\r\n        <div class=\"flex items-center justify-between px-6 py-4\">\r\n            <div class=\"flex items-center space-x-reverse space-x-4\">\r\n                <!-- Mobile Menu Toggle -->\r\n                <button onclick=\"toggleMobileMenu()\" class=\"p-2 hover:bg-white/10 rounded-lg md:hidden\" title=\"\u0627\u0644\u0642\u0627\u0626\u0645\u0629\">\r\n                    <i class=\"fas fa-bars text-xl\"></i>\r\n                </button>\r\n                <button onclick=\"toggleDarkMode()\" class=\"p-2 hover:bg-white/10 rounded-lg hidden md:inline-block\" title=\"\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0644\u064A\u0644\u064A\">\r\n                    <i class=\"fas fa-moon\"></i>\r\n                </button>\r\n                <button class=\"p-2 hover:bg-white/10 rounded-lg hidden md:inline-block\" title=\"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A\">\r\n                    <i class=\"fas fa-bell\"></i>\r\n                </button>\r\n                <button onclick=\"doLogout()\" class=\"p-2 hover:bg-red-500 rounded-lg transition-colors\" title=\"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\">\r\n                    <i class=\"fas fa-sign-out-alt\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"flex items-center space-x-reverse space-x-3\">\r\n                <div class=\"text-right\">\r\n                    <div class=\"font-bold\" id=\"userDisplayName\">\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...</div>\r\n                    <div class=\"text-xs text-blue-200\" id=\"userEmail\">-</div>\r\n                </div>\r\n                <i class=\"fas fa-user-circle text-3xl\"></i>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Main Content \u0628\u062F\u0648\u0646 Sidebar -->\r\n    <div class=\"min-h-screen bg-gray-50\">\r\n        <div class=\"max-w-7xl mx-auto p-6\">\r\n            \r\n            <!-- \u0644\u0648\u062D\u0629 \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0633\u0631\u064A\u0639 -->\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6 mb-8\">\r\n                <h2 class=\"text-2xl font-bold text-gray-800 mb-6 flex items-center\">\r\n                    <i class=\"fas fa-th-large text-blue-600 ml-3\"></i>\r\n                    \u0644\u0648\u062D\u0629 \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0633\u0631\u064A\u0639\r\n                </h2>\r\n                \r\n                <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\">\r\n                    <!-- \u0632\u0631 \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A -->\r\n                    <a href=\"/admin/dashboard\" class=\"quick-access-btn bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-tachometer-alt text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 -->\r\n                    <a href=\"/admin/customers\" class=\"quick-access-btn bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-users text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u0639\u0645\u0644\u0627\u0621</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                    <a href=\"/admin/requests\" class=\"quick-access-btn bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-file-invoice text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 -->\r\n                    <a href=\"/admin/reports\" class=\"quick-access-btn bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-chart-line text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 -->\r\n                    <a href=\"/admin/rates\" class=\"quick-access-btn bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-percentage text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0633\u0646\u062F\u0627\u062A \u0627\u0644\u0642\u0628\u0636 -->\r\n                    <a href=\"/admin/payments\" class=\"quick-access-btn bg-gradient-to-br from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-receipt text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0633\u0646\u062F\u0627\u062A \u0627\u0644\u0642\u0628\u0636</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u0628\u0646\u0648\u0643 -->\r\n                    <a href=\"/admin/banks\" class=\"quick-access-btn bg-gradient-to-br from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-university text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u0628\u0646\u0648\u0643</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A -->\r\n                    <a href=\"/admin/subscriptions\" class=\"quick-access-btn bg-gradient-to-br from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-id-card text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u0628\u0627\u0642\u0627\u062A -->\r\n                    <a href=\"/admin/packages\" class=\"quick-access-btn bg-gradient-to-br from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-box text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u0628\u0627\u0642\u0627\u062A</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 -->\r\n                    <a href=\"/admin/users\" class=\"quick-access-btn bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-users-cog text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u0623\u062F\u0648\u0627\u0631 (Super Admin \u0641\u0642\u0637) -->\r\n                    <a href=\"/admin/roles\" class=\"quick-access-btn bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-user-shield text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A -->\r\n                    <a href=\"/admin/notifications\" class=\"quick-access-btn bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-bell text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 -->\r\n                    <a href=\"/calculator\" id=\"calculatorLink\" class=\"quick-access-btn bg-gradient-to-br from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-calculator text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u062D\u0627\u0633\u0628\u0629</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 -->\r\n                    <a href=\"/\" class=\"quick-access-btn bg-gradient-to-br from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-home text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0627\u0644\u0634\u0631\u0643\u0627\u062A (Super Admin \u0641\u0642\u0637) -->\r\n                    <a href=\"/admin/tenants\" class=\"quick-access-btn bg-gradient-to-br from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-building text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0634\u0631\u0643\u0627\u062A</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u062D\u0627\u0633\u0628\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0627\u062A -->\r\n                    <a href=\"/admin/tenant-calculators\" class=\"quick-access-btn bg-gradient-to-br from-violet-500 to-violet-600 hover:from-violet-600 hover:to-violet-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-calculator text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u062D\u0627\u0633\u0628\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0627\u062A</div>\r\n                    </a>\r\n                    \r\n                    <!-- \u0632\u0631 \u0646\u0645\u0648\u0630\u062C SaaS -->\r\n                    <a href=\"/admin/saas-settings\" class=\"quick-access-btn bg-gradient-to-br from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white rounded-lg p-4 transition-all transform hover:scale-105 shadow-lg block text-center\">\r\n                        <i class=\"fas fa-cogs text-3xl mb-2\"></i>\r\n                        <div class=\"text-sm font-bold\">\u0625\u0639\u062F\u0627\u062F\u0627\u062A SaaS</div>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <!-- Dashboard Section -->\r\n            <div id=\"dashboard-section\" class=\"content-section active\">\r\n                <h1 class=\"text-3xl font-bold mb-6 text-gray-800\">\r\n                    <i class=\"fas fa-tachometer-alt text-blue-600 ml-2\"></i>\r\n                    \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A\r\n                </h1>\r\n                \r\n                <!-- Stats Cards -->\r\n                <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n                    <div class=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg p-6\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"text-blue-100 text-sm mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0645\u0644\u0627\u0621</p>\r\n                                <p class=\"text-3xl font-bold\" id=\"stat-customers\">0</p>\r\n                            </div>\r\n                            <i class=\"fas fa-users text-5xl opacity-30\"></i>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl shadow-lg p-6\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"text-green-100 text-sm mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A</p>\r\n                                <p class=\"text-3xl font-bold\" id=\"stat-requests\">0</p>\r\n                            </div>\r\n                            <i class=\"fas fa-file-invoice text-5xl opacity-30\"></i>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white rounded-xl shadow-lg p-6\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"text-yellow-100 text-sm mb-1\">\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631</p>\r\n                                <p class=\"text-3xl font-bold\" id=\"stat-pending\">0</p>\r\n                            </div>\r\n                            <i class=\"fas fa-clock text-5xl opacity-30\"></i>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-xl shadow-lg p-6\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"text-purple-100 text-sm mb-1\">\u0645\u0642\u0628\u0648\u0644</p>\r\n                                <p class=\"text-3xl font-bold\" id=\"stat-approved\">0</p>\r\n                            </div>\r\n                            <i class=\"fas fa-check-circle text-5xl opacity-30\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Additional Stats - Superadmin Only -->\r\n                <div class=\"grid grid-cols-1 md:grid-cols-5 gap-6 superadmin-only-stats\" style=\"display: none;\">\r\n                    <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                        <div class=\"flex items-center justify-between mb-2\">\r\n                            <span class=\"text-gray-600\">\u0627\u0644\u0628\u0646\u0648\u0643 \u0627\u0644\u0646\u0634\u0637\u0629</span>\r\n                            <i class=\"fas fa-university text-blue-500\"></i>\r\n                        </div>\r\n                        <p class=\"text-2xl font-bold text-gray-800\" id=\"stat-banks\">0</p>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                        <div class=\"flex items-center justify-between mb-2\">\r\n                            <span class=\"text-gray-600\">\u0627\u0644\u0634\u0631\u0643\u0627\u062A \u0627\u0644\u0646\u0634\u0637\u0629</span>\r\n                            <i class=\"fas fa-building text-emerald-500\"></i>\r\n                        </div>\r\n                        <p class=\"text-2xl font-bold text-gray-800\" id=\"stat-tenants\">0</p>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                        <div class=\"flex items-center justify-between mb-2\">\r\n                            <span class=\"text-gray-600\">\u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A \u0627\u0644\u0646\u0634\u0637\u0629</span>\r\n                            <i class=\"fas fa-crown text-yellow-500\"></i>\r\n                        </div>\r\n                        <p class=\"text-2xl font-bold text-gray-800\" id=\"stat-subscriptions\">0</p>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                        <div class=\"flex items-center justify-between mb-2\">\r\n                            <span class=\"text-gray-600\">\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0627\u0644\u0646\u0634\u0637\u064A\u0646</span>\r\n                            <i class=\"fas fa-user-check text-green-500\"></i>\r\n                        </div>\r\n                        <p class=\"text-2xl font-bold text-gray-800\" id=\"stat-users\">0</p>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                        <div class=\"flex items-center justify-between mb-2\">\r\n                            <span class=\"text-gray-600\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A</span>\r\n                            <i class=\"fas fa-calculator text-purple-500\"></i>\r\n                        </div>\r\n                        <p class=\"text-2xl font-bold text-gray-800\" id=\"stat-calculations\">0</p>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Calculator Link & QR Code Section -->\r\n                <div class=\"bg-white rounded-xl shadow-lg p-6 mt-6\" id=\"calculatorLinkSection\">\r\n                    <div class=\"flex items-center mb-4\">\r\n                        <i class=\"fas fa-calculator text-blue-600 text-2xl ml-3\"></i>\r\n                        <h2 class=\"text-xl font-bold text-gray-800\">\u0631\u0627\u0628\u0637 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</h2>\r\n                    </div>\r\n                    \r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <!-- Left Side: Link -->\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                <i class=\"fas fa-link ml-1\"></i>\r\n                                \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0643\r\n                            </label>\r\n                            <div class=\"flex gap-2\">\r\n                                <input \r\n                                    type=\"text\" \r\n                                    id=\"calculatorLinkInput\" \r\n                                    value=\"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...\" \r\n                                    readonly \r\n                                    class=\"flex-1 px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-blue-500\"\r\n                                >\r\n                                <button \r\n                                    onclick=\"copyCalculatorLink()\" \r\n                                    class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-colors\"\r\n                                    title=\"\u0646\u0633\u062E \u0627\u0644\u0631\u0627\u0628\u0637\"\r\n                                >\r\n                                    <i class=\"fas fa-copy\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <p class=\"text-xs text-gray-500 mt-2\">\r\n                                <i class=\"fas fa-info-circle ml-1\"></i>\r\n                                \u064A\u0645\u0643\u0646\u0643 \u0645\u0634\u0627\u0631\u0643\u0629 \u0647\u0630\u0627 \u0627\u0644\u0631\u0627\u0628\u0637 \u0645\u0639 \u0639\u0645\u0644\u0627\u0626\u0643 \u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n                            </p>\r\n                            \r\n                            <!-- Success Message -->\r\n                            <div id=\"copySuccessMessage\" class=\"hidden mt-2 p-2 bg-green-100 border border-green-400 text-green-700 rounded-lg text-sm\">\r\n                                <i class=\"fas fa-check-circle ml-1\"></i>\r\n                                \u062A\u0645 \u0646\u0633\u062E \u0627\u0644\u0631\u0627\u0628\u0637 \u0628\u0646\u062C\u0627\u062D!\r\n                            </div>\r\n                            \r\n                            <!-- Open Link Button -->\r\n                            <button \r\n                                onclick=\"openCalculatorLink()\" \r\n                                class=\"w-full mt-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-md hover:shadow-lg\"\r\n                            >\r\n                                <i class=\"fas fa-external-link-alt ml-2\"></i>\r\n                                \u0641\u062A\u062D \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629\r\n                            </button>\r\n                        </div>\r\n                        \r\n                        <!-- Right Side: QR Code -->\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                <i class=\"fas fa-qrcode ml-1\"></i>\r\n                                \u0631\u0645\u0632 QR \u0644\u0644\u0645\u0634\u0627\u0631\u0643\u0629\r\n                            </label>\r\n                            <div class=\"flex flex-col items-center justify-center bg-gray-50 border border-gray-300 rounded-lg p-4\">\r\n                                <div id=\"qrcodeContainer\" class=\"mb-3\"></div>\r\n                                <button \r\n                                    onclick=\"downloadQRCode()\" \r\n                                    class=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors\"\r\n                                >\r\n                                    <i class=\"fas fa-download ml-1\"></i>\r\n                                    \u062A\u062D\u0645\u064A\u0644 \u0631\u0645\u0632 QR\r\n                                </button>\r\n                            </div>\r\n                            <p class=\"text-xs text-gray-500 mt-2 text-center\">\r\n                                <i class=\"fas fa-mobile-alt ml-1\"></i>\r\n                                \u064A\u0645\u0643\u0646 \u0644\u0644\u0639\u0645\u0644\u0627\u0621 \u0645\u0633\u062D \u0627\u0644\u0631\u0645\u0632 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0645\u0628\u0627\u0634\u0631\u0629\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Employee Calculator Link & QR Code Section -->\r\n                <div class=\"bg-white rounded-xl shadow-lg p-6 mt-6\" id=\"employeeCalculatorSection\" style=\"display: none;\">\r\n                    <div class=\"flex items-center mb-4\">\r\n                        <i class=\"fas fa-calculator text-green-600 text-2xl ml-3\"></i>\r\n                        <h2 class=\"text-xl font-bold text-gray-800\">\u0631\u0627\u0628\u0637 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u0634\u0631\u0643\u0629</h2>\r\n                    </div>\r\n                    \r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <!-- Left Side: Link -->\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                <i class=\"fas fa-link ml-1\"></i>\r\n                                \u0631\u0627\u0628\u0637 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0634\u0631\u0643\u062A\u0643\r\n                            </label>\r\n                            <div class=\"flex gap-2\">\r\n                                <input \r\n                                    type=\"text\" \r\n                                    id=\"employeeCalculatorLinkInput\" \r\n                                    value=\"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...\" \r\n                                    readonly \r\n                                    class=\"flex-1 px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500\"\r\n                                >\r\n                                <button \r\n                                    onclick=\"copyEmployeeCalculatorLink()\" \r\n                                    class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-colors\"\r\n                                    title=\"\u0646\u0633\u062E \u0627\u0644\u0631\u0627\u0628\u0637\"\r\n                                >\r\n                                    <i class=\"fas fa-copy\"></i>\r\n                                </button>\r\n                            </div>\r\n                            <p class=\"text-xs text-gray-500 mt-2\">\r\n                                <i class=\"fas fa-info-circle ml-1\"></i>\r\n                                \u064A\u0645\u0643\u0646\u0643 \u0645\u0634\u0627\u0631\u0643\u0629 \u0647\u0630\u0627 \u0627\u0644\u0631\u0627\u0628\u0637 \u0645\u0639 \u0639\u0645\u0644\u0627\u0626\u0643 \u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n                            </p>\r\n                            \r\n                            <!-- Success Message -->\r\n                            <div id=\"employeeCopySuccessMessage\" class=\"hidden mt-2 p-2 bg-green-100 border border-green-400 text-green-700 rounded-lg text-sm\">\r\n                                <i class=\"fas fa-check-circle ml-1\"></i>\r\n                                \u062A\u0645 \u0646\u0633\u062E \u0627\u0644\u0631\u0627\u0628\u0637 \u0628\u0646\u062C\u0627\u062D!\r\n                            </div>\r\n                            \r\n                            <!-- Open Link Button -->\r\n                            <button \r\n                                onclick=\"openEmployeeCalculatorLink()\" \r\n                                class=\"w-full mt-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-md hover:shadow-lg\"\r\n                            >\r\n                                <i class=\"fas fa-external-link-alt ml-2\"></i>\r\n                                \u0641\u062A\u062D \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629\r\n                            </button>\r\n                        </div>\r\n                        \r\n                        <!-- Right Side: QR Code -->\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                <i class=\"fas fa-qrcode ml-1\"></i>\r\n                                \u0628\u0627\u0631\u0643\u0648\u062F \u0627\u0644\u062D\u0627\u0633\u0628\u0629\r\n                            </label>\r\n                            <div class=\"flex flex-col items-center justify-center bg-gray-50 border border-gray-300 rounded-lg p-4\">\r\n                                <div id=\"employeeQRCodeContainer\" class=\"mb-3\"></div>\r\n                                <button \r\n                                    onclick=\"downloadEmployeeQRCode()\" \r\n                                    class=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors\"\r\n                                >\r\n                                    <i class=\"fas fa-download ml-1\"></i>\r\n                                    \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062F\r\n                                </button>\r\n                            </div>\r\n                            <p class=\"text-xs text-gray-500 mt-2 text-center\">\r\n                                <i class=\"fas fa-mobile-alt ml-1\"></i>\r\n                                \u064A\u0645\u0643\u0646 \u0644\u0644\u0639\u0645\u0644\u0627\u0621 \u0645\u0633\u062D \u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062F \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0645\u0628\u0627\u0634\u0631\u0629\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Customers Section -->\r\n            <div id=\"customers-section\" class=\"content-section\">\r\n                <div class=\"flex items-center justify-between mb-6\">\r\n                    <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                        <i class=\"fas fa-users text-blue-600 ml-2\"></i>\r\n                        \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621\r\n                    </h1>\r\n                    <div class=\"flex space-x-reverse space-x-3\">\r\n                        <button onclick=\"addCustomer()\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-plus ml-2\"></i>\r\n                            \u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F\r\n                        </button>\r\n                        <button onclick=\"exportExcel('customers')\" class=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg\">\r\n                            <i class=\"fas fa-file-excel ml-2\"></i>\r\n                            \u062A\u0635\u062F\u064A\u0631 Excel\r\n                        </button>\r\n                        <button onclick=\"showAddCustomerModal()\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg\">\r\n                            <i class=\"fas fa-plus ml-2\"></i>\r\n                            \u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                    <div class=\"mb-4\">\r\n                        <input type=\"text\" id=\"searchCustomers\" placeholder=\"\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0639\u0645\u0644\u0627\u0621...\" \r\n                               class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                    </div>\r\n                    \r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full\">\r\n                            <thead class=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0627\u0633\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062C\u0648\u0627\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0631\u0627\u062A\u0628</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"customersTable\">\r\n                                <tr>\r\n                                    <td colspan=\"9\" class=\"text-center py-8\">\r\n                                        <i class=\"fas fa-spinner fa-spin text-3xl text-gray-400\"></i>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Financing Requests Section -->\r\n            <div id=\"financing-requests-section\" class=\"content-section\">\r\n                <div class=\"flex items-center justify-between mb-6\">\r\n                    <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                        <i class=\"fas fa-file-invoice text-green-600 ml-2\"></i>\r\n                        \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0645\u0646 \u0627\u0644\u0639\u0645\u0644\u0627\u0621\r\n                    </h1>\r\n                    <div class=\"flex space-x-reverse space-x-3\">\r\n                        <select id=\"filterStatus\" onchange=\"loadFinancingRequests()\" class=\"px-4 py-2 border border-gray-300 rounded-lg\">\r\n                            <option value=\"\">\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A</option>\r\n                            <option value=\"pending\">\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631</option>\r\n                            <option value=\"approved\">\u0645\u0642\u0628\u0648\u0644</option>\r\n                            <option value=\"rejected\">\u0645\u0631\u0641\u0648\u0636</option>\r\n                        </select>\r\n                        <select id=\"filterBank\" onchange=\"loadFinancingRequests()\" class=\"px-4 py-2 border border-gray-300 rounded-lg\">\r\n                            <option value=\"\">\u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u0646\u0648\u0643</option>\r\n                        </select>\r\n                        <button onclick=\"loadFinancingRequests()\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg\">\r\n                            <i class=\"fas fa-sync ml-2\"></i>\r\n                            \u062A\u062D\u062F\u064A\u062B\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n                    <div class=\"bg-red-100 border-r-4 border-red-500 rounded-lg p-4\">\r\n                        <div class=\"text-gray-700 text-sm\">\u0645\u0631\u0641\u0648\u0636</div>\r\n                        <div class=\"text-2xl font-bold text-red-600\" id=\"requests-rejected\">0</div>\r\n                    </div>\r\n                    <div class=\"bg-green-100 border-r-4 border-green-500 rounded-lg p-4\">\r\n                        <div class=\"text-gray-700 text-sm\">\u062A\u062D\u062A \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629</div>\r\n                        <div class=\"text-2xl font-bold text-green-600\" id=\"requests-processing\">0</div>\r\n                    </div>\r\n                    <div class=\"bg-purple-100 border-r-4 border-purple-500 rounded-lg p-4\">\r\n                        <div class=\"text-gray-700 text-sm\">\u062A\u062D\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629</div>\r\n                        <div class=\"text-2xl font-bold text-purple-600\" id=\"requests-review\">0</div>\r\n                    </div>\r\n                    <div class=\"bg-blue-100 border-r-4 border-blue-500 rounded-lg p-4\">\r\n                        <div class=\"text-gray-700 text-sm\">\u0637\u0644\u0628 \u0627\u0643\u062A\u0645\u0627\u0644 \u0628\u064A\u0627\u0646\u0627\u062A</div>\r\n                        <div class=\"text-2xl font-bold text-blue-600\" id=\"requests-incomplete\">2</div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full\">\r\n                            <thead class=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0639\u0645\u064A\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062C\u0648\u0627\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0645\u0628\u0644\u063A</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0645\u062F\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0628\u0646\u0643</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"requestsTable\">\r\n                                <tr>\r\n                                    <td colspan=\"9\" class=\"text-center py-8\">\r\n                                        <i class=\"fas fa-spinner fa-spin text-3xl text-gray-400\"></i>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Other sections will be loaded dynamically -->\r\n            <div id=\"banks-section\" class=\"content-section\">\r\n                <div class=\"flex items-center justify-between mb-6\">\r\n                    <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                        <i class=\"fas fa-university text-blue-600 ml-2\"></i>\r\n                        \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0628\u0646\u0648\u0643\r\n                    </h1>\r\n                    <button onclick=\"addBank()\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-plus ml-2\"></i>\r\n                        \u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F\r\n                    </button>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full\">\r\n                            <thead class=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0643\u0648\u062F</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"banksTable\">\r\n                                <tr>\r\n                                    <td colspan=\"5\" class=\"text-center py-8\">\r\n                                        <i class=\"fas fa-spinner fa-spin text-3xl text-gray-400\"></i>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"rates-section\" class=\"content-section\">\r\n                <div class=\"flex items-center justify-between mb-6\">\r\n                    <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                        <i class=\"fas fa-percent text-green-600 ml-2\"></i>\r\n                        \u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n                    </h1>\r\n                    <button onclick=\"addRate()\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-plus ml-2\"></i>\r\n                        \u0625\u0636\u0627\u0641\u0629 \u0646\u0633\u0628\u0629 \u062C\u062F\u064A\u062F\u0629\r\n                    </button>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full\">\r\n                            <thead class=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0628\u0646\u0643</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0646\u0633\u0628\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0645\u0628\u0644\u063A (\u0645\u0646 - \u0625\u0644\u0649)</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0631\u0627\u062A\u0628 (\u0645\u0646 - \u0625\u0644\u0649)</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"ratesTable\">\r\n                                <tr>\r\n                                    <td colspan=\"8\" class=\"text-center py-8\">\r\n                                        <i class=\"fas fa-spinner fa-spin text-3xl text-gray-400\"></i>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"subscriptions-section\" class=\"content-section\">\r\n                <div class=\"flex items-center justify-between mb-6\">\r\n                    <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                        <i class=\"fas fa-crown text-yellow-600 ml-2\"></i>\r\n                        \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A\r\n                    </h1>\r\n                    <button onclick=\"addSubscription()\" class=\"bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-plus ml-2\"></i>\r\n                        \u0625\u0636\u0627\u0641\u0629 \u0627\u0634\u062A\u0631\u0627\u0643 \u062C\u062F\u064A\u062F\r\n                    </button>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full\">\r\n                            <thead class=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0634\u0631\u0643\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0628\u0627\u0642\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u062A\u0647\u0627\u0621</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"subscriptionsTable\">\r\n                                <tr>\r\n                                    <td colspan=\"7\" class=\"text-center py-8\">\r\n                                        <i class=\"fas fa-spinner fa-spin text-3xl text-gray-400\"></i>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"users-section\" class=\"content-section\">\r\n                <div class=\"flex items-center justify-between mb-6\">\r\n                    <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                        <i class=\"fas fa-user-cog text-purple-600 ml-2\"></i>\r\n                        \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646\r\n                    </h1>\r\n                    <button onclick=\"addUser()\" class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-plus ml-2\"></i>\r\n                        \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F\r\n                    </button>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full\">\r\n                            <thead class=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0627\u0633\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062F\u0648\u0631</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"usersTable\">\r\n                                <tr>\r\n                                    <td colspan=\"7\" class=\"text-center py-8\">\r\n                                        <i class=\"fas fa-spinner fa-spin text-3xl text-gray-400\"></i>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"packages-section\" class=\"content-section\">\r\n                <div class=\"flex items-center justify-between mb-6\">\r\n                    <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                        <i class=\"fas fa-box text-orange-600 ml-2\"></i>\r\n                        \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0628\u0627\u0642\u0627\u062A\r\n                    </h1>\r\n                    <button onclick=\"addPackage()\" class=\"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-plus ml-2\"></i>\r\n                        \u0625\u0636\u0627\u0641\u0629 \u0628\u0627\u0642\u0629 \u062C\u062F\u064A\u062F\u0629\r\n                    </button>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full\">\r\n                            <thead class=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0627\u0642\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0633\u0639\u0631</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0645\u062F\u0629 (\u0623\u0634\u0647\u0631)</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0639\u062F\u062F \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"packagesTable\">\r\n                                <tr>\r\n                                    <td colspan=\"7\" class=\"text-center py-8\">\r\n                                        <i class=\"fas fa-spinner fa-spin text-3xl text-gray-400\"></i>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"subscription-requests-section\" class=\"content-section\">\r\n                <div class=\"flex items-center justify-between mb-6\">\r\n                    <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                        <i class=\"fas fa-clipboard-list text-red-600 ml-2\"></i>\r\n                        \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\r\n                    </h1>\r\n                </div>\r\n                \r\n                <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full\">\r\n                            <thead class=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0645</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u062C\u0647\u0629 \u0627\u0644\u0627\u062A\u0635\u0627\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062C\u0648\u0627\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0628\u0627\u0642\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"subscriptionRequestsTable\">\r\n                                <tr>\r\n                                    <td colspan=\"8\" class=\"text-center py-8\">\r\n                                        <i class=\"fas fa-spinner fa-spin text-3xl text-gray-400\"></i>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <!-- Reports Section -->\r\n            <div id=\"reports-section\" class=\"content-section\">\r\n                <h1 class=\"text-3xl font-bold mb-6 text-gray-800\">\r\n                    <i class=\"fas fa-chart-line text-indigo-600 ml-2\"></i>\r\n                    \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0648\u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A\r\n                </h1>\r\n                \r\n                <!-- Date Range Filter -->\r\n                <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                        <div>\r\n                            <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0645\u0646 \u062A\u0627\u0631\u064A\u062E</label>\r\n                            <input type=\"date\" id=\"reportFromDate\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0625\u0644\u0649 \u062A\u0627\u0631\u064A\u062E</label>\r\n                            <input type=\"date\" id=\"reportToDate\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg\">\r\n                        </div>\r\n                        <div class=\"flex items-end\">\r\n                            <button onclick=\"loadReports()\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                                <i class=\"fas fa-search ml-2\"></i>\r\n                                \u0639\u0631\u0636 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Statistics Cards -->\r\n                <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6\">\r\n                    <div class=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl p-6 shadow-lg\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"text-sm opacity-90\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A</p>\r\n                                <h3 class=\"text-3xl font-bold mt-2\" id=\"reportTotalRequests\">0</h3>\r\n                            </div>\r\n                            <i class=\"fas fa-file-alt text-4xl opacity-50\"></i>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl p-6 shadow-lg\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"text-sm opacity-90\">\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0645\u0642\u0628\u0648\u0644\u0629</p>\r\n                                <h3 class=\"text-3xl font-bold mt-2\" id=\"reportApprovedRequests\">0</h3>\r\n                            </div>\r\n                            <i class=\"fas fa-check-circle text-4xl opacity-50\"></i>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white rounded-xl p-6 shadow-lg\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"text-sm opacity-90\">\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629</p>\r\n                                <h3 class=\"text-3xl font-bold mt-2\" id=\"reportPendingRequests\">0</h3>\r\n                            </div>\r\n                            <i class=\"fas fa-clock text-4xl opacity-50\"></i>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-xl p-6 shadow-lg\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"text-sm opacity-90\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A</p>\r\n                                <h3 class=\"text-2xl font-bold mt-2\" id=\"reportTotalAmount\">0 \u0631\u064A\u0627\u0644</h3>\r\n                            </div>\r\n                            <i class=\"fas fa-money-bill-wave text-4xl opacity-50\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Charts -->\r\n                <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\r\n                    <!-- Requests by Status Chart -->\r\n                    <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                        <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n                            <i class=\"fas fa-chart-pie text-indigo-600 ml-2\"></i>\r\n                            \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u062D\u0627\u0644\u0629\r\n                        </h3>\r\n                        <canvas id=\"statusChart\"></canvas>\r\n                    </div>\r\n                    \r\n                    <!-- Requests by Bank Chart -->\r\n                    <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                        <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n                            <i class=\"fas fa-chart-bar text-indigo-600 ml-2\"></i>\r\n                            \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0628\u0646\u0643\r\n                        </h3>\r\n                        <canvas id=\"bankChart\"></canvas>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Top Customers Table -->\r\n                <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                    <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n                        <i class=\"fas fa-users text-indigo-600 ml-2\"></i>\r\n                        \u0623\u0643\u062B\u0631 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0646\u0634\u0627\u0637\u0627\u064B\r\n                    </h3>\r\n                    <div class=\"overflow-x-auto\">\r\n                        <table class=\"w-full\">\r\n                            <thead class=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0627\u0644\u0639\u0645\u064A\u0644</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0639\u062F\u062F \u0627\u0644\u0637\u0644\u0628\u0627\u062A</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A</th>\r\n                                    <th class=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">\u0622\u062E\u0631 \u0637\u0644\u0628</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody id=\"topCustomersTable\">\r\n                                <tr>\r\n                                    <td colspan=\"4\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Modals Section -->\r\n        \r\n        <!-- Add Customer Modal -->\r\n        <div id=\"addCustomerModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n                <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n                    <i class=\"fas fa-user-plus text-blue-600 ml-2\"></i>\r\n                    \u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F\r\n                </h2>\r\n                <form id=\"addCustomerForm\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *</label>\r\n                            <input type=\"text\" name=\"full_name\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644 *</label>\r\n                            <input type=\"tel\" name=\"phone\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</label>\r\n                            <input type=\"email\" name=\"email\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629</label>\r\n                            <input type=\"text\" name=\"national_id\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F</label>\r\n                            <input type=\"date\" name=\"date_of_birth\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644</label>\r\n                            <input type=\"text\" name=\"employer_name\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A</label>\r\n                            <input type=\"text\" name=\"job_title\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u062A\u0627\u0631\u064A\u062E \u0628\u062F\u0627\u064A\u0629 \u0627\u0644\u0639\u0645\u0644</label>\r\n                            <input type=\"date\" name=\"work_start_date\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0645\u062F\u064A\u0646\u0629</label>\r\n                            <input type=\"text\" name=\"city\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A</label>\r\n                            <input type=\"number\" name=\"monthly_salary\" step=\"0.01\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex gap-3 mt-6\">\r\n                        <button type=\"submit\" class=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-save ml-2\"></i>\r\n                            \u062D\u0641\u0638\r\n                        </button>\r\n                        <button type=\"button\" onclick=\"closeModal('addCustomerModal')\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-times ml-2\"></i>\r\n                            \u0625\u0644\u063A\u0627\u0621\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Add Bank Modal -->\r\n        <div id=\"addBankModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl p-6 max-w-md w-full mx-4\">\r\n                <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n                    <i class=\"fas fa-university text-blue-600 ml-2\"></i>\r\n                    \u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F\r\n                </h2>\r\n                <form id=\"addBankForm\">\r\n                    <div class=\"space-y-4\">\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643 *</label>\r\n                            <input type=\"text\" name=\"bank_name\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0643\u0648\u062F \u0627\u0644\u0628\u0646\u0643 *</label>\r\n                            <input type=\"text\" name=\"bank_code\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0631\u0627\u0628\u0637 \u0627\u0644\u0634\u0639\u0627\u0631</label>\r\n                            <input type=\"url\" name=\"logo_url\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex gap-3 mt-6\">\r\n                        <button type=\"submit\" class=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-save ml-2\"></i>\r\n                            \u062D\u0641\u0638\r\n                        </button>\r\n                        <button type=\"button\" onclick=\"closeModal('addBankModal')\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-times ml-2\"></i>\r\n                            \u0625\u0644\u063A\u0627\u0621\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Add Rate Modal -->\r\n        <div id=\"addRateModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n                <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n                    <i class=\"fas fa-percent text-green-600 ml-2\"></i>\r\n                    \u0625\u0636\u0627\u0641\u0629 \u0646\u0633\u0628\u0629 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F\u0629\r\n                </h2>\r\n                <form id=\"addRateForm\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0628\u0646\u0643 *</label>\r\n                            <select name=\"bank_id\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\" id=\"rateBankSelect\">\r\n                                <option value=\"\">\u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0646\u0643</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 *</label>\r\n                            <select name=\"financing_type_id\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\" id=\"rateFinancingTypeSelect\">\r\n                                <option value=\"\">\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0646\u0633\u0628\u0629 % *</label>\r\n                            <input type=\"number\" name=\"rate\" step=\"0.01\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u0628\u0644\u063A *</label>\r\n                            <input type=\"number\" name=\"min_amount\" step=\"0.01\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0645\u0628\u0644\u063A *</label>\r\n                            <input type=\"number\" name=\"max_amount\" step=\"0.01\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0631\u0627\u062A\u0628 *</label>\r\n                            <input type=\"number\" name=\"min_salary\" step=\"0.01\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0631\u0627\u062A\u0628 *</label>\r\n                            <input type=\"number\" name=\"max_salary\" step=\"0.01\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u062F\u0629 (\u0634\u0647\u0631) *</label>\r\n                            <input type=\"number\" name=\"min_duration\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0645\u062F\u0629 (\u0634\u0647\u0631) *</label>\r\n                            <input type=\"number\" name=\"max_duration\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex gap-3 mt-6\">\r\n                        <button type=\"submit\" class=\"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-save ml-2\"></i>\r\n                            \u062D\u0641\u0638\r\n                        </button>\r\n                        <button type=\"button\" onclick=\"closeModal('addRateModal')\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-times ml-2\"></i>\r\n                            \u0625\u0644\u063A\u0627\u0621\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Add Subscription Modal -->\r\n        <div id=\"addSubscriptionModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl p-6 max-w-md w-full mx-4\">\r\n                <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n                    <i class=\"fas fa-crown text-yellow-600 ml-2\"></i>\r\n                    \u0625\u0636\u0627\u0641\u0629 \u0627\u0634\u062A\u0631\u0627\u0643 \u062C\u062F\u064A\u062F\r\n                </h2>\r\n                <form id=\"addSubscriptionForm\">\r\n                    <div class=\"space-y-4\">\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 *</label>\r\n                            <input type=\"text\" name=\"company_name\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0628\u0627\u0642\u0629 *</label>\r\n                            <select name=\"package_id\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500\" id=\"subscriptionPackageSelect\">\r\n                                <option value=\"\">\u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0627\u0642\u0629</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629 *</label>\r\n                            <input type=\"date\" name=\"start_date\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u062A\u0647\u0627\u0621 *</label>\r\n                            <input type=\"date\" name=\"end_date\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex gap-3 mt-6\">\r\n                        <button type=\"submit\" class=\"flex-1 bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-save ml-2\"></i>\r\n                            \u062D\u0641\u0638\r\n                        </button>\r\n                        <button type=\"button\" onclick=\"closeModal('addSubscriptionModal')\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-times ml-2\"></i>\r\n                            \u0625\u0644\u063A\u0627\u0621\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- View Request Modal -->\r\n        <div id=\"viewRequestModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl p-6 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n                <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n                    <i class=\"fas fa-file-invoice text-blue-600 ml-2\"></i>\r\n                    \u062A\u0641\u0627\u0635\u064A\u0644 \u0637\u0644\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n                </h2>\r\n                <div id=\"requestDetails\" class=\"space-y-4\">\r\n                    <!-- Will be filled dynamically -->\r\n                </div>\r\n                <div class=\"flex gap-3 mt-6\">\r\n                    <button type=\"button\" onclick=\"closeModal('viewRequestModal')\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-times ml-2\"></i>\r\n                        \u0625\u063A\u0644\u0627\u0642\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Update Status Modal -->\r\n        <div id=\"updateStatusModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl p-6 max-w-md w-full mx-4\">\r\n                <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n                    <i class=\"fas fa-edit text-green-600 ml-2\"></i>\r\n                    \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\r\n                </h2>\r\n                <form id=\"updateStatusForm\">\r\n                    <input type=\"hidden\" id=\"requestId\" name=\"requestId\">\r\n                    <div class=\"space-y-4\">\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u062C\u062F\u064A\u062F\u0629 *</label>\r\n                            <select name=\"status\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\">\r\n                                <option value=\"pending\">\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631</option>\r\n                                <option value=\"approved\">\u0645\u0642\u0628\u0648\u0644</option>\r\n                                <option value=\"rejected\">\u0645\u0631\u0641\u0648\u0636</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0645\u0644\u0627\u062D\u0638\u0627\u062A</label>\r\n                            <textarea name=\"notes\" rows=\"4\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\" placeholder=\"\u0623\u0636\u0641 \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u062D\u0648\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u0627\u0644\u0629...\"></textarea>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex gap-3 mt-6\">\r\n                        <button type=\"submit\" class=\"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-save ml-2\"></i>\r\n                            \u062D\u0641\u0638 \u0627\u0644\u062A\u062D\u062F\u064A\u062B\r\n                        </button>\r\n                        <button type=\"button\" onclick=\"closeModal('updateStatusModal')\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-times ml-2\"></i>\r\n                            \u0625\u0644\u063A\u0627\u0621\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Add Package Modal -->\r\n        <div id=\"addPackageModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl p-6 max-w-2xl w-full mx-4\">\r\n                <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n                    <i class=\"fas fa-box text-orange-600 ml-2\"></i>\r\n                    \u0625\u0636\u0627\u0641\u0629 \u0628\u0627\u0642\u0629 \u062C\u062F\u064A\u062F\u0629\r\n                </h2>\r\n                <form id=\"addPackageForm\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0627\u0642\u0629 *</label>\r\n                            <input type=\"text\" name=\"package_name\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0633\u0639\u0631 (\u0631\u064A\u0627\u0644) *</label>\r\n                            <input type=\"number\" name=\"price\" step=\"0.01\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0645\u062F\u0629 (\u0623\u0634\u0647\u0631) *</label>\r\n                            <input type=\"number\" name=\"duration_months\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0639\u062F\u062F \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A</label>\r\n                            <input type=\"number\" name=\"max_calculations\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</label>\r\n                            <input type=\"number\" name=\"max_users\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500\">\r\n                        </div>\r\n                        <div class=\"md:col-span-2\">\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0648\u0635\u0641</label>\r\n                            <textarea name=\"description\" rows=\"3\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500\"></textarea>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex gap-3 mt-6\">\r\n                        <button type=\"submit\" class=\"flex-1 bg-orange-600 hover:bg-orange-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-save ml-2\"></i>\r\n                            \u062D\u0641\u0638\r\n                        </button>\r\n                        <button type=\"button\" onclick=\"closeModal('addPackageModal')\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-times ml-2\"></i>\r\n                            \u0625\u0644\u063A\u0627\u0621\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Edit User Modal -->\r\n        <div id=\"editUserModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl p-6 max-w-2xl w-full mx-4\">\r\n                <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n                    <i class=\"fas fa-user-edit text-purple-600 ml-2\"></i>\r\n                    \u062A\u0639\u062F\u064A\u0644 \u0645\u0633\u062A\u062E\u062F\u0645\r\n                </h2>\r\n                <form id=\"editUserForm\">\r\n                    <input type=\"hidden\" name=\"userId\" id=\"editUserId\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div class=\"md:col-span-2\">\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *</label>\r\n                            <input type=\"text\" name=\"full_name\" id=\"editUserFullName\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A *</label>\r\n                            <input type=\"email\" name=\"email\" id=\"editUserEmail\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644</label>\r\n                            <input type=\"text\" name=\"phone\" id=\"editUserPhone\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062F\u0648\u0631 *</label>\r\n                            <select name=\"role_id\" id=\"editUserRole\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\">\r\n                                <option value=\"1\">\u0645\u062F\u064A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645</option>\r\n                                <option value=\"2\">\u0634\u0631\u0643\u0629 \u0645\u0634\u062A\u0631\u0643\u0629</option>\r\n                                <option value=\"3\">\u0645\u0633\u062A\u062E\u062F\u0645 \u0639\u0627\u062F\u064A</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0627\u0644\u062D\u0627\u0644\u0629 *</label>\r\n                            <select name=\"is_active\" id=\"editUserActive\" required class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\">\r\n                                <option value=\"1\">\u0646\u0634\u0637</option>\r\n                                <option value=\"0\">\u063A\u064A\u0631 \u0646\u0634\u0637</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex gap-3 mt-6\">\r\n                        <button type=\"submit\" class=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-save ml-2\"></i>\r\n                            \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A\r\n                        </button>\r\n                        <button type=\"button\" onclick=\"closeModal('editUserModal')\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                            <i class=\"fas fa-times ml-2\"></i>\r\n                            \u0625\u0644\u063A\u0627\u0621\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Manage User Permissions Modal -->\r\n        <div id=\"managePermissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n                <h2 class=\"text-2xl font-bold mb-4 text-gray-800\">\r\n                    <i class=\"fas fa-shield-alt text-purple-600 ml-2\"></i>\r\n                    \u0625\u062F\u0627\u0631\u0629 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645: <span id=\"permissionsUserName\"></span>\r\n                </h2>\r\n                <input type=\"hidden\" id=\"permissionsRoleId\">\r\n                \r\n                <div class=\"mb-4 p-4 bg-blue-50 rounded-lg\">\r\n                    <p class=\"text-sm text-blue-800\">\r\n                        <i class=\"fas fa-info-circle ml-1\"></i>\r\n                        \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u062A\u064F\u062D\u062F\u062F \u062D\u0633\u0628 \u0627\u0644\u062F\u0648\u0631. \u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u062F\u0648\u0631 \u0633\u064A\u0624\u062B\u0631 \u0639\u0644\u0649 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0628\u0646\u0641\u0633 \u0627\u0644\u062F\u0648\u0631.\r\n                    </p>\r\n                </div>\r\n\r\n                <div id=\"permissionsContent\" class=\"space-y-4\">\r\n                    <!-- \u064A\u062A\u0645 \u0645\u0644\u0624\u0647\u0627 \u062F\u064A\u0646\u0627\u0645\u064A\u0643\u064A\u0627\u064B -->\r\n                </div>\r\n\r\n                <div class=\"flex gap-3 mt-6\">\r\n                    <button type=\"button\" onclick=\"savePermissions()\" class=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-save ml-2\"></i>\r\n                        \u062D\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A\r\n                    </button>\r\n                    <button type=\"button\" onclick=\"closeModal('managePermissionsModal')\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-bold\">\r\n                        <i class=\"fas fa-times ml-2\"></i>\r\n                        \u0625\u0644\u063A\u0627\u0621\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n    <script>\r\n        // \u062F\u0627\u0644\u0629 \u0628\u0633\u064A\u0637\u0629 \u0644\u0644\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u064A\u0646 \u0627\u0644\u0623\u0642\u0633\u0627\u0645\r\n        window.goToSection = function(sectionName) {\r\n            console.log('\uD83D\uDE80 \u0627\u0644\u0627\u0646\u062A\u0642\u0627\u0644 \u0625\u0644\u0649:', sectionName);\r\n            \r\n            // \u0625\u062E\u0641\u0627\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0642\u0633\u0627\u0645\r\n            const allSections = document.querySelectorAll('.content-section');\r\n            allSections.forEach(function(section) {\r\n                section.classList.remove('active');\r\n            });\r\n            \r\n            // \u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\r\n            const targetSection = document.getElementById(sectionName + '-section');\r\n            if (targetSection) {\r\n                targetSection.classList.add('active');\r\n                console.log('\u2705 \u062A\u0645 \u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u0642\u0633\u0645:', sectionName);\r\n                \r\n                // \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A\r\n                window.loadSectionData(sectionName);\r\n            } else {\r\n                console.error('\u274C \u0627\u0644\u0642\u0633\u0645 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F:', sectionName);\r\n            }\r\n        }\r\n        \r\n        // \u062F\u0627\u0644\u0629 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C - \u062A\u0639\u0631\u064A\u0641 \u0645\u0628\u0627\u0634\u0631\r\n        function doLogout() {\r\n            console.log('\uD83D\uDEAA \u0645\u062D\u0627\u0648\u0644\u0629 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C...');\r\n            if (confirm('\u0647\u0644 \u062A\u0631\u064A\u062F \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\u061F')) {\r\n                console.log('\u2705 \u062A\u0623\u0643\u064A\u062F \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C');\r\n                // \u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 localStorage\r\n                localStorage.clear(); // \u062D\u0630\u0641 \u0643\u0644 \u0634\u064A\u0621\r\n                console.log('\u2705 \u062A\u0645 \u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0646 localStorage');\r\n                // \u0627\u0644\u062A\u0648\u062C\u0647 \u0625\u0644\u0649 \u0635\u0641\u062D\u0629 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644\r\n                window.location.href = '/login';\r\n            } else {\r\n                console.log('\u274C \u062A\u0645 \u0625\u0644\u063A\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C');\r\n            }\r\n        }\r\n        \r\n        // \u062C\u0639\u0644 \u0627\u0644\u062F\u0627\u0644\u0629 \u0645\u062A\u0627\u062D\u0629 \u0639\u0627\u0644\u0645\u064A\u0627\u064B\r\n        window.doLogout = doLogout;\r\n        \r\n        // \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0646 localStorage\r\n        function loadUserData() {\r\n            console.log('\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550');\r\n            console.log('\uD83D\uDD04 \u0628\u062F\u0621 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645...');\r\n            console.log('\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550');\r\n            \r\n            try {\r\n                // Try both 'userData' and 'user' keys for compatibility\r\n                let userStr = localStorage.getItem('userData') || localStorage.getItem('user');\r\n                \r\n                console.log('\uD83D\uDCE6 \u0645\u062D\u062A\u0648\u064A\u0627\u062A localStorage:');\r\n                console.log('  - userData:', localStorage.getItem('userData') ? '\u0645\u0648\u062C\u0648\u062F \u2705' : '\u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F \u274C');\r\n                console.log('  - user:', localStorage.getItem('user') ? '\u0645\u0648\u062C\u0648\u062F \u2705' : '\u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F \u274C');\r\n                console.log('  - authToken:', localStorage.getItem('authToken') ? '\u0645\u0648\u062C\u0648\u062F \u2705' : '\u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F \u274C');\r\n                \r\n                if (userStr) {\r\n                    const user = JSON.parse(userStr);\r\n                    console.log('\uD83D\uDC64 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u0645\u062D\u0645\u0644\u0629:');\r\n                    console.log('  - username:', user.username);\r\n                    console.log('  - full_name:', user.full_name);\r\n                    console.log('  - role:', user.role);\r\n                    console.log('  - tenant_id:', user.tenant_id);\r\n                    console.log('  - tenant_name:', user.tenant_name);\r\n                    console.log('  - tenant_slug:', user.tenant_slug);\r\n                    \r\n                    // \u062A\u062D\u062F\u064A\u062B \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n                    const displayNameEl = document.getElementById('userDisplayName');\r\n                    const emailEl = document.getElementById('userEmail');\r\n                    \r\n                    console.log('\uD83C\uDFAF \u0639\u0646\u0627\u0635\u0631 DOM:');\r\n                    console.log('  - displayNameEl:', displayNameEl ? '\u0645\u0648\u062C\u0648\u062F \u2705' : '\u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F \u274C');\r\n                    console.log('  - emailEl:', emailEl ? '\u0645\u0648\u062C\u0648\u062F \u2705' : '\u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F \u274C');\r\n                    \r\n                    if (displayNameEl) {\r\n                        let displayName = user.full_name || user.username || '\u0645\u0633\u062A\u062E\u062F\u0645';\r\n                        \r\n                        console.log('\uD83D\uDD0D \u062A\u062D\u062F\u064A\u062F \u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0636:');\r\n                        console.log('  - \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0633\u0627\u0633\u064A:', displayName);\r\n                        \r\n                        // \u0625\u0636\u0627\u0641\u0629 \u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 \u0625\u0646 \u0648\u062C\u062F (\u0644\u0647 \u0627\u0644\u0623\u0648\u0644\u0648\u064A\u0629)\r\n                        if (user.tenant_name) {\r\n                            displayName = '\u0645\u062F\u064A\u0631 ' + user.tenant_name;\r\n                            console.log('  - tenant_name \u0645\u0648\u062C\u0648\u062F:', user.tenant_name);\r\n                            console.log('  - \u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0646\u0647\u0627\u0626\u064A:', displayName);\r\n                        } \r\n                        // \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062F\u0648\u0631 \u0625\u0630\u0627 \u0644\u0645 \u064A\u0643\u0646 \u0647\u0646\u0627\u0643 \u0634\u0631\u0643\u0629\r\n                        else if (user.role === 'admin') {\r\n                            displayName += ' (\u0645\u062F\u064A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645)';\r\n                            console.log('  - \u0627\u0644\u062F\u0648\u0631: admin');\r\n                            console.log('  - \u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0646\u0647\u0627\u0626\u064A:', displayName);\r\n                        } else if (user.role === 'company') {\r\n                            displayName += ' (\u0645\u062F\u064A\u0631 \u0627\u0644\u0634\u0631\u0643\u0629)';\r\n                            console.log('  - \u0627\u0644\u062F\u0648\u0631: company');\r\n                            console.log('  - \u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0646\u0647\u0627\u0626\u064A:', displayName);\r\n                        } else if (user.role === 'user') {\r\n                            displayName += ' (\u0645\u0633\u062A\u062E\u062F\u0645)';\r\n                            console.log('  - \u0627\u0644\u062F\u0648\u0631: user');\r\n                            console.log('  - \u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0646\u0647\u0627\u0626\u064A:', displayName);\r\n                        }\r\n                        \r\n                        displayNameEl.textContent = displayName;\r\n                        console.log('\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B DOM - \u0627\u0644\u0627\u0633\u0645:', displayName);\r\n                    } else {\r\n                        console.error('\u274C \u0639\u0646\u0635\u0631 userDisplayName \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F \u0641\u064A DOM!');\r\n                    }\r\n                    \r\n                    if (emailEl && user.email) {\r\n                        emailEl.textContent = user.email;\r\n                        console.log('\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B DOM - \u0627\u0644\u0628\u0631\u064A\u062F:', user.email);\r\n                    }\r\n                    \r\n                    // \u062A\u062D\u062F\u064A\u062B \u0631\u0627\u0628\u0637 \u0627\u0644\u0646\u0633\u0628 \u0628\u0640 tenant_id \u0625\u0630\u0627 \u0643\u0627\u0646 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u062F\u064A\u0631 \u0634\u0631\u0643\u0629\r\n                    if (user.tenant_id) {\r\n                        const ratesLink = document.querySelector('a[href=\"/admin/rates\"]');\r\n                        if (ratesLink) {\r\n                            ratesLink.setAttribute('href', '/admin/rates?tenant_id=' + user.tenant_id);\r\n                            console.log('\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0631\u0627\u0628\u0637 \u0627\u0644\u0646\u0633\u0628: /admin/rates?tenant_id=' + user.tenant_id);\r\n                        }\r\n                    }\r\n                    \r\n                    console.log('\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550');\r\n                    console.log('\u2705 \u0627\u0643\u062A\u0645\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D');\r\n                    console.log('\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550');\r\n                } else {\r\n                    console.warn('\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550');\r\n                    console.warn('\u26A0\uFE0F \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0641\u064A localStorage');\r\n                    console.warn('\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550');\r\n                }\r\n            } catch (error) {\r\n                console.error('\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550');\r\n                console.error('\u274C \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:', error);\r\n                console.error('\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550');\r\n            }\r\n        }\r\n        \r\n        // \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0639\u0646\u062F \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629 \u0648\u0639\u0646\u062F DOMContentLoaded\r\n        loadUserData();\r\n        document.addEventListener('DOMContentLoaded', loadUserData);\r\n        \r\n        // \u062F\u0627\u0644\u0629 \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u062D\u0633\u0628 \u062F\u0648\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n        function applyUserPermissions() {\r\n            console.log('\uD83D\uDD10 \u0628\u062F\u0621 \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A...');\r\n            \r\n            try {\r\n                // \u0642\u0631\u0627\u0621\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0646 localStorage\r\n                let userStr = localStorage.getItem('userData') || localStorage.getItem('user');\r\n                \r\n                if (!userStr) {\r\n                    console.warn('\u26A0\uFE0F \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0633\u062A\u062E\u062F\u0645 - \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0627\u064B');\r\n                    return;\r\n                }\r\n                \r\n                const user = JSON.parse(userStr);\r\n                const roleId = user.role_id || 3; // Default to Employee (Role 3)\r\n                \r\n                console.log('\uD83D\uDC64 role_id:', roleId);\r\n                console.log('\uD83D\uDCCB user data:', user);\r\n                \r\n                // \u062A\u0639\u0631\u064A\u0641 \u0627\u0644\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0645\u0633\u0645\u0648\u062D\u0629 \u0644\u0643\u0644 role_id\r\n                const allowedLinks = {\r\n                    '1': [ // Super Admin\r\n                        '/admin/dashboard',\r\n                        '/admin/customers', \r\n                        '/admin/requests',\r\n                        '/admin/banks',\r\n                        '/admin/rates',\r\n                        '/admin/subscriptions',\r\n                        '/admin/packages',\r\n                        '/admin/users',\r\n                        '/admin/roles',\r\n                        '/admin/notifications',\r\n                        '/calculator',\r\n                        '/',\r\n                        '/admin/tenants',\r\n                        '/admin/tenant-calculators',\r\n                        '/admin/saas-settings',\r\n                        '/admin/reports',\r\n                        '/admin/payments'\r\n                    ],\r\n                    '2': [ // Company Admin (companyadmin)\r\n                        '/admin/dashboard',\r\n                        '/admin/customers',\r\n                        '/admin/requests',\r\n                        '/admin/users',\r\n                        '/admin/reports',\r\n                        '/admin/banks',\r\n                        '/admin/rates',\r\n                        '/calculator',\r\n                        '/'\r\n                    ],\r\n                    '3': [ // Supervisor (Read-only)\r\n                        '/admin/dashboard',\r\n                        '/admin/customers',\r\n                        '/admin/requests',\r\n                        '/admin/reports',\r\n                        '/admin/banks',\r\n                        '/admin/rates',\r\n                        '/calculator',\r\n                        '/'\r\n                    ],\r\n                    '4': [ // Employee\r\n                        '/admin/dashboard',\r\n                        '/admin/customers',\r\n                        '/admin/requests',\r\n                        '/calculator',\r\n                        '/'\r\n                    ]\r\n                };\r\n                \r\n                // Show superadmin-only stats only for Role 1 (Super Admin)\r\n                const superadminStats = document.querySelector('.superadmin-only-stats');\r\n                if (superadminStats) {\r\n                    if (roleId === 1) {\r\n                        console.log('\u2705 \u0625\u0638\u0647\u0627\u0631 \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0633\u0648\u0628\u0631 \u0623\u062F\u0645\u0646');\r\n                        superadminStats.style.display = 'grid';\r\n                    } else {\r\n                        console.log('\u274C \u0625\u062E\u0641\u0627\u0621 \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0633\u0648\u0628\u0631 \u0623\u062F\u0645\u0646');\r\n                        superadminStats.style.display = 'none';\r\n                    }\r\n                }\r\n                \r\n                // \u0627\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0645\u062A\u0627\u062D\u0629 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\r\n                const userAllowedLinks = allowedLinks[String(roleId)] || allowedLinks['4'];\r\n                \r\n                console.log('\u2705 \u0627\u0644\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0645\u062A\u0627\u062D\u0629:', userAllowedLinks);\r\n                \r\n                // \u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u0623\u0632\u0631\u0627\u0631 \u063A\u064A\u0631 \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647\u0627\r\n                const allButtons = document.querySelectorAll('.quick-access-btn');\r\n                let hiddenCount = 0;\r\n                let visibleCount = 0;\r\n                \r\n                allButtons.forEach(button => {\r\n                    const href = button.getAttribute('href');\r\n                    \r\n                    // \u0641\u062D\u0635 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629\r\n                    if (!userAllowedLinks.includes(href)) {\r\n                        button.style.display = 'none';\r\n                        hiddenCount++;\r\n                        console.log('\uD83D\uDEAB \u0625\u062E\u0641\u0627\u0621 \u0632\u0631:', href);\r\n                    } else {\r\n                        button.style.display = 'block';\r\n                        visibleCount++;\r\n                        console.log('\u2705 \u0639\u0631\u0636 \u0632\u0631:', href);\r\n                    }\r\n                });\r\n                \r\n                console.log('\u062A\u0645 \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A: ' + visibleCount + ' \u0623\u0632\u0631\u0627\u0631 \u0638\u0627\u0647\u0631\u0629\u060C ' + hiddenCount + ' \u0623\u0632\u0631\u0627\u0631 \u0645\u062E\u0641\u064A\u0629');\r\n                \r\n                // \u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u0643\u0631\u0648\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u064A\u0629 \u0644\u0644\u0645\u0648\u0638\u0641\u064A\u0646 \u0648\u0627\u0644\u0645\u0634\u0631\u0641\u064A\u0646\r\n                const adminOnlyStats = document.querySelector('.admin-only-stats');\r\n                if (adminOnlyStats) {\r\n                    if (roleId === 4 || roleId === 3) { // Employee or Supervisor\r\n                        adminOnlyStats.style.display = 'none';\r\n                        console.log('\uD83D\uDEAB \u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u0643\u0631\u0648\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u064A\u0629 (\u0645\u0648\u0638\u0641 \u0623\u0648 \u0645\u0634\u0631\u0641)');\r\n                    } else {\r\n                        adminOnlyStats.style.display = 'grid';\r\n                        console.log('\u2705 \u0639\u0631\u0636 \u0627\u0644\u0643\u0631\u0648\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u064A\u0629');\r\n                    }\r\n                }\r\n                \r\n                // \u0625\u062E\u0641\u0627\u0621 \u0642\u0633\u0645 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0644\u0644\u0645\u0648\u0638\u0641\u064A\u0646 \u0648\u0627\u0644\u0645\u0634\u0631\u0641\u064A\u0646\r\n                const calculatorLinkSection = document.getElementById('calculatorLinkSection');\r\n                const employeeCalculatorSection = document.getElementById('employeeCalculatorSection');\r\n                \r\n                if (calculatorLinkSection) {\r\n                    if (roleId === 3 || roleId === 5) { // Employee or Supervisor\r\n                        calculatorLinkSection.style.display = 'none';\r\n                        console.log('\uD83D\uDEAB \u0625\u062E\u0641\u0627\u0621 \u0642\u0633\u0645 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 (\u0645\u0648\u0638\u0641 \u0623\u0648 \u0645\u0634\u0631\u0641)');\r\n                        \r\n                        // \u0639\u0631\u0636 \u0642\u0633\u0645 \u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062F \u0644\u0644\u0645\u0648\u0638\u0641\u064A\u0646 \u0641\u0642\u0637\r\n                        if (userRole === 'employee' && employeeCalculatorSection) {\r\n                            employeeCalculatorSection.style.display = 'block';\r\n                            console.log('\u2705 \u0639\u0631\u0636 \u0642\u0633\u0645 \u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062F \u0644\u0644\u0645\u0648\u0638\u0641');\r\n                            \r\n                            // \u062A\u062D\u0645\u064A\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0644\u0644\u0645\u0648\u0638\u0641\r\n                            setTimeout(() => {\r\n                                if (typeof loadEmployeeCalculatorLink === 'function') {\r\n                                    loadEmployeeCalculatorLink();\r\n                                }\r\n                            }, 500);\r\n                        }\r\n                    } else {\r\n                        // \u0639\u0631\u0636 \u0627\u0644\u0642\u0633\u0645 \u0644\u0640 superadmin\u060C admin\u060C manager\u060C company\r\n                        calculatorLinkSection.style.display = 'block';\r\n                        console.log('\u2705 \u0639\u0631\u0636 \u0642\u0633\u0645 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629');\r\n                        \r\n                        // \u0625\u062E\u0641\u0627\u0621 \u0642\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641\r\n                        if (employeeCalculatorSection) {\r\n                            employeeCalculatorSection.style.display = 'none';\r\n                        }\r\n                        \r\n                        // \u062A\u062D\u0645\u064A\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0648 QR Code\r\n                        setTimeout(() => {\r\n                            if (typeof loadCalculatorLink === 'function') {\r\n                                loadCalculatorLink();\r\n                            }\r\n                        }, 500);\r\n                    }\r\n                } else {\r\n                    console.warn('\u26A0\uFE0F \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 calculatorLinkSection');\r\n                }\r\n                \r\n            } catch (error) {\r\n                console.error('\u274C \u062E\u0637\u0623 \u0641\u064A \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A:', error);\r\n            }\r\n        }\r\n        \r\n        // \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0639\u0646\u062F \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629\r\n        applyUserPermissions();\r\n        document.addEventListener('DOMContentLoaded', applyUserPermissions);\r\n        \r\n        // \u062F\u0627\u0644\u0629 \u062A\u062D\u062F\u064A\u062B \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u062D\u0633\u0628 \u0627\u0644\u0634\u0631\u0643\u0629\r\n        function updateCalculatorLink() {\r\n            console.log('\uD83D\uDD17 \u062A\u062D\u062F\u064A\u062B \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629...');\r\n            \r\n            try {\r\n                // \u0642\u0631\u0627\u0621\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0646 localStorage\r\n                let userStr = localStorage.getItem('userData') || localStorage.getItem('user');\r\n                \r\n                if (!userStr) {\r\n                    console.warn('\u26A0\uFE0F \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0633\u062A\u062E\u062F\u0645');\r\n                    return;\r\n                }\r\n                \r\n                const user = JSON.parse(userStr);\r\n                const calculatorLink = document.getElementById('calculatorLink');\r\n                \r\n                if (!calculatorLink) {\r\n                    console.warn('\u26A0\uFE0F \u0632\u0631 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F');\r\n                    return;\r\n                }\r\n                \r\n                // \u0625\u0630\u0627 \u0643\u0627\u0646 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0644\u062F\u064A\u0647 tenant_slug\u060C \u0627\u0633\u062A\u062E\u062F\u0645 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u0634\u0631\u0643\u0629\r\n                if (user.tenant_slug) {\r\n                    calculatorLink.href = \\`/c/\\${user.tenant_slug}/calculator\\`;\r\n                    console.log(\\`\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0625\u0644\u0649: /c/\\${user.tenant_slug}/calculator\\`);\r\n                } else {\r\n                    // SuperAdmin \u0623\u0648 \u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u062F\u0648\u0646 \u0634\u0631\u0643\u0629: \u0627\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u0639\u0627\u0645\u0629\r\n                    calculatorLink.href = '/calculator';\r\n                    console.log('\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0625\u0644\u0649: /calculator (\u062D\u0627\u0633\u0628\u0629 \u0639\u0627\u0645\u0629)');\r\n                }\r\n                \r\n            } catch (error) {\r\n                console.error('\u274C \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u062F\u064A\u062B \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629:', error);\r\n            }\r\n        }\r\n        \r\n        // \u062A\u062D\u062F\u064A\u062B \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0639\u0646\u062F \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629\r\n        updateCalculatorLink();\r\n        document.addEventListener('DOMContentLoaded', updateCalculatorLink);\r\n        \r\n        // \u062F\u0627\u0644\u0629 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0642\u0633\u0627\u0645 - window function\r\n        window.loadSectionData = async function(section) {\r\n            console.log('\uD83D\uDCE5 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0642\u0633\u0645:', section);\r\n            switch(section) {\r\n                case 'dashboard':\r\n                    await loadDashboardStats();\r\n                    break;\r\n                case 'customers':\r\n                    await loadCustomers();\r\n                    break;\r\n                case 'financing-requests':\r\n                    await loadFinancingRequests();\r\n                    break;\r\n                case 'banks':\r\n                    await loadBanks();\r\n                    break;\r\n                case 'rates':\r\n                    await loadRates();\r\n                    break;\r\n                case 'subscriptions':\r\n                    await loadSubscriptions();\r\n                    break;\r\n                case 'users':\r\n                    await loadUsers();\r\n                    break;\r\n                case 'packages':\r\n                    await loadPackages();\r\n                    break;\r\n                case 'subscription-requests':\r\n                    await loadSubscriptionRequests();\r\n                    break;\r\n            }\r\n        }\r\n        \r\n        // Load Dashboard Stats\r\n        async function loadDashboardStats() {\r\n            try {\r\n                const response = await axios.get('/api/dashboard/stats');\r\n                if (response.data.success) {\r\n                    const stats = response.data.data;\r\n                    document.getElementById('stat-customers').textContent = stats.total_customers;\r\n                    document.getElementById('stat-requests').textContent = stats.total_requests;\r\n                    document.getElementById('stat-pending').textContent = stats.pending_requests;\r\n                    document.getElementById('stat-approved').textContent = stats.approved_requests;\r\n                    document.getElementById('stat-banks').textContent = stats.active_banks;\r\n                    document.getElementById('stat-tenants').textContent = stats.active_tenants || 0;\r\n                    document.getElementById('stat-subscriptions').textContent = stats.active_subscriptions;\r\n                    document.getElementById('stat-users').textContent = stats.active_users;\r\n                    document.getElementById('stat-calculations').textContent = stats.total_calculations;\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading stats:', error);\r\n            }\r\n        }\r\n        \r\n        // Load Customers\r\n        async function loadCustomers() {\r\n            try {\r\n                const response = await axios.get('/api/customers');\r\n                if (response.data.success) {\r\n                    const customers = response.data.data;\r\n                    const tbody = document.getElementById('customersTable');\r\n                    \r\n                    if (customers.length === 0) {\r\n                        tbody.innerHTML = '<tr><td colspan=\"9\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A</td></tr>';\r\n                        return;\r\n                    }\r\n                    \r\n                    tbody.innerHTML = customers.map((customer, index) => \\`\r\n                        <tr class=\"border-b hover:bg-gray-50\">\r\n                            <td class=\"px-4 py-3\">\\${index + 1}</td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <div class=\"flex items-center gap-2\">\r\n                                    <span class=\"font-medium\">\\${customer.full_name}</span>\r\n                                    <button onclick=\"viewCustomerFinancingDetails(\\${customer.id})\" \r\n                                            class=\"text-indigo-600 hover:text-indigo-800 transition-colors\" \r\n                                            title=\"\u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\u064A\u0629 \u0627\u0644\u0643\u0627\u0645\u0644\u0629\">\r\n                                        <i class=\"fas fa-info-circle text-lg\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </td>\r\n                            <td class=\"px-4 py-3\">\\${customer.phone}</td>\r\n                            <td class=\"px-4 py-3 text-sm\">\\${customer.birthdate || '-'}</td>\r\n                            <td class=\"px-4 py-3 font-medium text-green-600\">\\${customer.monthly_salary ? customer.monthly_salary.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644' : '-'}</td>\r\n                            <td class=\"px-4 py-3 font-medium text-purple-600\">\\${customer.financing_amount ? customer.financing_amount.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644' : '-'}</td>\r\n                            <td class=\"px-4 py-3 text-sm text-orange-600\">\\${customer.monthly_obligations ? customer.monthly_obligations.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644' : '-'}</td>\r\n                            <td class=\"px-4 py-3 text-sm\">\\${customer.financing_type_name || '-'}</td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <button onclick=\"viewCustomer(\\${customer.id})\" class=\"text-blue-600 hover:text-blue-800 ml-2\" title=\"\u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0643\u0627\u0645\u0644\">\r\n                                    <i class=\"fas fa-eye\"></i>\r\n                                </button>\r\n                                <button onclick=\"editCustomer(\\${customer.id})\" class=\"text-green-600 hover:text-green-800 ml-2\" title=\"\u062A\u0639\u062F\u064A\u0644\">\r\n                                    <i class=\"fas fa-edit\"></i>\r\n                                </button>\r\n                                <button onclick=\"deleteCustomer(\\${customer.id})\" class=\"text-red-600 hover:text-red-800\" title=\"\u062D\u0630\u0641\">\r\n                                    <i class=\"fas fa-trash\"></i>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    \\`).join('');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading customers:', error);\r\n            }\r\n        }\r\n        \r\n        // Load Financing Requests\r\n        async function loadFinancingRequests() {\r\n            try {\r\n                const response = await axios.get('/api/financing-requests');\r\n                if (response.data.success) {\r\n                    const requests = response.data.data;\r\n                    const tbody = document.getElementById('requestsTable');\r\n                    \r\n                    if (requests.length === 0) {\r\n                        tbody.innerHTML = '<tr><td colspan=\"9\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A</td></tr>';\r\n                        return;\r\n                    }\r\n                    \r\n                    tbody.innerHTML = requests.map((req, index) => {\r\n                        const statusColors = {\r\n                            'pending': 'bg-yellow-100 text-yellow-800',\r\n                            'approved': 'bg-green-100 text-green-800',\r\n                            'rejected': 'bg-red-100 text-red-800'\r\n                        };\r\n                        const statusText = {\r\n                            'pending': '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631',\r\n                            'approved': '\u0645\u0642\u0628\u0648\u0644',\r\n                            'rejected': '\u0645\u0631\u0641\u0648\u0636'\r\n                        };\r\n                        \r\n                        return \\`\r\n                            <tr class=\"border-b hover:bg-gray-50\">\r\n                                <td class=\"px-4 py-3\">\\${index + 1}</td>\r\n                                <td class=\"px-4 py-3 font-medium\">\\${req.customer_name}</td>\r\n                                <td class=\"px-4 py-3\">\\${req.customer_phone}</td>\r\n                                <td class=\"px-4 py-3 text-sm\">\\${req.financing_type_name || '-'}</td>\r\n                                <td class=\"px-4 py-3 font-medium\">\\${req.requested_amount.toLocaleString('ar-SA')}</td>\r\n                                <td class=\"px-4 py-3\">\\${req.duration_months} \u0634\u0647\u0631</td>\r\n                                <td class=\"px-4 py-3 text-sm\">\\${req.selected_bank_name || '-'}</td>\r\n                                <td class=\"px-4 py-3\">\r\n                                    <span class=\"\\${statusColors[req.status]} px-2 py-1 rounded text-xs\">\\${statusText[req.status]}</span>\r\n                                </td>\r\n                                <td class=\"px-4 py-3\">\r\n                                    <button onclick=\"viewRequest(\\${req.id})\" class=\"text-blue-600 hover:text-blue-800 ml-2\" title=\"\u0639\u0631\u0636\">\r\n                                        <i class=\"fas fa-eye\"></i>\r\n                                    </button>\r\n                                    <button onclick=\"updateStatus(\\${req.id})\" class=\"text-green-600 hover:text-green-800 ml-2\" title=\"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062D\u0627\u0644\u0629\">\r\n                                        <i class=\"fas fa-edit\"></i>\r\n                                    </button>\r\n                                    <button onclick=\"deleteRequest(\\${req.id})\" class=\"text-red-600 hover:text-red-800\" title=\"\u062D\u0630\u0641\">\r\n                                        <i class=\"fas fa-trash\"></i>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        \\`;\r\n                    }).join('');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading requests:', error);\r\n            }\r\n        }\r\n        \r\n        // Utility functions\r\n        window.toggleDarkMode = function() {\r\n            alert('\u0648\u0636\u0639 \u0627\u0644\u0644\u064A\u0644 - \u0642\u064A\u062F \u0627\u0644\u062A\u0637\u0648\u064A\u0631');\r\n        }\r\n        \r\n        window.logout = function() {\r\n            if (confirm('\u0647\u0644 \u062A\u0631\u064A\u062F \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\u061F')) {\r\n                window.location.href = '/';\r\n            }\r\n        }\r\n        \r\n        window.exportExcel = function(type) {\r\n            alert('\u062A\u0635\u062F\u064A\u0631 Excel - \u0642\u064A\u062F \u0627\u0644\u062A\u0637\u0648\u064A\u0631');\r\n        }\r\n        \r\n        function showAddCustomerModal() {\r\n            alert('\u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 - \u0642\u064A\u062F \u0627\u0644\u062A\u0637\u0648\u064A\u0631');\r\n        }\r\n        \r\n        window.addCustomer = function() {\r\n            openModal('addCustomerModal');\r\n        }\r\n        \r\n        window.viewCustomer = async function(id) {\r\n            try {\r\n                const response = await axios.get('/api/customers');\r\n                if (response.data.success) {\r\n                    const customer = response.data.data.find(c => c.id === id);\r\n                    if (!customer) {\r\n                        alert('\u274C \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064A\u0644');\r\n                        return;\r\n                    }\r\n                    \r\n                    // Create modal content\r\n                    const modalContent = \\`\r\n                        <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\" onclick=\"this.remove()\">\r\n                            <div class=\"bg-white rounded-xl p-8 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto\" onclick=\"event.stopPropagation()\">\r\n                                <div class=\"flex items-center justify-between mb-6\">\r\n                                    <h2 class=\"text-3xl font-bold text-gray-800\">\r\n                                        <i class=\"fas fa-user-circle text-blue-600 ml-2\"></i>\r\n                                        \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644\r\n                                    </h2>\r\n                                    <button onclick=\"this.closest('.fixed').remove()\" class=\"text-gray-500 hover:text-gray-700\">\r\n                                        <i class=\"fas fa-times text-2xl\"></i>\r\n                                    </button>\r\n                                </div>\r\n                                \r\n                                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                    <!-- Personal Information -->\r\n                                    <div class=\"col-span-2\">\r\n                                        <h3 class=\"text-xl font-bold text-gray-700 mb-4 border-b-2 border-blue-500 pb-2\">\r\n                                            <i class=\"fas fa-id-card text-blue-600 ml-2\"></i>\r\n                                            \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629\r\n                                        </h3>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-gray-600 mb-1\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644</p>\r\n                                        <p class=\"text-lg font-bold text-gray-800\">\\${customer.full_name || '-'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-gray-600 mb-1\">\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644</p>\r\n                                        <p class=\"text-lg font-bold text-gray-800\">\\${customer.phone || '-'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-gray-600 mb-1\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</p>\r\n                                        <p class=\"text-lg font-bold text-gray-800\">\\${customer.email || '-'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-gray-600 mb-1\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A</p>\r\n                                        <p class=\"text-lg font-bold text-gray-800\">\\${customer.national_id && !customer.national_id.startsWith('TEMP-') ? customer.national_id : '\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-blue-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-blue-600 mb-1\">\uD83D\uDCC5 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F</p>\r\n                                        <p class=\"text-lg font-bold text-blue-800\">\\${customer.birthdate || '\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-gray-600 mb-1\">\u0627\u0644\u0645\u062F\u064A\u0646\u0629</p>\r\n                                        <p class=\"text-lg font-bold text-gray-800\">\\${customer.city || '\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-purple-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-purple-600 mb-1\">\uD83D\uDCDD \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0633\u062C\u064A\u0644</p>\r\n                                        <p class=\"text-lg font-bold text-purple-800\">\\${customer.created_at ? new Date(customer.created_at).toLocaleDateString('ar-SA') : '\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <!-- Employment Information -->\r\n                                    <div class=\"col-span-2 mt-4\">\r\n                                        <h3 class=\"text-xl font-bold text-gray-700 mb-4 border-b-2 border-green-500 pb-2\">\r\n                                            <i class=\"fas fa-briefcase text-green-600 ml-2\"></i>\r\n                                            \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0648\u0638\u064A\u0641\u064A\u0629\r\n                                        </h3>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-gray-600 mb-1\">\u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644</p>\r\n                                        <p class=\"text-lg font-bold text-gray-800\">\\${customer.employer_name || '-'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-gray-600 mb-1\">\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A</p>\r\n                                        <p class=\"text-lg font-bold text-gray-800\">\\${customer.job_title || '-'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n                                        <p class=\"text-sm text-gray-600 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0628\u062F\u0627\u064A\u0629 \u0627\u0644\u0639\u0645\u0644</p>\r\n                                        <p class=\"text-lg font-bold text-gray-800\">\\${customer.work_start_date || '-'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <!-- Financing Information -->\r\n                                    <div class=\"col-span-2 mt-4\">\r\n                                        <h3 class=\"text-xl font-bold text-gray-700 mb-4 border-b-2 border-purple-500 pb-2\">\r\n                                            <i class=\"fas fa-money-bill-wave text-purple-600 ml-2\"></i>\r\n                                            \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n                                        </h3>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-purple-50 p-4 rounded-lg border-2 border-purple-200\">\r\n                                        <p class=\"text-sm text-purple-600 mb-1\">\uD83D\uDCB0 \u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628</p>\r\n                                        <p class=\"text-2xl font-bold text-purple-700\">\\${customer.financing_amount ? customer.financing_amount.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644' : '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-green-50 p-4 rounded-lg border-2 border-green-200\">\r\n                                        <p class=\"text-sm text-green-600 mb-1\">\uD83D\uDCB5 \u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A</p>\r\n                                        <p class=\"text-2xl font-bold text-green-700\">\\${customer.monthly_salary ? customer.monthly_salary.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644' : '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-orange-50 p-4 rounded-lg border-2 border-orange-200\">\r\n                                        <p class=\"text-sm text-orange-600 mb-1\">\uD83D\uDCCA \u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629</p>\r\n                                        <p class=\"text-2xl font-bold text-orange-700\">\\${customer.monthly_obligations ? customer.monthly_obligations.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644' : '0 \u0631\u064A\u0627\u0644'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-blue-50 p-4 rounded-lg border-2 border-blue-200\">\r\n                                        <p class=\"text-sm text-blue-600 mb-1\">\uD83D\uDCB3 \u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0645\u062A\u0627\u062D</p>\r\n                                        <p class=\"text-2xl font-bold text-blue-700\">\\${customer.monthly_salary && customer.monthly_obligations ? (customer.monthly_salary - customer.monthly_obligations).toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644' : '\u063A\u064A\u0631 \u0645\u062D\u0633\u0648\u0628'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-indigo-50 p-4 rounded-lg col-span-2 border-2 border-indigo-200\">\r\n                                        <p class=\"text-sm text-indigo-600 mb-1\">\uD83C\uDFE6 \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                                        <p class=\"text-xl font-bold text-indigo-800\">\\${customer.financing_type_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</p>\r\n                                    </div>\r\n                                    \r\n                                    <!-- Requests Statistics -->\r\n                                    <div class=\"col-span-2 mt-4\">\r\n                                        <h3 class=\"text-xl font-bold text-gray-700 mb-4 border-b-2 border-blue-500 pb-2\">\r\n                                            <i class=\"fas fa-chart-bar text-blue-600 ml-2\"></i>\r\n                                            \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0637\u0644\u0628\u0627\u062A\r\n                                        </h3>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-blue-50 p-4 rounded-lg text-center\">\r\n                                        <p class=\"text-sm text-blue-600 mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A</p>\r\n                                        <p class=\"text-3xl font-bold text-blue-700\">\\${customer.total_requests || 0}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-yellow-50 p-4 rounded-lg text-center\">\r\n                                        <p class=\"text-sm text-yellow-600 mb-1\">\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631</p>\r\n                                        <p class=\"text-3xl font-bold text-yellow-700\">\\${customer.pending_requests || 0}</p>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"bg-green-50 p-4 rounded-lg text-center\">\r\n                                        <p class=\"text-sm text-green-600 mb-1\">\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647\u0627</p>\r\n                                        <p class=\"text-3xl font-bold text-green-700\">\\${customer.approved_requests || 0}</p>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div class=\"flex justify-end gap-3 mt-6\">\r\n                                    <button onclick=\"editCustomer(\\${customer.id})\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                                        <i class=\"fas fa-edit ml-2\"></i>\r\n                                        \u062A\u0639\u062F\u064A\u0644\r\n                                    </button>\r\n                                    <button onclick=\"this.closest('.fixed').remove()\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-bold\">\r\n                                        <i class=\"fas fa-times ml-2\"></i>\r\n                                        \u0625\u063A\u0644\u0627\u0642\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    \\`;\r\n                    \r\n                    // Append modal to body\r\n                    document.body.insertAdjacentHTML('beforeend', modalContent);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error viewing customer:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644');\r\n            }\r\n        }\r\n        \r\n        // View Customer Financing Details with Best Bank & Best Offer\r\n        window.viewCustomerFinancingDetails = async function(id) {\r\n            try {\r\n                console.log('\uD83D\uDD0D Loading financing details for customer:', id);\r\n                \r\n                // Get customer data\r\n                const customersRes = await axios.get('/api/customers');\r\n                const customer = customersRes.data.data.find(c => c.id === id);\r\n                \r\n                if (!customer) {\r\n                    alert('\u274C \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064A\u0644');\r\n                    return;\r\n                }\r\n                \r\n                // Get banks and rates data\r\n                const [banksRes, ratesRes] = await Promise.all([\r\n                    axios.get('/api/banks'),\r\n                    axios.get('/api/financing-rates')\r\n                ]);\r\n                \r\n                const banks = banksRes.data.data || [];\r\n                const rates = ratesRes.data.data || [];\r\n                \r\n                // Calculate best financing options\r\n                const salary = customer.monthly_salary || 0;\r\n                const obligations = customer.monthly_obligations || 0;\r\n                const requestedAmount = customer.financing_amount || 0;\r\n                const duration = 60; // Default 60 months\r\n                \r\n                const availableIncome = salary - obligations;\r\n                const maxMonthlyPayment = availableIncome * 0.33;\r\n                \r\n                // Calculate offers for each bank\r\n                const offers = banks.filter(b => b.is_active).map(bank => {\r\n                    // Find rate for this bank\r\n                    const rate = rates.find(r => r.bank_id === bank.id && r.is_active);\r\n                    if (!rate) return null;\r\n                    \r\n                    const profitRate = parseFloat(rate.profit_rate) / 100;\r\n                    const adminFee = parseFloat(rate.admin_fee_percentage) / 100;\r\n                    \r\n                    // Calculate total amount with profit\r\n                    const totalProfit = requestedAmount * profitRate * (duration / 12);\r\n                    const totalAmount = requestedAmount + totalProfit;\r\n                    const adminFeeAmount = requestedAmount * adminFee;\r\n                    const finalAmount = totalAmount + adminFeeAmount;\r\n                    const monthlyPayment = finalAmount / duration;\r\n                    \r\n                    return {\r\n                        bank_id: bank.id,\r\n                        bank_name: bank.bank_name,\r\n                        profit_rate: rate.profit_rate,\r\n                        admin_fee: rate.admin_fee_percentage,\r\n                        monthly_payment: monthlyPayment,\r\n                        total_amount: finalAmount,\r\n                        total_profit: totalProfit + adminFeeAmount,\r\n                        is_affordable: monthlyPayment <= maxMonthlyPayment\r\n                    };\r\n                }).filter(o => o !== null);\r\n                \r\n                // Sort by lowest monthly payment\r\n                offers.sort((a, b) => a.monthly_payment - b.monthly_payment);\r\n                \r\n                const bestOffer = offers.find(o => o.is_affordable) || offers[0];\r\n                \r\n                // Create detailed modal\r\n                const modalContent = \\`\r\n                    <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" onclick=\"this.remove()\">\r\n                        <div class=\"bg-white rounded-xl max-w-5xl w-full max-h-[95vh] overflow-y-auto\" onclick=\"event.stopPropagation()\">\r\n                            <!-- Header -->\r\n                            <div class=\"bg-gradient-to-r from-indigo-600 to-indigo-800 text-white p-6 rounded-t-xl\">\r\n                                <div class=\"flex items-center justify-between\">\r\n                                    <div>\r\n                                        <h2 class=\"text-2xl font-bold mb-2\">\r\n                                            <i class=\"fas fa-calculator ml-2\"></i>\r\n                                            \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\u064A\u0629 \u0627\u0644\u0643\u0627\u0645\u0644\u0629\r\n                                        </h2>\r\n                                        <p class=\"text-indigo-100\">\\${customer.full_name}</p>\r\n                                    </div>\r\n                                    <button onclick=\"this.closest('.fixed').remove()\" class=\"text-white hover:text-indigo-200\">\r\n                                        <i class=\"fas fa-times text-2xl\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"p-6\">\r\n                                <!-- Customer Financial Info -->\r\n                                <div class=\"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 mb-6\">\r\n                                    <h3 class=\"text-xl font-bold text-blue-800 mb-4\">\r\n                                        <i class=\"fas fa-user-circle ml-2\"></i>\r\n                                        \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629\r\n                                    </h3>\r\n                                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                                        <div class=\"bg-white rounded-lg p-4\">\r\n                                            <p class=\"text-sm text-gray-600 mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F</p>\r\n                                            <p class=\"text-lg font-bold text-gray-800\">\\${customer.birthdate || '-'}</p>\r\n                                        </div>\r\n                                        <div class=\"bg-white rounded-lg p-4\">\r\n                                            <p class=\"text-sm text-gray-600 mb-1\">\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644</p>\r\n                                            <p class=\"text-lg font-bold text-gray-800\">\\${customer.phone}</p>\r\n                                        </div>\r\n                                        <div class=\"bg-white rounded-lg p-4\">\r\n                                            <p class=\"text-sm text-gray-600 mb-1\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                                            <p class=\"text-lg font-bold text-gray-800\">\\${customer.financing_type_name || '-'}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <!-- Financial Summary -->\r\n                                <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n                                    <div class=\"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl p-4 text-center\">\r\n                                        <i class=\"fas fa-money-bill-wave text-3xl mb-2 opacity-80\"></i>\r\n                                        <p class=\"text-sm opacity-90 mb-1\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A</p>\r\n                                        <p class=\"text-2xl font-bold\">\\${salary.toLocaleString('ar-SA')}</p>\r\n                                        <p class=\"text-xs opacity-75\">\u0631\u064A\u0627\u0644</p>\r\n                                    </div>\r\n                                    <div class=\"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-xl p-4 text-center\">\r\n                                        <i class=\"fas fa-hand-holding-usd text-3xl mb-2 opacity-80\"></i>\r\n                                        <p class=\"text-sm opacity-90 mb-1\">\u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                                        <p class=\"text-2xl font-bold\">\\${requestedAmount.toLocaleString('ar-SA')}</p>\r\n                                        <p class=\"text-xs opacity-75\">\u0631\u064A\u0627\u0644</p>\r\n                                    </div>\r\n                                    <div class=\"bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-xl p-4 text-center\">\r\n                                        <i class=\"fas fa-credit-card text-3xl mb-2 opacity-80\"></i>\r\n                                        <p class=\"text-sm opacity-90 mb-1\">\u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A</p>\r\n                                        <p class=\"text-2xl font-bold\">\\${obligations.toLocaleString('ar-SA')}</p>\r\n                                        <p class=\"text-xs opacity-75\">\u0631\u064A\u0627\u0644</p>\r\n                                    </div>\r\n                                    <div class=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl p-4 text-center\">\r\n                                        <i class=\"fas fa-wallet text-3xl mb-2 opacity-80\"></i>\r\n                                        <p class=\"text-sm opacity-90 mb-1\">\u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0645\u062A\u0627\u062D</p>\r\n                                        <p class=\"text-2xl font-bold\">\\${availableIncome.toLocaleString('ar-SA')}</p>\r\n                                        <p class=\"text-xs opacity-75\">\u0631\u064A\u0627\u0644</p>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <!-- Best Offer Section -->\r\n                                \\${bestOffer ? \\`\r\n                                <div class=\"bg-gradient-to-br from-yellow-50 to-yellow-100 border-2 border-yellow-400 rounded-xl p-6 mb-6\">\r\n                                    <div class=\"flex items-center gap-3 mb-4\">\r\n                                        <div class=\"bg-yellow-500 text-white rounded-full p-3\">\r\n                                            <i class=\"fas fa-trophy text-2xl\"></i>\r\n                                        </div>\r\n                                        <div>\r\n                                            <h3 class=\"text-2xl font-bold text-yellow-800\">\u0623\u0641\u0636\u0644 \u0639\u0631\u0636 \u0645\u0642\u062A\u0631\u062D</h3>\r\n                                            <p class=\"text-yellow-700\">\\${bestOffer.bank_name}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                                        <div class=\"bg-white rounded-lg p-4 border-2 border-yellow-300\">\r\n                                            <p class=\"text-sm text-gray-600 mb-1\">\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A</p>\r\n                                            <p class=\"text-2xl font-bold text-yellow-700\">\\${bestOffer.monthly_payment.toLocaleString('ar-SA', {maximumFractionDigits: 2})}</p>\r\n                                            <p class=\"text-xs text-gray-500\">\u0631\u064A\u0627\u0644 / \u0634\u0647\u0631</p>\r\n                                        </div>\r\n                                        <div class=\"bg-white rounded-lg p-4\">\r\n                                            <p class=\"text-sm text-gray-600 mb-1\">\u0646\u0633\u0628\u0629 \u0627\u0644\u0631\u0628\u062D</p>\r\n                                            <p class=\"text-xl font-bold text-gray-800\">\\${bestOffer.profit_rate}%</p>\r\n                                            <p class=\"text-xs text-gray-500\">\u0633\u0646\u0648\u064A\u0627\u064B</p>\r\n                                        </div>\r\n                                        <div class=\"bg-white rounded-lg p-4\">\r\n                                            <p class=\"text-sm text-gray-600 mb-1\">\u0631\u0633\u0648\u0645 \u0625\u062F\u0627\u0631\u064A\u0629</p>\r\n                                            <p class=\"text-xl font-bold text-gray-800\">\\${bestOffer.admin_fee}%</p>\r\n                                            <p class=\"text-xs text-gray-500\">\u0645\u0646 \u0627\u0644\u0645\u0628\u0644\u063A</p>\r\n                                        </div>\r\n                                        <div class=\"bg-white rounded-lg p-4\">\r\n                                            <p class=\"text-sm text-gray-600 mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A</p>\r\n                                            <p class=\"text-xl font-bold text-gray-800\">\\${bestOffer.total_amount.toLocaleString('ar-SA', {maximumFractionDigits: 0})}</p>\r\n                                            <p class=\"text-xs text-gray-500\">\u0631\u064A\u0627\u0644</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"mt-4 p-4 bg-white rounded-lg\">\r\n                                        <div class=\"flex items-center justify-between mb-2\">\r\n                                            <span class=\"text-gray-700\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0631\u0628\u062D \u0648\u0627\u0644\u0631\u0633\u0648\u0645:</span>\r\n                                            <span class=\"text-xl font-bold text-red-600\">\\${bestOffer.total_profit.toLocaleString('ar-SA', {maximumFractionDigits: 0})} \u0631\u064A\u0627\u0644</span>\r\n                                        </div>\r\n                                        <div class=\"flex items-center justify-between\">\r\n                                            <span class=\"text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629:</span>\r\n                                            <span class=\"px-3 py-1 rounded-full text-sm font-bold \\${bestOffer.is_affordable ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}\">\r\n                                                \\${bestOffer.is_affordable ? '\u2713 \u0645\u0646\u0627\u0633\u0628 \u0644\u0644\u0639\u0645\u064A\u0644' : '\u2717 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u0642\u062F\u0631\u0629 \u0627\u0644\u0634\u0631\u0627\u0626\u064A\u0629'}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                \\` : '<div class=\"text-center text-gray-500 py-8\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0631\u0648\u0636 \u0645\u062A\u0627\u062D\u0629</div>'}\r\n                                \r\n                                <!-- All Offers Comparison -->\r\n                                \\${offers.length > 1 ? \\`\r\n                                <div class=\"bg-white rounded-xl border border-gray-200 overflow-hidden\">\r\n                                    <div class=\"bg-gray-100 px-6 py-4 border-b\">\r\n                                        <h3 class=\"text-xl font-bold text-gray-800\">\r\n                                            <i class=\"fas fa-chart-bar ml-2\"></i>\r\n                                            \u0645\u0642\u0627\u0631\u0646\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0631\u0648\u0636\r\n                                        </h3>\r\n                                    </div>\r\n                                    <div class=\"overflow-x-auto\">\r\n                                        <table class=\"w-full\">\r\n                                            <thead class=\"bg-gray-50\">\r\n                                                <tr>\r\n                                                    <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0628\u0646\u0643</th>\r\n                                                    <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A</th>\r\n                                                    <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0646\u0633\u0628\u0629 \u0627\u0644\u0631\u0628\u062D</th>\r\n                                                    <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0631\u0633\u0648\u0645</th>\r\n                                                    <th class=\"px-4 py-3 text-right text-sm font-bold text-gray-700\">\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A</th>\r\n                                                    <th class=\"px-4 py-3 text-center text-sm font-bold text-gray-700\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                \\${offers.map((offer, idx) => \\`\r\n                                                    <tr class=\"border-t hover:bg-gray-50 \\${offer.bank_id === bestOffer?.bank_id ? 'bg-yellow-50' : ''}\">\r\n                                                        <td class=\"px-4 py-3 font-medium \\${offer.bank_id === bestOffer?.bank_id ? 'text-yellow-700' : ''}\">\r\n                                                            \\${offer.bank_id === bestOffer?.bank_id ? '\uD83C\uDFC6 ' : ''}\\${offer.bank_name}\r\n                                                        </td>\r\n                                                        <td class=\"px-4 py-3 font-bold\">\\${offer.monthly_payment.toLocaleString('ar-SA', {maximumFractionDigits: 2})} \u0631\u064A\u0627\u0644</td>\r\n                                                        <td class=\"px-4 py-3\">\\${offer.profit_rate}%</td>\r\n                                                        <td class=\"px-4 py-3\">\\${offer.admin_fee}%</td>\r\n                                                        <td class=\"px-4 py-3 font-medium\">\\${offer.total_amount.toLocaleString('ar-SA', {maximumFractionDigits: 0})} \u0631\u064A\u0627\u0644</td>\r\n                                                        <td class=\"px-4 py-3 text-center\">\r\n                                                            <span class=\"px-2 py-1 rounded-full text-xs font-bold \\${offer.is_affordable ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}\">\r\n                                                                \\${offer.is_affordable ? '\u2713 \u0645\u0646\u0627\u0633\u0628' : '\u2717 \u063A\u064A\u0631 \u0645\u0646\u0627\u0633\u0628'}\r\n                                                            </span>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                \\`).join('')}\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                                \\` : ''}\r\n                                \r\n                                <!-- Action Buttons -->\r\n                                <div class=\"flex justify-end gap-3 mt-6\">\r\n                                    <button onclick=\"window.print()\" class=\"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                                        <i class=\"fas fa-print ml-2\"></i>\r\n                                        \u0637\u0628\u0627\u0639\u0629\r\n                                    </button>\r\n                                    <button onclick=\"this.closest('.fixed').remove()\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-bold\">\r\n                                        <i class=\"fas fa-times ml-2\"></i>\r\n                                        \u0625\u063A\u0644\u0627\u0642\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                \\`;\r\n                \r\n                document.body.insertAdjacentHTML('beforeend', modalContent);\r\n                \r\n            } catch (error) {\r\n                console.error('Error loading financing details:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\u064A\u0629');\r\n            }\r\n        }\r\n        \r\n        window.editCustomer = function(id) {\r\n            alert('\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0639\u0645\u064A\u0644 \u0631\u0642\u0645: ' + id);\r\n        }\r\n        \r\n        window.deleteCustomer = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0645\u064A\u0644\u061F\\\\n\\\\n\u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0645\u0631\u062A\u0628\u0637\u0629 \u0628\u0647.')) {\r\n                return;\r\n            }\r\n            \r\n            try {\r\n                const response = await axios.delete(\\`/api/customers/\\${id}\\`);\r\n                if (response.data.success) {\r\n                    alert('\u2705 ' + response.data.message);\r\n                    loadCustomers();\r\n                } else {\r\n                    alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting customer:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641');\r\n            }\r\n        }\r\n        \r\n        window.viewRequest = async function(id) {\r\n            try {\r\n                const response = await axios.get('/api/financing-requests');\r\n                if (response.data.success) {\r\n                    const request = response.data.data.find(r => r.id === id);\r\n                    if (request) {\r\n                        const statusColors = {\r\n                            'pending': 'bg-yellow-100 text-yellow-800',\r\n                            'approved': 'bg-green-100 text-green-800',\r\n                            'rejected': 'bg-red-100 text-red-800'\r\n                        };\r\n                        const statusText = {\r\n                            'pending': '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631',\r\n                            'approved': '\u0645\u0642\u0628\u0648\u0644',\r\n                            'rejected': '\u0645\u0631\u0641\u0648\u0636'\r\n                        };\r\n                        \r\n                        const detailsHtml = \\`\r\n                            <div class=\"bg-gray-50 rounded-lg p-4\">\r\n                                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628</p>\r\n                                        <p class=\"font-bold text-lg\">#\\${request.id}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0627\u0644\u062D\u0627\u0644\u0629</p>\r\n                                        <span class=\"\\${statusColors[request.status]} px-3 py-1 rounded text-sm font-bold inline-block mt-1\">\r\n                                            \\${statusText[request.status]}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644</p>\r\n                                        <p class=\"font-medium\">\\${request.customer_name}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644</p>\r\n                                        <p class=\"font-medium\">\\${request.customer_phone}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629</p>\r\n                                        <p class=\"font-medium\">\\${request.national_id || '-'}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644</p>\r\n                                        <p class=\"font-medium\">\\${request.employer_name || '-'}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A</p>\r\n                                        <p class=\"font-medium\">\\${request.job_title || '-'}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0627\u0644\u0628\u0646\u0643 \u0627\u0644\u0645\u062E\u062A\u0627\u0631</p>\r\n                                        <p class=\"font-medium\">\\${request.selected_bank_name || '-'}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                                        <p class=\"font-medium\">\\${request.financing_type_name || '-'}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628</p>\r\n                                        <p class=\"font-bold text-green-600 text-lg\">\\${Number(request.requested_amount).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0645\u062F\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</p>\r\n                                        <p class=\"font-medium\">\\${request.duration_months} \u0634\u0647\u0631</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0639\u0646\u062F \u0627\u0644\u0637\u0644\u0628</p>\r\n                                        <p class=\"font-medium\">\\${Number(request.salary_at_request).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629</p>\r\n                                        <p class=\"font-medium\">\\${Number(request.monthly_obligations || 0).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u0627\u0644\u0642\u0633\u0637 \u0627\u0644\u0634\u0647\u0631\u064A</p>\r\n                                        <p class=\"font-medium\">\\${Number(request.monthly_payment || 0).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p class=\"text-sm text-gray-600\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0637\u0644\u0628</p>\r\n                                        <p class=\"font-medium\">\\${new Date(request.created_at).toLocaleDateString('ar-SA')}</p>\r\n                                    </div>\r\n                                </div>\r\n                                \\${request.notes ? \\`\r\n                                    <div class=\"mt-4 pt-4 border-t\">\r\n                                        <p class=\"text-sm text-gray-600 mb-2\">\u0645\u0644\u0627\u062D\u0638\u0627\u062A</p>\r\n                                        <p class=\"text-gray-800\">\\${request.notes}</p>\r\n                                    </div>\r\n                                \\` : ''}\r\n                                \r\n                                <!-- Attachments Section -->\r\n                                <div class=\"mt-4 pt-4 border-t\">\r\n                                    <p class=\"text-sm text-gray-700 font-semibold mb-3\">\r\n                                        <i class=\"fas fa-paperclip ml-1\"></i>\r\n                                        \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A\r\n                                    </p>\r\n                                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                                        \\${(request.id_attachment_url && request.id_attachment_url !== 'null') ? \\`\r\n                                            <a href=\"\\${request.id_attachment_url}\" target=\"_blank\" \r\n                                               class=\"flex items-center gap-2 p-3 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors\">\r\n                                                <i class=\"fas fa-id-card text-blue-600\"></i>\r\n                                                <span class=\"text-sm text-blue-800 font-medium\">\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629</span>\r\n                                                <i class=\"fas fa-download text-blue-600 mr-auto\"></i>\r\n                                            </a>\r\n                                        \\` : '<div class=\"p-3 bg-gray-100 rounded-lg border border-gray-200 text-sm text-gray-500\">\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629: \u063A\u064A\u0631 \u0645\u0631\u0641\u0642\u0629</div>'}\r\n                                        \r\n                                        \\${(request.bank_statement_attachment_url && request.bank_statement_attachment_url !== 'null') ? \\`\r\n                                            <a href=\"\\${request.bank_statement_attachment_url}\" target=\"_blank\"\r\n                                               class=\"flex items-center gap-2 p-3 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors\">\r\n                                                <i class=\"fas fa-university text-green-600\"></i>\r\n                                                <span class=\"text-sm text-green-800 font-medium\">\u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A</span>\r\n                                                <i class=\"fas fa-download text-green-600 mr-auto\"></i>\r\n                                            </a>\r\n                                        \\` : '<div class=\"p-3 bg-gray-100 rounded-lg border border-gray-200 text-sm text-gray-500\">\u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628: \u063A\u064A\u0631 \u0645\u0631\u0641\u0642</div>'}\r\n                                        \r\n                                        \\${(request.salary_attachment_url && request.salary_attachment_url !== 'null') ? \\`\r\n                                            <a href=\"\\${request.salary_attachment_url}\" target=\"_blank\"\r\n                                               class=\"flex items-center gap-2 p-3 bg-yellow-50 hover:bg-yellow-100 rounded-lg border border-yellow-200 transition-colors\">\r\n                                                <i class=\"fas fa-file-invoice-dollar text-yellow-600\"></i>\r\n                                                <span class=\"text-sm text-yellow-800 font-medium\">\u062A\u0639\u0631\u064A\u0641 \u0627\u0644\u0631\u0627\u062A\u0628</span>\r\n                                                <i class=\"fas fa-download text-yellow-600 mr-auto\"></i>\r\n                                            </a>\r\n                                        \\` : '<div class=\"p-3 bg-gray-100 rounded-lg border border-gray-200 text-sm text-gray-500\">\u062A\u0639\u0631\u064A\u0641 \u0627\u0644\u0631\u0627\u062A\u0628: \u063A\u064A\u0631 \u0645\u0631\u0641\u0642</div>'}\r\n                                        \r\n                                        \\${(request.additional_attachment_url && request.additional_attachment_url !== 'null') ? \\`\r\n                                            <a href=\"\\${request.additional_attachment_url}\" target=\"_blank\"\r\n                                               class=\"flex items-center gap-2 p-3 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors\">\r\n                                                <i class=\"fas fa-file text-purple-600\"></i>\r\n                                                <span class=\"text-sm text-purple-800 font-medium\">\u0645\u0631\u0641\u0642\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629</span>\r\n                                                <i class=\"fas fa-download text-purple-600 mr-auto\"></i>\r\n                                            </a>\r\n                                        \\` : '<div class=\"p-3 bg-gray-100 rounded-lg border border-gray-200 text-sm text-gray-500\">\u0645\u0631\u0641\u0642\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629: \u063A\u064A\u0631 \u0645\u0631\u0641\u0642\u0629</div>'}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        \\`;\r\n                        \r\n                        document.getElementById('requestDetails').innerHTML = detailsHtml;\r\n                        openModal('viewRequestModal');\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading request:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0637\u0644\u0628');\r\n            }\r\n        }\r\n        \r\n        window.deleteRequest = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628\u061F')) {\r\n                return;\r\n            }\r\n            \r\n            try {\r\n                const response = await axios.delete(\\`/api/financing-requests/\\${id}\\`);\r\n                if (response.data.success) {\r\n                    alert('\u2705 ' + response.data.message);\r\n                    loadFinancingRequests();\r\n                    loadDashboardStats(); // Refresh stats\r\n                } else {\r\n                    alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting request:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641');\r\n            }\r\n        }\r\n        \r\n        window.updateStatus = async function(id) {\r\n            document.getElementById('requestId').value = id;\r\n            \r\n            // Load current request data\r\n            try {\r\n                const response = await axios.get('/api/financing-requests');\r\n                if (response.data.success) {\r\n                    const request = response.data.data.find(r => r.id === id);\r\n                    if (request) {\r\n                        document.querySelector('#updateStatusForm select[name=\"status\"]').value = request.status;\r\n                        document.querySelector('#updateStatusForm textarea[name=\"notes\"]').value = request.notes || '';\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading request:', error);\r\n            }\r\n            \r\n            openModal('updateStatusModal');\r\n        }\r\n        \r\n        // Load Banks\r\n        async function loadBanks() {\r\n            try {\r\n                const response = await axios.get('/api/banks');\r\n                if (response.data.success) {\r\n                    const banks = response.data.data;\r\n                    const tbody = document.getElementById('banksTable');\r\n                    \r\n                    if (banks.length === 0) {\r\n                        tbody.innerHTML = '<tr><td colspan=\"5\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u0646\u0648\u0643</td></tr>';\r\n                        return;\r\n                    }\r\n                    \r\n                    tbody.innerHTML = banks.map((bank, index) => \\`\r\n                        <tr class=\"border-b hover:bg-gray-50\">\r\n                            <td class=\"px-4 py-3\">\\${index + 1}</td>\r\n                            <td class=\"px-4 py-3 font-medium\">\\${bank.bank_name}</td>\r\n                            <td class=\"px-4 py-3\">\\${bank.bank_code || '-'}</td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <span class=\"\\${bank.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'} px-2 py-1 rounded text-xs\">\r\n                                    \\${bank.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                                </span>\r\n                            </td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <button onclick=\"viewBank(\\${bank.id})\" class=\"text-blue-600 hover:text-blue-800 ml-2\" title=\"\u0639\u0631\u0636\">\r\n                                    <i class=\"fas fa-eye\"></i>\r\n                                </button>\r\n                                <button onclick=\"editBank(\\${bank.id})\" class=\"text-green-600 hover:text-green-800 ml-2\" title=\"\u062A\u0639\u062F\u064A\u0644\">\r\n                                    <i class=\"fas fa-edit\"></i>\r\n                                </button>\r\n                                <button onclick=\"deleteBank(\\${bank.id})\" class=\"text-red-600 hover:text-red-800\" title=\"\u062D\u0630\u0641\">\r\n                                    <i class=\"fas fa-trash\"></i>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    \\`).join('');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading banks:', error);\r\n            }\r\n        }\r\n        \r\n        // Load Rates\r\n        async function loadRates() {\r\n            try {\r\n                const response = await axios.get('/api/rates');\r\n                if (response.data.success) {\r\n                    const rates = response.data.data;\r\n                    const tbody = document.getElementById('ratesTable');\r\n                    \r\n                    if (rates.length === 0) {\r\n                        tbody.innerHTML = '<tr><td colspan=\"8\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u0633\u0628</td></tr>';\r\n                        return;\r\n                    }\r\n                    \r\n                    tbody.innerHTML = rates.map((rate, index) => \\`\r\n                        <tr class=\"border-b hover:bg-gray-50\">\r\n                            <td class=\"px-4 py-3\">\\${index + 1}</td>\r\n                            <td class=\"px-4 py-3 font-medium\">\\${rate.bank_name || '-'}</td>\r\n                            <td class=\"px-4 py-3\">\\${rate.financing_type_name || '-'}</td>\r\n                            <td class=\"px-4 py-3 font-bold text-green-600\">\\${rate.rate}%</td>\r\n                            <td class=\"px-4 py-3 text-sm\">\\${rate.min_amount.toLocaleString('ar-SA')} - \\${rate.max_amount.toLocaleString('ar-SA')}</td>\r\n                            <td class=\"px-4 py-3 text-sm\">\\${rate.min_salary.toLocaleString('ar-SA')} - \\${rate.max_salary.toLocaleString('ar-SA')}</td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <span class=\"\\${rate.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'} px-2 py-1 rounded text-xs\">\r\n                                    \\${rate.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                                </span>\r\n                            </td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <button onclick=\"viewRate(\\${rate.id})\" class=\"text-blue-600 hover:text-blue-800 ml-2\" title=\"\u0639\u0631\u0636\">\r\n                                    <i class=\"fas fa-eye\"></i>\r\n                                </button>\r\n                                <button onclick=\"editRate(\\${rate.id})\" class=\"text-green-600 hover:text-green-800 ml-2\" title=\"\u062A\u0639\u062F\u064A\u0644\">\r\n                                    <i class=\"fas fa-edit\"></i>\r\n                                </button>\r\n                                <button onclick=\"deleteRate(\\${rate.id})\" class=\"text-red-600 hover:text-red-800\" title=\"\u062D\u0630\u0641\">\r\n                                    <i class=\"fas fa-trash\"></i>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    \\`).join('');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading rates:', error);\r\n            }\r\n        }\r\n        \r\n        // Bank actions\r\n        window.addBank = function() {\r\n            openModal('addBankModal');\r\n        }\r\n        \r\n        window.viewBank = function(id) {\r\n            alert('\u0639\u0631\u0636 \u0627\u0644\u0628\u0646\u0643 \u0631\u0642\u0645: ' + id);\r\n        }\r\n        \r\n        window.editBank = function(id) {\r\n            alert('\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u0646\u0643 \u0631\u0642\u0645: ' + id);\r\n        }\r\n        \r\n        window.deleteBank = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0628\u0646\u0643\u061F\\\\n\\\\n\u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0646\u0633\u0628 \u0627\u0644\u0645\u0631\u062A\u0628\u0637\u0629 \u0628\u0647.')) {\r\n                return;\r\n            }\r\n            \r\n            try {\r\n                const response = await axios.delete(\\`/api/banks/\\${id}\\`);\r\n                if (response.data.success) {\r\n                    alert('\u2705 ' + response.data.message);\r\n                    loadBanks();\r\n                } else {\r\n                    alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting bank:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641');\r\n            }\r\n        }\r\n        \r\n        // Rate actions\r\n        window.addRate = async function() {\r\n            // Load banks and financing types for the dropdown\r\n            try {\r\n                const [banksRes, typesRes] = await Promise.all([\r\n                    axios.get('/api/banks'),\r\n                    axios.get('/api/financing-types')\r\n                ]);\r\n                \r\n                if (banksRes.data.success && typesRes.data.success) {\r\n                    const bankSelect = document.getElementById('rateBankSelect');\r\n                    const typeSelect = document.getElementById('rateFinancingTypeSelect');\r\n                    \r\n                    bankSelect.innerHTML = '<option value=\"\">\u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0646\u0643</option>' +\r\n                        banksRes.data.data.map(b => \\`<option value=\"\\${b.id}\">\\${b.bank_name}</option>\\`).join('');\r\n                    \r\n                    typeSelect.innerHTML = '<option value=\"\">\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</option>' +\r\n                        typesRes.data.data.map(t => \\`<option value=\"\\${t.id}\">\\${t.type_name}</option>\\`).join('');\r\n                    \r\n                    openModal('addRateModal');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading data:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A');\r\n            }\r\n        }\r\n        \r\n        window.viewRate = function(id) {\r\n            alert('\u0639\u0631\u0636 \u0627\u0644\u0646\u0633\u0628\u0629 \u0631\u0642\u0645: ' + id);\r\n        }\r\n        \r\n        window.editRate = function(id) {\r\n            alert('\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0646\u0633\u0628\u0629 \u0631\u0642\u0645: ' + id);\r\n        }\r\n        \r\n        window.deleteRate = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0646\u0633\u0628\u0629\u061F')) {\r\n                return;\r\n            }\r\n            \r\n            try {\r\n                const response = await axios.delete(\\`/api/rates/\\${id}\\`);\r\n                if (response.data.success) {\r\n                    alert('\u2705 ' + response.data.message);\r\n                    loadRates();\r\n                } else {\r\n                    alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting rate:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641');\r\n            }\r\n        }\r\n        \r\n        // Load Users\r\n        async function loadUsers() {\r\n            try {\r\n                const response = await axios.get('/api/users');\r\n                if (response.data.success) {\r\n                    const users = response.data.data;\r\n                    const tbody = document.getElementById('usersTable');\r\n                    \r\n                    if (users.length === 0) {\r\n                        tbody.innerHTML = '<tr><td colspan=\"8\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</td></tr>';\r\n                        return;\r\n                    }\r\n                    \r\n                    tbody.innerHTML = users.map((user, index) => \\`\r\n                        <tr class=\"border-b hover:bg-gray-50\">\r\n                            <td class=\"px-4 py-3\">\\${index + 1}</td>\r\n                            <td class=\"px-4 py-3 font-medium\">\\${user.full_name}</td>\r\n                            <td class=\"px-4 py-3\">\\${user.email}</td>\r\n                            <td class=\"px-4 py-3\">\\${user.username}</td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <span class=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium\">\r\n                                    \\${user.role_name || '-'}\r\n                                </span>\r\n                            </td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <button onclick=\"managePermissions(\\${user.id}, '\\${user.full_name}', \\${user.role_id})\" \r\n                                        class=\"bg-purple-100 text-purple-700 hover:bg-purple-200 px-3 py-1 rounded text-xs font-medium\" \r\n                                        title=\"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A\">\r\n                                    <i class=\"fas fa-shield-alt ml-1\"></i>\r\n                                    \\${user.permissions_count || 0} \u0635\u0644\u0627\u062D\u064A\u0629\r\n                                </button>\r\n                            </td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <span class=\"\\${user.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'} px-2 py-1 rounded text-xs\">\r\n                                    \\${user.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                                </span>\r\n                            </td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <button onclick=\"viewUser(\\${user.id})\" class=\"text-blue-600 hover:text-blue-800 ml-2\" title=\"\u0639\u0631\u0636\">\r\n                                    <i class=\"fas fa-eye\"></i>\r\n                                </button>\r\n                                <button onclick=\"editUser(\\${user.id})\" class=\"text-green-600 hover:text-green-800 ml-2\" title=\"\u062A\u0639\u062F\u064A\u0644\">\r\n                                    <i class=\"fas fa-edit\"></i>\r\n                                </button>\r\n                                <button onclick=\"deleteUser(\\${user.id})\" class=\"text-red-600 hover:text-red-800\" title=\"\u062D\u0630\u0641\">\r\n                                    <i class=\"fas fa-trash\"></i>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    \\`).join('');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading users:', error);\r\n            }\r\n        }\r\n        \r\n        // Manage User Permissions\r\n        window.managePermissions = async function(userId, userName, roleId) {\r\n            document.getElementById('permissionsUserName').textContent = userName;\r\n            document.getElementById('permissionsRoleId').value = roleId;\r\n            \r\n            try {\r\n                // Load all permissions grouped by category\r\n                const permissionsRes = await axios.get('/api/permissions/by-category');\r\n                // Load user's current permissions\r\n                const userPermRes = await axios.get(\\`/api/roles/\\${roleId}/permissions\\`);\r\n                \r\n                if (permissionsRes.data.success && userPermRes.data.success) {\r\n                    const allPermissions = permissionsRes.data.data;\r\n                    const userPermissions = userPermRes.data.data.map(p => p.id);\r\n                    \r\n                    const categoryNames = {\r\n                        'dashboard': '\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645',\r\n                        'customers': '\u0627\u0644\u0639\u0645\u0644\u0627\u0621',\r\n                        'requests': '\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644',\r\n                        'banks': '\u0627\u0644\u0628\u0646\u0648\u0643',\r\n                        'rates': '\u0627\u0644\u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\u064A\u0629',\r\n                        'packages': '\u0627\u0644\u0628\u0627\u0642\u0627\u062A',\r\n                        'subscriptions': '\u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A',\r\n                        'users': '\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646',\r\n                        'calculator': '\u0627\u0644\u062D\u0627\u0633\u0628\u0629',\r\n                        'reports': '\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631'\r\n                    };\r\n                    \r\n                    const content = Object.keys(allPermissions).map(category => {\r\n                        const permissions = allPermissions[category];\r\n                        return \\`\r\n                            <div class=\"bg-gray-50 rounded-lg p-4\">\r\n                                <h3 class=\"font-bold text-lg mb-3 text-gray-800\">\r\n                                    <i class=\"fas fa-folder ml-2\"></i>\r\n                                    \\${categoryNames[category] || category}\r\n                                </h3>\r\n                                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n                                    \\${permissions.map(perm => \\`\r\n                                        <label class=\"flex items-center space-x-reverse space-x-2 p-2 hover:bg-white rounded cursor-pointer\">\r\n                                            <input type=\"checkbox\" \r\n                                                   class=\"permission-checkbox rounded text-purple-600 focus:ring-purple-500\" \r\n                                                   value=\"\\${perm.id}\"\r\n                                                   \\${userPermissions.includes(perm.id) ? 'checked' : ''}>\r\n                                            <span class=\"text-sm text-gray-700\">\\${perm.permission_name}</span>\r\n                                        </label>\r\n                                    \\`).join('')}\r\n                                </div>\r\n                            </div>\r\n                        \\`;\r\n                    }).join('');\r\n                    \r\n                    document.getElementById('permissionsContent').innerHTML = content;\r\n                    openModal('managePermissionsModal');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading permissions:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A');\r\n            }\r\n        }\r\n        \r\n        // Save Permissions\r\n        window.savePermissions = async function() {\r\n            const roleId = document.getElementById('permissionsRoleId').value;\r\n            const checkboxes = document.querySelectorAll('.permission-checkbox:checked');\r\n            const permissionIds = Array.from(checkboxes).map(cb => parseInt(cb.value));\r\n            \r\n            try {\r\n                const response = await axios.put(\\`/api/roles/\\${roleId}/permissions\\`, {\r\n                    permission_ids: permissionIds\r\n                });\r\n                \r\n                if (response.data.success) {\r\n                    alert('\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0628\u0646\u062C\u0627\u062D');\r\n                    closeModal('managePermissionsModal');\r\n                    loadUsers();\r\n                } else {\r\n                    alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error saving permissions:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A');\r\n            }\r\n        }\r\n        \r\n        // Edit User\r\n        window.editUser = async function(id) {\r\n            try {\r\n                // Load roles first\r\n                const rolesResponse = await axios.get('/api/roles');\r\n                if (rolesResponse.data.success) {\r\n                    const roles = rolesResponse.data.data;\r\n                    const roleSelect = document.getElementById('editUserRole');\r\n                    roleSelect.innerHTML = roles.map(role => \r\n                        \\`<option value=\"\\${role.id}\">\\${role.description}</option>\\`\r\n                    ).join('');\r\n                }\r\n                \r\n                // Load user data\r\n                const response = await axios.get('/api/users');\r\n                if (response.data.success) {\r\n                    const user = response.data.data.find(u => u.id === id);\r\n                    if (user) {\r\n                        document.getElementById('editUserId').value = user.id;\r\n                        document.getElementById('editUserFullName').value = user.full_name;\r\n                        document.getElementById('editUserEmail').value = user.email;\r\n                        document.getElementById('editUserPhone').value = user.phone || '';\r\n                        document.getElementById('editUserRole').value = user.role_id;\r\n                        document.getElementById('editUserActive').value = user.is_active;\r\n                        \r\n                        openModal('editUserModal');\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading user:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645');\r\n            }\r\n        }\r\n        \r\n        window.viewUser = function(id) {\r\n            alert('\u0639\u0631\u0636 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0631\u0642\u0645: ' + id);\r\n        }\r\n        \r\n        // Load Subscriptions\r\n        async function loadSubscriptions() {\r\n            try {\r\n                const response = await axios.get('/api/subscriptions');\r\n                if (response.data.success) {\r\n                    const subscriptions = response.data.data;\r\n                    const tbody = document.getElementById('subscriptionsTable');\r\n                    \r\n                    if (subscriptions.length === 0) {\r\n                        tbody.innerHTML = '<tr><td colspan=\"7\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A</td></tr>';\r\n                        return;\r\n                    }\r\n                    \r\n                    tbody.innerHTML = subscriptions.map((sub, index) => {\r\n                        const statusColors = {\r\n                            'active': 'bg-green-100 text-green-800',\r\n                            'expired': 'bg-red-100 text-red-800',\r\n                            'cancelled': 'bg-gray-100 text-gray-800'\r\n                        };\r\n                        const statusText = {\r\n                            'active': '\u0646\u0634\u0637',\r\n                            'expired': '\u0645\u0646\u062A\u0647\u064A',\r\n                            'cancelled': '\u0645\u0644\u063A\u064A'\r\n                        };\r\n                        \r\n                        return \\`\r\n                            <tr class=\"border-b hover:bg-gray-50\">\r\n                                <td class=\"px-4 py-3\">\\${index + 1}</td>\r\n                                <td class=\"px-4 py-3 font-medium\">\\${sub.company_name}</td>\r\n                                <td class=\"px-4 py-3\">\\${sub.package_name || '-'}</td>\r\n                                <td class=\"px-4 py-3\">\\${sub.start_date}</td>\r\n                                <td class=\"px-4 py-3\">\\${sub.end_date}</td>\r\n                                <td class=\"px-4 py-3\">\r\n                                    <span class=\"\\${statusColors[sub.status]} px-2 py-1 rounded text-xs\">\r\n                                        \\${statusText[sub.status] || sub.status}\r\n                                    </span>\r\n                                </td>\r\n                                <td class=\"px-4 py-3\">\r\n                                    <button onclick=\"viewSubscription(\\${sub.id})\" class=\"text-blue-600 hover:text-blue-800 ml-2\" title=\"\u0639\u0631\u0636\">\r\n                                        <i class=\"fas fa-eye\"></i>\r\n                                    </button>\r\n                                    <button onclick=\"editSubscription(\\${sub.id})\" class=\"text-green-600 hover:text-green-800 ml-2\" title=\"\u062A\u0639\u062F\u064A\u0644\">\r\n                                        <i class=\"fas fa-edit\"></i>\r\n                                    </button>\r\n                                    <button onclick=\"deleteSubscription(\\${sub.id})\" class=\"text-red-600 hover:text-red-800\" title=\"\u062D\u0630\u0641\">\r\n                                        <i class=\"fas fa-trash\"></i>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        \\`;\r\n                    }).join('');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading subscriptions:', error);\r\n            }\r\n        }\r\n        \r\n        // Load Packages\r\n        async function loadPackages() {\r\n            try {\r\n                const response = await axios.get('/api/packages');\r\n                if (response.data.success) {\r\n                    const packages = response.data.data;\r\n                    const tbody = document.getElementById('packagesTable');\r\n                    \r\n                    if (packages.length === 0) {\r\n                        tbody.innerHTML = '<tr><td colspan=\"7\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u0627\u0642\u0627\u062A</td></tr>';\r\n                        return;\r\n                    }\r\n                    \r\n                    tbody.innerHTML = packages.map((pkg, index) => \\`\r\n                        <tr class=\"border-b hover:bg-gray-50\">\r\n                            <td class=\"px-4 py-3\">\\${index + 1}</td>\r\n                            <td class=\"px-4 py-3 font-medium\">\\${pkg.package_name}</td>\r\n                            <td class=\"px-4 py-3 font-bold text-green-600\">\\${pkg.price.toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</td>\r\n                            <td class=\"px-4 py-3\">\\${pkg.duration_months} \u0634\u0647\u0631</td>\r\n                            <td class=\"px-4 py-3\">\\${pkg.max_calculations || '\u063A\u064A\u0631 \u0645\u062D\u062F\u0648\u062F'}</td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <span class=\"\\${pkg.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'} px-2 py-1 rounded text-xs\">\r\n                                    \\${pkg.is_active ? '\u0646\u0634\u0637' : '\u063A\u064A\u0631 \u0646\u0634\u0637'}\r\n                                </span>\r\n                            </td>\r\n                            <td class=\"px-4 py-3\">\r\n                                <button onclick=\"viewPackage(\\${pkg.id})\" class=\"text-blue-600 hover:text-blue-800 ml-2\" title=\"\u0639\u0631\u0636\">\r\n                                    <i class=\"fas fa-eye\"></i>\r\n                                </button>\r\n                                <button onclick=\"editPackage(\\${pkg.id})\" class=\"text-green-600 hover:text-green-800 ml-2\" title=\"\u062A\u0639\u062F\u064A\u0644\">\r\n                                    <i class=\"fas fa-edit\"></i>\r\n                                </button>\r\n                                <button onclick=\"deletePackage(\\${pkg.id})\" class=\"text-red-600 hover:text-red-800\" title=\"\u062D\u0630\u0641\">\r\n                                    <i class=\"fas fa-trash\"></i>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    \\`).join('');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading packages:', error);\r\n            }\r\n        }\r\n        \r\n        // User actions\r\n        window.addUser = function() { alert('\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F - \u0642\u064A\u062F \u0627\u0644\u062A\u0637\u0648\u064A\u0631'); }\r\n        // viewUser already converted as window.viewUser\r\n        // editUser already converted as window.editUser\r\n        window.deleteUser = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u061F')) return;\r\n            try {\r\n                const response = await axios.delete(\\`/api/users/\\${id}\\`);\r\n                if (response.data.success) {\r\n                    alert('\u2705 ' + response.data.message);\r\n                    loadUsers();\r\n                } else {\r\n                    alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting user:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641');\r\n            }\r\n        }\r\n        \r\n        // Subscription actions\r\n        window.addSubscription = function() { alert('\u0625\u0636\u0627\u0641\u0629 \u0627\u0634\u062A\u0631\u0627\u0643 \u062C\u062F\u064A\u062F - \u0642\u064A\u062F \u0627\u0644\u062A\u0637\u0648\u064A\u0631'); }\r\n        window.viewSubscription = function(id) { alert('\u0639\u0631\u0636 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0631\u0642\u0645: ' + id); }\r\n        window.editSubscription = function(id) { alert('\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0631\u0642\u0645: ' + id); }\r\n        window.deleteSubscription = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u061F')) return;\r\n            try {\r\n                const response = await axios.delete(\\`/api/subscriptions/\\${id}\\`);\r\n                if (response.data.success) {\r\n                    alert('\u2705 ' + response.data.message);\r\n                    loadSubscriptions();\r\n                } else {\r\n                    alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting subscription:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641');\r\n            }\r\n        }\r\n        \r\n        // Package actions\r\n        window.addPackage = function() {\r\n            openModal('addPackageModal');\r\n        }\r\n        window.viewPackage = function(id) { alert('\u0639\u0631\u0636 \u0627\u0644\u0628\u0627\u0642\u0629 \u0631\u0642\u0645: ' + id); }\r\n        window.editPackage = function(id) { alert('\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u0627\u0642\u0629 \u0631\u0642\u0645: ' + id); }\r\n        window.deletePackage = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0628\u0627\u0642\u0629\u061F')) return;\r\n            try {\r\n                const response = await axios.delete(\\`/api/packages/\\${id}\\`);\r\n                if (response.data.success) {\r\n                    alert('\u2705 ' + response.data.message);\r\n                    loadPackages();\r\n                } else {\r\n                    alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting package:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641');\r\n            }\r\n        }\r\n        \r\n        // Load Subscription Requests\r\n        async function loadSubscriptionRequests() {\r\n            try {\r\n                const response = await axios.get('/api/subscription-requests');\r\n                if (response.data.success) {\r\n                    const requests = response.data.data;\r\n                    const tbody = document.getElementById('subscriptionRequestsTable');\r\n                    \r\n                    if (requests.length === 0) {\r\n                        tbody.innerHTML = '<tr><td colspan=\"8\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0627\u0634\u062A\u0631\u0627\u0643</td></tr>';\r\n                        return;\r\n                    }\r\n                    \r\n                    tbody.innerHTML = requests.map((req, index) => {\r\n                        const statusColors = {\r\n                            'pending': 'bg-yellow-100 text-yellow-800',\r\n                            'approved': 'bg-green-100 text-green-800',\r\n                            'rejected': 'bg-red-100 text-red-800'\r\n                        };\r\n                        const statusText = {\r\n                            'pending': '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631',\r\n                            'approved': '\u0645\u0642\u0628\u0648\u0644',\r\n                            'rejected': '\u0645\u0631\u0641\u0648\u0636'\r\n                        };\r\n                        \r\n                        return \\`\r\n                            <tr class=\"border-b hover:bg-gray-50\">\r\n                                <td class=\"px-4 py-3\">\\${index + 1}</td>\r\n                                <td class=\"px-4 py-3 font-medium\">\\${req.company_name}</td>\r\n                                <td class=\"px-4 py-3\">\\${req.contact_name}</td>\r\n                                <td class=\"px-4 py-3\">\\${req.email}</td>\r\n                                <td class=\"px-4 py-3\">\\${req.phone}</td>\r\n                                <td class=\"px-4 py-3\">\\${req.package_name || '-'}</td>\r\n                                <td class=\"px-4 py-3\">\r\n                                    <span class=\"\\${statusColors[req.status]} px-2 py-1 rounded text-xs\">\r\n                                        \\${statusText[req.status] || req.status}\r\n                                    </span>\r\n                                </td>\r\n                                <td class=\"px-4 py-3\">\r\n                                    <button onclick=\"viewSubscriptionRequest(\\${req.id})\" class=\"text-blue-600 hover:text-blue-800 ml-2\" title=\"\u0639\u0631\u0636\">\r\n                                        <i class=\"fas fa-eye\"></i>\r\n                                    </button>\r\n                                    <button onclick=\"updateSubscriptionRequestStatus(\\${req.id})\" class=\"text-green-600 hover:text-green-800 ml-2\" title=\"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u0627\u0644\u0629\">\r\n                                        <i class=\"fas fa-check-circle\"></i>\r\n                                    </button>\r\n                                    <button onclick=\"deleteSubscriptionRequest(\\${req.id})\" class=\"text-red-600 hover:text-red-800\" title=\"\u062D\u0630\u0641\">\r\n                                        <i class=\"fas fa-trash\"></i>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        \\`;\r\n                    }).join('');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading subscription requests:', error);\r\n            }\r\n        }\r\n        \r\n        // Subscription Request actions\r\n        window.viewSubscriptionRequest = function(id) { alert('\u0639\u0631\u0636 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0631\u0642\u0645: ' + id); }\r\n        window.updateSubscriptionRequestStatus = function(id) { alert('\u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0631\u0642\u0645: ' + id); }\r\n        window.deleteSubscriptionRequest = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0647\u0630\u0627\u061F')) return;\r\n            try {\r\n                const response = await axios.delete(\\`/api/subscription-requests/\\${id}\\`);\r\n                if (response.data.success) {\r\n                    alert('\u2705 ' + response.data.message);\r\n                    loadSubscriptionRequests();\r\n                } else {\r\n                    alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting subscription request:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641');\r\n            }\r\n        }\r\n        \r\n        // Modal Management\r\n        window.openModal = function(modalId) {\r\n            const modal = document.getElementById(modalId);\r\n            if (modal) {\r\n                modal.style.display = 'flex';\r\n                modal.classList.remove('hidden');\r\n            }\r\n        }\r\n        \r\n        window.closeModal = function(modalId) {\r\n            const modal = document.getElementById(modalId);\r\n            if (modal) {\r\n                modal.style.display = 'none';\r\n                modal.classList.add('hidden');\r\n                const form = modal.querySelector('form');\r\n                if (form) form.reset();\r\n            }\r\n        }\r\n        \r\n        // Form Submissions\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n            const addCustomerForm = document.getElementById('addCustomerForm');\r\n            if (addCustomerForm) {\r\n                addCustomerForm.addEventListener('submit', async (e) => {\r\n                    e.preventDefault();\r\n                    const formData = new FormData(e.target);\r\n                    const data = Object.fromEntries(formData.entries());\r\n                    try {\r\n                        const response = await axios.post('/api/customers', data);\r\n                        if (response.data.success) {\r\n                            alert('\u2705 ' + response.data.message);\r\n                            closeModal('addCustomerModal');\r\n                            loadCustomers();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Error:', error);\r\n                        alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629');\r\n                    }\r\n                });\r\n            }\r\n            \r\n            const addBankForm = document.getElementById('addBankForm');\r\n            if (addBankForm) {\r\n                addBankForm.addEventListener('submit', async (e) => {\r\n                    e.preventDefault();\r\n                    const formData = new FormData(e.target);\r\n                    const data = Object.fromEntries(formData.entries());\r\n                    try {\r\n                        const response = await axios.post('/api/banks', data);\r\n                        if (response.data.success) {\r\n                            alert('\u2705 \u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0628\u0646\u0643 \u0628\u0646\u062C\u0627\u062D');\r\n                            closeModal('addBankModal');\r\n                            loadBanks();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Error:', error);\r\n                        alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629');\r\n                    }\r\n                });\r\n            }\r\n            \r\n            const addRateForm = document.getElementById('addRateForm');\r\n            if (addRateForm) {\r\n                addRateForm.addEventListener('submit', async (e) => {\r\n                    e.preventDefault();\r\n                    const formData = new FormData(e.target);\r\n                    const data = Object.fromEntries(formData.entries());\r\n                    try {\r\n                        const response = await axios.post('/api/rates', data);\r\n                        if (response.data.success) {\r\n                            alert('\u2705 \u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0646\u0633\u0628\u0629 \u0628\u0646\u062C\u0627\u062D');\r\n                            closeModal('addRateModal');\r\n                            loadRates();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Error:', error);\r\n                        alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629');\r\n                    }\r\n                });\r\n            }\r\n            \r\n            const addSubscriptionForm = document.getElementById('addSubscriptionForm');\r\n            if (addSubscriptionForm) {\r\n                addSubscriptionForm.addEventListener('submit', async (e) => {\r\n                    e.preventDefault();\r\n                    const formData = new FormData(e.target);\r\n                    const data = Object.fromEntries(formData.entries());\r\n                    try {\r\n                        const response = await axios.post('/api/subscriptions', data);\r\n                        if (response.data.success) {\r\n                            alert('\u2705 \u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D');\r\n                            closeModal('addSubscriptionModal');\r\n                            loadSubscriptions();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Error:', error);\r\n                        alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629');\r\n                    }\r\n                });\r\n            }\r\n            \r\n            const addPackageForm = document.getElementById('addPackageForm');\r\n            if (addPackageForm) {\r\n                addPackageForm.addEventListener('submit', async (e) => {\r\n                    e.preventDefault();\r\n                    const formData = new FormData(e.target);\r\n                    const data = Object.fromEntries(formData.entries());\r\n                    try {\r\n                        const response = await axios.post('/api/packages', data);\r\n                        if (response.data.success) {\r\n                            alert('\u2705 ' + response.data.message);\r\n                            closeModal('addPackageModal');\r\n                            loadPackages();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Error:', error);\r\n                        alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629');\r\n                    }\r\n                });\r\n            }\r\n            \r\n            // Update Status Form\r\n            const updateStatusForm = document.getElementById('updateStatusForm');\r\n            if (updateStatusForm) {\r\n                updateStatusForm.addEventListener('submit', async (e) => {\r\n                    e.preventDefault();\r\n                    const formData = new FormData(e.target);\r\n                    const requestId = formData.get('requestId');\r\n                    const status = formData.get('status');\r\n                    const notes = formData.get('notes');\r\n                    \r\n                    try {\r\n                        const response = await axios.put(\\`/api/financing-requests/\\${requestId}/status\\`, {\r\n                            status: status,\r\n                            notes: notes\r\n                        });\r\n                        if (response.data.success) {\r\n                            alert('\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D');\r\n                            closeModal('updateStatusModal');\r\n                            loadFinancingRequests();\r\n                            loadDashboardStats();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Error:', error);\r\n                        alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B');\r\n                    }\r\n                });\r\n            }\r\n            \r\n            // Edit User Form\r\n            const editUserForm = document.getElementById('editUserForm');\r\n            if (editUserForm) {\r\n                editUserForm.addEventListener('submit', async (e) => {\r\n                    e.preventDefault();\r\n                    const formData = new FormData(e.target);\r\n                    const userId = formData.get('userId');\r\n                    const data = {\r\n                        full_name: formData.get('full_name'),\r\n                        email: formData.get('email'),\r\n                        phone: formData.get('phone'),\r\n                        role_id: parseInt(formData.get('role_id')),\r\n                        is_active: parseInt(formData.get('is_active'))\r\n                    };\r\n                    \r\n                    try {\r\n                        const response = await axios.put(\\`/api/users/\\${userId}\\`, data);\r\n                        if (response.data.success) {\r\n                            alert('\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D');\r\n                            closeModal('editUserModal');\r\n                            loadUsers();\r\n                        } else {\r\n                            alert('\u274C \u062E\u0637\u0623: ' + response.data.error);\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Error:', error);\r\n                        alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B');\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        \r\n        // ==========================================\r\n        // Calculator Link & QR Code Functions\r\n        // ==========================================\r\n        \r\n        // Generate and display calculator link and QR code\r\n        function loadCalculatorLink() {\r\n            console.log('\uD83D\uDCF1 \u0628\u062F\u0621 \u062A\u062D\u0645\u064A\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629...');\r\n            \r\n            const userDataStr = localStorage.getItem('userData');\r\n            console.log('\uD83D\uDCE6 \u0628\u064A\u0627\u0646\u0627\u062A localStorage:', userDataStr);\r\n            \r\n            if (!userDataStr) {\r\n                console.error('\u274C \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0645\u0633\u062A\u062E\u062F\u0645 \u0641\u064A localStorage');\r\n                return;\r\n            }\r\n            \r\n            const userData = JSON.parse(userDataStr);\r\n            console.log('\uD83D\uDC64 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:', userData);\r\n            \r\n            const tenantSlug = userData.tenant_slug || 'unknown';\r\n            const tenantName = userData.tenant_name || '\u0627\u0644\u0634\u0631\u0643\u0629';\r\n            \r\n            console.log('\uD83C\uDFE2 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0629:', { tenantSlug, tenantName });\r\n            \r\n            // Build calculator URL\r\n            const baseUrl = window.location.origin;\r\n            const calculatorUrl = \\`\\${baseUrl}/c/\\${tenantSlug}/calculator\\`;\r\n            \r\n            console.log('\uD83D\uDD17 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u0645\u0648\u0644\u062F:', calculatorUrl);\r\n            \r\n            // Update input field\r\n            const linkInput = document.getElementById('calculatorLinkInput');\r\n            if (linkInput) {\r\n                linkInput.value = calculatorUrl;\r\n            }\r\n            \r\n            // Generate QR Code using QR Server API\r\n            const qrcodeContainer = document.getElementById('qrcodeContainer');\r\n            if (qrcodeContainer) {\r\n                qrcodeContainer.innerHTML = '';\r\n                \r\n                // Create QR code image using API\r\n                const qrCodeUrl = \\`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=\\${encodeURIComponent(calculatorUrl)}\\`;\r\n                \r\n                const qrImg = document.createElement('img');\r\n                qrImg.src = qrCodeUrl;\r\n                qrImg.alt = 'QR Code';\r\n                qrImg.className = 'w-48 h-48';\r\n                qrImg.id = 'qrcodeImage';\r\n                \r\n                qrcodeContainer.appendChild(qrImg);\r\n            }\r\n        }\r\n        \r\n        // Copy calculator link to clipboard\r\n        window.copyCalculatorLink = function() {\r\n            console.log('\uD83D\uDCCB \u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629...');\r\n            \r\n            const linkInput = document.getElementById('calculatorLinkInput');\r\n            if (!linkInput) {\r\n                console.error('\u274C \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u062D\u0642\u0644 \u0627\u0644\u0631\u0627\u0628\u0637');\r\n                return;\r\n            }\r\n            \r\n            // Copy to clipboard\r\n            linkInput.select();\r\n            linkInput.setSelectionRange(0, 99999); // For mobile devices\r\n            \r\n            try {\r\n                document.execCommand('copy');\r\n                console.log('\u2705 \u062A\u0645 \u0627\u0644\u0646\u0633\u062E \u0628\u0646\u062C\u0627\u062D');\r\n                \r\n                // Show success message\r\n                const successMessage = document.getElementById('copySuccessMessage');\r\n                if (successMessage) {\r\n                    successMessage.classList.remove('hidden');\r\n                    setTimeout(() => {\r\n                        successMessage.classList.add('hidden');\r\n                    }, 3000);\r\n                }\r\n            } catch (err) {\r\n                console.error('\u274C \u0641\u0634\u0644 \u0627\u0644\u0646\u0633\u062E:', err);\r\n                alert('\u274C \u0641\u0634\u0644 \u0646\u0633\u062E \u0627\u0644\u0631\u0627\u0628\u0637');\r\n            }\r\n        };\r\n        \r\n        // Open calculator link in new tab\r\n        window.openCalculatorLink = function() {\r\n            console.log('\uD83C\uDF10 \u0641\u062A\u062D \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629...');\r\n            \r\n            const linkInput = document.getElementById('calculatorLinkInput');\r\n            if (!linkInput || !linkInput.value || linkInput.value === '\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...') {\r\n                console.error('\u274C \u0627\u0644\u0631\u0627\u0628\u0637 \u063A\u064A\u0631 \u062C\u0627\u0647\u0632');\r\n                alert('\u274C \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 \u062D\u062A\u0649 \u064A\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0631\u0627\u0628\u0637');\r\n                return;\r\n            }\r\n            \r\n            const calculatorUrl = linkInput.value;\r\n            console.log('\uD83D\uDD17 \u0641\u062A\u062D \u0627\u0644\u0631\u0627\u0628\u0637:', calculatorUrl);\r\n            \r\n            // Open in new tab\r\n            window.open(calculatorUrl, '_blank');\r\n        };\r\n        \r\n        // Download QR Code as image\r\n        window.downloadQRCode = function() {\r\n            console.log('\uD83D\uDCBE \u062A\u062D\u0645\u064A\u0644 \u0631\u0645\u0632 QR...');\r\n            \r\n            const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n            const tenantName = userData.tenant_name || '\u0627\u0644\u0634\u0631\u0643\u0629';\r\n            \r\n            const qrImg = document.getElementById('qrcodeImage');\r\n            if (!qrImg) {\r\n                console.error('\u274C \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0631\u0645\u0632 QR');\r\n                alert('\u274C \u0644\u0645 \u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0631\u0645\u0632 QR \u0628\u0639\u062F');\r\n                return;\r\n            }\r\n            \r\n            // Create download link\r\n            const link = document.createElement('a');\r\n            link.href = qrImg.src;\r\n            link.download = \\`calculator-qr-\\${tenantName.replace(/\\\\s+/g, '-')}.png\\`;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            \r\n            console.log('\u2705 \u062A\u0645 \u0628\u062F\u0621 \u0627\u0644\u062A\u062D\u0645\u064A\u0644');\r\n        };\r\n        \r\n        // Employee Calculator Link Functions\r\n        window.copyEmployeeCalculatorLink = function() {\r\n            console.log('\uD83D\uDCCB \u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 (\u0645\u0648\u0638\u0641)...');\r\n            \r\n            const linkInput = document.getElementById('employeeCalculatorLinkInput');\r\n            if (!linkInput) {\r\n                console.error('\u274C \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u062D\u0642\u0644 \u0627\u0644\u0631\u0627\u0628\u0637');\r\n                return;\r\n            }\r\n            \r\n            linkInput.select();\r\n            linkInput.setSelectionRange(0, 99999);\r\n            \r\n            try {\r\n                document.execCommand('copy');\r\n                console.log('\u2705 \u062A\u0645 \u0627\u0644\u0646\u0633\u062E \u0628\u0646\u062C\u0627\u062D');\r\n                \r\n                const successMessage = document.getElementById('employeeCopySuccessMessage');\r\n                if (successMessage) {\r\n                    successMessage.classList.remove('hidden');\r\n                    setTimeout(() => {\r\n                        successMessage.classList.add('hidden');\r\n                    }, 3000);\r\n                }\r\n            } catch (err) {\r\n                console.error('\u274C \u0641\u0634\u0644 \u0627\u0644\u0646\u0633\u062E:', err);\r\n                alert('\u274C \u0641\u0634\u0644 \u0646\u0633\u062E \u0627\u0644\u0631\u0627\u0628\u0637');\r\n            }\r\n        };\r\n        \r\n        window.openEmployeeCalculatorLink = function() {\r\n            console.log('\uD83C\uDF10 \u0641\u062A\u062D \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 (\u0645\u0648\u0638\u0641)...');\r\n            \r\n            const linkInput = document.getElementById('employeeCalculatorLinkInput');\r\n            if (!linkInput || !linkInput.value || linkInput.value === '\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...') {\r\n                console.error('\u274C \u0627\u0644\u0631\u0627\u0628\u0637 \u063A\u064A\u0631 \u062C\u0627\u0647\u0632');\r\n                alert('\u274C \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 \u062D\u062A\u0649 \u064A\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0631\u0627\u0628\u0637');\r\n                return;\r\n            }\r\n            \r\n            window.open(linkInput.value, '_blank');\r\n        };\r\n        \r\n        window.downloadEmployeeQRCode = function() {\r\n            console.log('\uD83D\uDCBE \u062A\u062D\u0645\u064A\u0644 \u0628\u0627\u0631\u0643\u0648\u062F \u0627\u0644\u062D\u0627\u0633\u0628\u0629 (\u0645\u0648\u0638\u0641)...');\r\n            \r\n            const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n            const tenantName = userData.tenant_name || '\u0627\u0644\u0634\u0631\u0643\u0629';\r\n            \r\n            const qrImg = document.getElementById('employeeQRCodeImage');\r\n            if (!qrImg) {\r\n                console.error('\u274C \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062F');\r\n                alert('\u274C \u0644\u0645 \u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062F \u0628\u0639\u062F');\r\n                return;\r\n            }\r\n            \r\n            const link = document.createElement('a');\r\n            link.href = qrImg.src;\r\n            link.download = \\`calculator-qr-\\${tenantName.replace(/\\\\s+/g, '-')}.png\\`;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            \r\n            console.log('\u2705 \u062A\u0645 \u0628\u062F\u0621 \u0627\u0644\u062A\u062D\u0645\u064A\u0644');\r\n        };\r\n        \r\n        window.loadEmployeeCalculatorLink = async function() {\r\n            console.log('\uD83D\uDD17 \u062A\u062D\u0645\u064A\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0644\u0644\u0645\u0648\u0638\u0641...');\r\n            \r\n            try {\r\n                const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n                const tenantSlug = userData.tenant_slug;\r\n                \r\n                if (!tenantSlug) {\r\n                    console.error('\u274C \u0644\u0627 \u064A\u0648\u062C\u062F tenant_slug');\r\n                    return;\r\n                }\r\n                \r\n                const baseUrl = window.location.origin;\r\n                const calculatorUrl = \\`\\${baseUrl}/c/\\${tenantSlug}/calculator\\`;\r\n                \r\n                console.log('\u2705 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629:', calculatorUrl);\r\n                \r\n                // Update input field\r\n                const linkInput = document.getElementById('employeeCalculatorLinkInput');\r\n                if (linkInput) {\r\n                    linkInput.value = calculatorUrl;\r\n                }\r\n                \r\n                // Generate QR Code\r\n                const qrContainer = document.getElementById('employeeQRCodeContainer');\r\n                if (qrContainer && typeof QRCode !== 'undefined') {\r\n                    qrContainer.innerHTML = '';\r\n                    new QRCode(qrContainer, {\r\n                        text: calculatorUrl,\r\n                        width: 200,\r\n                        height: 200,\r\n                        colorDark: '#000000',\r\n                        colorLight: '#ffffff',\r\n                        correctLevel: QRCode.CorrectLevel.H\r\n                    });\r\n                    \r\n                    setTimeout(() => {\r\n                        const qrImg = qrContainer.querySelector('img');\r\n                        if (qrImg) {\r\n                            qrImg.id = 'employeeQRCodeImage';\r\n                            qrImg.style.border = '10px solid white';\r\n                            qrImg.style.borderRadius = '10px';\r\n                            console.log('\u2705 \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062F');\r\n                        }\r\n                    }, 500);\r\n                }\r\n            } catch (error) {\r\n                console.error('\u274C \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629:', error);\r\n            }\r\n        };\r\n        \r\n        // Initialize on load\r\n        loadDashboardStats();\r\n        \r\n        // Load calculator link when page loads\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n            setTimeout(() => {\r\n                const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n                const userRole = userData.role || userData.user_type;\r\n                \r\n                if (userRole === 'employee') {\r\n                    console.log('\uD83D\uDD17 \u062A\u062D\u0645\u064A\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0644\u0644\u0645\u0648\u0638\u0641:', userRole);\r\n                    if (typeof loadEmployeeCalculatorLink === 'function') {\r\n                        loadEmployeeCalculatorLink();\r\n                    }\r\n                } else if (userRole === 'company' || userRole === 'admin' || userRole === 'superadmin' || userRole === 'manager') {\r\n                    console.log('\uD83D\uDD17 \u062A\u062D\u0645\u064A\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645:', userRole);\r\n                    if (typeof loadCalculatorLink === 'function') {\r\n                        loadCalculatorLink();\r\n                    }\r\n                } else {\r\n                    console.log('\u26A0\uFE0F \u062F\u0648\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0644\u0627 \u064A\u0633\u0645\u062D \u0628\u0639\u0631\u0636 \u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629:', userRole);\r\n                }\r\n            }, 1000);\r\n        });\r\n        \r\n        // Show Section function\r\n        window.showSection = function(sectionName) {\r\n            console.log('\uD83D\uDD04 Switching to section:', sectionName);\r\n            \r\n            // Hide all sections\r\n            const allSections = document.querySelectorAll('.content-section');\r\n            allSections.forEach(section => {\r\n                section.classList.remove('active');\r\n            });\r\n            \r\n            // Show target section\r\n            const targetSection = document.getElementById(sectionName + '-section');\r\n            if (targetSection) {\r\n                targetSection.classList.add('active');\r\n                console.log('\u2705 Section activated:', sectionName);\r\n                \r\n                // Load data based on section\r\n                if (sectionName === 'reports') {\r\n                    loadReports();\r\n                }\r\n            } else {\r\n                console.error('\u274C Section not found:', sectionName);\r\n            }\r\n        };\r\n        \r\n        // Load Reports function\r\n        window.loadReports = async function() {\r\n            try {\r\n                console.log('\uD83D\uDCCA Loading reports...');\r\n                \r\n                // Get date range\r\n                const fromDate = document.getElementById('reportFromDate').value;\r\n                const toDate = document.getElementById('reportToDate').value;\r\n                \r\n                // Set default dates if not provided\r\n                if (!fromDate || !toDate) {\r\n                    const today = new Date();\r\n                    const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);\r\n                    document.getElementById('reportFromDate').value = firstDay.toISOString().split('T')[0];\r\n                    document.getElementById('reportToDate').value = today.toISOString().split('T')[0];\r\n                }\r\n                \r\n                // Get auth token\r\n                const token = localStorage.getItem('authToken');\r\n                \r\n                // Fetch statistics\r\n                const statsResponse = await axios.get('/api/reports/statistics', {\r\n                    params: { from_date: fromDate, to_date: toDate },\r\n                    headers: token ? { 'Authorization': \\`Bearer \\${token}\\` } : {}\r\n                });\r\n                \r\n                if (statsResponse.data.success) {\r\n                    const stats = statsResponse.data.data;\r\n                    \r\n                    // Update cards\r\n                    document.getElementById('reportTotalRequests').textContent = stats.total_requests || 0;\r\n                    document.getElementById('reportApprovedRequests').textContent = stats.approved_requests || 0;\r\n                    document.getElementById('reportPendingRequests').textContent = stats.pending_requests || 0;\r\n                    document.getElementById('reportTotalAmount').textContent = (stats.total_amount || 0).toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n                    \r\n                    // Load top customers\r\n                    if (stats.top_customers && stats.top_customers.length > 0) {\r\n                        const tbody = document.getElementById('topCustomersTable');\r\n                        tbody.innerHTML = stats.top_customers.map(customer => \\`\r\n                            <tr class=\"border-b hover:bg-gray-50\">\r\n                                <td class=\"px-4 py-3\">\\${customer.customer_name}</td>\r\n                                <td class=\"px-4 py-3\">\\${customer.request_count}</td>\r\n                                <td class=\"px-4 py-3\">\\${(customer.total_amount || 0).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</td>\r\n                                <td class=\"px-4 py-3\">\\${customer.last_request_date ? new Date(customer.last_request_date).toLocaleDateString('ar-SA') : '-'}</td>\r\n                            </tr>\r\n                        \\`).join('');\r\n                    }\r\n                    \r\n                    console.log('\u2705 Reports loaded successfully');\r\n                } else {\r\n                    console.error('Failed to load reports');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading reports:', error);\r\n            }\r\n        };\r\n        \r\n        // Mobile Menu Toggle\r\n        window.toggleMobileMenu = function() {\r\n            const sidebar = document.querySelector('.min-h-screen.bg-white.shadow-lg');\r\n            const overlay = document.getElementById('sidebar-overlay');\r\n            \r\n            if (sidebar) {\r\n                sidebar.classList.toggle('active');\r\n            }\r\n            if (overlay) {\r\n                overlay.classList.toggle('active');\r\n            }\r\n        };\r\n        \r\n        // Close mobile menu when clicking overlay\r\n        document.addEventListener('click', function(e) {\r\n            if (e.target.id === 'sidebar-overlay') {\r\n                toggleMobileMenu();\r\n            }\r\n        });\r\n        \r\n        // Close mobile menu when clicking a menu item on mobile\r\n        document.querySelectorAll('[onclick^=\"showSection\"]').forEach(item => {\r\n            item.addEventListener('click', function() {\r\n                if (window.innerWidth < 768) {\r\n                    setTimeout(() => toggleMobileMenu(), 300);\r\n                }\r\n            });\r\n        });\r\n    </script>\r\n    \r\n    <!-- Mobile Sidebar Overlay -->\r\n    <div id=\"sidebar-overlay\"></div>\r\n</body>\r\n</html>\r\n`;\r\n", "export const tenantsPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0634\u0631\u0643\u0627\u062A - SaaS Multi-Tenant</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <!-- Header -->\r\n    <div class=\"bg-gradient-to-r from-emerald-600 to-emerald-800 text-white shadow-lg\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4\">\r\n            <div class=\"flex items-center justify-between\">\r\n                <h1 class=\"text-2xl font-bold flex items-center\">\r\n                    <i class=\"fas fa-building ml-3\"></i>\r\n                    \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0634\u0631\u0643\u0627\u062A - SaaS Multi-Tenant\r\n                </h1>\r\n                <div class=\"flex gap-3\">\r\n                    <a href=\"/admin/panel\" class=\"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-all\">\r\n                        <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                        \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <!-- Stats Cards -->\r\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <p class=\"text-gray-600 text-sm mb-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0634\u0631\u0643\u0627\u062A</p>\r\n                        <p class=\"text-3xl font-bold text-emerald-600\" id=\"total-tenants\">0</p>\r\n                    </div>\r\n                    <i class=\"fas fa-building text-4xl text-emerald-200\"></i>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <p class=\"text-gray-600 text-sm mb-1\">\u0634\u0631\u0643\u0627\u062A \u0646\u0634\u0637\u0629</p>\r\n                        <p class=\"text-3xl font-bold text-green-600\" id=\"active-tenants\">0</p>\r\n                    </div>\r\n                    <i class=\"fas fa-check-circle text-4xl text-green-200\"></i>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <p class=\"text-gray-600 text-sm mb-1\">\u0634\u0631\u0643\u0627\u062A \u062A\u062C\u0631\u064A\u0628\u064A\u0629</p>\r\n                        <p class=\"text-3xl font-bold text-yellow-600\" id=\"trial-tenants\">0</p>\r\n                    </div>\r\n                    <i class=\"fas fa-hourglass-half text-4xl text-yellow-200\"></i>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <p class=\"text-gray-600 text-sm mb-1\">\u0634\u0631\u0643\u0627\u062A \u0645\u062A\u0648\u0642\u0641\u0629</p>\r\n                        <p class=\"text-3xl font-bold text-red-600\" id=\"suspended-tenants\">0</p>\r\n                    </div>\r\n                    <i class=\"fas fa-ban text-4xl text-red-200\"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Tenants Table -->\r\n        <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <div class=\"p-6 border-b border-gray-200\">\r\n                <div class=\"flex items-center justify-between\">\r\n                    <h2 class=\"text-xl font-bold text-gray-800\">\r\n                        <i class=\"fas fa-list ml-2\"></i>\r\n                        \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0634\u0631\u0643\u0627\u062A\r\n                    </h2>\r\n                    <button onclick=\"addTenant()\" class=\"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg transition-all\">\r\n                        <i class=\"fas fa-plus ml-2\"></i>\r\n                        \u0625\u0636\u0627\u0641\u0629 \u0634\u0631\u0643\u0629 \u062C\u062F\u064A\u062F\u0629\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"overflow-x-auto\">\r\n                <table class=\"w-full\">\r\n                    <thead class=\"bg-gray-50\">\r\n                        <tr>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">#</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Slug</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Subdomain</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"tenants-tbody\" class=\"bg-white divide-y divide-gray-200\">\r\n                        <!-- Will be populated by JavaScript -->\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        async function loadTenants() {\r\n            try {\r\n                const response = await axios.get('/api/tenants');\r\n                const tenants = response.data.data;\r\n                \r\n                // Update stats\r\n                document.getElementById('total-tenants').textContent = tenants.length;\r\n                document.getElementById('active-tenants').textContent = tenants.filter(t => t.status === 'active').length;\r\n                document.getElementById('trial-tenants').textContent = tenants.filter(t => t.status === 'trial').length;\r\n                document.getElementById('suspended-tenants').textContent = tenants.filter(t => t.status === 'suspended').length;\r\n                \r\n                // Populate table\r\n                const tbody = document.getElementById('tenants-tbody');\r\n                tbody.innerHTML = tenants.map((tenant, index) => \\`\r\n                    <tr class=\"hover:bg-gray-50\">\r\n                        <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\\${index + 1}</td>\r\n                        <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div class=\"flex items-center\">\r\n                                <i class=\"fas fa-building text-emerald-600 ml-2\"></i>\r\n                                <span class=\"font-medium text-gray-900\">\\${tenant.company_name}</span>\r\n                            </div>\r\n                        </td>\r\n                        <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\r\n                            <code class=\"bg-gray-100 px-2 py-1 rounded\">\\${tenant.slug}</code>\r\n                        </td>\r\n                        <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\r\n                            <code class=\"bg-gray-100 px-2 py-1 rounded\">\\${tenant.subdomain || '-'}</code>\r\n                        </td>\r\n                        <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                            <span class=\"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full \r\n                                \\${tenant.status === 'active' ? 'bg-green-100 text-green-800' : \r\n                                  tenant.status === 'trial' ? 'bg-yellow-100 text-yellow-800' : \r\n                                  'bg-red-100 text-red-800'}\">\r\n                                \\${tenant.status === 'active' ? '\u0646\u0634\u0637' : tenant.status === 'trial' ? '\u062A\u062C\u0631\u064A\u0628\u064A' : '\u0645\u062A\u0648\u0642\u0641'}\r\n                            </span>\r\n                        </td>\r\n                        <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\r\n                            <i class=\"fas fa-users ml-1\"></i>\r\n                            \\${tenant.max_users || 10}\r\n                        </td>\r\n                        <td class=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                            <a href=\"/c/\\${tenant.slug}/calculator\" target=\"_blank\" \r\n                               class=\"text-blue-600 hover:text-blue-800 font-medium\">\r\n                                <i class=\"fas fa-external-link-alt ml-1\"></i>\r\n                                \u0641\u062A\u062D \u0627\u0644\u062D\u0627\u0633\u0628\u0629\r\n                            </a>\r\n                        </td>\r\n                        <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                            <div class=\"flex gap-2\">\r\n                                <button onclick=\"viewTenant(\\${tenant.id})\" \r\n                                        class=\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs transition-all\">\r\n                                    <i class=\"fas fa-eye\"></i> \u0639\u0631\u0636\r\n                                </button>\r\n                                <button onclick=\"editTenant(\\${tenant.id})\" \r\n                                        class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-xs transition-all\">\r\n                                    <i class=\"fas fa-edit\"></i> \u062A\u0639\u062F\u064A\u0644\r\n                                </button>\r\n                                <button onclick=\"deleteTenant(\\${tenant.id})\" \r\n                                        class=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs transition-all\">\r\n                                    <i class=\"fas fa-trash\"></i> \u062D\u0630\u0641\r\n                                </button>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                \\`).join('');\r\n            } catch (error) {\r\n                console.error('Error loading tenants:', error);\r\n                alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A');\r\n            }\r\n        }\r\n\r\n        function addTenant() {\r\n            window.location.href = '/admin/tenants/add';\r\n        }\r\n\r\n        function editTenant(id) {\r\n            window.location.href = \\`/admin/tenants/\\${id}/edit\\`;\r\n        }\r\n\r\n        function viewTenant(id) {\r\n            window.location.href = \\`/admin/tenants/\\${id}\\`;\r\n        }\r\n\r\n        async function deleteTenant(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0643\u0629\u061F')) return;\r\n            \r\n            try {\r\n                await axios.delete(\\`/api/tenants/\\${id}\\`);\r\n                alert('\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062C\u0627\u062D');\r\n                loadTenants();\r\n            } catch (error) {\r\n                console.error('Error deleting tenant:', error);\r\n                alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062D\u0630\u0641 \u0627\u0644\u0634\u0631\u0643\u0629');\r\n            }\r\n        }\r\n\r\n        // Load on page ready\r\n        loadTenants();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n\r\n", "export const tenantCalculatorsPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u062D\u0627\u0633\u0628\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0627\u062A - SaaS Multi-Tenant</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <div class=\"bg-gradient-to-r from-violet-600 to-violet-800 text-white shadow-lg\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4\">\r\n            <div class=\"flex items-center justify-between\">\r\n                <h1 class=\"text-2xl font-bold flex items-center\">\r\n                    <i class=\"fas fa-calculator ml-3\"></i>\r\n                    \u062D\u0627\u0633\u0628\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0627\u062A\r\n                </h1>\r\n                <a href=\"/admin/panel\" class=\"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg\">\r\n                    <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                    \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <div class=\"bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-xl shadow-lg p-8 mb-8\">\r\n            <h2 class=\"text-2xl font-bold mb-3\"><i class=\"fas fa-info-circle ml-2\"></i>\u062D\u0627\u0633\u0628\u0627\u062A \u0645\u062E\u0635\u0635\u0629 \u0644\u0643\u0644 \u0634\u0631\u0643\u0629</h2>\r\n            <p class=\"text-violet-100\">\u0643\u0644 \u0634\u0631\u0643\u0629 \u0644\u062F\u064A\u0647\u0627 \u0631\u0627\u0628\u0637 \u062D\u0627\u0633\u0628\u0629 \u062E\u0627\u0635 \u0628\u0647\u0627. \u064A\u0645\u0643\u0646 \u0645\u0634\u0627\u0631\u0643\u0629 \u0647\u0630\u0627 \u0627\u0644\u0631\u0627\u0628\u0637 \u0645\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0621.</p>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\" id=\"calculators-grid\"></div>\r\n    </div>\r\n\r\n    <script>\r\n        async function loadCalculators() {\r\n            try {\r\n                const response = await axios.get('/api/tenants');\r\n                const tenants = response.data.data.filter(t => t.status === 'active');\r\n                \r\n                const grid = document.getElementById('calculators-grid');\r\n                grid.innerHTML = tenants.map(tenant => {\r\n                    const calculatorUrl = '/c/' + tenant.slug + '/calculator';\r\n                    const fullUrl = window.location.origin + calculatorUrl;\r\n                    \r\n                    return '<div class=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all\">' +\r\n                        '<div class=\"bg-gradient-to-r from-violet-500 to-purple-600 text-white p-6\">' +\r\n                        '<h3 class=\"text-xl font-bold mb-2\">' + tenant.company_name + '</h3>' +\r\n                        '<p class=\"text-sm text-violet-100\">' + tenant.slug + '</p>' +\r\n                        '</div>' +\r\n                        '<div class=\"p-6\">' +\r\n                        '<div class=\"mb-4\">' +\r\n                        '<label class=\"block text-sm font-bold text-gray-700 mb-2\">\u0631\u0627\u0628\u0637 \u0627\u0644\u062D\u0627\u0633\u0628\u0629</label>' +\r\n                        '<input type=\"text\" value=\"' + fullUrl + '\" readonly class=\"w-full px-3 py-2 border rounded-lg bg-gray-50 text-sm\">' +\r\n                        '</div>' +\r\n                        '<a href=\"' + calculatorUrl + '\" target=\"_blank\" class=\"block text-center bg-violet-600 hover:bg-violet-700 text-white px-4 py-3 rounded-lg font-bold\">' +\r\n                        '<i class=\"fas fa-external-link-alt ml-2\"></i>\u0641\u062A\u062D \u0627\u0644\u062D\u0627\u0633\u0628\u0629</a>' +\r\n                        '</div></div>';\r\n                }).join('');\r\n            } catch (error) {\r\n                alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A');\r\n            }\r\n        }\r\n        loadCalculators();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const saasSettingsPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0625\u0639\u062F\u0627\u062F\u0627\u062A SaaS - Multi-Tenant System</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <div class=\"bg-gradient-to-r from-amber-600 to-amber-800 text-white shadow-lg\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4\">\r\n            <div class=\"flex items-center justify-between\">\r\n                <h1 class=\"text-2xl font-bold flex items-center\">\r\n                    <i class=\"fas fa-cogs ml-3\"></i>\r\n                    \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0646\u0638\u0627\u0645 SaaS Multi-Tenant\r\n                </h1>\r\n                <a href=\"/admin/panel\" class=\"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg\">\r\n                    <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                    \u0627\u0644\u0639\u0648\u062F\u0629\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <!-- System Overview -->\r\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between mb-4\">\r\n                    <h3 class=\"font-bold text-gray-800\">\u0646\u0645\u0648\u0630\u062C \u0627\u0644\u0646\u0638\u0627\u0645</h3>\r\n                    <i class=\"fas fa-sitemap text-3xl text-amber-600\"></i>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                    <div class=\"flex items-center justify-between\">\r\n                        <span class=\"text-sm text-gray-600\">\u0627\u0644\u0646\u0648\u0639:</span>\r\n                        <span class=\"font-bold text-amber-600\">SaaS Multi-Tenant</span>\r\n                    </div>\r\n                    <div class=\"flex items-center justify-between\">\r\n                        <span class=\"text-sm text-gray-600\">\u0627\u0644\u0625\u0635\u062F\u0627\u0631:</span>\r\n                        <span class=\"font-bold\">v1.0.0</span>\r\n                    </div>\r\n                    <div class=\"flex items-center justify-between\">\r\n                        <span class=\"text-sm text-gray-600\">\u0627\u0644\u062D\u0627\u0644\u0629:</span>\r\n                        <span class=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-bold\">\u0646\u0634\u0637</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between mb-4\">\r\n                    <h3 class=\"font-bold text-gray-800\">\u0639\u0632\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</h3>\r\n                    <i class=\"fas fa-database text-3xl text-blue-600\"></i>\r\n                </div>\r\n                <div class=\"space-y-2 text-sm\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                        <i class=\"fas fa-check-circle text-green-600\"></i>\r\n                        <span>tenant_id \u0641\u064A \u0643\u0644 \u062C\u062F\u0648\u0644</span>\r\n                    </div>\r\n                    <div class=\"flex items-center gap-2\">\r\n                        <i class=\"fas fa-check-circle text-green-600\"></i>\r\n                        <span>\u062A\u0635\u0641\u064A\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0629 \u0628\u0627\u0644\u0640 APIs</span>\r\n                    </div>\r\n                    <div class=\"flex items-center gap-2\">\r\n                        <i class=\"fas fa-check-circle text-green-600\"></i>\r\n                        <span>\u0639\u0632\u0644 \u0643\u0627\u0645\u0644 \u0644\u0644\u0628\u064A\u0627\u0646\u0627\u062A</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between mb-4\">\r\n                    <h3 class=\"font-bold text-gray-800\">\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0648\u0635\u0648\u0644</h3>\r\n                    <i class=\"fas fa-link text-3xl text-purple-600\"></i>\r\n                </div>\r\n                <div class=\"space-y-2 text-sm\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                        <i class=\"fas fa-check-circle text-green-600\"></i>\r\n                        <span>Slug: /c/:tenant/*</span>\r\n                    </div>\r\n                    <div class=\"flex items-center gap-2\">\r\n                        <i class=\"fas fa-info-circle text-blue-600\"></i>\r\n                        <span>Subdomain: \u0642\u0631\u064A\u0628\u0627\u064B</span>\r\n                    </div>\r\n                    <div class=\"flex items-center gap-2\">\r\n                        <i class=\"fas fa-info-circle text-blue-600\"></i>\r\n                        <span>Custom Domain: \u0642\u0631\u064A\u0628\u0627\u064B</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Configuration Sections -->\r\n        <div class=\"space-y-6\">\r\n            <!-- Tenant Management -->\r\n            <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                <div class=\"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white p-6\">\r\n                    <h2 class=\"text-xl font-bold flex items-center\">\r\n                        <i class=\"fas fa-building ml-3\"></i>\r\n                        \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0634\u0631\u0643\u0627\u062A (Tenants)\r\n                    </h2>\r\n                </div>\r\n                <div class=\"p-6\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div>\r\n                            <h3 class=\"font-bold text-gray-800 mb-3\">\u0627\u0644\u0645\u064A\u0632\u0627\u062A \u0627\u0644\u0645\u062A\u0627\u062D\u0629</h3>\r\n                            <ul class=\"space-y-2 text-sm\">\r\n                                <li class=\"flex items-start gap-2\">\r\n                                    <i class=\"fas fa-check text-green-600 mt-1\"></i>\r\n                                    <span>\u0625\u0646\u0634\u0627\u0621 \u0634\u0631\u0643\u0627\u062A \u062C\u062F\u064A\u062F\u0629 \u0645\u0639 slug \u0641\u0631\u064A\u062F</span>\r\n                                </li>\r\n                                <li class=\"flex items-start gap-2\">\r\n                                    <i class=\"fas fa-check text-green-600 mt-1\"></i>\r\n                                    <span>\u062A\u062D\u062F\u064A\u062F \u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0644\u0643\u0644 \u0634\u0631\u0643\u0629</span>\r\n                                </li>\r\n                                <li class=\"flex items-start gap-2\">\r\n                                    <i class=\"fas fa-check text-green-600 mt-1\"></i>\r\n                                    <span>\u062D\u0627\u0644\u0627\u062A \u0645\u062A\u0639\u062F\u062F\u0629: \u0646\u0634\u0637\u060C \u062A\u062C\u0631\u064A\u0628\u064A\u060C \u0645\u062A\u0648\u0642\u0641</span>\r\n                                </li>\r\n                                <li class=\"flex items-start gap-2\">\r\n                                    <i class=\"fas fa-check text-green-600 mt-1\"></i>\r\n                                    <span>\u0631\u0627\u0628\u0637 \u062D\u0627\u0633\u0628\u0629 \u0645\u062E\u0635\u0635 \u0644\u0643\u0644 \u0634\u0631\u0643\u0629</span>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div>\r\n                            <h3 class=\"font-bold text-gray-800 mb-3\">\u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0633\u0631\u064A\u0639\u0629</h3>\r\n                            <div class=\"space-y-2\">\r\n                                <a href=\"/admin/tenants\" class=\"block w-full bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-3 rounded-lg text-center font-bold\">\r\n                                    <i class=\"fas fa-eye ml-2\"></i>\r\n                                    \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0634\u0631\u0643\u0627\u062A\r\n                                </a>\r\n                                <a href=\"/admin/tenant-calculators\" class=\"block w-full bg-violet-600 hover:bg-violet-700 text-white px-4 py-3 rounded-lg text-center font-bold\">\r\n                                    <i class=\"fas fa-calculator ml-2\"></i>\r\n                                    \u062D\u0627\u0633\u0628\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0627\u062A\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Data Isolation -->\r\n            <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                <div class=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6\">\r\n                    <h2 class=\"text-xl font-bold flex items-center\">\r\n                        <i class=\"fas fa-shield-alt ml-3\"></i>\r\n                        \u0639\u0632\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A (Data Isolation)\r\n                    </h2>\r\n                </div>\r\n                <div class=\"p-6\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                        <div class=\"border-r border-gray-200 pr-4\">\r\n                            <h4 class=\"font-bold text-gray-800 mb-3\">\u0627\u0644\u062C\u062F\u0627\u0648\u0644 \u0627\u0644\u0645\u062D\u0645\u064A\u0629</h4>\r\n                            <ul class=\"space-y-1 text-sm text-gray-600\">\r\n                                <li><i class=\"fas fa-table text-blue-600 ml-1\"></i> customers</li>\r\n                                <li><i class=\"fas fa-table text-blue-600 ml-1\"></i> financing_requests</li>\r\n                                <li><i class=\"fas fa-table text-blue-600 ml-1\"></i> users</li>\r\n                                <li><i class=\"fas fa-table text-blue-600 ml-1\"></i> notifications</li>\r\n                                <li><i class=\"fas fa-table text-blue-600 ml-1\"></i> subscriptions</li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class=\"border-r border-gray-200 pr-4\">\r\n                            <h4 class=\"font-bold text-gray-800 mb-3\">APIs \u0627\u0644\u0645\u062D\u0645\u064A\u0629</h4>\r\n                            <ul class=\"space-y-1 text-sm text-gray-600\">\r\n                                <li><i class=\"fas fa-shield-alt text-green-600 ml-1\"></i> GET /api/customers</li>\r\n                                <li><i class=\"fas fa-shield-alt text-green-600 ml-1\"></i> GET /api/financing-requests</li>\r\n                                <li><i class=\"fas fa-shield-alt text-green-600 ml-1\"></i> GET /api/users</li>\r\n                                <li><i class=\"fas fa-shield-alt text-green-600 ml-1\"></i> GET /api/notifications</li>\r\n                            </ul>\r\n                        </div>\r\n                        <div>\r\n                            <h4 class=\"font-bold text-gray-800 mb-3\">\u0622\u0644\u064A\u0629 \u0627\u0644\u062D\u0645\u0627\u064A\u0629</h4>\r\n                            <ul class=\"space-y-1 text-sm text-gray-600\">\r\n                                <li><i class=\"fas fa-key text-amber-600 ml-1\"></i> JWT Token \u0645\u0639 tenant_id</li>\r\n                                <li><i class=\"fas fa-filter text-amber-600 ml-1\"></i> WHERE tenant_id = ?</li>\r\n                                <li><i class=\"fas fa-lock text-amber-600 ml-1\"></i> \u0639\u0632\u0644 \u062A\u0644\u0642\u0627\u0626\u064A</li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- System Statistics -->\r\n            <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n                <div class=\"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6\">\r\n                    <h2 class=\"text-xl font-bold flex items-center\">\r\n                        <i class=\"fas fa-chart-bar ml-3\"></i>\r\n                        \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645\r\n                    </h2>\r\n                </div>\r\n                <div class=\"p-6\">\r\n                    <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\" id=\"stats-grid\">\r\n                        <div class=\"text-center p-4 bg-emerald-50 rounded-lg\">\r\n                            <div class=\"text-3xl font-bold text-emerald-600\" id=\"stat-tenants\">0</div>\r\n                            <div class=\"text-sm text-gray-600 mt-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0634\u0631\u0643\u0627\u062A</div>\r\n                        </div>\r\n                        <div class=\"text-center p-4 bg-blue-50 rounded-lg\">\r\n                            <div class=\"text-3xl font-bold text-blue-600\" id=\"stat-active\">0</div>\r\n                            <div class=\"text-sm text-gray-600 mt-1\">\u0634\u0631\u0643\u0627\u062A \u0646\u0634\u0637\u0629</div>\r\n                        </div>\r\n                        <div class=\"text-center p-4 bg-purple-50 rounded-lg\">\r\n                            <div class=\"text-3xl font-bold text-purple-600\" id=\"stat-trial\">0</div>\r\n                            <div class=\"text-sm text-gray-600 mt-1\">\u0634\u0631\u0643\u0627\u062A \u062A\u062C\u0631\u064A\u0628\u064A\u0629</div>\r\n                        </div>\r\n                        <div class=\"text-center p-4 bg-amber-50 rounded-lg\">\r\n                            <div class=\"text-3xl font-bold text-amber-600\" id=\"stat-total-users\">0</div>\r\n                            <div class=\"text-sm text-gray-600 mt-1\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        async function loadStats() {\r\n            try {\r\n                const [tenantsRes, usersRes] = await Promise.all([\r\n                    axios.get('/api/tenants'),\r\n                    axios.get('/api/users')\r\n                ]);\r\n                \r\n                const tenants = tenantsRes.data.data;\r\n                document.getElementById('stat-tenants').textContent = tenants.length;\r\n                document.getElementById('stat-active').textContent = tenants.filter(t => t.status === 'active').length;\r\n                document.getElementById('stat-trial').textContent = tenants.filter(t => t.status === 'trial').length;\r\n                document.getElementById('stat-total-users').textContent = usersRes.data.data.length;\r\n            } catch (error) {\r\n                console.error('Error loading stats:', error);\r\n            }\r\n        }\r\n        loadStats();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const reportsPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0645\u0646\u0638\u0648\u0645\u0629 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 - \u0646\u0638\u0627\u0645 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <!-- Header -->\r\n    <div class=\"bg-gradient-to-r from-indigo-600 to-indigo-800 text-white shadow-lg\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4\">\r\n            <div class=\"flex items-center justify-between\">\r\n                <h1 class=\"text-2xl font-bold flex items-center\">\r\n                    <i class=\"fas fa-chart-line ml-3\"></i>\r\n                    \u0645\u0646\u0638\u0648\u0645\u0629 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0648\u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A\r\n                </h1>\r\n                <a href=\"/admin/panel\" class=\"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-all\">\r\n                    <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                    \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <!-- Quick Stats -->\r\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n            <div class=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between mb-4\">\r\n                    <i class=\"fas fa-users text-4xl opacity-80\"></i>\r\n                    <div class=\"text-right\">\r\n                        <div class=\"text-3xl font-bold\" id=\"stat-total-customers\">0</div>\r\n                        <div class=\"text-sm opacity-90\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0645\u0644\u0627\u0621</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between mb-4\">\r\n                    <i class=\"fas fa-file-invoice text-4xl opacity-80\"></i>\r\n                    <div class=\"text-right\">\r\n                        <div class=\"text-3xl font-bold\" id=\"stat-total-requests\">0</div>\r\n                        <div class=\"text-sm opacity-90\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between mb-4\">\r\n                    <i class=\"fas fa-clock text-4xl opacity-80\"></i>\r\n                    <div class=\"text-right\">\r\n                        <div class=\"text-3xl font-bold\" id=\"stat-pending-requests\">0</div>\r\n                        <div class=\"text-sm opacity-90\">\u0637\u0644\u0628\u0627\u062A \u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"flex items-center justify-between mb-4\">\r\n                    <i class=\"fas fa-check-circle text-4xl opacity-80\"></i>\r\n                    <div class=\"text-right\">\r\n                        <div class=\"text-3xl font-bold\" id=\"stat-approved-requests\">0</div>\r\n                        <div class=\"text-sm opacity-90\">\u0637\u0644\u0628\u0627\u062A \u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647\u0627</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Report Types -->\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n            <!-- Requests Followup Report (Manager Only) -->\r\n            <div id=\"requestsFollowupReport\" class=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all transform hover:scale-105\">\r\n                <div class=\"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6\">\r\n                    <i class=\"fas fa-tasks text-3xl mb-2\"></i>\r\n                    <h3 class=\"text-xl font-bold\">\u062A\u0642\u0631\u064A\u0631 \u0645\u062A\u0627\u0628\u0639\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A</h3>\r\n                    <p class=\"text-sm text-orange-100 mt-2\">\u0645\u062A\u0627\u0628\u0639\u0629 \u062D\u0627\u0644\u0629 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0648\u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646 \u0627\u0644\u0645\u062E\u0635\u0635\u064A\u0646</p>\r\n                </div>\r\n                <div class=\"p-6\">\r\n                    <button onclick=\"goToRequestsFollowup()\" class=\"w-full bg-orange-600 hover:bg-orange-700 text-white px-4 py-3 rounded-lg font-bold transition-all\">\r\n                        <i class=\"fas fa-file-alt ml-2\"></i>\r\n                        \u0639\u0631\u0636 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Customer Report -->\r\n            <div class=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all transform hover:scale-105\">\r\n                <div class=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6\">\r\n                    <i class=\"fas fa-users text-3xl mb-2\"></i>\r\n                    <h3 class=\"text-xl font-bold\">\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0639\u0645\u0644\u0627\u0621</h3>\r\n                    <p class=\"text-sm text-blue-100 mt-2\">\u062A\u0642\u0631\u064A\u0631 \u0634\u0627\u0645\u0644 \u0644\u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0648\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A\u0647\u0645</p>\r\n                </div>\r\n                <div class=\"p-6\">\r\n                    <a href=\"/admin/reports/customers\" class=\"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-bold transition-all block text-center\">\r\n                        <i class=\"fas fa-file-alt ml-2\"></i>\r\n                        \u0639\u0631\u0636 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Financing Requests Report -->\r\n            <div class=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all transform hover:scale-105\">\r\n                <div class=\"bg-gradient-to-r from-green-500 to-green-600 text-white p-6\">\r\n                    <i class=\"fas fa-file-invoice text-3xl mb-2\"></i>\r\n                    <h3 class=\"text-xl font-bold\">\u062A\u0642\u0631\u064A\u0631 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</h3>\r\n                    <p class=\"text-sm text-green-100 mt-2\">\u062A\u062D\u0644\u064A\u0644 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u062D\u0627\u0644\u0629 \u0648\u0627\u0644\u0641\u062A\u0631\u0629</p>\r\n                </div>\r\n                <div class=\"p-6\">\r\n                    <a href=\"/admin/reports/requests\" class=\"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-bold transition-all block text-center\">\r\n                        <i class=\"fas fa-file-alt ml-2\"></i>\r\n                        \u0639\u0631\u0636 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Performance Report -->\r\n            <div class=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all transform hover:scale-105\">\r\n                <div class=\"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6\">\r\n                    <i class=\"fas fa-chart-bar text-3xl mb-2\"></i>\r\n                    <h3 class=\"text-xl font-bold\">\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0623\u062F\u0627\u0621</h3>\r\n                    <p class=\"text-sm text-purple-100 mt-2\">\u062A\u062D\u0644\u064A\u0644 \u0623\u062F\u0627\u0621 \u0627\u0644\u0646\u0638\u0627\u0645 \u0648\u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A</p>\r\n                </div>\r\n                <div class=\"p-6\">\r\n                    <a href=\"/admin/reports/performance\" class=\"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-bold transition-all block text-center\">\r\n                        <i class=\"fas fa-file-alt ml-2\"></i>\r\n                        \u0639\u0631\u0636 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Financial Report -->\r\n            <div class=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all transform hover:scale-105\">\r\n                <div class=\"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white p-6\">\r\n                    <i class=\"fas fa-dollar-sign text-3xl mb-2\"></i>\r\n                    <h3 class=\"text-xl font-bold\">\u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A</h3>\r\n                    <p class=\"text-sm text-yellow-100 mt-2\">\u0645\u0644\u062E\u0635 \u0627\u0644\u0645\u0628\u0627\u0644\u063A \u0648\u0627\u0644\u062A\u0645\u0648\u064A\u0644\u0627\u062A</p>\r\n                </div>\r\n                <div class=\"p-6\">\r\n                    <a href=\"/admin/reports/financial\" class=\"w-full bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-3 rounded-lg font-bold transition-all block text-center\">\r\n                        <i class=\"fas fa-file-alt ml-2\"></i>\r\n                        \u0639\u0631\u0636 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Banks Report -->\r\n            <div class=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all transform hover:scale-105\">\r\n                <div class=\"bg-gradient-to-r from-teal-500 to-teal-600 text-white p-6\">\r\n                    <i class=\"fas fa-university text-3xl mb-2\"></i>\r\n                    <h3 class=\"text-xl font-bold\">\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0628\u0646\u0648\u0643</h3>\r\n                    <p class=\"text-sm text-teal-100 mt-2\">\u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0628\u0646\u0648\u0643</p>\r\n                </div>\r\n                <div class=\"p-6\">\r\n                    <a href=\"/admin/reports/banks\" class=\"w-full bg-teal-600 hover:bg-teal-700 text-white px-4 py-3 rounded-lg font-bold transition-all block text-center\">\r\n                        <i class=\"fas fa-file-alt ml-2\"></i>\r\n                        \u0639\u0631\u0636 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        console.log('\uD83D\uDCCA Reports page loaded');\r\n        \r\n        const authToken = localStorage.getItem('authToken');\r\n        const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n\r\n        // Navigate to Requests Followup Report\r\n        window.goToRequestsFollowup = function() {\r\n            console.log('\uD83D\uDD17 Navigating to Requests Followup Report');\r\n            console.log('User data:', userData);\r\n            \r\n            if (userData.tenant_id) {\r\n                const url = '/admin/reports/requests-followup?tenant_id=' + userData.tenant_id;\r\n                console.log('Redirecting to:', url);\r\n                window.location.href = url;\r\n            } else {\r\n                console.log('No tenant_id found, redirecting without tenant_id');\r\n                window.location.href = '/admin/reports/requests-followup';\r\n            }\r\n        }\r\n\r\n        // Show coming soon message\r\n        window.showComingSoon = function(reportName) {\r\n            alert('\u0642\u0631\u064A\u0628\u0627\u064B: ' + reportName + '\\\\n\\\\n\u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0647\u0630\u0627 \u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u0642\u0631\u064A\u0628\u0627\u064B');\r\n        }\r\n\r\n        // Load initial stats\r\n        async function loadStats() {\r\n            try {\r\n                console.log('\uD83D\uDCCA Loading reports statistics...');\r\n                \r\n                const statsRes = await axios.get('/api/dashboard/stats', {\r\n                    headers: authToken ? { 'Authorization': 'Bearer ' + authToken } : {}\r\n                });\r\n                \r\n                if (statsRes.data.success) {\r\n                    const stats = statsRes.data.data;\r\n                    console.log('\u2705 Stats loaded:', stats);\r\n                    \r\n                    document.getElementById('stat-total-customers').textContent = stats.total_customers || 0;\r\n                    document.getElementById('stat-total-requests').textContent = stats.total_requests || 0;\r\n                    document.getElementById('stat-pending-requests').textContent = stats.pending_requests || 0;\r\n                    document.getElementById('stat-approved-requests').textContent = stats.approved_requests || 0;\r\n                } else {\r\n                    console.error('\u274C Failed to load stats:', statsRes.data);\r\n                }\r\n            } catch (error) {\r\n                console.error('\u274C Error loading stats:', error);\r\n            }\r\n        }\r\n\r\n        // Apply report permissions based on role\r\n        function applyReportPermissions() {\r\n            const userRole = userData.role || userData.user_type;\r\n            const roleId = userData.role_id;\r\n            console.log('\uD83D\uDD10 Applying permissions for role:', userRole, 'role_id:', roleId);\r\n            \r\n            // Show Requests Followup Report for all roles now\r\n            // Previously was hidden for employees, but now accessible to all\r\n            console.log('\u2705 Showing Requests Followup Report for all users');\r\n        }\r\n\r\n        // Load stats on page load\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n            console.log('\uD83D\uDE80 Page loaded, initializing...');\r\n            console.log('Auth token:', authToken ? 'Present' : 'Missing');\r\n            console.log('User data:', userData);\r\n            \r\n            loadStats();\r\n            applyReportPermissions();\r\n        });\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "// Advanced Reports - Customer, Requests, Performance, Financial, Banks Reports\r\n\r\n// Helper: Mobile-Responsive CSS Styles\r\nconst getMobileResponsiveCSS = () => `\r\n  /* Mobile Responsive Styles */\r\n  @media (max-width: 768px) {\r\n    .max-w-7xl, .max-w-6xl, .max-w-5xl {\r\n      padding-left: 1rem !important;\r\n      padding-right: 1rem !important;\r\n    }\r\n    h1 { font-size: 1.5rem !important; }\r\n    h2 { font-size: 1.25rem !important; }\r\n    table { font-size: 0.875rem !important; }\r\n    table th, table td { padding: 0.5rem !important; }\r\n    .hide-on-mobile { display: none !important; }\r\n    button, .btn { font-size: 0.875rem !important; padding: 0.5rem 1rem !important; }\r\n    input, select, textarea { font-size: 1rem !important; }\r\n    .bg-white.rounded-xl, .bg-white.rounded-lg { padding: 1rem !important; }\r\n    .flex.justify-between { flex-wrap: wrap; gap: 1rem; }\r\n    .flex-wrap > * { width: 100%; }\r\n    input[type=\"text\"], input[type=\"search\"] { width: 100% !important; }\r\n    .grid { grid-template-columns: 1fr !important; }\r\n    .p-6 { padding: 1rem !important; }\r\n    .p-8 { padding: 1.5rem !important; }\r\n    .overflow-x-auto { \r\n      margin-left: -1rem !important; \r\n      margin-right: -1rem !important;\r\n      padding-bottom: 1.5rem !important;\r\n      position: relative !important;\r\n    }\r\n    \r\n    /* Enhanced Mobile Scrollbar */\r\n    .overflow-x-auto::-webkit-scrollbar {\r\n      height: 14px !important;\r\n      -webkit-appearance: none;\r\n    }\r\n    .overflow-x-auto::-webkit-scrollbar-track {\r\n      background: #f1f5f9 !important;\r\n      border-radius: 8px !important;\r\n      border: 2px solid #e2e8f0 !important;\r\n    }\r\n    .overflow-x-auto::-webkit-scrollbar-thumb {\r\n      background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%) !important;\r\n      border-radius: 8px !important;\r\n      border: 2px solid #e2e8f0 !important;\r\n      min-width: 50px !important;\r\n    }\r\n    .overflow-x-auto {\r\n      overflow-x: scroll !important;\r\n      -webkit-overflow-scrolling: touch !important;\r\n      scrollbar-width: auto !important;\r\n      scrollbar-color: #3b82f6 #f1f5f9 !important;\r\n    }\r\n  }\r\n  @media (max-width: 480px) {\r\n    body { font-size: 14px !important; }\r\n    h1 { font-size: 1.25rem !important; }\r\n    table { font-size: 0.75rem !important; }\r\n    button { font-size: 0.75rem !important; padding: 0.375rem 0.75rem !important; }\r\n    .overflow-x-auto::-webkit-scrollbar { height: 16px !important; }\r\n    .overflow-x-auto::-webkit-scrollbar-thumb { min-width: 60px !important; }\r\n  }\r\n`\r\n\r\nexport const customersReportPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0639\u0645\u0644\u0627\u0621</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js\"></script>\r\n    <style>\r\n        /* Custom Scrollbar - Enhanced */\r\n        .overflow-x-auto {\r\n            overflow-x: auto !important;\r\n            -webkit-overflow-scrolling: touch;\r\n            scrollbar-width: thin;\r\n            scrollbar-color: #3b82f6 #f7fafc;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar {\r\n            height: 12px;\r\n            width: 12px;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-track {\r\n            background: #e5e7eb;\r\n            border-radius: 10px;\r\n            margin: 0 10px;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-thumb {\r\n            background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);\r\n            border-radius: 10px;\r\n            border: 2px solid #e5e7eb;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-thumb:hover {\r\n            background: linear-gradient(180deg, #2563eb 0%, #1d4ed8 100%);\r\n            border-color: #d1d5db;\r\n        }\r\n        \r\n        /* Force scrollbar to always show */\r\n        .overflow-x-auto {\r\n            overflow-x: scroll !important; /* Always show scrollbar */\r\n        }\r\n        \r\n        .overflow-x-auto table {\r\n            min-width: 1200px; /* Force table to be wide enough for scrollbar */\r\n            width: max-content;\r\n        }\r\n        \r\n        ${getMobileResponsiveCSS()}\r\n    </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <div class=\"mb-6 flex items-center justify-between\">\r\n            <a href=\"/admin/reports\" class=\"text-blue-600 hover:text-blue-800\">\r\n                <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u062A\u0642\u0627\u0631\u064A\u0631\r\n            </a>\r\n            <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-users text-blue-600 ml-2\"></i>\r\n                \u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0627\u0644\u0634\u0627\u0645\u0644\r\n            </h1>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div class=\"flex justify-between items-center mb-6 gap-4 flex-wrap\">\r\n                <div>\r\n                    <h2 class=\"text-xl font-bold\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0645\u0644\u0627\u0621: <span id=\"totalCustomers\" class=\"text-blue-600\">0</span></h2>\r\n                    <p class=\"text-gray-600 text-sm\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0642\u0631\u064A\u0631: <span id=\"reportDate\"></span></p>\r\n                </div>\r\n                <div class=\"flex items-center gap-3\">\r\n                    <div class=\"relative\">\r\n                        <input \r\n                            type=\"text\" \r\n                            id=\"searchInput\" \r\n                            placeholder=\"\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0639\u0645\u0644\u0627\u0621...\" \r\n                            class=\"px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                            onkeyup=\"searchTable()\"\r\n                        />\r\n                        <i class=\"fas fa-search absolute right-3 top-3 text-gray-400\"></i>\r\n                    </div>\r\n                    <button onclick=\"exportToExcel()\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold whitespace-nowrap\">\r\n                        <i class=\"fas fa-file-excel ml-2\"></i>\r\n                        \u062A\u0635\u062F\u064A\u0631 Excel\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"loading\" class=\"text-center py-12\">\r\n                <i class=\"fas fa-spinner fa-spin text-4xl text-blue-600 mb-4\"></i>\r\n                <p class=\"text-gray-600\">\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...</p>\r\n            </div>\r\n\r\n            <div id=\"tableContainer\" class=\"hidden overflow-x-auto\">\r\n                <table class=\"w-full\">\r\n                    <thead class=\"bg-gradient-to-r from-blue-600 to-blue-700 text-white\">\r\n                        <tr>\r\n                            <th class=\"px-4 py-3 text-right\">#</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0647\u0627\u062A\u0641</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0646\u0648\u0639 \u0627\u0644\u062A\u0648\u0638\u064A\u0641</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0645\u0648\u0638\u0641 \u0627\u0644\u0645\u062E\u0635\u0635</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"reportTable\" class=\"divide-y divide-gray-200\"></tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        let reportData = [];\r\n        const authToken = localStorage.getItem('authToken');\r\n        \r\n        async function loadReport() {\r\n            try {\r\n                const response = await axios.get('/api/customers', {\r\n                    headers: { 'Authorization': 'Bearer ' + authToken }\r\n                });\r\n                \r\n                if (response.data.success) {\r\n                    reportData = response.data.data || [];\r\n                    displayReport();\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading report:', error);\r\n                alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0642\u0631\u064A\u0631');\r\n            } finally {\r\n                document.getElementById('loading').classList.add('hidden');\r\n            }\r\n        }\r\n        \r\n        function displayReport() {\r\n            document.getElementById('totalCustomers').textContent = reportData.length;\r\n            document.getElementById('reportDate').textContent = new Date().toLocaleDateString('ar-SA');\r\n            document.getElementById('tableContainer').classList.remove('hidden');\r\n            \r\n            const tbody = document.getElementById('reportTable');\r\n            tbody.innerHTML = reportData.map((customer, index) => \\`\r\n                <tr class=\"hover:bg-gray-50\">\r\n                    <td class=\"px-4 py-3\">\\${index + 1}</td>\r\n                    <td class=\"px-4 py-3 font-medium\">\\${customer.full_name}</td>\r\n                    <td class=\"px-4 py-3\">\\${customer.phone}</td>\r\n                    <td class=\"px-4 py-3\">\\${customer.email || '-'}</td>\r\n                    <td class=\"px-4 py-3\">\\${customer.employment_type || '-'}</td>\r\n                    <td class=\"px-4 py-3\">\\${(customer.monthly_salary || 0).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</td>\r\n                    <td class=\"px-4 py-3\">\\${(customer.monthly_obligations || 0).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</td>\r\n                    <td class=\"px-4 py-3\">\\${customer.assigned_employee_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</td>\r\n                </tr>\r\n            \\`).join('');\r\n        }\r\n        \r\n        function searchTable() {\r\n            const searchValue = document.getElementById('searchInput').value.toLowerCase();\r\n            const tbody = document.getElementById('reportTable');\r\n            const rows = tbody.querySelectorAll('tr');\r\n            \r\n            rows.forEach(row => {\r\n                const text = row.textContent.toLowerCase();\r\n                if (text.includes(searchValue)) {\r\n                    row.style.display = '';\r\n                } else {\r\n                    row.style.display = 'none';\r\n                }\r\n            });\r\n        }\r\n        \r\n        window.exportToExcel = function() {\r\n            const ws = XLSX.utils.json_to_sheet(reportData.map(c => ({\r\n                '\u0627\u0644\u0627\u0633\u0645': c.full_name,\r\n                '\u0627\u0644\u0647\u0627\u062A\u0641': c.phone,\r\n                '\u0627\u0644\u0628\u0631\u064A\u062F': c.email,\r\n                '\u0646\u0648\u0639 \u0627\u0644\u062A\u0648\u0638\u064A\u0641': c.employment_type,\r\n                '\u0627\u0644\u0631\u0627\u062A\u0628': c.monthly_salary,\r\n                '\u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0627\u062A': c.monthly_obligations,\r\n                '\u0627\u0644\u0645\u0648\u0638\u0641 \u0627\u0644\u0645\u062E\u0635\u0635': c.assigned_employee_name\r\n            })));\r\n            const wb = XLSX.utils.book_new();\r\n            XLSX.utils.book_append_sheet(wb, ws, '\u0627\u0644\u0639\u0645\u0644\u0627\u0621');\r\n            XLSX.writeFile(wb, '\u062A\u0642\u0631\u064A\u0631_\u0627\u0644\u0639\u0645\u0644\u0627\u0621_' + new Date().toISOString().split('T')[0] + '.xlsx');\r\n        }\r\n        \r\n        document.addEventListener('DOMContentLoaded', loadReport);\r\n    </script>\r\n</body>\r\n</html>`;\r\n\r\nexport const requestsReportPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u062A\u0642\u0631\u064A\u0631 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js\"></script>\r\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js\"></script>\r\n    <style>\r\n        /* Custom Scrollbar - Enhanced */\r\n        .overflow-x-auto {\r\n            overflow-x: auto !important;\r\n            -webkit-overflow-scrolling: touch;\r\n            scrollbar-width: thin;\r\n            scrollbar-color: #22c55e #f7fafc;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar {\r\n            height: 12px;\r\n            width: 12px;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-track {\r\n            background: #e5e7eb;\r\n            border-radius: 10px;\r\n            margin: 0 10px;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-thumb {\r\n            background: linear-gradient(180deg, #22c55e 0%, #16a34a 100%);\r\n            border-radius: 10px;\r\n            border: 2px solid #e5e7eb;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-thumb:hover {\r\n            background: linear-gradient(180deg, #16a34a 0%, #15803d 100%);\r\n            border-color: #d1d5db;\r\n        }\r\n        \r\n        /* Force scrollbar to always show */\r\n        .overflow-x-auto {\r\n            overflow-x: scroll !important; /* Always show scrollbar */\r\n        }\r\n        \r\n        .overflow-x-auto table {\r\n            min-width: 1200px; /* Force table to be wide enough for scrollbar */\r\n            width: max-content;\r\n        }\r\n        \r\n        ${getMobileResponsiveCSS()}\r\n    </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <div class=\"mb-6 flex items-center justify-between\">\r\n            <a href=\"/admin/reports\" class=\"text-blue-600 hover:text-blue-800\">\r\n                <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u062A\u0642\u0627\u0631\u064A\u0631\r\n            </a>\r\n            <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-file-invoice text-green-600 ml-2\"></i>\r\n                \u062A\u0642\u0631\u064A\u0631 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n            </h1>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\r\n            <div class=\"bg-white rounded-lg shadow-lg p-6\">\r\n                <div class=\"text-gray-600 text-sm\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A</div>\r\n                <div class=\"text-3xl font-bold text-blue-600\" id=\"totalRequests\">0</div>\r\n            </div>\r\n            <div class=\"bg-white rounded-lg shadow-lg p-6\">\r\n                <div class=\"text-gray-600 text-sm\">\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629</div>\r\n                <div class=\"text-3xl font-bold text-yellow-600\" id=\"pendingRequests\">0</div>\r\n            </div>\r\n            <div class=\"bg-white rounded-lg shadow-lg p-6\">\r\n                <div class=\"text-gray-600 text-sm\">\u0645\u0642\u0628\u0648\u0644</div>\r\n                <div class=\"text-3xl font-bold text-green-600\" id=\"approvedRequests\">0</div>\r\n            </div>\r\n            <div class=\"bg-white rounded-lg shadow-lg p-6\">\r\n                <div class=\"text-gray-600 text-sm\">\u0645\u0631\u0641\u0648\u0636</div>\r\n                <div class=\"text-3xl font-bold text-red-600\" id=\"rejectedRequests\">0</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <canvas id=\"requestsChart\" height=\"100\"></canvas>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div class=\"flex justify-between items-center mb-6 gap-4 flex-wrap\">\r\n                <h2 class=\"text-xl font-bold\">\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0637\u0644\u0628\u0627\u062A</h2>\r\n                <div class=\"flex items-center gap-3\">\r\n                    <div class=\"relative\">\r\n                        <input \r\n                            type=\"text\" \r\n                            id=\"searchInputRequests\" \r\n                            placeholder=\"\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A...\" \r\n                            class=\"px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                            onkeyup=\"searchRequestsTable()\"\r\n                        />\r\n                        <i class=\"fas fa-search absolute right-3 top-3 text-gray-400\"></i>\r\n                    </div>\r\n                    <button onclick=\"exportToExcel()\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold whitespace-nowrap\">\r\n                        <i class=\"fas fa-file-excel ml-2\"></i>\r\n                        \u062A\u0635\u062F\u064A\u0631 Excel\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"loading\" class=\"text-center py-12\">\r\n                <i class=\"fas fa-spinner fa-spin text-4xl text-green-600 mb-4\"></i>\r\n                <p class=\"text-gray-600\">\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...</p>\r\n            </div>\r\n\r\n            <div id=\"tableContainer\" class=\"hidden overflow-x-auto\">\r\n                <table class=\"w-full\">\r\n                    <thead class=\"bg-gradient-to-r from-green-600 to-green-700 text-white\">\r\n                        <tr>\r\n                            <th class=\"px-4 py-3 text-right\">\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0628\u0646\u0643</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u062A\u0627\u0631\u064A\u062E</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"reportTable\" class=\"divide-y divide-gray-200\"></tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        let reportData = [];\r\n        const authToken = localStorage.getItem('authToken');\r\n        \r\n        async function loadReport() {\r\n            try {\r\n                const response = await axios.get('/api/financing-requests', {\r\n                    headers: { 'Authorization': 'Bearer ' + authToken }\r\n                });\r\n                \r\n                if (response.data.success) {\r\n                    reportData = response.data.data || [];\r\n                    displayReport();\r\n                    displayChart();\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading report:', error);\r\n                alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0642\u0631\u064A\u0631');\r\n            } finally {\r\n                document.getElementById('loading').classList.add('hidden');\r\n            }\r\n        }\r\n        \r\n        function displayReport() {\r\n            const stats = {\r\n                total: reportData.length,\r\n                pending: reportData.filter(r => r.status === 'pending').length,\r\n                approved: reportData.filter(r => r.status === 'approved' || r.status === 'approved_internal' || r.status === 'approved_external').length,\r\n                rejected: reportData.filter(r => r.status === 'rejected').length\r\n            };\r\n            \r\n            document.getElementById('totalRequests').textContent = stats.total;\r\n            document.getElementById('pendingRequests').textContent = stats.pending;\r\n            document.getElementById('approvedRequests').textContent = stats.approved;\r\n            document.getElementById('rejectedRequests').textContent = stats.rejected;\r\n            document.getElementById('tableContainer').classList.remove('hidden');\r\n            \r\n            const tbody = document.getElementById('reportTable');\r\n            tbody.innerHTML = reportData.map(req => {\r\n                const statusColors = {\r\n                    'pending': 'bg-yellow-100 text-yellow-800',\r\n                    'approved': 'bg-green-100 text-green-800',\r\n                    'approved_internal': 'bg-green-100 text-green-800',\r\n                    'approved_external': 'bg-green-100 text-green-800',\r\n                    'rejected': 'bg-red-100 text-red-800'\r\n                };\r\n                const statusText = {\r\n                    'pending': '\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629',\r\n                    'approved': '\u0645\u0642\u0628\u0648\u0644',\r\n                    'approved_internal': '\u0645\u0642\u0628\u0648\u0644 (\u062F\u0627\u062E\u0644\u064A)',\r\n                    'approved_external': '\u0645\u0642\u0628\u0648\u0644 (\u062E\u0627\u0631\u062C\u064A)',\r\n                    'rejected': '\u0645\u0631\u0641\u0648\u0636'\r\n                };\r\n                \r\n                return \\`\r\n                    <tr class=\"hover:bg-gray-50\">\r\n                        <td class=\"px-4 py-3\">#\\${req.id}</td>\r\n                        <td class=\"px-4 py-3 font-medium\">\\${req.customer_name || '-'}</td>\r\n                        <td class=\"px-4 py-3\">\\${req.bank_name || '-'}</td>\r\n                        <td class=\"px-4 py-3\">\\${(req.requested_amount || 0).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</td>\r\n                        <td class=\"px-4 py-3\">\r\n                            <span class=\"px-2 py-1 text-xs rounded-full \\${statusColors[req.status] || 'bg-gray-100 text-gray-800'}\">\r\n                                \\${statusText[req.status] || req.status}\r\n                            </span>\r\n                        </td>\r\n                        <td class=\"px-4 py-3\">\\${new Date(req.created_at).toLocaleDateString('ar-SA')}</td>\r\n                    </tr>\r\n                \\`;\r\n            }).join('');\r\n        }\r\n        \r\n        function displayChart() {\r\n            const stats = {\r\n                pending: reportData.filter(r => r.status === 'pending').length,\r\n                approved: reportData.filter(r => r.status === 'approved' || r.status === 'approved_internal' || r.status === 'approved_external').length,\r\n                rejected: reportData.filter(r => r.status === 'rejected').length\r\n            };\r\n            \r\n            const ctx = document.getElementById('requestsChart').getContext('2d');\r\n            new Chart(ctx, {\r\n                type: 'bar',\r\n                data: {\r\n                    labels: ['\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629', '\u0645\u0642\u0628\u0648\u0644', '\u0645\u0631\u0641\u0648\u0636'],\r\n                    datasets: [{\r\n                        label: '\u0639\u062F\u062F \u0627\u0644\u0637\u0644\u0628\u0627\u062A',\r\n                        data: [stats.pending, stats.approved, stats.rejected],\r\n                        backgroundColor: ['#eab308', '#22c55e', '#ef4444']\r\n                    }]\r\n                },\r\n                options: {\r\n                    responsive: true,\r\n                    maintainAspectRatio: false,\r\n                    plugins: {\r\n                        legend: { display: false }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        \r\n        function searchRequestsTable() {\r\n            const searchValue = document.getElementById('searchInputRequests').value.toLowerCase();\r\n            const tbody = document.getElementById('reportTable');\r\n            const rows = tbody.querySelectorAll('tr');\r\n            \r\n            rows.forEach(row => {\r\n                const text = row.textContent.toLowerCase();\r\n                if (text.includes(searchValue)) {\r\n                    row.style.display = '';\r\n                } else {\r\n                    row.style.display = 'none';\r\n                }\r\n            });\r\n        }\r\n        \r\n        window.exportToExcel = function() {\r\n            const ws = XLSX.utils.json_to_sheet(reportData.map(r => ({\r\n                '\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628': r.id,\r\n                '\u0627\u0644\u0639\u0645\u064A\u0644': r.customer_name,\r\n                '\u0627\u0644\u0628\u0646\u0643': r.bank_name,\r\n                '\u0627\u0644\u0645\u0628\u0644\u063A': r.requested_amount,\r\n                '\u0627\u0644\u062D\u0627\u0644\u0629': r.status,\r\n                '\u0627\u0644\u062A\u0627\u0631\u064A\u062E': r.created_at\r\n            })));\r\n            const wb = XLSX.utils.book_new();\r\n            XLSX.utils.book_append_sheet(wb, ws, '\u0627\u0644\u0637\u0644\u0628\u0627\u062A');\r\n            XLSX.writeFile(wb, '\u062A\u0642\u0631\u064A\u0631_\u0627\u0644\u0637\u0644\u0628\u0627\u062A_' + new Date().toISOString().split('T')[0] + '.xlsx');\r\n        }\r\n        \r\n        document.addEventListener('DOMContentLoaded', loadReport);\r\n    </script>\r\n</body>\r\n</html>`;\r\n\r\nexport const financialReportPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js\"></script>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <div class=\"mb-6 flex items-center justify-between\">\r\n            <a href=\"/admin/reports\" class=\"text-blue-600 hover:text-blue-800\">\r\n                <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u062A\u0642\u0627\u0631\u064A\u0631\r\n            </a>\r\n            <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-dollar-sign text-yellow-600 ml-2\"></i>\r\n                \u0627\u0644\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A\r\n            </h1>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n            <div class=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"text-sm opacity-90\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0627\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629</div>\r\n                <div class=\"text-3xl font-bold mt-2\" id=\"totalAmount\">0 \u0631\u064A\u0627\u0644</div>\r\n            </div>\r\n            <div class=\"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"text-sm opacity-90\">\u0627\u0644\u0645\u0628\u0627\u0644\u063A \u0627\u0644\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647\u0627</div>\r\n                <div class=\"text-3xl font-bold mt-2\" id=\"approvedAmount\">0 \u0631\u064A\u0627\u0644</div>\r\n            </div>\r\n            <div class=\"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"text-sm opacity-90\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0645\u0648\u0644\u0627\u062A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0629</div>\r\n                <div class=\"text-3xl font-bold mt-2\" id=\"commissionsAmount\">0 \u0631\u064A\u0627\u0644</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <canvas id=\"financialChart\" height=\"100\"></canvas>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <h3 class=\"text-xl font-bold mb-4\">\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0645\u0628\u0627\u0644\u063A</h3>\r\n                <div class=\"space-y-3\">\r\n                    <div class=\"flex justify-between\">\r\n                        <span class=\"text-gray-600\">\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628:</span>\r\n                        <span class=\"font-bold\" id=\"avgRequested\">0 \u0631\u064A\u0627\u0644</span>\r\n                    </div>\r\n                    <div class=\"flex justify-between\">\r\n                        <span class=\"text-gray-600\">\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647:</span>\r\n                        <span class=\"font-bold text-green-600\" id=\"avgApproved\">0 \u0631\u064A\u0627\u0644</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <h3 class=\"text-xl font-bold mb-4\">\u0645\u0639\u062F\u0644 \u0627\u0644\u0642\u0628\u0648\u0644</h3>\r\n                <div class=\"text-center\">\r\n                    <div class=\"text-5xl font-bold text-green-600\" id=\"approvalRate\">0%</div>\r\n                    <div class=\"text-gray-600 mt-2\">\u0645\u0646 \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        const authToken = localStorage.getItem('authToken');\r\n        \r\n        async function loadReport() {\r\n            try {\r\n                const [requestsRes, paymentsRes] = await Promise.all([\r\n                    axios.get('/api/financing-requests', {\r\n                        headers: { 'Authorization': 'Bearer ' + authToken }\r\n                    }),\r\n                    axios.get('/api/payments', {\r\n                        headers: { 'Authorization': 'Bearer ' + authToken }\r\n                    }).catch(() => ({ data: { data: [] } }))\r\n                ]);\r\n                \r\n                const requests = requestsRes.data.data || [];\r\n                const payments = paymentsRes.data.data || [];\r\n                \r\n                const totalAmount = requests.reduce((sum, r) => sum + (r.requested_amount || 0), 0);\r\n                const approvedAmount = requests\r\n                    .filter(r => r.status === 'approved' || r.status === 'approved_internal' || r.status === 'approved_external')\r\n                    .reduce((sum, r) => sum + (r.requested_amount || 0), 0);\r\n                const commissionsAmount = payments.reduce((sum, p) => sum + (p.amount || 0), 0);\r\n                \r\n                const approvedCount = requests.filter(r => r.status === 'approved' || r.status === 'approved_internal' || r.status === 'approved_external').length;\r\n                const approvalRate = requests.length > 0 ? ((approvedCount / requests.length) * 100).toFixed(1) : 0;\r\n                \r\n                document.getElementById('totalAmount').textContent = totalAmount.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n                document.getElementById('approvedAmount').textContent = approvedAmount.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n                document.getElementById('commissionsAmount').textContent = commissionsAmount.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n                document.getElementById('avgRequested').textContent = (requests.length > 0 ? (totalAmount / requests.length) : 0).toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n                document.getElementById('avgApproved').textContent = (approvedCount > 0 ? (approvedAmount / approvedCount) : 0).toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n                document.getElementById('approvalRate').textContent = approvalRate + '%';\r\n                \r\n                displayChart(totalAmount, approvedAmount, commissionsAmount);\r\n            } catch (error) {\r\n                console.error('Error loading report:', error);\r\n            }\r\n        }\r\n        \r\n        function displayChart(total, approved, commissions) {\r\n            const ctx = document.getElementById('financialChart').getContext('2d');\r\n            new Chart(ctx, {\r\n                type: 'doughnut',\r\n                data: {\r\n                    labels: ['\u0627\u0644\u0645\u0628\u0627\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629', '\u0627\u0644\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647\u0627', '\u0627\u0644\u0639\u0645\u0648\u0644\u0627\u062A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0629'],\r\n                    datasets: [{\r\n                        data: [total, approved, commissions],\r\n                        backgroundColor: ['#3b82f6', '#22c55e', '#eab308']\r\n                    }]\r\n                },\r\n                options: {\r\n                    responsive: true,\r\n                    maintainAspectRatio: false\r\n                }\r\n            });\r\n        }\r\n        \r\n        document.addEventListener('DOMContentLoaded', loadReport);\r\n    </script>\r\n</body>\r\n</html>`;\r\n", "// Payments Page - Receipt Vouchers for Approved Requests\r\n\r\n// Helper: Mobile-Responsive CSS Styles\r\nconst getMobileResponsiveCSS = () => `\r\n  @media (max-width: 768px) {\r\n    .max-w-7xl { padding-left: 1rem !important; padding-right: 1rem !important; }\r\n    h1 { font-size: 1.5rem !important; }\r\n    table { font-size: 0.875rem !important; }\r\n    table th, table td { padding: 0.5rem !important; }\r\n    .hide-on-mobile { display: none !important; }\r\n    button { font-size: 0.875rem !important; padding: 0.5rem 1rem !important; }\r\n    .bg-white.rounded-xl { padding: 1rem !important; }\r\n    .flex.justify-between { flex-wrap: wrap; gap: 1rem; }\r\n    input[type=\"text\"] { width: 100% !important; }\r\n    .grid { grid-template-columns: 1fr !important; }\r\n    .p-6 { padding: 1rem !important; }\r\n    .overflow-x-auto { \r\n      padding-bottom: 1.5rem !important;\r\n      position: relative !important;\r\n    }\r\n    \r\n    /* Enhanced Mobile Scrollbar */\r\n    .overflow-x-auto::-webkit-scrollbar {\r\n      height: 14px !important;\r\n      -webkit-appearance: none;\r\n    }\r\n    .overflow-x-auto::-webkit-scrollbar-track {\r\n      background: #f1f5f9 !important;\r\n      border-radius: 8px !important;\r\n      border: 2px solid #e2e8f0 !important;\r\n    }\r\n    .overflow-x-auto::-webkit-scrollbar-thumb {\r\n      background: linear-gradient(180deg, #10b981 0%, #059669 100%) !important;\r\n      border-radius: 8px !important;\r\n      border: 2px solid #e2e8f0 !important;\r\n      min-width: 50px !important;\r\n    }\r\n    .overflow-x-auto {\r\n      overflow-x: scroll !important;\r\n      -webkit-overflow-scrolling: touch !important;\r\n      scrollbar-width: auto !important;\r\n      scrollbar-color: #10b981 #f1f5f9 !important;\r\n    }\r\n  }\r\n  @media (max-width: 480px) {\r\n    h1 { font-size: 1.25rem !important; }\r\n    table { font-size: 0.75rem !important; }\r\n    .overflow-x-auto::-webkit-scrollbar { height: 16px !important; }\r\n    .overflow-x-auto::-webkit-scrollbar-thumb { min-width: 60px !important; }\r\n  }\r\n`\r\n\r\nexport const paymentsPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0633\u0646\u062F\u0627\u062A \u0627\u0644\u0642\u0628\u0636 - \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js\"></script>\r\n    <style>\r\n        /* Custom Scrollbar - Enhanced */\r\n        .overflow-x-auto {\r\n            overflow-x: auto !important;\r\n            -webkit-overflow-scrolling: touch;\r\n            scrollbar-width: thin;\r\n            scrollbar-color: #10b981 #f7fafc;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar {\r\n            height: 12px;\r\n            width: 12px;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-track {\r\n            background: #e5e7eb;\r\n            border-radius: 10px;\r\n            margin: 0 10px;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-thumb {\r\n            background: linear-gradient(180deg, #10b981 0%, #059669 100%);\r\n            border-radius: 10px;\r\n            border: 2px solid #e5e7eb;\r\n        }\r\n        \r\n        .overflow-x-auto::-webkit-scrollbar-thumb:hover {\r\n            background: linear-gradient(180deg, #059669 0%, #047857 100%);\r\n            border-color: #d1d5db;\r\n        }\r\n        \r\n        /* Force scrollbar to always show */\r\n        .overflow-x-auto {\r\n            overflow-x: scroll !important; /* Always show scrollbar */\r\n        }\r\n        \r\n        .overflow-x-auto table {\r\n            min-width: 1200px; /* Force table to be wide enough for scrollbar */\r\n            width: max-content;\r\n        }\r\n        \r\n        ${getMobileResponsiveCSS()}\r\n    </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <div class=\"mb-6 flex items-center justify-between\">\r\n            <a href=\"/admin/panel\" class=\"text-blue-600 hover:text-blue-800\">\r\n                <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n            </a>\r\n            <h1 class=\"text-3xl font-bold text-gray-800\">\r\n                <i class=\"fas fa-receipt text-green-600 ml-2\"></i>\r\n                \u0633\u0646\u062F\u0627\u062A \u0627\u0644\u0642\u0628\u0636 - \u0627\u0644\u0639\u0645\u0648\u0644\u0627\u062A\r\n            </h1>\r\n        </div>\r\n\r\n        <!-- Stats Cards -->\r\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\r\n            <div class=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"text-sm opacity-90\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A</div>\r\n                <div class=\"text-3xl font-bold mt-2\" id=\"totalPayments\">0</div>\r\n            </div>\r\n            <div class=\"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"text-sm opacity-90\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0645\u0648\u0644\u0627\u062A</div>\r\n                <div class=\"text-3xl font-bold mt-2\" id=\"totalAmount\">0 \u0631\u064A\u0627\u0644</div>\r\n            </div>\r\n            <div class=\"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"text-sm opacity-90\">\u0637\u0644\u0628\u0627\u062A \u0645\u0642\u0628\u0648\u0644\u0629 \u063A\u064A\u0631 \u0645\u062F\u0641\u0648\u0639\u0629</div>\r\n                <div class=\"text-3xl font-bold mt-2\" id=\"unpaidRequests\">0</div>\r\n            </div>\r\n            <div class=\"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-xl shadow-lg p-6\">\r\n                <div class=\"text-sm opacity-90\">\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631</div>\r\n                <div class=\"text-3xl font-bold mt-2\" id=\"thisMonthAmount\">0 \u0631\u064A\u0627\u0644</div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Add Payment Button -->\r\n        <div class=\"mb-6\">\r\n            <button onclick=\"openAddPaymentModal()\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold shadow-md transition-all\">\r\n                <i class=\"fas fa-plus ml-2\"></i>\r\n                \u0625\u0636\u0627\u0641\u0629 \u0633\u0646\u062F \u0642\u0628\u0636 \u062C\u062F\u064A\u062F\r\n            </button>\r\n            <button onclick=\"exportToExcel()\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold shadow-md transition-all mr-2\">\r\n                <i class=\"fas fa-file-excel ml-2\"></i>\r\n                \u062A\u0635\u062F\u064A\u0631 Excel\r\n            </button>\r\n        </div>\r\n\r\n        <!-- Payments Table -->\r\n        <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div class=\"flex justify-between items-center mb-4 gap-4 flex-wrap\">\r\n                <h2 class=\"text-xl font-bold\">\u0633\u062C\u0644 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A</h2>\r\n                <div class=\"relative\">\r\n                    <input \r\n                        type=\"text\" \r\n                        id=\"searchPayments\" \r\n                        placeholder=\"\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A...\" \r\n                        class=\"px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                        onkeyup=\"searchPaymentsTable()\"\r\n                    />\r\n                    <i class=\"fas fa-search absolute right-3 top-3 text-gray-400\"></i>\r\n                </div>\r\n            </div>\r\n            \r\n            <div id=\"loading\" class=\"text-center py-12\">\r\n                <i class=\"fas fa-spinner fa-spin text-4xl text-green-600 mb-4\"></i>\r\n                <p class=\"text-gray-600\">\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...</p>\r\n            </div>\r\n\r\n            <div id=\"tableContainer\" class=\"hidden overflow-x-auto\">\r\n                <table class=\"w-full\">\r\n                    <thead class=\"bg-gradient-to-r from-green-600 to-green-700 text-white\">\r\n                        <tr>\r\n                            <th class=\"px-4 py-3 text-right\">\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u062A\u0627\u0631\u064A\u062E</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0645\u0648\u0638\u0641 \u0627\u0644\u0645\u062E\u0635\u0635</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0627\u0644\u0645\u0628\u0644\u063A</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0645\u0644\u0627\u062D\u0638\u0627\u062A</th>\r\n                            <th class=\"px-4 py-3 text-right\">\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"paymentsTable\" class=\"divide-y divide-gray-200\"></tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <div id=\"emptyState\" class=\"hidden text-center py-12\">\r\n                <i class=\"fas fa-inbox text-gray-300 text-6xl mb-4\"></i>\r\n                <p class=\"text-gray-500 text-xl\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u062F\u0641\u0648\u0639\u0627\u062A \u0645\u0633\u062C\u0644\u0629</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Add Payment Modal -->\r\n    <div id=\"addPaymentModal\" class=\"hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n        <div class=\"bg-white rounded-xl shadow-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n            <div class=\"flex justify-between items-center mb-6\">\r\n                <h2 class=\"text-2xl font-bold text-gray-800\">\r\n                    <i class=\"fas fa-receipt text-green-600 ml-2\"></i>\r\n                    \u0633\u0646\u062F \u0642\u0628\u0636 \u062C\u062F\u064A\u062F\r\n                </h2>\r\n                <button onclick=\"closeAddPaymentModal()\" class=\"text-gray-400 hover:text-gray-600\">\r\n                    <i class=\"fas fa-times text-2xl\"></i>\r\n                </button>\r\n            </div>\r\n\r\n            <form id=\"paymentForm\" class=\"space-y-4\">\r\n                <!-- Approved Request Selection -->\r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-file-invoice ml-1 text-blue-600\"></i>\r\n                        \u0627\u0644\u0637\u0644\u0628 \u0627\u0644\u0645\u0642\u0628\u0648\u0644 <span class=\"text-red-600\">*</span>\r\n                    </label>\r\n                    <select id=\"requestSelect\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\">\r\n                        <option value=\"\">\u0627\u062E\u062A\u0631 \u0627\u0644\u0637\u0644\u0628 \u0627\u0644\u0645\u0642\u0628\u0648\u0644...</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <!-- Customer Info Display -->\r\n                <div id=\"customerInfo\" class=\"hidden bg-blue-50 p-4 rounded-lg space-y-2\">\r\n                    <div class=\"flex justify-between\">\r\n                        <span class=\"text-gray-600\">\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644:</span>\r\n                        <span class=\"font-bold\" id=\"customerName\">-</span>\r\n                    </div>\r\n                    <div class=\"flex justify-between\">\r\n                        <span class=\"text-gray-600\">\u0627\u0644\u0645\u0648\u0638\u0641 \u0627\u0644\u0645\u062E\u0635\u0635:</span>\r\n                        <span class=\"font-bold\" id=\"employeeName\">-</span>\r\n                    </div>\r\n                    <div class=\"flex justify-between\">\r\n                        <span class=\"text-gray-600\">\u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644:</span>\r\n                        <span class=\"font-bold text-green-600\" id=\"financingAmount\">-</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Payment Amount -->\r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-dollar-sign ml-1 text-green-600\"></i>\r\n                        \u0645\u0628\u0644\u063A \u0627\u0644\u0639\u0645\u0648\u0644\u0629 (\u0631\u064A\u0627\u0644) <span class=\"text-red-600\">*</span>\r\n                    </label>\r\n                    <input type=\"number\" id=\"amount\" required min=\"0\" step=\"0.01\" \r\n                           class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                           placeholder=\"\u0623\u062F\u062E\u0644 \u0645\u0628\u0644\u063A \u0627\u0644\u0639\u0645\u0648\u0644\u0629\">\r\n                </div>\r\n\r\n                <!-- Payment Date -->\r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-calendar ml-1 text-purple-600\"></i>\r\n                        \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062F\u0641\u0639 <span class=\"text-red-600\">*</span>\r\n                    </label>\r\n                    <input type=\"date\" id=\"paymentDate\" required \r\n                           class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\">\r\n                </div>\r\n\r\n                <!-- Payment Method -->\r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-money-bill-wave ml-1 text-yellow-600\"></i>\r\n                        \u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639\r\n                    </label>\r\n                    <select id=\"paymentMethod\" class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\">\r\n                        <option value=\"cash\">\u0646\u0642\u062F\u0627\u064B</option>\r\n                        <option value=\"bank_transfer\">\u062A\u062D\u0648\u064A\u0644 \u0628\u0646\u0643\u064A</option>\r\n                        <option value=\"check\">\u0634\u064A\u0643</option>\r\n                        <option value=\"online\">\u062F\u0641\u0639 \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <!-- Receipt Number -->\r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-hashtag ml-1 text-indigo-600\"></i>\r\n                        \u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\r\n                    </label>\r\n                    <input type=\"text\" id=\"receiptNumber\" \r\n                           class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                           placeholder=\"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F \u0623\u0648 \u0627\u0644\u0645\u0631\u062C\u0639\">\r\n                </div>\r\n\r\n                <!-- Notes -->\r\n                <div>\r\n                    <label class=\"block text-gray-700 font-bold mb-2\">\r\n                        <i class=\"fas fa-sticky-note ml-1 text-orange-600\"></i>\r\n                        \u0645\u0644\u0627\u062D\u0638\u0627\u062A (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\r\n                    </label>\r\n                    <textarea id=\"notes\" rows=\"3\" \r\n                              class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                              placeholder=\"\u0623\u064A \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629...\"></textarea>\r\n                </div>\r\n\r\n                <!-- Submit Button -->\r\n                <div class=\"flex gap-3 pt-4\">\r\n                    <button type=\"submit\" class=\"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                        <i class=\"fas fa-save ml-2\"></i>\r\n                        \u062D\u0641\u0638 \u0627\u0644\u0633\u0646\u062F\r\n                    </button>\r\n                    <button type=\"button\" onclick=\"closeAddPaymentModal()\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                        <i class=\"fas fa-times ml-2\"></i>\r\n                        \u0625\u0644\u063A\u0627\u0621\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        let paymentsData = [];\r\n        let approvedRequests = [];\r\n        const authToken = localStorage.getItem('authToken');\r\n        const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n\r\n        // Load all data\r\n        async function loadData() {\r\n            try {\r\n                const [paymentsRes, requestsRes] = await Promise.all([\r\n                    axios.get('/api/payments', {\r\n                        headers: { 'Authorization': 'Bearer ' + authToken }\r\n                    }),\r\n                    axios.get('/api/financing-requests', {\r\n                        headers: { 'Authorization': 'Bearer ' + authToken }\r\n                    })\r\n                ]);\r\n\r\n                paymentsData = paymentsRes.data.data || [];\r\n                const allRequests = requestsRes.data.data || [];\r\n                \r\n                // Filter approved requests that don't have payments yet\r\n                const paidRequestIds = paymentsData.map(p => p.financing_request_id);\r\n                approvedRequests = allRequests.filter(r => \r\n                    (r.status === 'approved' || r.status === 'approved_internal' || r.status === 'approved_external')\r\n                    && !paidRequestIds.includes(r.id)\r\n                );\r\n\r\n                displayStats();\r\n                displayPaymentsTable();\r\n                populateRequestSelect();\r\n            } catch (error) {\r\n                console.error('Error loading data:', error);\r\n                alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A');\r\n            } finally {\r\n                document.getElementById('loading').classList.add('hidden');\r\n            }\r\n        }\r\n\r\n        function displayStats() {\r\n            const totalAmount = paymentsData.reduce((sum, p) => sum + (p.amount || 0), 0);\r\n            const thisMonth = new Date();\r\n            const thisMonthPayments = paymentsData.filter(p => {\r\n                const paymentDate = new Date(p.payment_date);\r\n                return paymentDate.getMonth() === thisMonth.getMonth() && \r\n                       paymentDate.getFullYear() === thisMonth.getFullYear();\r\n            });\r\n            const thisMonthAmount = thisMonthPayments.reduce((sum, p) => sum + (p.amount || 0), 0);\r\n\r\n            document.getElementById('totalPayments').textContent = paymentsData.length;\r\n            document.getElementById('totalAmount').textContent = totalAmount.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n            document.getElementById('unpaidRequests').textContent = approvedRequests.length;\r\n            document.getElementById('thisMonthAmount').textContent = thisMonthAmount.toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n        }\r\n\r\n        function displayPaymentsTable() {\r\n            const tbody = document.getElementById('paymentsTable');\r\n            const tableContainer = document.getElementById('tableContainer');\r\n            const emptyState = document.getElementById('emptyState');\r\n\r\n            if (paymentsData.length === 0) {\r\n                tableContainer.classList.add('hidden');\r\n                emptyState.classList.remove('hidden');\r\n                return;\r\n            }\r\n\r\n            tableContainer.classList.remove('hidden');\r\n            emptyState.classList.add('hidden');\r\n\r\n            tbody.innerHTML = paymentsData.map(payment => {\r\n                const paymentMethods = {\r\n                    'cash': '\u0646\u0642\u062F\u0627\u064B',\r\n                    'bank_transfer': '\u062A\u062D\u0648\u064A\u0644 \u0628\u0646\u0643\u064A',\r\n                    'check': '\u0634\u064A\u0643',\r\n                    'online': '\u062F\u0641\u0639 \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A'\r\n                };\r\n\r\n                return \\`\r\n                    <tr class=\"hover:bg-gray-50\">\r\n                        <td class=\"px-4 py-3 font-medium\">\\${payment.receipt_number || '#' + payment.id}</td>\r\n                        <td class=\"px-4 py-3\">\\${new Date(payment.payment_date).toLocaleDateString('ar-SA')}</td>\r\n                        <td class=\"px-4 py-3 font-medium text-blue-600\">\\${payment.customer_name || '-'}</td>\r\n                        <td class=\"px-4 py-3\">\\${payment.employee_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}</td>\r\n                        <td class=\"px-4 py-3 font-bold text-green-600\">\\${(payment.amount || 0).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644</td>\r\n                        <td class=\"px-4 py-3\">\r\n                            <span class=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">\r\n                                \\${paymentMethods[payment.payment_method] || payment.payment_method}\r\n                            </span>\r\n                        </td>\r\n                        <td class=\"px-4 py-3 text-sm text-gray-600\">\\${payment.notes || '-'}</td>\r\n                        <td class=\"px-4 py-3\">\r\n                            <button onclick=\"deletePayment(\\${payment.id})\" class=\"text-red-600 hover:text-red-800\">\r\n                                <i class=\"fas fa-trash\"></i>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                \\`;\r\n            }).join('');\r\n        }\r\n\r\n        function populateRequestSelect() {\r\n            const select = document.getElementById('requestSelect');\r\n            select.innerHTML = '<option value=\"\">\u0627\u062E\u062A\u0631 \u0627\u0644\u0637\u0644\u0628 \u0627\u0644\u0645\u0642\u0628\u0648\u0644...</option>' + \r\n                approvedRequests.map(req => \\`\r\n                    <option value=\"\\${req.id}\" \r\n                            data-customer=\"\\${req.customer_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}\"\r\n                            data-employee=\"\\${req.assigned_employee_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}\"\r\n                            data-amount=\"\\${req.requested_amount || 0}\">\r\n                        #\\${req.id} - \\${req.customer_name || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'} - \\${(req.requested_amount || 0).toLocaleString('ar-SA')} \u0631\u064A\u0627\u0644\r\n                    </option>\r\n                \\`).join('');\r\n        }\r\n\r\n        // Modal functions\r\n        window.openAddPaymentModal = function() {\r\n            if (approvedRequests.length === 0) {\r\n                alert('\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0645\u0642\u0628\u0648\u0644\u0629 \u063A\u064A\u0631 \u0645\u062F\u0641\u0648\u0639\u0629');\r\n                return;\r\n            }\r\n            document.getElementById('addPaymentModal').classList.remove('hidden');\r\n            document.getElementById('paymentDate').valueAsDate = new Date();\r\n        }\r\n\r\n        window.closeAddPaymentModal = function() {\r\n            document.getElementById('addPaymentModal').classList.add('hidden');\r\n            document.getElementById('paymentForm').reset();\r\n            document.getElementById('customerInfo').classList.add('hidden');\r\n        }\r\n\r\n        // Request selection change\r\n        document.getElementById('requestSelect').addEventListener('change', function() {\r\n            const selectedOption = this.options[this.selectedIndex];\r\n            if (selectedOption.value) {\r\n                document.getElementById('customerInfo').classList.remove('hidden');\r\n                document.getElementById('customerName').textContent = selectedOption.dataset.customer;\r\n                document.getElementById('employeeName').textContent = selectedOption.dataset.employee;\r\n                document.getElementById('financingAmount').textContent = parseFloat(selectedOption.dataset.amount).toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n            } else {\r\n                document.getElementById('customerInfo').classList.add('hidden');\r\n            }\r\n        });\r\n\r\n        // Submit payment form\r\n        document.getElementById('paymentForm').addEventListener('submit', async function(e) {\r\n            e.preventDefault();\r\n\r\n            const requestId = document.getElementById('requestSelect').value;\r\n            const selectedRequest = approvedRequests.find(r => r.id == requestId);\r\n\r\n            if (!selectedRequest) {\r\n                alert('\u064A\u062C\u0628 \u0627\u062E\u062A\u064A\u0627\u0631 \u0637\u0644\u0628 \u0645\u0642\u0628\u0648\u0644');\r\n                return;\r\n            }\r\n\r\n            const paymentData = {\r\n                financing_request_id: parseInt(requestId),\r\n                customer_id: selectedRequest.customer_id,\r\n                employee_id: selectedRequest.assigned_employee_id || null,\r\n                amount: parseFloat(document.getElementById('amount').value),\r\n                payment_date: document.getElementById('paymentDate').value,\r\n                payment_method: document.getElementById('paymentMethod').value,\r\n                receipt_number: document.getElementById('receiptNumber').value || null,\r\n                notes: document.getElementById('notes').value || null\r\n            };\r\n\r\n            try {\r\n                const response = await axios.post('/api/payments', paymentData, {\r\n                    headers: { 'Authorization': 'Bearer ' + authToken }\r\n                });\r\n\r\n                if (response.data.success) {\r\n                    alert('\u2705 \u062A\u0645 \u062D\u0641\u0638 \u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636 \u0628\u0646\u062C\u0627\u062D');\r\n                    closeAddPaymentModal();\r\n                    window.location.reload();\r\n                } else {\r\n                    alert('\u062E\u0637\u0623: ' + (response.data.error || '\u0641\u0634\u0644 \u062D\u0641\u0638 \u0627\u0644\u0633\u0646\u062F'));\r\n                }\r\n            } catch (error) {\r\n                console.error('Error saving payment:', error);\r\n                alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062D\u0641\u0638 \u0627\u0644\u0633\u0646\u062F');\r\n            }\r\n        });\r\n\r\n        // Delete payment\r\n        window.deletePayment = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0633\u0646\u062F\u061F')) return;\r\n\r\n            try {\r\n                const response = await axios.delete(\\`/api/payments/\\${id}\\`, {\r\n                    headers: { 'Authorization': 'Bearer ' + authToken }\r\n                });\r\n\r\n                if (response.data.success) {\r\n                    alert('\u2705 \u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0633\u0646\u062F \u0628\u0646\u062C\u0627\u062D');\r\n                    window.location.reload();\r\n                } else {\r\n                    alert('\u062E\u0637\u0623: ' + (response.data.error || '\u0641\u0634\u0644 \u0627\u0644\u062D\u0630\u0641'));\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting payment:', error);\r\n                alert('\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062D\u0630\u0641');\r\n            }\r\n        }\r\n\r\n        // Export to Excel\r\n        window.exportToExcel = function() {\r\n            const ws = XLSX.utils.json_to_sheet(paymentsData.map(p => ({\r\n                '\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F': p.receipt_number || p.id,\r\n                '\u0627\u0644\u062A\u0627\u0631\u064A\u062E': p.payment_date,\r\n                '\u0627\u0644\u0639\u0645\u064A\u0644': p.customer_name,\r\n                '\u0627\u0644\u0645\u0648\u0638\u0641': p.employee_name,\r\n                '\u0627\u0644\u0645\u0628\u0644\u063A': p.amount,\r\n                '\u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639': p.payment_method,\r\n                '\u0645\u0644\u0627\u062D\u0638\u0627\u062A': p.notes\r\n            })));\r\n            const wb = XLSX.utils.book_new();\r\n            XLSX.utils.book_append_sheet(wb, ws, '\u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A');\r\n            XLSX.writeFile(wb, '\u0633\u0646\u062F\u0627\u062A_\u0627\u0644\u0642\u0628\u0636_' + new Date().toISOString().split('T')[0] + '.xlsx');\r\n        }\r\n\r\n        function searchPaymentsTable() {\r\n            const searchValue = document.getElementById('searchPayments').value.toLowerCase();\r\n            const tbody = document.getElementById('paymentsTable');\r\n            const rows = tbody.querySelectorAll('tr');\r\n            \r\n            rows.forEach(row => {\r\n                const text = row.textContent.toLowerCase();\r\n                if (text.includes(searchValue)) {\r\n                    row.style.display = '';\r\n                } else {\r\n                    row.style.display = 'none';\r\n                }\r\n            });\r\n        }\r\n\r\n        document.addEventListener('DOMContentLoaded', loadData);\r\n    </script>\r\n</body>\r\n</html>`;\r\n", "export const banksManagementPage = `<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0628\u0646\u0648\u0643 - \u0646\u0638\u0627\u0645 \u062D\u0627\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js\"></script>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <!-- Header -->\r\n    <div class=\"bg-gradient-to-r from-yellow-600 to-yellow-800 text-white shadow-lg\">\r\n        <div class=\"max-w-7xl mx-auto px-6 py-4\">\r\n            <div class=\"flex items-center justify-between\">\r\n                <h1 class=\"text-2xl font-bold flex items-center\">\r\n                    <i class=\"fas fa-university ml-3\"></i>\r\n                    \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0628\u0646\u0648\u0643\r\n                </h1>\r\n                <a href=\"/admin/panel\" class=\"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-all\">\r\n                    <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                    \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <!-- Action Bar -->\r\n        <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <div class=\"flex flex-col md:flex-row items-center justify-between gap-4\">\r\n                <div class=\"flex-1 w-full md:w-auto\">\r\n                    <div class=\"relative\">\r\n                        <input type=\"text\" id=\"searchInput\" placeholder=\"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0628\u0646\u0643...\" \r\n                            class=\"w-full px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent\">\r\n                        <i class=\"fas fa-search absolute right-3 top-4 text-gray-400\"></i>\r\n                    </div>\r\n                </div>\r\n                <button onclick=\"openAddBankModal()\" class=\"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white px-6 py-3 rounded-lg font-bold shadow-lg transition-all transform hover:scale-105 flex items-center gap-2\">\r\n                    <i class=\"fas fa-plus\"></i>\r\n                    <span>\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Banks Table -->\r\n        <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <div class=\"overflow-x-auto\">\r\n                <table class=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead class=\"bg-gradient-to-r from-yellow-600 to-yellow-700 text-white\">\r\n                        <tr>\r\n                            <th class=\"px-6 py-4 text-right text-sm font-bold uppercase\">#</th>\r\n                            <th class=\"px-6 py-4 text-right text-sm font-bold uppercase\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643</th>\r\n                            <th class=\"px-6 py-4 text-right text-sm font-bold uppercase\">\u0631\u0645\u0632 \u0627\u0644\u0628\u0646\u0643</th>\r\n                            <th class=\"px-6 py-4 text-right text-sm font-bold uppercase\">\u0627\u0644\u062D\u0627\u0644\u0629</th>\r\n                            <th class=\"px-6 py-4 text-right text-sm font-bold uppercase\">\u0646\u0637\u0627\u0642 \u0627\u0644\u0628\u0646\u0643</th>\r\n                            <th class=\"px-6 py-4 text-right text-sm font-bold uppercase\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0636\u0627\u0641\u0629</th>\r\n                            <th class=\"px-6 py-4 text-right text-sm font-bold uppercase\">\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"banksTableBody\" class=\"bg-white divide-y divide-gray-200\">\r\n                        <tr>\r\n                            <td colspan=\"7\" class=\"px-6 py-8 text-center text-gray-500\">\r\n                                <i class=\"fas fa-spinner fa-spin text-4xl mb-2\"></i>\r\n                                <p>\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...</p>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Add/Edit Bank Modal -->\r\n    <div id=\"bankModal\" class=\"hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n        <div class=\"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div class=\"sticky top-0 bg-gradient-to-r from-yellow-600 to-yellow-700 text-white px-6 py-4 flex items-center justify-between\">\r\n                <h2 class=\"text-xl font-bold flex items-center\">\r\n                    <i class=\"fas fa-university ml-2\"></i>\r\n                    <span id=\"modalTitle\">\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F</span>\r\n                </h2>\r\n                <button onclick=\"closeBankModal()\" class=\"text-white hover:text-gray-200\">\r\n                    <i class=\"fas fa-times text-2xl\"></i>\r\n                </button>\r\n            </div>\r\n            \r\n            <form id=\"bankForm\" class=\"p-6 space-y-6\">\r\n                <input type=\"hidden\" id=\"bankId\">\r\n                \r\n                <div>\r\n                    <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                        <i class=\"fas fa-university text-yellow-600 ml-1\"></i>\r\n                        \u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643\r\n                    </label>\r\n                    <input type=\"text\" id=\"bankName\" required\r\n                        class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent\"\r\n                        placeholder=\"\u0645\u062B\u0627\u0644: \u0645\u0635\u0631\u0641 \u0627\u0644\u0631\u0627\u062C\u062D\u064A\">\r\n                </div>\r\n\r\n                <div>\r\n                    <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                        <i class=\"fas fa-code text-yellow-600 ml-1\"></i>\r\n                        \u0631\u0645\u0632 \u0627\u0644\u0628\u0646\u0643\r\n                    </label>\r\n                    <input type=\"text\" id=\"bankCode\" required\r\n                        class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent\"\r\n                        placeholder=\"\u0645\u062B\u0627\u0644: RAJ\">\r\n                </div>\r\n\r\n                <div>\r\n                    <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                        <i class=\"fas fa-image text-yellow-600 ml-1\"></i>\r\n                        \u0631\u0627\u0628\u0637 \u0627\u0644\u0634\u0639\u0627\u0631 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\r\n                    </label>\r\n                    <input type=\"url\" id=\"logoUrl\"\r\n                        class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent\"\r\n                        placeholder=\"https://example.com/logo.png\">\r\n                </div>\r\n\r\n                <div>\r\n                    <label class=\"flex items-center gap-3 cursor-pointer\">\r\n                        <input type=\"checkbox\" id=\"isActive\" checked class=\"w-5 h-5 text-yellow-600 rounded focus:ring-yellow-500\">\r\n                        <span class=\"text-sm font-bold text-gray-700\">\r\n                            <i class=\"fas fa-check-circle text-green-600 ml-1\"></i>\r\n                            \u0627\u0644\u0628\u0646\u0643 \u0646\u0634\u0637\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n\r\n                <div class=\"bg-blue-50 border-r-4 border-blue-500 p-4 rounded\">\r\n                    <p class=\"text-sm text-blue-800\">\r\n                        <i class=\"fas fa-info-circle ml-1\"></i>\r\n                        <strong>\u0645\u0644\u0627\u062D\u0638\u0629:</strong> \u0627\u0644\u0628\u0646\u0643 \u0633\u064A\u0643\u0648\u0646 \u062E\u0627\u0635\u0627\u064B \u0628\u0634\u0631\u0643\u062A\u0643 \u0641\u0642\u0637. \u064A\u0645\u0643\u0646\u0643 \u0625\u062F\u0627\u0631\u0629 \u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0647 \u0645\u0646 \u0635\u0641\u062D\u0629 \"\u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\".\r\n                    </p>\r\n                </div>\r\n\r\n                <div class=\"flex gap-3 pt-4\">\r\n                    <button type=\"submit\" class=\"flex-1 bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                        <i class=\"fas fa-save ml-2\"></i>\r\n                        \u062D\u0641\u0638 \u0627\u0644\u0628\u0646\u0643\r\n                    </button>\r\n                    <button type=\"button\" onclick=\"closeBankModal()\" class=\"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-bold hover:bg-gray-50 transition-all\">\r\n                        <i class=\"fas fa-times ml-2\"></i>\r\n                        \u0625\u0644\u063A\u0627\u0621\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        const authToken = localStorage.getItem('authToken');\r\n        const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n        let currentEditId = null;\r\n\r\n        // Load banks on page load\r\n        loadBanks();\r\n\r\n        // Search functionality\r\n        document.getElementById('searchInput').addEventListener('input', function(e) {\r\n            const searchTerm = e.target.value.toLowerCase();\r\n            const rows = document.querySelectorAll('#banksTableBody tr');\r\n            \r\n            rows.forEach(row => {\r\n                const text = row.textContent.toLowerCase();\r\n                row.style.display = text.includes(searchTerm) ? '' : 'none';\r\n            });\r\n        });\r\n\r\n        // Load banks from API\r\n        async function loadBanks() {\r\n            try {\r\n                const response = await axios.get('/api/banks', {\r\n                    headers: authToken ? { 'Authorization': 'Bearer ' + authToken } : {}\r\n                });\r\n\r\n                const banks = response.data.data || [];\r\n                const tbody = document.getElementById('banksTableBody');\r\n\r\n                if (banks.length === 0) {\r\n                    tbody.innerHTML = \\`\r\n                        <tr>\r\n                            <td colspan=\"7\" class=\"px-6 py-8 text-center text-gray-500\">\r\n                                <i class=\"fas fa-university text-6xl text-gray-300 mb-4\"></i>\r\n                                <p class=\"text-lg font-bold\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u0646\u0648\u0643</p>\r\n                                <p class=\"text-sm\">\u0627\u0636\u063A\u0637 \u0639\u0644\u0649 \"\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F\" \u0644\u0644\u0628\u062F\u0621</p>\r\n                            </td>\r\n                        </tr>\r\n                    \\`;\r\n                    return;\r\n                }\r\n\r\n                tbody.innerHTML = banks.map((bank, index) => \\`\r\n                    <tr class=\"hover:bg-gray-50 transition-colors\">\r\n                        <td class=\"px-6 py-4 text-sm font-bold text-gray-900\">\\${index + 1}</td>\r\n                        <td class=\"px-6 py-4\">\r\n                            <div class=\"flex items-center gap-3\">\r\n                                \\${bank.logo_url ? \\`<img src=\"\\${bank.logo_url}\" class=\"w-8 h-8 rounded object-cover\">\\` : \\`<i class=\"fas fa-university text-yellow-600 text-2xl\"></i>\\`}\r\n                                <span class=\"text-sm font-bold text-gray-900\">\\${bank.bank_name}</span>\r\n                            </div>\r\n                        </td>\r\n                        <td class=\"px-6 py-4 text-sm text-gray-900 font-mono\">\\${bank.bank_code}</td>\r\n                        <td class=\"px-6 py-4\">\r\n                            \\${bank.is_active ? \r\n                                '<span class=\"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-bold\"><i class=\"fas fa-check-circle ml-1\"></i>\u0646\u0634\u0637</span>' : \r\n                                '<span class=\"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-bold\"><i class=\"fas fa-times-circle ml-1\"></i>\u063A\u064A\u0631 \u0646\u0634\u0637</span>'\r\n                            }\r\n                        </td>\r\n                        <td class=\"px-6 py-4\">\r\n                            \\${bank.tenant_id ? \r\n                                '<span class=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-bold\"><i class=\"fas fa-lock ml-1\"></i>\u062E\u0627\u0635 \u0628\u0627\u0644\u0634\u0631\u0643\u0629</span>' : \r\n                                '<span class=\"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-bold\"><i class=\"fas fa-globe ml-1\"></i>\u0639\u0627\u0645 (\u0645\u062A\u0627\u062D \u0644\u0644\u062C\u0645\u064A\u0639)</span>'\r\n                            }\r\n                        </td>\r\n                        <td class=\"px-6 py-4 text-sm text-gray-600\">\r\n                            \\${bank.created_at ? new Date(bank.created_at).toLocaleDateString('ar-SA') : '-'}\r\n                        </td>\r\n                        <td class=\"px-6 py-4\">\r\n                            <div class=\"flex gap-2\">\r\n                                \\${bank.tenant_id ? \\`\r\n                                    <button onclick=\"editBank(\\${bank.id})\" class=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-xs font-bold transition-all\">\r\n                                        <i class=\"fas fa-edit\"></i>\r\n                                    </button>\r\n                                    <button onclick=\"deleteBank(\\${bank.id})\" class=\"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-xs font-bold transition-all\">\r\n                                        <i class=\"fas fa-trash\"></i>\r\n                                    </button>\r\n                                \\` : \\`\r\n                                    <span class=\"text-xs text-gray-500 italic\">\u0628\u0646\u0643 \u0639\u0627\u0645 (\u0644\u0644\u0642\u0631\u0627\u0621\u0629 \u0641\u0642\u0637)</span>\r\n                                \\`}\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                \\`).join('');\r\n\r\n            } catch (error) {\r\n                console.error('Error loading banks:', error);\r\n                document.getElementById('banksTableBody').innerHTML = \\`\r\n                    <tr>\r\n                        <td colspan=\"7\" class=\"px-6 py-8 text-center text-red-500\">\r\n                            <i class=\"fas fa-exclamation-triangle text-4xl mb-2\"></i>\r\n                            <p>\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A</p>\r\n                        </td>\r\n                    </tr>\r\n                \\`;\r\n            }\r\n        }\r\n\r\n        // Open add bank modal\r\n        window.openAddBankModal = function() {\r\n            currentEditId = null;\r\n            document.getElementById('modalTitle').textContent = '\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u0643 \u062C\u062F\u064A\u062F';\r\n            document.getElementById('bankForm').reset();\r\n            document.getElementById('bankId').value = '';\r\n            document.getElementById('isActive').checked = true;\r\n            document.getElementById('bankModal').classList.remove('hidden');\r\n        }\r\n\r\n        // Edit bank\r\n        window.editBank = async function(id) {\r\n            try {\r\n                const response = await axios.get('/api/banks', {\r\n                    headers: authToken ? { 'Authorization': 'Bearer ' + authToken } : {}\r\n                });\r\n                \r\n                const bank = response.data.data.find(b => b.id === id);\r\n                if (!bank) {\r\n                    alert('\u274C \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0628\u0646\u0643');\r\n                    return;\r\n                }\r\n\r\n                currentEditId = id;\r\n                document.getElementById('modalTitle').textContent = '\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u0643';\r\n                document.getElementById('bankId').value = id;\r\n                document.getElementById('bankName').value = bank.bank_name;\r\n                document.getElementById('bankCode').value = bank.bank_code;\r\n                document.getElementById('logoUrl').value = bank.logo_url || '';\r\n                document.getElementById('isActive').checked = bank.is_active;\r\n                document.getElementById('bankModal').classList.remove('hidden');\r\n            } catch (error) {\r\n                console.error('Error loading bank:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0628\u0646\u0643');\r\n            }\r\n        }\r\n\r\n        // Close modal\r\n        window.closeBankModal = function() {\r\n            document.getElementById('bankModal').classList.add('hidden');\r\n            currentEditId = null;\r\n        }\r\n\r\n        // Submit form\r\n        document.getElementById('bankForm').addEventListener('submit', async function(e) {\r\n            e.preventDefault();\r\n\r\n            const bankData = {\r\n                bank_name: document.getElementById('bankName').value,\r\n                bank_code: document.getElementById('bankCode').value,\r\n                logo_url: document.getElementById('logoUrl').value || null,\r\n                is_active: document.getElementById('isActive').checked ? 1 : 0\r\n            };\r\n\r\n            try {\r\n                const submitBtn = e.target.querySelector('button[type=\"submit\"]');\r\n                const originalText = submitBtn.innerHTML;\r\n                submitBtn.disabled = true;\r\n                submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin ml-2\"></i> \u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...';\r\n\r\n                if (currentEditId) {\r\n                    await axios.put(\\`/api/banks/\\${currentEditId}\\`, bankData, {\r\n                        headers: { 'Authorization': 'Bearer ' + authToken }\r\n                    });\r\n                } else {\r\n                    await axios.post('/api/banks', bankData, {\r\n                        headers: { 'Authorization': 'Bearer ' + authToken }\r\n                    });\r\n                }\r\n\r\n                closeBankModal();\r\n                loadBanks();\r\n                \r\n                // Show success message\r\n                const successMsg = document.createElement('div');\r\n                successMsg.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50';\r\n                successMsg.innerHTML = '<i class=\"fas fa-check-circle ml-2\"></i>\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0628\u0646\u0643 \u0628\u0646\u062C\u0627\u062D';\r\n                document.body.appendChild(successMsg);\r\n                setTimeout(() => successMsg.remove(), 3000);\r\n\r\n            } catch (error) {\r\n                console.error('Error saving bank:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0628\u0646\u0643: ' + (error.response?.data?.error || error.message));\r\n            } finally {\r\n                const submitBtn = e.target.querySelector('button[type=\"submit\"]');\r\n                submitBtn.disabled = false;\r\n                submitBtn.innerHTML = '<i class=\"fas fa-save ml-2\"></i>\u062D\u0641\u0638 \u0627\u0644\u0628\u0646\u0643';\r\n            }\r\n        });\r\n\r\n        // Delete bank\r\n        window.deleteBank = async function(id) {\r\n            if (!confirm('\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0628\u0646\u0643\u061F\\\\n\\\\n\u062A\u0646\u0628\u064A\u0647: \u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0646\u0633\u0628 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 \u0627\u0644\u0645\u0631\u062A\u0628\u0637\u0629 \u0628\u0647\u0630\u0627 \u0627\u0644\u0628\u0646\u0643 \u0623\u064A\u0636\u0627\u064B!')) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n                await axios.delete(\\`/api/banks/\\${id}\\`, {\r\n                    headers: { 'Authorization': 'Bearer ' + authToken }\r\n                });\r\n\r\n                loadBanks();\r\n\r\n                // Show success message\r\n                const successMsg = document.createElement('div');\r\n                successMsg.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50';\r\n                successMsg.innerHTML = '<i class=\"fas fa-check-circle ml-2\"></i>\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0628\u0646\u0643 \u0628\u0646\u062C\u0627\u062D';\r\n                document.body.appendChild(successMsg);\r\n                setTimeout(() => successMsg.remove(), 3000);\r\n\r\n            } catch (error) {\r\n                console.error('Error deleting bank:', error);\r\n                alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0628\u0646\u0643: ' + (error.response?.data?.error || error.message));\r\n            }\r\n        }\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "// Rates Add/Edit Forms\r\n\r\n// Helper: Mobile-Responsive CSS Styles\r\nconst getMobileResponsiveCSS = () => `\r\n  @media (max-width: 768px) {\r\n    .max-w-3xl { padding-left: 1rem !important; padding-right: 1rem !important; }\r\n    h1 { font-size: 1.5rem !important; }\r\n    h2 { font-size: 1.25rem !important; }\r\n    .bg-white.rounded-xl { padding: 1rem !important; }\r\n    .grid.grid-cols-2 { grid-template-columns: 1fr !important; }\r\n    button { font-size: 0.875rem !important; padding: 0.5rem 1rem !important; }\r\n    input, select, textarea { font-size: 1rem !important; }\r\n    .p-6 { padding: 1rem !important; }\r\n    .p-8 { padding: 1.5rem !important; }\r\n    \r\n    /* Tables in forms (if any) */\r\n    .overflow-x-auto::-webkit-scrollbar {\r\n      height: 14px !important;\r\n    }\r\n    .overflow-x-auto::-webkit-scrollbar-track {\r\n      background: #f1f5f9 !important;\r\n      border: 2px solid #e2e8f0 !important;\r\n    }\r\n    .overflow-x-auto::-webkit-scrollbar-thumb {\r\n      background: #10b981 !important;\r\n      border-radius: 8px !important;\r\n      min-width: 50px !important;\r\n    }\r\n  }\r\n  @media (max-width: 480px) {\r\n    h1 { font-size: 1.25rem !important; }\r\n    button { font-size: 0.75rem !important; }\r\n    .overflow-x-auto::-webkit-scrollbar { height: 16px !important; }\r\n  }\r\n`\r\n\r\nexport function generateAddRatePage(tenantId: string, banks: any[], financingTypes: any[]) {\r\n  return `\r\n    <!DOCTYPE html>\r\n    <html lang=\"ar\" dir=\"rtl\">\r\n    <head>\r\n      <meta charset=\"UTF-8\">\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n      <title>\u0625\u0636\u0627\u0641\u0629 \u0646\u0633\u0628\u0629 \u062C\u062F\u064A\u062F\u0629</title>\r\n      <script src=\"https://cdn.tailwindcss.com\"></script>\r\n      <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      <style>\r\n        ${getMobileResponsiveCSS()}\r\n      </style>\r\n    </head>\r\n    <body class=\"bg-gray-50\">\r\n      <div class=\"max-w-3xl mx-auto p-6\">\r\n        <div class=\"mb-6\">\r\n          <a href=\"/admin/rates?tenant_id=${tenantId}\" class=\"text-blue-600 hover:text-blue-800\">\r\n            <i class=\"fas fa-arrow-right ml-2\"></i>\r\n            \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0646\u0633\u0628\r\n          </a>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n          <h1 class=\"text-3xl font-bold text-gray-800 mb-6\">\r\n            <i class=\"fas fa-plus-circle text-green-600 ml-2\"></i>\r\n            \u0625\u0636\u0627\u0641\u0629 \u0646\u0633\u0628\u0629 \u062A\u0645\u0648\u064A\u0644 \u062C\u062F\u064A\u062F\u0629\r\n          </h1>\r\n          \r\n          <form id=\"addRateForm\" class=\"space-y-6\">\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-university ml-1\"></i>\r\n                  \u0627\u0644\u0628\u0646\u0643 *\r\n                </label>\r\n                <select name=\"bank_id\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\">\r\n                  <option value=\"\">\u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0646\u0643</option>\r\n                  ${banks.map(bank => `<option value=\"${bank.id}\">${bank.bank_name}</option>`).join('')}\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-tag ml-1\"></i>\r\n                  \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 *\r\n                </label>\r\n                <select name=\"financing_type_id\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\">\r\n                  <option value=\"\">\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</option>\r\n                  ${financingTypes.map(type => `<option value=\"${type.id}\">${type.type_name}</option>`).join('')}\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-percent ml-1\"></i>\r\n                  \u0627\u0644\u0646\u0633\u0628\u0629 % *\r\n                </label>\r\n                <input type=\"number\" name=\"rate\" step=\"0.01\" min=\"0\" max=\"100\" required \r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                  placeholder=\"\u0645\u062B\u0627\u0644: 5.5\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-money-bill ml-1\"></i>\r\n                  \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u0628\u0644\u063A (\u0631\u064A\u0627\u0644)\r\n                </label>\r\n                <input type=\"number\" name=\"min_amount\" min=\"0\" step=\"1000\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                  placeholder=\"\u0645\u062B\u0627\u0644: 10000\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-money-bill-wave ml-1\"></i>\r\n                  \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u0628\u0644\u063A (\u0631\u064A\u0627\u0644)\r\n                </label>\r\n                <input type=\"number\" name=\"max_amount\" min=\"0\" step=\"1000\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                  placeholder=\"\u0645\u062B\u0627\u0644: 500000\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-calendar ml-1\"></i>\r\n                  \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u062F\u0629 (\u0634\u0647\u0631)\r\n                </label>\r\n                <input type=\"number\" name=\"min_duration\" min=\"1\" max=\"360\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                  placeholder=\"\u0645\u062B\u0627\u0644: 12\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-calendar-alt ml-1\"></i>\r\n                  \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u062F\u0629 (\u0634\u0647\u0631)\r\n                </label>\r\n                <input type=\"number\" name=\"max_duration\" min=\"1\" max=\"360\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                  placeholder=\"\u0645\u062B\u0627\u0644: 60\">\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"flex gap-4 mt-8\">\r\n              <button type=\"submit\" class=\"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-md\">\r\n                <i class=\"fas fa-check ml-2\"></i>\r\n                \u062D\u0641\u0638 \u0627\u0644\u0646\u0633\u0628\u0629\r\n              </button>\r\n              <a href=\"/admin/rates?tenant_id=${tenantId}\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-md text-center\">\r\n                <i class=\"fas fa-times ml-2\"></i>\r\n                \u0625\u0644\u063A\u0627\u0621\r\n              </a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      \r\n      <script>\r\n        document.getElementById('addRateForm').addEventListener('submit', async (e) => {\r\n          e.preventDefault();\r\n          \r\n          const formData = new FormData(e.target);\r\n          const data = {\r\n            bank_id: parseInt(formData.get('bank_id')),\r\n            financing_type_id: parseInt(formData.get('financing_type_id')),\r\n            rate: parseFloat(formData.get('rate')),\r\n            min_amount: formData.get('min_amount') ? parseFloat(formData.get('min_amount')) : null,\r\n            max_amount: formData.get('max_amount') ? parseFloat(formData.get('max_amount')) : null,\r\n            min_duration: formData.get('min_duration') ? parseInt(formData.get('min_duration')) : null,\r\n            max_duration: formData.get('max_duration') ? parseInt(formData.get('max_duration')) : null,\r\n            tenant_id: ${tenantId}\r\n          };\r\n          \r\n          try {\r\n            const response = await fetch('/api/rates', {\r\n              method: 'POST',\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + (localStorage.getItem('authToken') || localStorage.getItem('token'))\r\n              },\r\n              body: JSON.stringify(data)\r\n            });\r\n            \r\n            const result = await response.json();\r\n            \r\n            if (result.success) {\r\n              alert('\u2705 \u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0646\u0633\u0628\u0629 \u0628\u0646\u062C\u0627\u062D!');\r\n              window.location.href = '/admin/rates?tenant_id=${tenantId}';\r\n            } else {\r\n              alert('\u274C \u062E\u0637\u0623: ' + result.message);\r\n            }\r\n          } catch (error) {\r\n            alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623: ' + error.message);\r\n          }\r\n        });\r\n      </script>\r\n    </body>\r\n    </html>\r\n  `;\r\n}\r\n\r\nexport function generateEditRatePage(tenantId: string, rate: any, banks: any[], financingTypes: any[]) {\r\n  return `\r\n    <!DOCTYPE html>\r\n    <html lang=\"ar\" dir=\"rtl\">\r\n    <head>\r\n      <meta charset=\"UTF-8\">\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n      <title>\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0646\u0633\u0628\u0629</title>\r\n      <script src=\"https://cdn.tailwindcss.com\"></script>\r\n      <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n      <style>\r\n        ${getMobileResponsiveCSS()}\r\n      </style>\r\n    </head>\r\n    <body class=\"bg-gray-50\">\r\n      <div class=\"max-w-3xl mx-auto p-6\">\r\n        <div class=\"mb-6\">\r\n          <a href=\"/admin/rates?tenant_id=${tenantId}\" class=\"text-blue-600 hover:text-blue-800\">\r\n            <i class=\"fas fa-arrow-right ml-2\"></i>\r\n            \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0646\u0633\u0628\r\n          </a>\r\n        </div>\r\n        \r\n        <div class=\"bg-white rounded-xl shadow-lg p-8\">\r\n          <h1 class=\"text-3xl font-bold text-gray-800 mb-6\">\r\n            <i class=\"fas fa-edit text-blue-600 ml-2\"></i>\r\n            \u062A\u0639\u062F\u064A\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644\r\n          </h1>\r\n          \r\n          <form id=\"editRateForm\" class=\"space-y-6\">\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-university ml-1\"></i>\r\n                  \u0627\u0644\u0628\u0646\u0643 *\r\n                </label>\r\n                <select name=\"bank_id\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n                  <option value=\"\">\u0627\u062E\u062A\u0631 \u0627\u0644\u0628\u0646\u0643</option>\r\n                  ${banks.map(bank => `<option value=\"${bank.id}\" ${bank.id == rate.bank_id ? 'selected' : ''}>${bank.bank_name}</option>`).join('')}\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-tag ml-1\"></i>\r\n                  \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644 *\r\n                </label>\r\n                <select name=\"financing_type_id\" required class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n                  <option value=\"\">\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062A\u0645\u0648\u064A\u0644</option>\r\n                  ${financingTypes.map(type => `<option value=\"${type.id}\" ${type.id == rate.financing_type_id ? 'selected' : ''}>${type.type_name}</option>`).join('')}\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-percent ml-1\"></i>\r\n                  \u0627\u0644\u0646\u0633\u0628\u0629 % *\r\n                </label>\r\n                <input type=\"number\" name=\"rate\" step=\"0.01\" min=\"0\" max=\"100\" required value=\"${rate.rate}\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-money-bill ml-1\"></i>\r\n                  \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u0628\u0644\u063A (\u0631\u064A\u0627\u0644)\r\n                </label>\r\n                <input type=\"number\" name=\"min_amount\" min=\"0\" step=\"1000\" value=\"${rate.min_amount || ''}\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-money-bill-wave ml-1\"></i>\r\n                  \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u0628\u0644\u063A (\u0631\u064A\u0627\u0644)\r\n                </label>\r\n                <input type=\"number\" name=\"max_amount\" min=\"0\" step=\"1000\" value=\"${rate.max_amount || ''}\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-calendar ml-1\"></i>\r\n                  \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u062F\u0629 (\u0634\u0647\u0631)\r\n                </label>\r\n                <input type=\"number\" name=\"min_duration\" min=\"1\" max=\"360\" value=\"${rate.min_duration || ''}\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-bold text-gray-700 mb-2\">\r\n                  <i class=\"fas fa-calendar-alt ml-1\"></i>\r\n                  \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u062F\u0629 (\u0634\u0647\u0631)\r\n                </label>\r\n                <input type=\"number\" name=\"max_duration\" min=\"1\" max=\"360\" value=\"${rate.max_duration || ''}\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"flex gap-4 mt-8\">\r\n              <button type=\"submit\" class=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-md\">\r\n                <i class=\"fas fa-save ml-2\"></i>\r\n                \u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A\r\n              </button>\r\n              <a href=\"/admin/rates?tenant_id=${tenantId}\" class=\"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-md text-center\">\r\n                <i class=\"fas fa-times ml-2\"></i>\r\n                \u0625\u0644\u063A\u0627\u0621\r\n              </a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      \r\n      <script>\r\n        document.getElementById('editRateForm').addEventListener('submit', async (e) => {\r\n          e.preventDefault();\r\n          \r\n          const formData = new FormData(e.target);\r\n          const data = {\r\n            bank_id: parseInt(formData.get('bank_id')),\r\n            financing_type_id: parseInt(formData.get('financing_type_id')),\r\n            rate: parseFloat(formData.get('rate')),\r\n            min_amount: formData.get('min_amount') ? parseFloat(formData.get('min_amount')) : null,\r\n            max_amount: formData.get('max_amount') ? parseFloat(formData.get('max_amount')) : null,\r\n            min_duration: formData.get('min_duration') ? parseInt(formData.get('min_duration')) : null,\r\n            max_duration: formData.get('max_duration') ? parseInt(formData.get('max_duration')) : null\r\n          };\r\n          \r\n          try {\r\n            const response = await fetch('/api/rates/${rate.id}', {\r\n              method: 'PUT',\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + (localStorage.getItem('authToken') || localStorage.getItem('token'))\r\n              },\r\n              body: JSON.stringify(data)\r\n            });\r\n            \r\n            const result = await response.json();\r\n            \r\n            if (result.success) {\r\n              alert('\u2705 \u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0646\u0633\u0628\u0629 \u0628\u0646\u062C\u0627\u062D!');\r\n              window.location.href = '/admin/rates?tenant_id=${tenantId}';\r\n            } else {\r\n              alert('\u274C \u062E\u0637\u0623: ' + (result.message || '\u062D\u062F\u062B \u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641'));\r\n            }\r\n          } catch (error) {\r\n            console.error('Edit rate error:', error);\r\n            alert('\u274C \u062D\u062F\u062B \u062E\u0637\u0623: ' + (error.message || '\u0641\u0634\u0644 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645'));\r\n          }\r\n        });\r\n      </script>\r\n    </body>\r\n    </html>\r\n  `;\r\n}\r\n", "// ============================================\r\n// Workflow Timeline Page - \u0635\u0641\u062D\u0629 \u0645\u0631\u0627\u062D\u0644 \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644\r\n// ============================================\r\n\r\nexport function generateWorkflowTimelinePage(requestId: number, request: any, stages: any[], timeline: any) {\r\n  const { transitions = [], actions = [], tasks = [] } = timeline\r\n\r\n  // Calculate duration between stages\r\n  const calculateDuration = (startDate: string, endDate: string) => {\r\n    const start = new Date(startDate)\r\n    const end = new Date(endDate)\r\n    const diff = end.getTime() - start.getTime()\r\n    const hours = Math.floor(diff / (1000 * 60 * 60))\r\n    const days = Math.floor(hours / 24)\r\n    \r\n    if (days > 0) return `${days} \u064A\u0648\u0645`\r\n    return `${hours} \u0633\u0627\u0639\u0629`\r\n  }\r\n\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>\u0645\u0631\u0627\u062D\u0644 \u0627\u0644\u0637\u0644\u0628 - ${request.customer_name}</title>\r\n  <script src=\"https://cdn.tailwindcss.com\"></script>\r\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n  <style>\r\n    /* Timeline Styles */\r\n    .timeline-container {\r\n      position: relative;\r\n      padding-right: 2rem;\r\n    }\r\n    \r\n    .timeline-line {\r\n      position: absolute;\r\n      right: 0.75rem;\r\n      top: 0;\r\n      bottom: 0;\r\n      width: 3px;\r\n      background: linear-gradient(180deg, #10B981 0%, #3B82F6 50%, #8B5CF6 100%);\r\n    }\r\n    \r\n    .timeline-item {\r\n      position: relative;\r\n      margin-bottom: 2rem;\r\n      padding-right: 3rem;\r\n    }\r\n    \r\n    .timeline-dot {\r\n      position: absolute;\r\n      right: -0.5rem;\r\n      top: 0.5rem;\r\n      width: 2rem;\r\n      height: 2rem;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      color: white;\r\n      font-size: 0.875rem;\r\n      box-shadow: 0 0 0 4px white, 0 0 0 6px currentColor;\r\n      z-index: 10;\r\n    }\r\n    \r\n    .timeline-dot.current {\r\n      animation: pulse 2s infinite;\r\n      box-shadow: 0 0 0 4px white, 0 0 0 6px currentColor, 0 0 20px currentColor;\r\n    }\r\n    \r\n    @keyframes pulse {\r\n      0%, 100% { transform: scale(1); }\r\n      50% { transform: scale(1.1); }\r\n    }\r\n    \r\n    .stage-card {\r\n      background: white;\r\n      border-radius: 1rem;\r\n      padding: 1.5rem;\r\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n      border-right: 4px solid;\r\n      transition: all 0.3s;\r\n    }\r\n    \r\n    .stage-card:hover {\r\n      transform: translateX(-4px);\r\n      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\r\n    }\r\n    \r\n    .action-badge {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      gap: 0.5rem;\r\n      padding: 0.5rem 1rem;\r\n      border-radius: 0.5rem;\r\n      font-size: 0.875rem;\r\n      margin-bottom: 0.5rem;\r\n    }\r\n    \r\n    .task-item {\r\n      background: #F9FAFB;\r\n      padding: 1rem;\r\n      border-radius: 0.5rem;\r\n      margin-bottom: 0.5rem;\r\n      border-right: 3px solid;\r\n    }\r\n    \r\n    .task-item.pending {\r\n      border-right-color: #F59E0B;\r\n    }\r\n    \r\n    .task-item.completed {\r\n      border-right-color: #10B981;\r\n      opacity: 0.7;\r\n    }\r\n    \r\n    @media print {\r\n      .no-print {\r\n        display: none !important;\r\n      }\r\n    }\r\n  </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n  \r\n  <!-- Header -->\r\n  <div class=\"bg-gradient-to-l from-blue-600 to-purple-600 text-white py-6 no-print\">\r\n    <div class=\"max-w-6xl mx-auto px-4\">\r\n      <div class=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 class=\"text-3xl font-bold mb-2\">\r\n            <i class=\"fas fa-route ml-2\"></i>\r\n            \u0645\u0631\u0627\u062D\u0644 \u0633\u064A\u0631 \u0639\u0645\u0644 \u0627\u0644\u0637\u0644\u0628\r\n          </h1>\r\n          <p class=\"text-blue-100\">\u0627\u0644\u0637\u0644\u0628 \u0631\u0642\u0645: ${requestId} | \u0627\u0644\u0639\u0645\u064A\u0644: ${request.customer_name}</p>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n          <button onclick=\"window.print()\" class=\"bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-50 transition-colors\">\r\n            <i class=\"fas fa-print ml-2\"></i>\r\n            \u0637\u0628\u0627\u0639\u0629\r\n          </button>\r\n          <a href=\"/admin/requests/${requestId}/report\" class=\"bg-white/20 text-white px-4 py-2 rounded-lg hover:bg-white/30 transition-colors\">\r\n            <i class=\"fas fa-arrow-right ml-2\"></i>\r\n            \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u062A\u0642\u0631\u064A\u0631\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <!-- Request Summary -->\r\n  <div class=\"max-w-6xl mx-auto px-4 py-6\">\r\n    <div class=\"bg-white rounded-xl shadow-md p-6 mb-6\">\r\n      <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div>\r\n          <div class=\"text-gray-500 text-sm mb-1\">\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628</div>\r\n          <div class=\"text-2xl font-bold text-blue-600\">${Number(request.requested_amount).toLocaleString()} \u0631\u064A\u0627\u0644</div>\r\n        </div>\r\n        <div>\r\n          <div class=\"text-gray-500 text-sm mb-1\">\u0627\u0644\u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629</div>\r\n          <div class=\"text-lg font-bold\" style=\"color: ${request.stage_color || '#3B82F6'}\">\r\n            <i class=\"fas ${request.stage_icon || 'fa-circle'} ml-2\"></i>\r\n            ${request.stage_name_ar || '\u063A\u064A\u0631 \u0645\u062D\u062F\u062F'}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div class=\"text-gray-500 text-sm mb-1\">\u0627\u0644\u062D\u0627\u0644\u0629</div>\r\n          <div class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium\r\n            ${request.status === 'pending' ? 'bg-yellow-100 text-yellow-800' : \r\n              request.status === 'approved' ? 'bg-green-100 text-green-800' : \r\n              request.status === 'rejected' ? 'bg-red-100 text-red-800' : \r\n              'bg-gray-100 text-gray-800'}\">\r\n            ${request.status === 'pending' ? '\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631' : \r\n              request.status === 'approved' ? '\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647' : \r\n              request.status === 'rejected' ? '\u0645\u0631\u0641\u0648\u0636' : \r\n              request.status}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div class=\"text-gray-500 text-sm mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0637\u0644\u0628</div>\r\n          <div class=\"text-lg font-bold text-gray-700\">\r\n            ${new Date(request.created_at).toLocaleDateString('ar-SA')}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Timeline -->\r\n    <div class=\"bg-white rounded-xl shadow-md p-6\">\r\n      <h2 class=\"text-2xl font-bold text-gray-800 mb-6\">\r\n        <i class=\"fas fa-timeline ml-2 text-blue-600\"></i>\r\n        \u0627\u0644\u0645\u0633\u0627\u0631 \u0627\u0644\u0632\u0645\u0646\u064A \u0644\u0644\u0637\u0644\u0628\r\n      </h2>\r\n      \r\n      <div class=\"timeline-container\">\r\n        <div class=\"timeline-line\"></div>\r\n        \r\n        ${transitions.length === 0 ? `\r\n          <div class=\"text-center py-12 text-gray-500\">\r\n            <i class=\"fas fa-inbox fa-3x mb-4 text-gray-300\"></i>\r\n            <p class=\"text-lg\">\u0644\u0645 \u064A\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0623\u064A \u0645\u0631\u0627\u062D\u0644 \u0628\u0639\u062F</p>\r\n          </div>\r\n        ` : ''}\r\n        \r\n        ${transitions.map((transition: any, index: number) => {\r\n          const isLast = index === transitions.length - 1\r\n          const duration = index > 0 ? calculateDuration(transitions[index - 1].created_at, transition.created_at) : null\r\n          \r\n          // Get actions for this stage\r\n          const stageActions = actions.filter((a: any) => a.stage_id === transition.to_stage_id)\r\n          const stageTasks = tasks.filter((t: any) => t.stage_id === transition.to_stage_id)\r\n          \r\n          return `\r\n            <div class=\"timeline-item\">\r\n              <div class=\"timeline-dot ${isLast ? 'current' : ''}\" style=\"background-color: ${transition.to_stage_color}\">\r\n                <i class=\"fas ${transition.to_stage_icon}\"></i>\r\n              </div>\r\n              \r\n              <div class=\"stage-card\" style=\"border-right-color: ${transition.to_stage_color}\">\r\n                <div class=\"flex justify-between items-start mb-4\">\r\n                  <div>\r\n                    <h3 class=\"text-xl font-bold text-gray-800 mb-1\">\r\n                      ${index + 1}. ${transition.to_stage_name}\r\n                    </h3>\r\n                    <p class=\"text-sm text-gray-500\">\r\n                      <i class=\"fas fa-clock ml-1\"></i>\r\n                      ${new Date(transition.created_at).toLocaleString('ar-SA', {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                        hour: '2-digit',\r\n                        minute: '2-digit'\r\n                      })}\r\n                    </p>\r\n                  </div>\r\n                  \r\n                  ${duration ? `\r\n                    <div class=\"bg-blue-50 text-blue-700 px-3 py-1 rounded-lg text-sm font-medium\">\r\n                      <i class=\"fas fa-hourglass-half ml-1\"></i>\r\n                      \u0627\u0633\u062A\u063A\u0631\u0642 ${duration}\r\n                    </div>\r\n                  ` : ''}\r\n                </div>\r\n                \r\n                ${transition.transitioned_by_name ? `\r\n                  <div class=\"text-sm text-gray-600 mb-3\">\r\n                    <i class=\"fas fa-user ml-1 text-gray-400\"></i>\r\n                    \u0628\u0648\u0627\u0633\u0637\u0629: <span class=\"font-medium\">${transition.transitioned_by_name}</span>\r\n                  </div>\r\n                ` : ''}\r\n                \r\n                ${transition.notes ? `\r\n                  <div class=\"bg-yellow-50 border-r-3 border-yellow-400 p-3 rounded mb-3\">\r\n                    <p class=\"text-sm text-gray-700\">\r\n                      <i class=\"fas fa-sticky-note ml-1 text-yellow-600\"></i>\r\n                      ${transition.notes}\r\n                    </p>\r\n                  </div>\r\n                ` : ''}\r\n                \r\n                ${stageActions.length > 0 ? `\r\n                  <div class=\"mb-3\">\r\n                    <h4 class=\"text-sm font-bold text-gray-700 mb-2\">\r\n                      <i class=\"fas fa-tasks ml-1\"></i>\r\n                      \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0627\u0644\u0645\u062A\u062E\u0630\u0629:\r\n                    </h4>\r\n                    ${stageActions.map((action: any) => `\r\n                      <div class=\"action-badge bg-green-50 text-green-700 border border-green-200\">\r\n                        <i class=\"fas fa-check-circle\"></i>\r\n                        <span>${action.action_data || action.action_type}</span>\r\n                        ${action.performed_by_name ? `<span class=\"text-xs text-green-600\">- ${action.performed_by_name}</span>` : ''}\r\n                      </div>\r\n                    `).join('')}\r\n                  </div>\r\n                ` : ''}\r\n                \r\n                ${stageTasks.length > 0 ? `\r\n                  <div>\r\n                    <h4 class=\"text-sm font-bold text-gray-700 mb-2\">\r\n                      <i class=\"fas fa-list-check ml-1\"></i>\r\n                      \u0627\u0644\u0645\u0647\u0627\u0645:\r\n                    </h4>\r\n                    ${stageTasks.map((task: any) => `\r\n                      <div class=\"task-item ${task.status}\">\r\n                        <div class=\"flex justify-between items-start\">\r\n                          <div class=\"flex-1\">\r\n                            <div class=\"font-medium text-gray-800\">${task.task_title}</div>\r\n                            ${task.task_description ? `<div class=\"text-sm text-gray-600 mt-1\">${task.task_description}</div>` : ''}\r\n                            ${task.assigned_to_name ? `\r\n                              <div class=\"text-xs text-gray-500 mt-1\">\r\n                                <i class=\"fas fa-user ml-1\"></i>\r\n                                ${task.assigned_to_name}\r\n                              </div>\r\n                            ` : ''}\r\n                          </div>\r\n                          <div class=\"text-sm\">\r\n                            ${task.status === 'completed' ? `\r\n                              <span class=\"text-green-600\">\r\n                                <i class=\"fas fa-check-circle ml-1\"></i>\r\n                                \u0645\u0643\u062A\u0645\u0644\r\n                              </span>\r\n                            ` : `\r\n                              <span class=\"text-yellow-600\">\r\n                                <i class=\"fas fa-clock ml-1\"></i>\r\n                                \u0645\u0639\u0644\u0642\r\n                              </span>\r\n                            `}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    `).join('')}\r\n                  </div>\r\n                ` : ''}\r\n              </div>\r\n            </div>\r\n          `\r\n        }).join('')}\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Action Buttons -->\r\n    <div class=\"mt-6 flex gap-3 no-print\">\r\n      <button onclick=\"updateStage()\" class=\"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\">\r\n        <i class=\"fas fa-arrow-left ml-2\"></i>\r\n        \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0631\u062D\u0644\u0629\r\n      </button>\r\n      <button onclick=\"addAction()\" class=\"flex-1 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors\">\r\n        <i class=\"fas fa-plus ml-2\"></i>\r\n        \u0625\u0636\u0627\u0641\u0629 \u0625\u062C\u0631\u0627\u0621\r\n      </button>\r\n      <button onclick=\"createTask()\" class=\"flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors\">\r\n        <i class=\"fas fa-tasks ml-2\"></i>\r\n        \u0625\u0646\u0634\u0627\u0621 \u0645\u0647\u0645\u0629\r\n      </button>\r\n    </div>\r\n  </div>\r\n  \r\n  <script>\r\n    const stages = ${JSON.stringify(stages)};\r\n    const currentRequestId = ${requestId};\r\n    const currentStageId = ${request.current_stage_id || 'null'};\r\n    \r\n    // Close modal utility function\r\n    function closeModal() {\r\n      const modal = document.body.querySelector('.fixed');\r\n      if (modal) modal.remove();\r\n    }\r\n    \r\n    function updateStage() {\r\n      // Create modal for stage selection\r\n      const modal = document.createElement('div');\r\n      modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';\r\n      modal.innerHTML = \\`\r\n        <div class=\"bg-white rounded-xl p-6 max-w-md w-full mx-4\">\r\n          <h3 class=\"text-xl font-bold mb-4\">\u062A\u062D\u062F\u064A\u062B \u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u0637\u0644\u0628</h3>\r\n          <select id=\"newStageId\" class=\"w-full border rounded-lg p-2 mb-3\">\r\n            \\${stages.map(s => \\`\r\n              <option value=\"\\${s.id}\" \\${s.id === currentStageId ? 'selected' : ''}>\r\n                \\${s.stage_name_ar}\r\n              </option>\r\n            \\`).join('')}\r\n          </select>\r\n          <textarea id=\"stageNotes\" placeholder=\"\u0645\u0644\u0627\u062D\u0638\u0627\u062A (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\" class=\"w-full border rounded-lg p-2 mb-3\" rows=\"3\"></textarea>\r\n          <div class=\"flex gap-2\">\r\n            <button onclick=\"confirmStageUpdate()\" class=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\">\u062A\u062D\u062F\u064A\u062B</button>\r\n            <button onclick=\"closeModal()\" class=\"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400\">\u0625\u0644\u063A\u0627\u0621</button>\r\n          </div>\r\n        </div>\r\n      \\`;\r\n      document.body.appendChild(modal);\r\n    }\r\n    \r\n    async function confirmStageUpdate() {\r\n      const newStageId = document.getElementById('newStageId').value;\r\n      const notes = document.getElementById('stageNotes').value;\r\n      const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n      \r\n      const response = await fetch('/api/workflow/update-stage', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          requestId: currentRequestId,\r\n          newStageId: parseInt(newStageId),\r\n          notes: notes,\r\n          userId: userData.id\r\n        })\r\n      });\r\n      \r\n      if (response.ok) {\r\n        closeModal();\r\n        location.reload();\r\n      } else {\r\n        alert('\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0631\u062D\u0644\u0629');\r\n        closeModal();\r\n      }\r\n    }\r\n    \r\n    async function confirmAddAction() {\r\n      const actionType = document.getElementById('actionType').value;\r\n      const notes = document.getElementById('actionNotes').value;\r\n      const actionDataText = document.getElementById('actionData').value;\r\n      const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n      \r\n      let actionData = null;\r\n      if (actionDataText.trim()) {\r\n        try {\r\n          actionData = JSON.parse(actionDataText);\r\n        } catch (e) {\r\n          alert('\u0628\u064A\u0627\u0646\u0627\u062A JSON \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629');\r\n          return;\r\n        }\r\n      }\r\n      \r\n      const response = await fetch('/api/workflow/add-action', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          requestId: currentRequestId,\r\n          stageId: currentStageId,\r\n          actionType: actionType,\r\n          actionData: actionData ? JSON.stringify(actionData) : null,\r\n          notes: notes,\r\n          performedBy: userData.id\r\n        })\r\n      });\r\n      \r\n      if (response.ok) {\r\n        closeModal();\r\n        location.reload();\r\n      } else {\r\n        alert('\u0641\u0634\u0644 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0625\u062C\u0631\u0627\u0621');\r\n        closeModal();\r\n      }\r\n    }\r\n    \r\n    async function confirmCreateTask() {\r\n      const title = document.getElementById('taskTitle').value;\r\n      const description = document.getElementById('taskDescription').value;\r\n      const dueDate = document.getElementById('taskDueDate').value;\r\n      const priority = document.getElementById('taskPriority').value;\r\n      const assignedTo = document.getElementById('taskAssignedTo').value;\r\n      const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n      \r\n      if (!title.trim()) {\r\n        alert('\u0627\u0644\u0631\u062C\u0627\u0621 \u0625\u062F\u062E\u0627\u0644 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0647\u0645\u0629');\r\n        return;\r\n      }\r\n      \r\n      const response = await fetch('/api/workflow/create-task', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          requestId: currentRequestId,\r\n          stageId: currentStageId,\r\n          taskTitle: title,\r\n          taskDescription: description,\r\n          dueDate: dueDate || null,\r\n          priority: priority,\r\n          assignedTo: assignedTo ? parseInt(assignedTo) : null\r\n        })\r\n      });\r\n      \r\n      if (response.ok) {\r\n        closeModal();\r\n        location.reload();\r\n      } else {\r\n        alert('\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0647\u0645\u0629');\r\n        closeModal();\r\n      }\r\n    }\r\n    \r\n    function addAction() {\r\n      if (!currentStageId) {\r\n        alert('\u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0631\u062D\u0644\u0629 \u0623\u0648\u0644\u0627\u064B \u0642\u0628\u0644 \u0625\u0636\u0627\u0641\u0629 \u0625\u062C\u0631\u0627\u0621\u0627\u062A');\r\n        return;\r\n      }\r\n      \r\n      const modal = document.createElement('div');\r\n      modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';\r\n      modal.innerHTML = '<div class=\"bg-white rounded-xl p-6 max-w-md w-full mx-4\">' +\r\n        '<h3 class=\"text-xl font-bold mb-4\">\u0625\u0636\u0627\u0641\u0629 \u0625\u062C\u0631\u0627\u0621 \u062C\u062F\u064A\u062F</h3>' +\r\n        '<div class=\"mb-3\"><label class=\"block text-sm font-medium mb-1\">\u0646\u0648\u0639 \u0627\u0644\u0625\u062C\u0631\u0627\u0621</label>' +\r\n        '<select id=\"actionType\" class=\"w-full border rounded-lg p-2\">' +\r\n        '<option value=\"call\">\u0627\u062A\u0635\u0627\u0644 \u0647\u0627\u062A\u0641\u064A</option>' +\r\n        '<option value=\"email\">\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A</option>' +\r\n        '<option value=\"meeting\">\u0627\u062C\u062A\u0645\u0627\u0639</option>' +\r\n        '<option value=\"document\">\u0645\u0633\u062A\u0646\u062F</option>' +\r\n        '<option value=\"approval\">\u0645\u0648\u0627\u0641\u0642\u0629</option>' +\r\n        '<option value=\"rejection\">\u0631\u0641\u0636</option>' +\r\n        '<option value=\"followup\">\u0645\u062A\u0627\u0628\u0639\u0629</option>' +\r\n        '<option value=\"other\">\u0623\u062E\u0631\u0649</option>' +\r\n        '</select></div>' +\r\n        '<div class=\"mb-3\"><label class=\"block text-sm font-medium mb-1\">\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0627\u0644\u0625\u062C\u0631\u0627\u0621</label>' +\r\n        '<textarea id=\"actionNotes\" placeholder=\"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0625\u062C\u0631\u0627\u0621...\" class=\"w-full border rounded-lg p-2\" rows=\"4\"></textarea></div>' +\r\n        '<div class=\"mb-3\"><label class=\"block text-sm font-medium mb-1\">\u0628\u064A\u0627\u0646\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629 (JSON - \u0627\u062E\u062A\u064A\u0627\u0631\u064A)</label>' +\r\n        '<textarea id=\"actionData\" class=\"w-full border rounded-lg p-2\" rows=\"2\"></textarea></div>' +\r\n        '<div class=\"flex gap-2\">' +\r\n        '<button onclick=\"confirmAddAction()\" class=\"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700\">\u0625\u0636\u0627\u0641\u0629</button>' +\r\n        '<button onclick=\"closeModal()\" class=\"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400\">\u0625\u0644\u063A\u0627\u0621</button>' +\r\n        '</div></div>';\r\n      document.body.appendChild(modal);\r\n    }\r\n    \r\n    function createTask() {\r\n      if (!currentStageId) {\r\n        alert('\u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0631\u062D\u0644\u0629 \u0623\u0648\u0644\u0627\u064B \u0642\u0628\u0644 \u0625\u0646\u0634\u0627\u0621 \u0645\u0647\u0627\u0645');\r\n        return;\r\n      }\r\n      \r\n      const modal = document.createElement('div');\r\n      modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';\r\n      modal.innerHTML = '<div class=\"bg-white rounded-xl p-6 max-w-md w-full mx-4\">' +\r\n        '<h3 class=\"text-xl font-bold mb-4\">\u0625\u0646\u0634\u0627\u0621 \u0645\u0647\u0645\u0629 \u062C\u062F\u064A\u062F\u0629</h3>' +\r\n        '<div class=\"mb-3\"><label class=\"block text-sm font-medium mb-1\">\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0647\u0645\u0629</label>' +\r\n        '<input type=\"text\" id=\"taskTitle\" placeholder=\"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0647\u0645\u0629...\" class=\"w-full border rounded-lg p-2\"></div>' +\r\n        '<div class=\"mb-3\"><label class=\"block text-sm font-medium mb-1\">\u0648\u0635\u0641 \u0627\u0644\u0645\u0647\u0645\u0629</label>' +\r\n        '<textarea id=\"taskDescription\" placeholder=\"\u0648\u0635\u0641 \u062A\u0641\u0635\u064A\u0644\u064A \u0644\u0644\u0645\u0647\u0645\u0629...\" class=\"w-full border rounded-lg p-2\" rows=\"3\"></textarea></div>' +\r\n        '<div class=\"mb-3\"><label class=\"block text-sm font-medium mb-1\">\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0633\u062A\u062D\u0642\u0627\u0642</label>' +\r\n        '<input type=\"date\" id=\"taskDueDate\" class=\"w-full border rounded-lg p-2\"></div>' +\r\n        '<div class=\"mb-3\"><label class=\"block text-sm font-medium mb-1\">\u0627\u0644\u0623\u0648\u0644\u0648\u064A\u0629</label>' +\r\n        '<select id=\"taskPriority\" class=\"w-full border rounded-lg p-2\">' +\r\n        '<option value=\"low\">\u0645\u0646\u062E\u0641\u0636\u0629</option>' +\r\n        '<option value=\"medium\" selected>\u0645\u062A\u0648\u0633\u0637\u0629</option>' +\r\n        '<option value=\"high\">\u0639\u0627\u0644\u064A\u0629</option>' +\r\n        '<option value=\"urgent\">\u0639\u0627\u062C\u0644\u0629</option>' +\r\n        '</select></div>' +\r\n        '<div class=\"mb-3\"><label class=\"block text-sm font-medium mb-1\">\u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0639\u0646 \u0627\u0644\u0645\u0647\u0645\u0629</label>' +\r\n        '<input type=\"text\" id=\"taskAssignedTo\" placeholder=\"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)\" class=\"w-full border rounded-lg p-2\">' +\r\n        '<small class=\"text-gray-500\">\u0627\u062A\u0631\u0643 \u0641\u0627\u0631\u063A\u0627\u064B \u0644\u0644\u062A\u0639\u064A\u064A\u0646 \u0644\u0627\u062D\u0642\u0627\u064B</small></div>' +\r\n        '<div class=\"flex gap-2\">' +\r\n        '<button onclick=\"confirmCreateTask()\" class=\"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700\">\u0625\u0646\u0634\u0627\u0621</button>' +\r\n        '<button onclick=\"closeModal()\" class=\"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400\">\u0625\u0644\u063A\u0627\u0621</button>' +\r\n        '</div></div>';\r\n      document.body.appendChild(modal);\r\n    }\r\n  </script>\r\n  \r\n</body>\r\n</html>\r\n  `\r\n}\r\n", "export const banksReportPage = `\r\n<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0628\u0646\u0648\u0643</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n    <style>\r\n        @media print {\r\n            .no-print { display: none !important; }\r\n            body { background: white !important; }\r\n        }\r\n        .stat-card {\r\n            transition: all 0.3s ease;\r\n        }\r\n        .stat-card:hover {\r\n            transform: translateY(-5px);\r\n            box-shadow: 0 10px 25px rgba(0,0,0,0.15);\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <!-- Header -->\r\n        <div class=\"flex justify-between items-center mb-6 no-print\">\r\n            <div>\r\n                <a href=\"/admin/panel\" class=\"text-blue-600 hover:text-blue-800 mb-2 inline-block\">\r\n                    <i class=\"fas fa-arrow-right ml-2\"></i> \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n                </a>\r\n                <h1 class=\"text-4xl font-bold text-gray-800\">\r\n                    <i class=\"fas fa-university text-blue-600 ml-3\"></i>\r\n                    \u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0628\u0646\u0648\u0643 \u0627\u0644\u0634\u0627\u0645\u0644\r\n                </h1>\r\n            </div>\r\n            <div class=\"space-x-2 space-x-reverse\">\r\n                <button onclick=\"window.print()\" class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                    <i class=\"fas fa-print ml-2\"></i>\r\n                    \u0637\u0628\u0627\u0639\u0629\r\n                </button>\r\n                <button onclick=\"exportToExcel()\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                    <i class=\"fas fa-file-excel ml-2\"></i>\r\n                    \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Loading Indicator -->\r\n        <div id=\"loading\" class=\"text-center py-12\">\r\n            <i class=\"fas fa-spinner fa-spin text-6xl text-blue-600\"></i>\r\n            <p class=\"mt-4 text-xl text-gray-600\">\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...</p>\r\n        </div>\r\n\r\n        <!-- Summary Cards -->\r\n        <div id=\"summaryCards\" class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\" style=\"display: none;\">\r\n            <!-- Cards will be inserted here -->\r\n        </div>\r\n\r\n        <!-- Charts -->\r\n        <div id=\"charts\" class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0628\u0646\u0643</h3>\r\n                <canvas id=\"requestsByBankChart\"></canvas>\r\n            </div>\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\u0645\u0639\u062F\u0644\u0627\u062A \u0627\u0644\u0642\u0628\u0648\u0644 \u062D\u0633\u0628 \u0627\u0644\u0628\u0646\u0643</h3>\r\n                <canvas id=\"approvalRatesChart\"></canvas>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Banks Table -->\r\n        <div id=\"banksTable\" class=\"bg-white rounded-xl shadow-lg overflow-hidden\" style=\"display: none;\">\r\n            <div class=\"p-6 border-b\">\r\n                <h2 class=\"text-2xl font-bold text-gray-800\">\r\n                    <i class=\"fas fa-table ml-2\"></i>\r\n                    \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0628\u0646\u0648\u0643\r\n                </h2>\r\n            </div>\r\n            <div class=\"overflow-x-auto\">\r\n                <table class=\"min-w-full\">\r\n                    <thead class=\"bg-gray-50\">\r\n                        <tr>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0637\u0644\u0628\u0627\u062A \u0645\u0642\u0628\u0648\u0644\u0629</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0637\u0644\u0628\u0627\u062A \u0645\u0631\u0641\u0648\u0636\u0629</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0637\u0644\u0628\u0627\u062A \u0642\u064A\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0645\u0639\u062F\u0644 \u0627\u0644\u0642\u0628\u0648\u0644</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0645\u062A\u0648\u0633\u0637 \u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"banksTableBody\" class=\"bg-white divide-y divide-gray-200\">\r\n                        <!-- Rows will be inserted here -->\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        let banksData = [];\r\n        let requestsByBankChart = null;\r\n        let approvalRatesChart = null;\r\n\r\n        async function loadBanksReport() {\r\n            try {\r\n                const token = localStorage.getItem('authToken') || localStorage.getItem('token');\r\n                if (!token) {\r\n                    window.location.href = '/login';\r\n                    return;\r\n                }\r\n\r\n                const response = await fetch('/api/reports/banks', {\r\n                    headers: { 'Authorization': 'Bearer ' + token }\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    throw new Error('Failed to load banks report');\r\n                }\r\n\r\n                const data = await response.json();\r\n                banksData = data.banks || [];\r\n\r\n                // Hide loading, show content\r\n                document.getElementById('loading').style.display = 'none';\r\n                document.getElementById('summaryCards').style.display = 'grid';\r\n                document.getElementById('charts').style.display = 'grid';\r\n                document.getElementById('banksTable').style.display = 'block';\r\n\r\n                // Render summary cards\r\n                renderSummaryCards(data.summary);\r\n\r\n                // Render charts\r\n                renderCharts();\r\n\r\n                // Render table\r\n                renderBanksTable();\r\n\r\n            } catch (error) {\r\n                console.error('Error loading banks report:', error);\r\n                document.getElementById('loading').innerHTML = \\`\r\n                    <div class=\"text-center py-12\">\r\n                        <i class=\"fas fa-exclamation-triangle text-6xl text-red-600\"></i>\r\n                        <p class=\"mt-4 text-xl text-red-600\">\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0642\u0631\u064A\u0631</p>\r\n                        <p class=\"text-gray-600\">\\${error.message}</p>\r\n                    </div>\r\n                \\`;\r\n            }\r\n        }\r\n\r\n        function renderSummaryCards(summary) {\r\n            const cards = [\r\n                {\r\n                    title: '\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0628\u0646\u0648\u0643',\r\n                    value: summary.total_banks,\r\n                    icon: 'fa-university',\r\n                    bgColor: 'bg-blue-100',\r\n                    textColor: 'text-blue-600',\r\n                    borderColor: 'border-blue-500'\r\n                },\r\n                {\r\n                    title: '\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A',\r\n                    value: summary.total_requests,\r\n                    icon: 'fa-file-alt',\r\n                    bgColor: 'bg-green-100',\r\n                    textColor: 'text-green-600',\r\n                    borderColor: 'border-green-500'\r\n                },\r\n                {\r\n                    title: '\u0645\u0639\u062F\u0644 \u0627\u0644\u0642\u0628\u0648\u0644 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A',\r\n                    value: summary.overall_approval_rate + '%',\r\n                    icon: 'fa-check-circle',\r\n                    bgColor: 'bg-purple-100',\r\n                    textColor: 'text-purple-600',\r\n                    borderColor: 'border-purple-500'\r\n                },\r\n                {\r\n                    title: '\u0645\u062A\u0648\u0633\u0637 \u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644',\r\n                    value: formatCurrency(summary.average_amount),\r\n                    icon: 'fa-money-bill-wave',\r\n                    bgColor: 'bg-yellow-100',\r\n                    textColor: 'text-yellow-600',\r\n                    borderColor: 'border-yellow-500'\r\n                }\r\n            ];\r\n\r\n            const html = cards.map(card => \\`\r\n                <div class=\"stat-card bg-white rounded-xl shadow-lg p-6 border-r-4 \\${card.borderColor}\">\r\n                    <div class=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <p class=\"text-gray-500 text-sm font-medium\">\\${card.title}</p>\r\n                            <p class=\"text-3xl font-bold text-gray-800 mt-2\">\\${card.value}</p>\r\n                        </div>\r\n                        <div class=\"\\${card.bgColor} rounded-full p-4\">\r\n                            <i class=\"fas \\${card.icon} text-3xl \\${card.textColor}\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            \\`).join('');\r\n\r\n            document.getElementById('summaryCards').innerHTML = html;\r\n        }\r\n\r\n        function renderCharts() {\r\n            // Chart 1: Requests by Bank\r\n            const ctx1 = document.getElementById('requestsByBankChart').getContext('2d');\r\n            const labels = banksData.map(b => b.bank_name);\r\n            const requestsData = banksData.map(b => b.total_requests);\r\n\r\n            if (requestsByBankChart) requestsByBankChart.destroy();\r\n            requestsByBankChart = new Chart(ctx1, {\r\n                type: 'bar',\r\n                data: {\r\n                    labels: labels,\r\n                    datasets: [{\r\n                        label: '\u0639\u062F\u062F \u0627\u0644\u0637\u0644\u0628\u0627\u062A',\r\n                        data: requestsData,\r\n                        backgroundColor: 'rgba(59, 130, 246, 0.6)',\r\n                        borderColor: 'rgba(59, 130, 246, 1)',\r\n                        borderWidth: 2\r\n                    }]\r\n                },\r\n                options: {\r\n                    responsive: true,\r\n                    maintainAspectRatio: true,\r\n                    scales: {\r\n                        y: {\r\n                            beginAtZero: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            // Chart 2: Approval Rates\r\n            const ctx2 = document.getElementById('approvalRatesChart').getContext('2d');\r\n            const approvalRates = banksData.map(b => parseFloat(b.approval_rate) || 0);\r\n\r\n            if (approvalRatesChart) approvalRatesChart.destroy();\r\n            approvalRatesChart = new Chart(ctx2, {\r\n                type: 'doughnut',\r\n                data: {\r\n                    labels: labels,\r\n                    datasets: [{\r\n                        label: '\u0645\u0639\u062F\u0644 \u0627\u0644\u0642\u0628\u0648\u0644 %',\r\n                        data: approvalRates,\r\n                        backgroundColor: [\r\n                            'rgba(16, 185, 129, 0.6)',\r\n                            'rgba(59, 130, 246, 0.6)',\r\n                            'rgba(251, 146, 60, 0.6)',\r\n                            'rgba(139, 92, 246, 0.6)',\r\n                            'rgba(236, 72, 153, 0.6)'\r\n                        ],\r\n                        borderWidth: 2\r\n                    }]\r\n                },\r\n                options: {\r\n                    responsive: true,\r\n                    maintainAspectRatio: true\r\n                }\r\n            });\r\n        }\r\n\r\n        function renderBanksTable() {\r\n            const tbody = document.getElementById('banksTableBody');\r\n            const rows = banksData.map(bank => \\`\r\n                <tr class=\"hover:bg-gray-50\">\r\n                    <td class=\"px-6 py-4 whitespace-nowrap font-medium text-gray-900\">\\${bank.bank_name}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap text-gray-700\">\\${bank.total_requests}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap text-green-600 font-bold\">\\${bank.approved_requests}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap text-red-600 font-bold\">\\${bank.rejected_requests}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap text-yellow-600 font-bold\">\\${bank.pending_requests}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span class=\"px-3 py-1 rounded-full text-sm font-bold bg-green-100 text-green-800\">\r\n                            \\${bank.approval_rate}%\r\n                        </span>\r\n                    </td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap text-gray-700\">\\${formatCurrency(bank.average_amount)}</td>\r\n                </tr>\r\n            \\`).join('');\r\n\r\n            tbody.innerHTML = rows;\r\n        }\r\n\r\n        function formatCurrency(amount) {\r\n            if (!amount) return '0 \u0631\u064A\u0627\u0644';\r\n            return parseFloat(amount).toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n        }\r\n\r\n        function exportToExcel() {\r\n            let csv = '\\\\uFEFF'; // BOM for UTF-8\r\n            csv += '\u0627\u0633\u0645 \u0627\u0644\u0628\u0646\u0643,\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A,\u0637\u0644\u0628\u0627\u062A \u0645\u0642\u0628\u0648\u0644\u0629,\u0637\u0644\u0628\u0627\u062A \u0645\u0631\u0641\u0648\u0636\u0629,\u0637\u0644\u0628\u0627\u062A \u0642\u064A\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629,\u0645\u0639\u062F\u0644 \u0627\u0644\u0642\u0628\u0648\u0644,\u0645\u062A\u0648\u0633\u0637 \u0645\u0628\u0644\u063A \u0627\u0644\u062A\u0645\u0648\u064A\u0644\\\\n';\r\n\r\n            banksData.forEach(bank => {\r\n                csv += \\`\"\\${bank.bank_name}\",\\${bank.total_requests},\\${bank.approved_requests},\\${bank.rejected_requests},\\${bank.pending_requests},\\${bank.approval_rate}%,\\${bank.average_amount}\\\\n\\`;\r\n            });\r\n\r\n            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n            const link = document.createElement('a');\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = '\u062A\u0642\u0631\u064A\u0631_\u0627\u0644\u0628\u0646\u0648\u0643_' + new Date().toISOString().split('T')[0] + '.csv';\r\n            link.click();\r\n        }\r\n\r\n        // Load report on page load\r\n        loadBanksReport();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "export const performanceReportPage = `\r\n<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0623\u062F\u0627\u0621</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n    <style>\r\n        @media print {\r\n            .no-print { display: none !important; }\r\n            body { background: white !important; }\r\n        }\r\n        .stat-card {\r\n            transition: all 0.3s ease;\r\n        }\r\n        .stat-card:hover {\r\n            transform: translateY(-5px);\r\n            box-shadow: 0 10px 25px rgba(0,0,0,0.15);\r\n        }\r\n    </style>\r\n</head>\r\n<body class=\"bg-gray-50\">\r\n    <div class=\"max-w-7xl mx-auto p-6\">\r\n        <!-- Header -->\r\n        <div class=\"flex justify-between items-center mb-6 no-print\">\r\n            <div>\r\n                <a href=\"/admin/panel\" class=\"text-blue-600 hover:text-blue-800 mb-2 inline-block\">\r\n                    <i class=\"fas fa-arrow-right ml-2\"></i> \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645\r\n                </a>\r\n                <h1 class=\"text-4xl font-bold text-gray-800\">\r\n                    <i class=\"fas fa-chart-line text-green-600 ml-3\"></i>\r\n                    \u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0623\u062F\u0627\u0621 \u0627\u0644\u0634\u0627\u0645\u0644\r\n                </h1>\r\n            </div>\r\n            <div class=\"space-x-2 space-x-reverse\">\r\n                <button onclick=\"window.print()\" class=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                    <i class=\"fas fa-print ml-2\"></i>\r\n                    \u0637\u0628\u0627\u0639\u0629\r\n                </button>\r\n                <button onclick=\"exportToExcel()\" class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold transition-all\">\r\n                    <i class=\"fas fa-file-excel ml-2\"></i>\r\n                    \u062A\u0635\u062F\u064A\u0631 Excel\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Filter Section -->\r\n        <div class=\"bg-white rounded-xl shadow-lg p-6 mb-6 no-print\">\r\n            <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\r\n                <i class=\"fas fa-filter ml-2\"></i>\r\n                \u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u062A\u0642\u0631\u064A\u0631\r\n            </h3>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0645\u0646 \u062A\u0627\u0631\u064A\u062E</label>\r\n                    <input type=\"date\" id=\"startDate\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                </div>\r\n                <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\u0625\u0644\u0649 \u062A\u0627\u0631\u064A\u062E</label>\r\n                    <input type=\"date\" id=\"endDate\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                </div>\r\n                <div class=\"flex items-end\">\r\n                    <button onclick=\"loadPerformanceReport()\" class=\"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold transition-all\">\r\n                        <i class=\"fas fa-search ml-2\"></i>\r\n                        \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0641\u0644\u062A\u0631\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Loading Indicator -->\r\n        <div id=\"loading\" class=\"text-center py-12\">\r\n            <i class=\"fas fa-spinner fa-spin text-6xl text-blue-600\"></i>\r\n            <p class=\"mt-4 text-xl text-gray-600\">\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...</p>\r\n        </div>\r\n\r\n        <!-- KPI Cards -->\r\n        <div id=\"kpiCards\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\" style=\"display: none;\">\r\n            <!-- Cards will be inserted here -->\r\n        </div>\r\n\r\n        <!-- Charts Section -->\r\n        <div id=\"charts\" class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\" style=\"display: none;\">\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u062D\u0627\u0644\u0629</h3>\r\n                <canvas id=\"requestStatusChart\"></canvas>\r\n            </div>\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629</h3>\r\n                <canvas id=\"monthlyRevenueChart\"></canvas>\r\n            </div>\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\u0646\u0645\u0648 \u0627\u0644\u0639\u0645\u0644\u0627\u0621</h3>\r\n                <canvas id=\"customerGrowthChart\"></canvas>\r\n            </div>\r\n            <div class=\"bg-white rounded-xl shadow-lg p-6\">\r\n                <h3 class=\"text-xl font-bold text-gray-800 mb-4\">\u0623\u062F\u0627\u0621 \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646</h3>\r\n                <canvas id=\"employeePerformanceChart\"></canvas>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Performance Metrics Table -->\r\n        <div id=\"metricsTable\" class=\"bg-white rounded-xl shadow-lg overflow-hidden mb-8\" style=\"display: none;\">\r\n            <div class=\"p-6 border-b\">\r\n                <h2 class=\"text-2xl font-bold text-gray-800\">\r\n                    <i class=\"fas fa-chart-bar ml-2\"></i>\r\n                    \u0645\u0642\u0627\u064A\u064A\u0633 \u0627\u0644\u0623\u062F\u0627\u0621 \u0627\u0644\u062A\u0641\u0635\u064A\u0644\u064A\u0629\r\n                </h2>\r\n            </div>\r\n            <div class=\"p-6\">\r\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                    <div class=\"border rounded-lg p-4\">\r\n                        <h4 class=\"font-bold text-gray-700 mb-3\">\u0645\u0639\u062F\u0644\u0627\u062A \u0627\u0644\u062A\u062D\u0648\u064A\u0644</h4>\r\n                        <div class=\"space-y-2\">\r\n                            <div class=\"flex justify-between\">\r\n                                <span class=\"text-gray-600\">\u0645\u0646 \u0632\u0627\u0626\u0631 \u0625\u0644\u0649 \u0639\u0645\u064A\u0644:</span>\r\n                                <span class=\"font-bold text-blue-600\" id=\"conversionRate\">-</span>\r\n                            </div>\r\n                            <div class=\"flex justify-between\">\r\n                                <span class=\"text-gray-600\">\u0645\u0646 \u0639\u0645\u064A\u0644 \u0625\u0644\u0649 \u0637\u0644\u0628:</span>\r\n                                <span class=\"font-bold text-blue-600\" id=\"requestRate\">-</span>\r\n                            </div>\r\n                            <div class=\"flex justify-between\">\r\n                                <span class=\"text-gray-600\">\u0645\u0639\u062F\u0644 \u0625\u062A\u0645\u0627\u0645 \u0627\u0644\u0637\u0644\u0628\u0627\u062A:</span>\r\n                                <span class=\"font-bold text-blue-600\" id=\"completionRate\">-</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"border rounded-lg p-4\">\r\n                        <h4 class=\"font-bold text-gray-700 mb-3\">\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0623\u0648\u0642\u0627\u062A</h4>\r\n                        <div class=\"space-y-2\">\r\n                            <div class=\"flex justify-between\">\r\n                                <span class=\"text-gray-600\">\u0648\u0642\u062A \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0637\u0644\u0628:</span>\r\n                                <span class=\"font-bold text-green-600\" id=\"avgProcessingTime\">-</span>\r\n                            </div>\r\n                            <div class=\"flex justify-between\">\r\n                                <span class=\"text-gray-600\">\u0648\u0642\u062A \u0627\u0644\u0631\u062F \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u064A\u0644:</span>\r\n                                <span class=\"font-bold text-green-600\" id=\"avgResponseTime\">-</span>\r\n                            </div>\r\n                            <div class=\"flex justify-between\">\r\n                                <span class=\"text-gray-600\">\u062F\u0648\u0631\u0629 \u062D\u064A\u0627\u0629 \u0627\u0644\u0639\u0645\u064A\u0644:</span>\r\n                                <span class=\"font-bold text-green-600\" id=\"customerLifecycle\">-</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"border rounded-lg p-4\">\r\n                        <h4 class=\"font-bold text-gray-700 mb-3\">\u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u064A\u0629</h4>\r\n                        <div class=\"space-y-2\">\r\n                            <div class=\"flex justify-between\">\r\n                                <span class=\"text-gray-600\">\u0645\u062A\u0648\u0633\u0637 \u0642\u064A\u0645\u0629 \u0627\u0644\u0637\u0644\u0628:</span>\r\n                                <span class=\"font-bold text-purple-600\" id=\"avgOrderValue\">-</span>\r\n                            </div>\r\n                            <div class=\"flex justify-between\">\r\n                                <span class=\"text-gray-600\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A:</span>\r\n                                <span class=\"font-bold text-purple-600\" id=\"totalRevenue\">-</span>\r\n                            </div>\r\n                            <div class=\"flex justify-between\">\r\n                                <span class=\"text-gray-600\">\u0646\u0645\u0648 \u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A:</span>\r\n                                <span class=\"font-bold text-purple-600\" id=\"revenueGrowth\">-</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Top Performers -->\r\n        <div id=\"topPerformers\" class=\"bg-white rounded-xl shadow-lg overflow-hidden\" style=\"display: none;\">\r\n            <div class=\"p-6 border-b\">\r\n                <h2 class=\"text-2xl font-bold text-gray-800\">\r\n                    <i class=\"fas fa-trophy ml-2\"></i>\r\n                    \u0623\u0641\u0636\u0644 \u0627\u0644\u0623\u062F\u0627\u0621\u0627\u062A\r\n                </h2>\r\n            </div>\r\n            <div class=\"overflow-x-auto\">\r\n                <table class=\"min-w-full\">\r\n                    <thead class=\"bg-gray-50\">\r\n                        <tr>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0645\u0631\u062A\u0628\u0629</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0627\u0633\u0645</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0639\u062F\u062F \u0627\u0644\u0639\u0645\u0644\u0627\u0621</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0639\u062F\u062F \u0627\u0644\u0637\u0644\u0628\u0627\u062A</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0645\u0642\u0628\u0648\u0644\u0629</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0645\u0639\u062F\u0644 \u0627\u0644\u0646\u062C\u0627\u062D</th>\r\n                            <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062A\u0645\u0648\u064A\u0644</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"topPerformersBody\" class=\"bg-white divide-y divide-gray-200\">\r\n                        <!-- Rows will be inserted here -->\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script>\r\n        let performanceData = null;\r\n        let charts = {};\r\n\r\n        async function loadPerformanceReport() {\r\n            try {\r\n                const token = localStorage.getItem('authToken') || localStorage.getItem('token');\r\n                if (!token) {\r\n                    window.location.href = '/login';\r\n                    return;\r\n                }\r\n\r\n                const startDate = document.getElementById('startDate').value;\r\n                const endDate = document.getElementById('endDate').value;\r\n\r\n                let url = '/api/reports/performance';\r\n                const params = new URLSearchParams();\r\n                if (startDate) params.append('start_date', startDate);\r\n                if (endDate) params.append('end_date', endDate);\r\n                if (params.toString()) url += '?' + params.toString();\r\n\r\n                const response = await fetch(url, {\r\n                    headers: { 'Authorization': 'Bearer ' + token }\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    throw new Error('Failed to load performance report');\r\n                }\r\n\r\n                performanceData = await response.json();\r\n\r\n                // Hide loading, show content\r\n                document.getElementById('loading').style.display = 'none';\r\n                document.getElementById('kpiCards').style.display = 'grid';\r\n                document.getElementById('charts').style.display = 'grid';\r\n                document.getElementById('metricsTable').style.display = 'block';\r\n                document.getElementById('topPerformers').style.display = 'block';\r\n\r\n                // Render all sections\r\n                renderKPICards();\r\n                renderCharts();\r\n                renderMetrics();\r\n                renderTopPerformers();\r\n\r\n            } catch (error) {\r\n                console.error('Error loading performance report:', error);\r\n                document.getElementById('loading').innerHTML = \\`\r\n                    <div class=\"text-center py-12\">\r\n                        <i class=\"fas fa-exclamation-triangle text-6xl text-red-600\"></i>\r\n                        <p class=\"mt-4 text-xl text-red-600\">\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0642\u0631\u064A\u0631</p>\r\n                        <p class=\"text-gray-600\">\\${error.message}</p>\r\n                    </div>\r\n                \\`;\r\n            }\r\n        }\r\n\r\n        function renderKPICards() {\r\n            const kpis = [\r\n                { title: '\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A', value: performanceData.total_requests, icon: 'fa-file-alt', color: 'blue', trend: '+12%' },\r\n                { title: '\u0645\u0639\u062F\u0644 \u0627\u0644\u0642\u0628\u0648\u0644', value: performanceData.approval_rate + '%', icon: 'fa-check-circle', color: 'green', trend: '+5%' },\r\n                { title: '\u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0627\u0644\u0646\u0634\u0637\u064A\u0646', value: performanceData.active_customers, icon: 'fa-users', color: 'purple', trend: '+8%' },\r\n                { title: '\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629', value: formatCurrency(performanceData.monthly_revenue), icon: 'fa-dollar-sign', color: 'yellow', trend: '+15%' }\r\n            ];\r\n\r\n            const html = kpis.map(kpi => \\`\r\n                <div class=\"stat-card bg-white rounded-xl shadow-lg p-6\">\r\n                    <div class=\"flex items-center justify-between mb-2\">\r\n                        <span class=\"text-gray-500 text-sm font-medium\">\\${kpi.title}</span>\r\n                        <span class=\"text-green-600 text-sm font-bold\">\\${kpi.trend}</span>\r\n                    </div>\r\n                    <div class=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <p class=\"text-3xl font-bold text-gray-800\">\\${kpi.value}</p>\r\n                        </div>\r\n                        <div class=\"bg-\\${kpi.color}-100 rounded-full p-3\">\r\n                            <i class=\"fas \\${kpi.icon} text-2xl text-\\${kpi.color}-600\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            \\`).join('');\r\n\r\n            document.getElementById('kpiCards').innerHTML = html;\r\n        }\r\n\r\n        function renderCharts() {\r\n            // Chart 1: Request Status\r\n            const ctx1 = document.getElementById('requestStatusChart').getContext('2d');\r\n            if (charts.requestStatus) charts.requestStatus.destroy();\r\n            charts.requestStatus = new Chart(ctx1, {\r\n                type: 'pie',\r\n                data: {\r\n                    labels: ['\u0642\u064A\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629', '\u0645\u0642\u0628\u0648\u0644', '\u0645\u0631\u0641\u0648\u0636'],\r\n                    datasets: [{\r\n                        data: [\r\n                            performanceData.pending_requests,\r\n                            performanceData.approved_requests,\r\n                            performanceData.rejected_requests\r\n                        ],\r\n                        backgroundColor: ['#fbbf24', '#10b981', '#ef4444']\r\n                    }]\r\n                }\r\n            });\r\n\r\n            // Chart 2: Monthly Revenue (dummy data)\r\n            const ctx2 = document.getElementById('monthlyRevenueChart').getContext('2d');\r\n            if (charts.monthlyRevenue) charts.monthlyRevenue.destroy();\r\n            charts.monthlyRevenue = new Chart(ctx2, {\r\n                type: 'line',\r\n                data: {\r\n                    labels: ['\u064A\u0646\u0627\u064A\u0631', '\u0641\u0628\u0631\u0627\u064A\u0631', '\u0645\u0627\u0631\u0633', '\u0623\u0628\u0631\u064A\u0644', '\u0645\u0627\u064A\u0648', '\u064A\u0648\u0646\u064A\u0648'],\r\n                    datasets: [{\r\n                        label: '\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A',\r\n                        data: [120000, 150000, 180000, 220000, 260000, 300000],\r\n                        borderColor: '#8b5cf6',\r\n                        backgroundColor: 'rgba(139, 92, 246, 0.1)',\r\n                        fill: true\r\n                    }]\r\n                }\r\n            });\r\n\r\n            // Chart 3: Customer Growth (dummy data)\r\n            const ctx3 = document.getElementById('customerGrowthChart').getContext('2d');\r\n            if (charts.customerGrowth) charts.customerGrowth.destroy();\r\n            charts.customerGrowth = new Chart(ctx3, {\r\n                type: 'bar',\r\n                data: {\r\n                    labels: ['\u064A\u0646\u0627\u064A\u0631', '\u0641\u0628\u0631\u0627\u064A\u0631', '\u0645\u0627\u0631\u0633', '\u0623\u0628\u0631\u064A\u0644', '\u0645\u0627\u064A\u0648', '\u064A\u0648\u0646\u064A\u0648'],\r\n                    datasets: [{\r\n                        label: '\u0639\u0645\u0644\u0627\u0621 \u062C\u062F\u062F',\r\n                        data: [10, 15, 25, 30, 35, 40],\r\n                        backgroundColor: '#3b82f6'\r\n                    }]\r\n                }\r\n            });\r\n\r\n            // Chart 4: Employee Performance (dummy data)\r\n            const ctx4 = document.getElementById('employeePerformanceChart').getContext('2d');\r\n            if (charts.employeePerformance) charts.employeePerformance.destroy();\r\n            charts.employeePerformance = new Chart(ctx4, {\r\n                type: 'radar',\r\n                data: {\r\n                    labels: ['\u062C\u0648\u062F\u0629 \u0627\u0644\u062E\u062F\u0645\u0629', '\u0633\u0631\u0639\u0629 \u0627\u0644\u0623\u062F\u0627\u0621', '\u0631\u0636\u0627 \u0627\u0644\u0639\u0645\u0644\u0627\u0621', '\u0645\u0639\u062F\u0644 \u0627\u0644\u0625\u063A\u0644\u0627\u0642', '\u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645'],\r\n                    datasets: [{\r\n                        label: '\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0623\u062F\u0627\u0621',\r\n                        data: [85, 90, 88, 92, 95],\r\n                        backgroundColor: 'rgba(16, 185, 129, 0.2)',\r\n                        borderColor: '#10b981'\r\n                    }]\r\n                }\r\n            });\r\n        }\r\n\r\n        function renderMetrics() {\r\n            document.getElementById('conversionRate').textContent = performanceData.conversion_rate + '%';\r\n            document.getElementById('requestRate').textContent = performanceData.request_rate + '%';\r\n            document.getElementById('completionRate').textContent = performanceData.completion_rate + '%';\r\n            \r\n            document.getElementById('avgProcessingTime').textContent = performanceData.avg_processing_time + ' \u064A\u0648\u0645';\r\n            document.getElementById('avgResponseTime').textContent = performanceData.avg_response_time + ' \u0633\u0627\u0639\u0629';\r\n            document.getElementById('customerLifecycle').textContent = performanceData.customer_lifecycle + ' \u064A\u0648\u0645';\r\n            \r\n            document.getElementById('avgOrderValue').textContent = formatCurrency(performanceData.avg_order_value);\r\n            document.getElementById('totalRevenue').textContent = formatCurrency(performanceData.total_revenue);\r\n            document.getElementById('revenueGrowth').textContent = performanceData.revenue_growth + '%';\r\n        }\r\n\r\n        function renderTopPerformers() {\r\n            const performers = performanceData.top_performers || [];\r\n            const tbody = document.getElementById('topPerformersBody');\r\n            \r\n            const rows = performers.map((p, index) => \\`\r\n                <tr class=\"hover:bg-gray-50\">\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span class=\"inline-flex items-center justify-center w-8 h-8 rounded-full \\${index < 3 ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800'} font-bold\">\r\n                            \\${index + 1}\r\n                        </span>\r\n                    </td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap font-medium\">\\${p.name}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\\${p.customers_count}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\\${p.requests_count}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap text-green-600 font-bold\">\\${p.approved_count}</td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span class=\"px-3 py-1 rounded-full text-sm font-bold bg-blue-100 text-blue-800\">\r\n                            \\${p.success_rate}%\r\n                        </span>\r\n                    </td>\r\n                    <td class=\"px-6 py-4 whitespace-nowrap text-purple-600 font-bold\">\\${formatCurrency(p.total_amount)}</td>\r\n                </tr>\r\n            \\`).join('');\r\n\r\n            tbody.innerHTML = rows || '<tr><td colspan=\"7\" class=\"text-center py-8 text-gray-500\">\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A</td></tr>';\r\n        }\r\n\r\n        function formatCurrency(amount) {\r\n            if (!amount) return '0 \u0631\u064A\u0627\u0644';\r\n            return parseFloat(amount).toLocaleString('ar-SA') + ' \u0631\u064A\u0627\u0644';\r\n        }\r\n\r\n        function exportToExcel() {\r\n            alert('\u062C\u0627\u0631\u064A \u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A...');\r\n            // Export implementation\r\n        }\r\n\r\n        // Set default dates (last 30 days)\r\n        const today = new Date();\r\n        const lastMonth = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000);\r\n        document.getElementById('endDate').valueAsDate = today;\r\n        document.getElementById('startDate').valueAsDate = lastMonth;\r\n\r\n        // Load report on page load\r\n        loadPerformanceReport();\r\n    </script>\r\n</body>\r\n</html>\r\n`;\r\n", "/**\n * Determines if the current process is a Node.js process.\n */\nexport function isNodeProcess(): boolean {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return true\n  }\n\n  if (typeof process !== 'undefined') {\n    // Electron (https://www.electronjs.org/docs/latest/api/process#processtype-readonly)\n    const type = (process as any).type\n    if (type === 'renderer' || type === 'worker') {\n      return false\n    }\n\n\n    return !!(\n      process.versions &&\n      process.versions.node\n    )\n  }\n\n  return false\n}\n", "// common util interface for blob raw commands, not meant to be used directly\n// this is why it's not exported from index/client\n\nimport type { Readable } from 'node:stream';\nimport type { RequestInit, Response } from 'undici';\nimport { isNodeProcess } from 'is-node-process';\nimport { isNodeJsReadableStream } from './multipart/helpers';\nimport type { PutBody } from './put-helpers';\n\nexport { bytes } from './bytes';\n\nexport interface BlobCommandOptions {\n  /**\n   * Define your blob API token.\n   * @defaultvalue process.env.BLOB_READ_WRITE_TOKEN\n   */\n  token?: string;\n  /**\n   * `AbortSignal` to cancel the running request. See https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal\n   */\n  abortSignal?: AbortSignal;\n}\n\n// shared interface for put, copy and multipartUpload\nexport interface CommonCreateBlobOptions extends BlobCommandOptions {\n  /**\n   * Whether the blob should be publicly accessible.\n   */\n  access: 'public';\n  /**\n   * Adds a random suffix to the filename.\n   * @defaultvalue true\n   */\n  addRandomSuffix?: boolean;\n  /**\n   * Defines the content type of the blob. By default, this value is inferred from the pathname. Sent as the 'content-type' header when downloading a blob.\n   */\n  contentType?: string;\n  /**\n   * Number in seconds to configure the edge and browser cache. The maximum values are 5 minutes for the edge cache and unlimited for the browser cache.\n   * Detailed documentation can be found here: https://vercel.com/docs/storage/vercel-blob#caching\n   * @defaultvalue 365 * 24 * 60 * 60 (1 Year)\n   */\n  cacheControlMaxAge?: number;\n}\n\nexport interface UploadProgressEvent {\n  loaded: number;\n  total: number;\n  percentage: number;\n}\n\nexport type OnUploadProgressCallback = (\n  progressEvent: UploadProgressEvent,\n) => void;\n\nexport type InternalOnUploadProgressCallback = (loaded: number) => void;\n\nexport type BlobRequestInit = Omit<RequestInit, 'body'> & { body?: PutBody };\n\nexport type BlobRequest = ({\n  input,\n  init,\n  onUploadProgress,\n}: {\n  input: string | URL;\n  init: BlobRequestInit;\n  onUploadProgress?: InternalOnUploadProgressCallback;\n}) => Promise<Response>;\n\nexport interface WithUploadProgress {\n  /**\n   * Callback to track the upload progress. You will receive an object with the following properties:\n   * - `loaded`: The number of bytes uploaded\n   * - `total`: The total number of bytes to upload\n   * - `percentage`: The percentage of the upload that has been completed\n   */\n  onUploadProgress?: OnUploadProgressCallback;\n}\n\nexport function getTokenFromOptionsOrEnv(options?: BlobCommandOptions): string {\n  if (options?.token) {\n    return options.token;\n  }\n\n  if (process.env.BLOB_READ_WRITE_TOKEN) {\n    return process.env.BLOB_READ_WRITE_TOKEN;\n  }\n\n  throw new BlobError(\n    'No token found. Either configure the `BLOB_READ_WRITE_TOKEN` environment variable, or pass a `token` option to your calls.',\n  );\n}\n\nexport class BlobError extends Error {\n  constructor(message: string) {\n    super(`Vercel Blob: ${message}`);\n  }\n}\n\nexport function getDownloadUrl(blobUrl: string): string {\n  const url = new URL(blobUrl);\n\n  url.searchParams.set('download', '1');\n\n  return url.toString();\n}\n\n// Extracted from https://github.com/sindresorhus/is-plain-obj/blob/main/index.js\n// It's just nearly impossible to use ESM modules with our current setup\nexport function isPlainObject(value: unknown): boolean {\n  if (typeof value !== 'object' || value === null) {\n    return false;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ok\n  const prototype = Object.getPrototypeOf(value);\n  return (\n    (prototype === null ||\n      prototype === Object.prototype ||\n      Object.getPrototypeOf(prototype) === null) &&\n    !(Symbol.toStringTag in value) &&\n    !(Symbol.iterator in value)\n  );\n}\n\nexport const disallowedPathnameCharacters = ['//'];\n\n// Chrome: implemented https://developer.chrome.com/docs/capabilities/web-apis/fetch-streaming-requests\n// Microsoft Edge: implemented (Chromium)\n// Firefox: not implemented, BOO!! https://bugzilla.mozilla.org/show_bug.cgi?id=1469359\n// Safari: not implemented, BOO!! https://github.com/WebKit/standards-positions/issues/24\nexport const supportsRequestStreams = (() => {\n  // The next line is mostly for Node.js 16 to avoid trying to do new Request() as it's not supported\n  // TODO: Can be removed when Node.js 16 is no more required internally\n  if (isNodeProcess()) {\n    return true;\n  }\n\n  const apiUrl = getApiUrl();\n\n  // Localhost generally doesn't work with HTTP 2 so we can stop here\n  if (apiUrl.startsWith('http://localhost')) {\n    return false;\n  }\n\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(getApiUrl(), {\n    body: new ReadableStream(),\n    method: 'POST',\n    // @ts-expect-error -- TypeScript doesn't yet have duplex but it's in the spec: https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1729\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- could be false\n  return duplexAccessed && !hasContentType;\n})();\n\nexport function getApiUrl(pathname = ''): string {\n  let baseUrl = null;\n  try {\n    // wrapping this code in a try/catch as this function is used in the browser and Vite doesn't define the process.env.\n    // As this varaible is NOT used in production, it will always default to production endpoint\n    baseUrl =\n      process.env.VERCEL_BLOB_API_URL ||\n      process.env.NEXT_PUBLIC_VERCEL_BLOB_API_URL;\n  } catch {\n    // noop\n  }\n\n  return `${baseUrl || 'https://blob.vercel-storage.com'}${pathname}`;\n}\n\nconst TEXT_ENCODER =\n  typeof TextEncoder === 'function' ? new TextEncoder() : null;\n\nexport function computeBodyLength(body: PutBody): number {\n  if (!body) {\n    return 0;\n  }\n\n  if (typeof body === 'string') {\n    if (TEXT_ENCODER) {\n      return TEXT_ENCODER.encode(body).byteLength;\n    }\n\n    // React Native doesn't have TextEncoder\n    return new Blob([body]).size;\n  }\n\n  if ('byteLength' in body && typeof body.byteLength === 'number') {\n    // handles Uint8Array, ArrayBuffer, Buffer, and ArrayBufferView\n    return body.byteLength;\n  }\n\n  if ('size' in body && typeof body.size === 'number') {\n    // handles Blob and File\n    return body.size;\n  }\n\n  return 0;\n}\n\nexport const createChunkTransformStream = (\n  chunkSize: number,\n  onProgress?: (bytes: number) => void,\n): TransformStream<ArrayBuffer | Uint8Array> => {\n  let buffer = new Uint8Array(0);\n\n  return new TransformStream<ArrayBuffer, Uint8Array>({\n    transform(chunk, controller) {\n      queueMicrotask(() => {\n        // Combine the new chunk with any leftover data\n        const newBuffer = new Uint8Array(buffer.length + chunk.byteLength);\n        newBuffer.set(buffer);\n        newBuffer.set(new Uint8Array(chunk), buffer.length);\n        buffer = newBuffer;\n\n        // Output complete chunks\n        while (buffer.length >= chunkSize) {\n          const newChunk = buffer.slice(0, chunkSize);\n          controller.enqueue(newChunk);\n          onProgress?.(newChunk.byteLength);\n          buffer = buffer.slice(chunkSize);\n        }\n      });\n    },\n\n    flush(controller) {\n      queueMicrotask(() => {\n        // Send any remaining data\n        if (buffer.length > 0) {\n          controller.enqueue(buffer);\n          onProgress?.(buffer.byteLength);\n        }\n      });\n    },\n  });\n};\n\nexport function isReadableStream(value: PutBody): value is ReadableStream {\n  return (\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- Not present in Node.js 16\n    globalThis.ReadableStream && // TODO: Can be removed once Node.js 16 is no more required internally\n    value instanceof ReadableStream\n  );\n}\n\nexport function isStream(value: PutBody): value is ReadableStream | Readable {\n  if (isReadableStream(value)) {\n    return true;\n  }\n\n  if (isNodeJsReadableStream(value)) {\n    return true;\n  }\n\n  return false;\n}\n", "// eslint-disable-next-line unicorn/prefer-node-protocol -- node:stream does not resolve correctly in browser and edge\nimport { Readable } from 'stream';\n// eslint-disable-next-line unicorn/prefer-node-protocol -- node:buffer does not resolve correctly in browser and edge\nimport type { Buffer } from 'buffer';\nimport isBuffer from 'is-buffer';\nimport type { PutBody } from '../put-helpers';\n\nexport interface PartInput {\n  partNumber: number;\n  blob: PutBody;\n}\n\nexport interface Part {\n  partNumber: number;\n  etag: string;\n}\n\nconst supportsNewBlobFromArrayBuffer = new Promise<boolean>((resolve) => {\n  // React Native doesn't support creating a Blob from an ArrayBuffer, so we feature detect it\n  try {\n    const helloAsArrayBuffer = new Uint8Array([104, 101, 108, 108, 111]);\n    const blob = new Blob([helloAsArrayBuffer]);\n    blob\n      .text()\n      .then((text) => {\n        resolve(text === 'hello');\n      })\n      .catch(() => {\n        resolve(false);\n      });\n  } catch {\n    resolve(false);\n  }\n});\n\nexport async function toReadableStream(\n  value: PutBody,\n): Promise<ReadableStream<ArrayBuffer | Uint8Array>> {\n  // Already a ReadableStream, nothing to do\n  if (value instanceof ReadableStream) {\n    return value as ReadableStream<ArrayBuffer>;\n  }\n\n  // In the case of a Blob or File (which inherits from Blob), we could use .slice() to create pointers\n  // to the original data instead of loading data in memory gradually.\n  // Here's an explanation on this subject: https://stackoverflow.com/a/24834417\n  if (value instanceof Blob) {\n    return value.stream();\n  }\n\n  if (isNodeJsReadableStream(value)) {\n    return Readable.toWeb(value) as ReadableStream<ArrayBuffer>;\n  }\n\n  let streamValue: Uint8Array;\n\n  // While ArrayBuffer is valid as a fetch body, when used in a ReadableStream it will fail in Node.js with\n  // The \"chunk\" argument must be of type string or an instance of Buffer or Uint8Array. Received an instance of ArrayBuffer\n  if (value instanceof ArrayBuffer) {\n    streamValue = new Uint8Array(value);\n  } else if (isNodeJsBuffer(value)) {\n    streamValue = value;\n  } else {\n    // value is a string, we need to convert it to a Uint8Array to get create a stream from it\n    streamValue = stringToUint8Array(value as string);\n  }\n\n  // This line ensures that even when we get a buffer of 70MB, we'll create a stream out of it so we can have\n  // better progress indication during uploads\n  if (await supportsNewBlobFromArrayBuffer) {\n    return new Blob([streamValue]).stream();\n  }\n\n  // from https://github.com/sindresorhus/to-readable-stream/blob/main/index.js\n  return new ReadableStream<ArrayBuffer | Uint8Array>({\n    start(controller) {\n      controller.enqueue(streamValue);\n      controller.close();\n    },\n  });\n}\n\n// From https://github.com/sindresorhus/is-stream/\nexport function isNodeJsReadableStream(value: PutBody): value is Readable {\n  return (\n    typeof value === 'object' &&\n    typeof (value as Readable).pipe === 'function' &&\n    (value as Readable).readable &&\n    typeof (value as Readable)._read === 'function' &&\n    // @ts-expect-error _readableState does exists on Readable\n    typeof value._readableState === 'object'\n  );\n}\n\nfunction stringToUint8Array(s: string): Uint8Array {\n  const enc = new TextEncoder();\n  return enc.encode(s);\n}\n\nfunction isNodeJsBuffer(value: PutBody): value is Buffer {\n  return isBuffer(value);\n}\n", "/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n// from https://github.com/visionmedia/bytes.js/blob/master/index.js\n// had too many issues with bundling: https://github.com/vercel/storage/issues/818\ntype ByteUnit = 'b' | 'kb' | 'mb' | 'gb' | 'tb' | 'pb';\n\ntype ByteUnitMap = {\n  readonly [_K in ByteUnit]: number;\n};\n\n// eslint-disable-next-line prefer-named-capture-group -- fine\nconst parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\nconst map: ByteUnitMap = {\n  b: 1,\n  // eslint-disable-next-line no-bitwise -- fine\n  kb: 1 << 10,\n  // eslint-disable-next-line no-bitwise -- fine\n  mb: 1 << 20,\n  // eslint-disable-next-line no-bitwise -- fine\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nexport function bytes(val: string | number): number | null {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  const results = parseRegExp.exec(val);\n  let floatValue: number;\n  let unit: ByteUnit = 'b';\n\n  if (!results) {\n    floatValue = parseInt(val, 10);\n  } else {\n    const [, res, , , unitMatch] = results;\n    if (!res) {\n      return null;\n    }\n    floatValue = parseFloat(res);\n    if (unitMatch) {\n      unit = unitMatch.toLowerCase() as ByteUnit;\n    }\n  }\n\n  if (isNaN(floatValue)) {\n    return null;\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n", "import type { Response } from 'undici';\nimport retry from 'async-retry';\nimport isNetworkError from './is-network-error';\nimport { debug } from './debug';\nimport type {\n  BlobCommandOptions,\n  BlobRequestInit,\n  WithUploadProgress,\n} from './helpers';\nimport {\n  BlobError,\n  computeBodyLength,\n  getApiUrl,\n  getTokenFromOptionsOrEnv,\n} from './helpers';\nimport { blobRequest } from './request';\nimport { DOMException } from './dom-exception';\n\n// maximum pathname length is:\n// 1024 (provider limit) - 26 chars (vercel  internal suffixes) - 31 chars (blob `-randomId` suffix) = 967\n// we round it to 950 to make it more human friendly, and we apply the limit whatever the value of\n// addRandomSuffix is, to make it consistent\nexport const MAXIMUM_PATHNAME_LENGTH = 950;\n\nexport class BlobAccessError extends BlobError {\n  constructor() {\n    super('Access denied, please provide a valid token for this resource.');\n  }\n}\n\nexport class BlobContentTypeNotAllowedError extends BlobError {\n  constructor(message: string) {\n    super(`Content type mismatch, ${message}.`);\n  }\n}\n\nexport class BlobPathnameMismatchError extends BlobError {\n  constructor(message: string) {\n    super(\n      `Pathname mismatch, ${message}. Check the pathname used in upload() or put() matches the one from the client token.`,\n    );\n  }\n}\n\nexport class BlobClientTokenExpiredError extends BlobError {\n  constructor() {\n    super('Client token has expired.');\n  }\n}\n\nexport class BlobFileTooLargeError extends BlobError {\n  constructor(message: string) {\n    super(`File is too large, ${message}.`);\n  }\n}\n\nexport class BlobStoreNotFoundError extends BlobError {\n  constructor() {\n    super('This store does not exist.');\n  }\n}\n\nexport class BlobStoreSuspendedError extends BlobError {\n  constructor() {\n    super('This store has been suspended.');\n  }\n}\n\nexport class BlobUnknownError extends BlobError {\n  constructor() {\n    super('Unknown error, please visit https://vercel.com/help.');\n  }\n}\n\nexport class BlobNotFoundError extends BlobError {\n  constructor() {\n    super('The requested blob does not exist');\n  }\n}\n\nexport class BlobServiceNotAvailable extends BlobError {\n  constructor() {\n    super('The blob service is currently not available. Please try again.');\n  }\n}\n\nexport class BlobServiceRateLimited extends BlobError {\n  public readonly retryAfter: number;\n\n  constructor(seconds?: number) {\n    super(\n      `Too many requests please lower the number of concurrent requests ${\n        seconds ? ` - try again in ${seconds} seconds` : ''\n      }.`,\n    );\n\n    this.retryAfter = seconds ?? 0;\n  }\n}\n\nexport class BlobRequestAbortedError extends BlobError {\n  constructor() {\n    super('The request was aborted.');\n  }\n}\n\ntype BlobApiErrorCodes =\n  | 'store_suspended'\n  | 'forbidden'\n  | 'not_found'\n  | 'unknown_error'\n  | 'bad_request'\n  | 'store_not_found'\n  | 'not_allowed'\n  | 'service_unavailable'\n  | 'rate_limited'\n  | 'content_type_not_allowed'\n  | 'client_token_pathname_mismatch'\n  | 'client_token_expired'\n  | 'file_too_large';\n\nexport interface BlobApiError {\n  error?: { code?: BlobApiErrorCodes; message?: string };\n}\n\n// This version is used to ensure that the client and server are compatible\n// The server (Vercel Blob API) uses this information to change its behavior like the\n// response format\nconst BLOB_API_VERSION = 9;\n\nfunction getApiVersion(): string {\n  let versionOverride = null;\n  try {\n    // wrapping this code in a try/catch as this function is used in the browser and Vite doesn't define the process.env.\n    // As this varaible is NOT used in production, it will always default to the BLOB_API_VERSION\n    versionOverride =\n      process.env.VERCEL_BLOB_API_VERSION_OVERRIDE ||\n      process.env.NEXT_PUBLIC_VERCEL_BLOB_API_VERSION_OVERRIDE;\n  } catch {\n    // noop\n  }\n\n  return `${versionOverride ?? BLOB_API_VERSION}`;\n}\n\nfunction getRetries(): number {\n  try {\n    const retries = process.env.VERCEL_BLOB_RETRIES || '10';\n\n    return parseInt(retries, 10);\n  } catch {\n    return 10;\n  }\n}\n\nfunction createBlobServiceRateLimited(\n  response: Response,\n): BlobServiceRateLimited {\n  const retryAfter = response.headers.get('retry-after');\n\n  return new BlobServiceRateLimited(\n    retryAfter ? parseInt(retryAfter, 10) : undefined,\n  );\n}\n\n// reads the body of a error response\nasync function getBlobError(\n  response: Response,\n): Promise<{ code: string; error: BlobError }> {\n  let code: BlobApiErrorCodes;\n  let message: string | undefined;\n\n  try {\n    const data = (await response.json()) as BlobApiError;\n    code = data.error?.code ?? 'unknown_error';\n    message = data.error?.message;\n  } catch {\n    code = 'unknown_error';\n  }\n\n  // Now that we have multiple API clients out in the wild handling errors, we can't just send a different\n  // error code for this type of error. We need to add a new field in the API response to handle this correctly,\n  // but for now, we can just check the message.\n  if (message?.includes('contentType') && message.includes('is not allowed')) {\n    code = 'content_type_not_allowed';\n  }\n\n  if (\n    message?.includes('\"pathname\"') &&\n    message.includes('does not match the token payload')\n  ) {\n    code = 'client_token_pathname_mismatch';\n  }\n\n  if (message === 'Token expired') {\n    code = 'client_token_expired';\n  }\n\n  if (message?.includes('the file length cannot be greater than')) {\n    code = 'file_too_large';\n  }\n\n  let error: BlobError;\n  switch (code) {\n    case 'store_suspended':\n      error = new BlobStoreSuspendedError();\n      break;\n    case 'forbidden':\n      error = new BlobAccessError();\n      break;\n    case 'content_type_not_allowed':\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- TS, be smarter\n      error = new BlobContentTypeNotAllowedError(message!);\n      break;\n    case 'client_token_pathname_mismatch':\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- TS, be smarter\n      error = new BlobPathnameMismatchError(message!);\n      break;\n    case 'client_token_expired':\n      error = new BlobClientTokenExpiredError();\n      break;\n    case 'file_too_large':\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- TS, be smarter\n      error = new BlobFileTooLargeError(message!);\n      break;\n    case 'not_found':\n      error = new BlobNotFoundError();\n      break;\n    case 'store_not_found':\n      error = new BlobStoreNotFoundError();\n      break;\n    case 'bad_request':\n      error = new BlobError(message ?? 'Bad request');\n      break;\n    case 'service_unavailable':\n      error = new BlobServiceNotAvailable();\n      break;\n    case 'rate_limited':\n      error = createBlobServiceRateLimited(response);\n      break;\n    case 'unknown_error':\n    case 'not_allowed':\n    default:\n      error = new BlobUnknownError();\n      break;\n  }\n\n  return { code, error };\n}\n\nexport async function requestApi<TResponse>(\n  pathname: string,\n  init: BlobRequestInit,\n  commandOptions: (BlobCommandOptions & WithUploadProgress) | undefined,\n): Promise<TResponse> {\n  const apiVersion = getApiVersion();\n  const token = getTokenFromOptionsOrEnv(commandOptions);\n  const extraHeaders = getProxyThroughAlternativeApiHeaderFromEnv();\n\n  const [, , , storeId = ''] = token.split('_');\n  const requestId = `${storeId}:${Date.now()}:${Math.random().toString(16).slice(2)}`;\n  let retryCount = 0;\n  let bodyLength = 0;\n  let totalLoaded = 0;\n  const sendBodyLength =\n    commandOptions?.onUploadProgress || shouldUseXContentLength();\n\n  if (\n    init.body &&\n    // 1. For upload progress we always need to know the total size of the body\n    // 2. In development we need the header for put() to work correctly when passing a stream\n    sendBodyLength\n  ) {\n    bodyLength = computeBodyLength(init.body);\n  }\n\n  if (commandOptions?.onUploadProgress) {\n    commandOptions.onUploadProgress({\n      loaded: 0,\n      total: bodyLength,\n      percentage: 0,\n    });\n  }\n\n  const apiResponse = await retry(\n    async (bail) => {\n      let res: Response;\n\n      // try/catch here to treat certain errors as not-retryable\n      try {\n        res = await blobRequest({\n          input: getApiUrl(pathname),\n          init: {\n            ...init,\n            headers: {\n              'x-api-blob-request-id': requestId,\n              'x-api-blob-request-attempt': String(retryCount),\n              'x-api-version': apiVersion,\n              ...(sendBodyLength\n                ? { 'x-content-length': String(bodyLength) }\n                : {}),\n              authorization: `Bearer ${token}`,\n              ...extraHeaders,\n              ...init.headers,\n            },\n          },\n          onUploadProgress: commandOptions?.onUploadProgress\n            ? (loaded) => {\n                const total = bodyLength !== 0 ? bodyLength : loaded;\n                totalLoaded = loaded;\n                const percentage =\n                  bodyLength > 0\n                    ? Number(((loaded / total) * 100).toFixed(2))\n                    : 0;\n\n                // Leave percentage 100 for the end of request\n                if (percentage === 100 && bodyLength > 0) {\n                  return;\n                }\n\n                commandOptions.onUploadProgress?.({\n                  loaded,\n                  // When passing a stream to put(), we have no way to know the total size of the body.\n                  // Instead of defining total as total?: number we decided to set the total to the currently\n                  // loaded number. This is not inaccurate and way more practical for DX.\n                  // Passing down a stream to put() is very rare\n                  total,\n                  percentage,\n                });\n              }\n            : undefined,\n        });\n      } catch (error) {\n        // if the request was aborted, don't retry\n        if (error instanceof DOMException && error.name === 'AbortError') {\n          bail(new BlobRequestAbortedError());\n          return;\n        }\n\n        // We specifically target network errors because fetch network errors are regular TypeErrors\n        // We want to retry for network errors, but not for other TypeErrors\n        if (isNetworkError(error)) {\n          throw error;\n        }\n\n        // If we messed up the request part, don't even retry\n        if (error instanceof TypeError) {\n          bail(error);\n          return;\n        }\n\n        // retry for any other erros thrown by fetch\n        throw error;\n      }\n\n      if (res.ok) {\n        return res;\n      }\n\n      const { code, error } = await getBlobError(res);\n\n      // only retry for certain errors\n      if (\n        code === 'unknown_error' ||\n        code === 'service_unavailable' ||\n        code === 'internal_server_error'\n      ) {\n        throw error;\n      }\n\n      // don't retry for e.g. suspended stores\n      bail(error);\n    },\n    {\n      retries: getRetries(),\n      onRetry: (error) => {\n        if (error instanceof Error) {\n          debug(`retrying API request to ${pathname}`, error.message);\n        }\n\n        retryCount = retryCount + 1;\n      },\n    },\n  );\n\n  if (!apiResponse) {\n    throw new BlobUnknownError();\n  }\n\n  // Calling onUploadProgress here has two benefits:\n  // 1. It ensures 100% is only reached at the end of the request. While otherwise you can reach 100%\n  // before the request is fully done, as we only really measure what gets sent over the wire, not what\n  // has been processed by the server.\n  // 2. It makes the uploadProgress \"work\" even in rare cases where fetch/xhr onprogress is not working\n  // And in the case of multipart uploads it actually provides a simple progress indication (per part)\n  if (commandOptions?.onUploadProgress) {\n    commandOptions.onUploadProgress({\n      loaded: totalLoaded,\n      total: totalLoaded,\n      percentage: 100,\n    });\n  }\n\n  return (await apiResponse.json()) as TResponse;\n}\n\nfunction getProxyThroughAlternativeApiHeaderFromEnv(): {\n  'x-proxy-through-alternative-api'?: string;\n} {\n  const extraHeaders: Record<string, string> = {};\n\n  try {\n    if (\n      'VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API' in process.env &&\n      process.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API !== undefined\n    ) {\n      extraHeaders['x-proxy-through-alternative-api'] =\n        process.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API;\n    } else if (\n      'NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API' in process.env &&\n      process.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API !==\n        undefined\n    ) {\n      extraHeaders['x-proxy-through-alternative-api'] =\n        process.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API;\n    }\n  } catch {\n    // noop\n  }\n\n  return extraHeaders;\n}\n\nfunction shouldUseXContentLength(): boolean {\n  try {\n    return process.env.VERCEL_BLOB_USE_X_CONTENT_LENGTH === '1';\n  } catch {\n    return false;\n  }\n}\n", "/* eslint-disable -- This file is copy pasted*/\n// @ts-nocheck -- This file is copy pasted\n\n// Source: https://github.com/sindresorhus/is-network-error/blob/main/index.js\n// Why: Jest + ES6 modules = harder than maintaining a nuclear plant\n\n/**\n * MIT License\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst objectToString = Object.prototype.toString;\n\nconst isError = (value) => objectToString.call(value) === '[object Error]';\n\nconst errorMessages = new Set([\n  'network error', // Chrome\n  'Failed to fetch', // Chrome\n  'NetworkError when attempting to fetch resource.', // Firefox\n  'The Internet connection appears to be offline.', // Safari 16\n  'Load failed', // Safari 17+\n  'Network request failed', // `cross-fetch`\n  'fetch failed', // Undici (Node.js)\n  'terminated', // Undici (Node.js)\n]);\n\nexport default function isNetworkError(error) {\n  const isValid =\n    error &&\n    isError(error) &&\n    error.name === 'TypeError' &&\n    typeof error.message === 'string';\n\n  if (!isValid) {\n    return false;\n  }\n\n  // We do an extra check for Safari 17+ as it has a very generic error message.\n  // Network errors in Safari have no stack.\n  if (error.message === 'Load failed') {\n    return error.stack === undefined;\n  }\n\n  return errorMessages.has(error.message);\n}\n", "let debugIsActive = false;\n\n// wrapping this code in a try/catch in case some env doesn't support process.env (vite by default)\ntry {\n  if (\n    process.env.DEBUG?.includes('blob') ||\n    process.env.NEXT_PUBLIC_DEBUG?.includes('blob')\n  ) {\n    debugIsActive = true;\n  }\n} catch (error) {\n  // noop\n}\n\n// Set process.env.DEBUG = 'blob' to enable debug logging\nexport function debug(message: string, ...args: unknown[]): void {\n  if (debugIsActive) {\n    // eslint-disable-next-line no-console -- Ok for debugging\n    console.debug(`vercel-blob: ${message}`, ...args);\n  }\n}\n", "import type { BodyInit } from 'undici';\nimport { fetch } from 'undici';\nimport type { BlobRequest } from './helpers';\nimport {\n  createChunkTransformStream,\n  isStream,\n  supportsRequestStreams,\n} from './helpers';\nimport { toReadableStream } from './multipart/helpers';\nimport type { PutBody } from './put-helpers';\nimport { debug } from './debug';\n\nexport const hasFetch = typeof fetch === 'function';\n\nexport const hasFetchWithUploadProgress = hasFetch && supportsRequestStreams;\n\nconst CHUNK_SIZE = 64 * 1024;\n\nexport const blobFetch: BlobRequest = async ({\n  input,\n  init,\n  onUploadProgress,\n}) => {\n  debug('using fetch');\n  let body: BodyInit | undefined;\n\n  if (init.body) {\n    if (onUploadProgress) {\n      // We transform the body to a stream here instead of at the call site\n      // So that on retries we can reuse the original body, otherwise we would not be able to reuse it\n      const stream = await toReadableStream(init.body);\n\n      let loaded = 0;\n\n      const chunkTransformStream = createChunkTransformStream(\n        CHUNK_SIZE,\n        (newLoaded: number) => {\n          loaded += newLoaded;\n          onUploadProgress(loaded);\n        },\n      );\n\n      body = stream.pipeThrough(chunkTransformStream);\n    } else {\n      body = init.body as BodyInit;\n    }\n  }\n\n  // Only set duplex option when supported and dealing with a stream body\n  const duplex =\n    supportsRequestStreams && body && isStream(body as PutBody)\n      ? 'half'\n      : undefined;\n\n  return fetch(\n    input,\n    // @ts-expect-error -- Blob and Nodejs Blob are triggering type errors, fine with it\n    {\n      ...init,\n      ...(init.body ? { body } : {}),\n      duplex,\n    },\n  );\n};\n", "import type { Response as UndiciResponse } from 'undici';\nimport { isReadableStream, type BlobRequest } from './helpers';\nimport { debug } from './debug';\n\nexport const hasXhr = typeof XMLHttpRequest !== 'undefined';\n\nexport const blobXhr: BlobRequest = async ({\n  input,\n  init,\n  onUploadProgress,\n}) => {\n  debug('using xhr');\n  let body: XMLHttpRequestBodyInit | null = null;\n\n  // xhr.send only support XMLHttpRequestBodyInit types, excluding ReadableStream (web)\n  // and Readable (node)\n  // We do have to support ReadableStream being sent to xhr as our library allows\n  // for Safari to use put(path, ReadableStream, { onUploadProgress }) which would\n  // end up here.\n  // We do not have to support Readable being sent to xhr as using Node.js you would\n  // endup in the fetch implementation by default.\n  if (init.body) {\n    if (isReadableStream(init.body)) {\n      body = await new Response(init.body).blob();\n    } else {\n      // We \"type lie\" here, what we should do instead:\n      // Exclude ReadableStream:\n      // body = init.body as Exclude<PutBody, ReadableStream | Readable>;\n      // We can't do this because init.body (PutBody) relies on Blob (node:buffer)\n      // while XMLHttpRequestBodyInit relies on native Blob type.\n      // If we get rid of undici we can remove this trick.\n      body = init.body as XMLHttpRequestBodyInit;\n    }\n  }\n\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(init.method || 'GET', input.toString(), true);\n\n    // Handle upload progress\n    if (onUploadProgress) {\n      xhr.upload.addEventListener('progress', (event) => {\n        if (event.lengthComputable) {\n          onUploadProgress(event.loaded);\n        }\n      });\n    }\n\n    // Handle response\n    xhr.onload = () => {\n      if (init.signal?.aborted) {\n        reject(new DOMException('The user aborted the request.', 'AbortError'));\n        return;\n      }\n\n      const headers = new Headers();\n      const rawHeaders = xhr\n        .getAllResponseHeaders()\n        .trim()\n        .split(/[\\r\\n]+/);\n\n      // Parse headers\n      rawHeaders.forEach((line) => {\n        const parts = line.split(': ');\n        const key = parts.shift();\n        const value = parts.join(': ');\n        if (key) headers.set(key.toLowerCase(), value);\n      });\n\n      // Create response object, api-blob sends back text and api.ts will turn it into json if necessary\n      const response = new Response(xhr.response as string, {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers,\n      }) as unknown as UndiciResponse;\n\n      resolve(response);\n    };\n\n    // Handle network errors\n    xhr.onerror = () => {\n      reject(new TypeError('Network request failed'));\n    };\n\n    // Handle timeouts\n    xhr.ontimeout = () => {\n      reject(new TypeError('Network request timed out'));\n    };\n\n    // Handle aborts\n    xhr.onabort = () => {\n      reject(new DOMException('The user aborted a request.', 'AbortError'));\n    };\n\n    // Set headers\n    if (init.headers) {\n      const headers = new Headers(init.headers as HeadersInit);\n      headers.forEach((value, key) => {\n        xhr.setRequestHeader(key, value);\n      });\n    }\n\n    // Handle abort signal\n    if (init.signal) {\n      init.signal.addEventListener('abort', () => {\n        xhr.abort();\n      });\n\n      // If already aborted, abort xhr immediately\n      if (init.signal.aborted) {\n        xhr.abort();\n        return;\n      }\n    }\n\n    // We're cheating and saying that nobody is gonna use put() with a stream in an environment not supporting\n    // fetch with streams. If this ever happens please open an issue and we'll figure it out.\n    xhr.send(body);\n  });\n};\n", "import type { Response } from 'undici';\nimport { blobFetch, hasFetch, hasFetchWithUploadProgress } from './fetch';\nimport { hasXhr, blobXhr } from './xhr';\nimport type { BlobRequest } from './helpers';\n\nexport const blobRequest: BlobRequest = async ({\n  input,\n  init,\n  onUploadProgress,\n}): Promise<Response> => {\n  if (onUploadProgress) {\n    if (hasFetchWithUploadProgress) {\n      return blobFetch({ input, init, onUploadProgress });\n    }\n\n    if (hasXhr) {\n      return blobXhr({ input, init, onUploadProgress });\n    }\n  }\n\n  if (hasFetch) {\n    return blobFetch({ input, init });\n  }\n\n  if (hasXhr) {\n    return blobXhr({ input, init });\n  }\n\n  throw new Error('No request implementation available');\n};\n", "// TODO: Once Node 16 is no more needed internally, we can remove this file and use the native DOMException type.\n/* eslint-disable -- fine */\nexport const DOMException =\n  globalThis.DOMException ??\n  (() => {\n    // DOMException was only made a global in Node v17.0.0,\n    // but fetch supports >= v16.8.\n    try {\n      atob('~');\n    } catch (err) {\n      return Object.getPrototypeOf(err).constructor;\n    }\n  })();\n", "// eslint-disable-next-line unicorn/prefer-node-protocol -- node:stream does not resolve correctly in browser and edge\nimport type { Readable } from 'stream';\n// We use the undici types to ensure TS doesn't complain about native types (like ReadableStream) vs\n// undici types fetch expects (like Blob is from node:buffer..)\n// import type { Blob } from 'node:buffer';\nimport type { File } from 'undici';\nimport type { ClientCommonCreateBlobOptions } from './client';\nimport type { CommonCreateBlobOptions } from './helpers';\nimport { BlobError, disallowedPathnameCharacters } from './helpers';\nimport { MAXIMUM_PATHNAME_LENGTH } from './api';\n\nexport const putOptionHeaderMap = {\n  cacheControlMaxAge: 'x-cache-control-max-age',\n  addRandomSuffix: 'x-add-random-suffix',\n  contentType: 'x-content-type',\n};\n\nexport interface PutBlobResult {\n  url: string;\n  downloadUrl: string;\n  pathname: string;\n  contentType: string;\n  contentDisposition: string;\n}\n\nexport type PutBlobApiResponse = PutBlobResult;\n\nexport type PutBody =\n  | string\n  | Readable // Node.js streams\n  | Buffer // Node.js buffers\n  | Blob\n  | ArrayBuffer\n  | ReadableStream // Streams API (= Web streams in Node.js)\n  | File;\n\nexport type CommonPutCommandOptions = CommonCreateBlobOptions &\n  ClientCommonCreateBlobOptions;\n\nexport interface CreatePutMethodOptions<TOptions> {\n  allowedOptions: (keyof typeof putOptionHeaderMap)[];\n  getToken?: (pathname: string, options: TOptions) => Promise<string>;\n  extraChecks?: (options: TOptions) => void;\n}\n\nexport function createPutHeaders<TOptions extends CommonPutCommandOptions>(\n  allowedOptions: CreatePutMethodOptions<TOptions>['allowedOptions'],\n  options: TOptions,\n): Record<string, string> {\n  const headers: Record<string, string> = {};\n\n  if (allowedOptions.includes('contentType') && options.contentType) {\n    headers[putOptionHeaderMap.contentType] = options.contentType;\n  }\n\n  if (\n    allowedOptions.includes('addRandomSuffix') &&\n    options.addRandomSuffix !== undefined\n  ) {\n    headers[putOptionHeaderMap.addRandomSuffix] = options.addRandomSuffix\n      ? '1'\n      : '0';\n  }\n\n  if (\n    allowedOptions.includes('cacheControlMaxAge') &&\n    options.cacheControlMaxAge !== undefined\n  ) {\n    headers[putOptionHeaderMap.cacheControlMaxAge] =\n      options.cacheControlMaxAge.toString();\n  }\n\n  return headers;\n}\n\nexport async function createPutOptions<\n  TOptions extends CommonPutCommandOptions,\n>({\n  pathname,\n  options,\n  extraChecks,\n  getToken,\n}: {\n  pathname: string;\n  options?: TOptions;\n  extraChecks?: CreatePutMethodOptions<TOptions>['extraChecks'];\n  getToken?: CreatePutMethodOptions<TOptions>['getToken'];\n}): Promise<TOptions> {\n  if (!pathname) {\n    throw new BlobError('pathname is required');\n  }\n\n  if (pathname.length > MAXIMUM_PATHNAME_LENGTH) {\n    throw new BlobError(\n      `pathname is too long, maximum length is ${MAXIMUM_PATHNAME_LENGTH}`,\n    );\n  }\n\n  for (const invalidCharacter of disallowedPathnameCharacters) {\n    if (pathname.includes(invalidCharacter)) {\n      throw new BlobError(\n        `pathname cannot contain \"${invalidCharacter}\", please encode it if needed`,\n      );\n    }\n  }\n\n  if (!options) {\n    throw new BlobError('missing options, see usage');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- Runtime check for DX.\n  if (options.access !== 'public') {\n    throw new BlobError('access must be \"public\"');\n  }\n\n  if (extraChecks) {\n    extraChecks(options);\n  }\n\n  if (getToken) {\n    options.token = await getToken(pathname, options);\n  }\n\n  return options;\n}\n", "import { BlobServiceNotAvailable, requestApi } from '../api';\nimport { debug } from '../debug';\nimport type { CommonCreateBlobOptions, BlobCommandOptions } from '../helpers';\nimport type {\n  CreatePutMethodOptions,\n  PutBlobApiResponse,\n  PutBlobResult,\n} from '../put-helpers';\nimport { createPutHeaders, createPutOptions } from '../put-helpers';\nimport type { Part } from './helpers';\n\n// shared interface for server and client\nexport interface CommonCompleteMultipartUploadOptions {\n  uploadId: string;\n  key: string;\n}\n\nexport type CompleteMultipartUploadCommandOptions =\n  CommonCompleteMultipartUploadOptions & CommonCreateBlobOptions;\n\nexport function createCompleteMultipartUploadMethod<\n  TOptions extends CompleteMultipartUploadCommandOptions,\n>({ allowedOptions, getToken, extraChecks }: CreatePutMethodOptions<TOptions>) {\n  return async (pathname: string, parts: Part[], optionsInput: TOptions) => {\n    const options = await createPutOptions({\n      pathname,\n      options: optionsInput,\n      extraChecks,\n      getToken,\n    });\n\n    const headers = createPutHeaders(allowedOptions, options);\n\n    return completeMultipartUpload({\n      uploadId: options.uploadId,\n      key: options.key,\n      pathname,\n      headers,\n      options,\n      parts,\n    });\n  };\n}\n\nexport async function completeMultipartUpload({\n  uploadId,\n  key,\n  pathname,\n  parts,\n  headers,\n  options,\n}: {\n  uploadId: string;\n  key: string;\n  pathname: string;\n  parts: Part[];\n  headers: Record<string, string>;\n  options: BlobCommandOptions;\n}): Promise<PutBlobResult> {\n  const params = new URLSearchParams({ pathname });\n\n  try {\n    const response = await requestApi<PutBlobApiResponse>(\n      `/mpu?${params.toString()}`,\n      {\n        method: 'POST',\n        headers: {\n          ...headers,\n          'content-type': 'application/json',\n          'x-mpu-action': 'complete',\n          'x-mpu-upload-id': uploadId,\n          // key can be any utf8 character so we need to encode it as HTTP headers can only be us-ascii\n          // https://www.rfc-editor.org/rfc/rfc7230#swection-3.2.4\n          'x-mpu-key': encodeURIComponent(key),\n        },\n        body: JSON.stringify(parts),\n        signal: options.abortSignal,\n      },\n      options,\n    );\n\n    debug('mpu: complete', response);\n\n    return response;\n  } catch (error: unknown) {\n    if (\n      error instanceof TypeError &&\n      (error.message === 'Failed to fetch' || error.message === 'fetch failed')\n    ) {\n      throw new BlobServiceNotAvailable();\n    } else {\n      throw error;\n    }\n  }\n}\n", "import { BlobServiceNotAvailable, requestApi } from '../api';\nimport { debug } from '../debug';\nimport type { BlobCommandOptions, CommonCreateBlobOptions } from '../helpers';\nimport type { CreatePutMethodOptions } from '../put-helpers';\nimport { createPutHeaders, createPutOptions } from '../put-helpers';\n\nexport function createCreateMultipartUploadMethod<\n  TOptions extends CommonCreateBlobOptions,\n>({ allowedOptions, getToken, extraChecks }: CreatePutMethodOptions<TOptions>) {\n  return async (pathname: string, optionsInput: TOptions) => {\n    const options = await createPutOptions({\n      pathname,\n      options: optionsInput,\n      extraChecks,\n      getToken,\n    });\n\n    const headers = createPutHeaders(allowedOptions, options);\n\n    const createMultipartUploadResponse = await createMultipartUpload(\n      pathname,\n      headers,\n      options,\n    );\n\n    return {\n      key: createMultipartUploadResponse.key,\n      uploadId: createMultipartUploadResponse.uploadId,\n    };\n  };\n}\n\ninterface CreateMultipartUploadApiResponse {\n  uploadId: string;\n  key: string;\n}\n\nexport async function createMultipartUpload(\n  pathname: string,\n  headers: Record<string, string>,\n  options: BlobCommandOptions,\n): Promise<CreateMultipartUploadApiResponse> {\n  debug('mpu: create', 'pathname:', pathname);\n\n  const params = new URLSearchParams({ pathname });\n\n  try {\n    const response = await requestApi<CreateMultipartUploadApiResponse>(\n      `/mpu?${params.toString()}`,\n      {\n        method: 'POST',\n        headers: {\n          ...headers,\n          'x-mpu-action': 'create',\n        },\n        signal: options.abortSignal,\n      },\n      options,\n    );\n\n    debug('mpu: create', response);\n\n    return response;\n  } catch (error: unknown) {\n    if (\n      error instanceof TypeError &&\n      (error.message === 'Failed to fetch' || error.message === 'fetch failed')\n    ) {\n      throw new BlobServiceNotAvailable();\n    }\n\n    throw error;\n  }\n}\n", "import throttle from 'throttleit';\nimport { BlobServiceNotAvailable, requestApi } from '../api';\nimport { debug } from '../debug';\nimport { BlobError, isPlainObject, bytes } from '../helpers';\nimport type {\n  WithUploadProgress,\n  CommonCreateBlobOptions,\n  BlobCommandOptions,\n} from '../helpers';\nimport { createPutHeaders, createPutOptions } from '../put-helpers';\nimport type { PutBody, CreatePutMethodOptions } from '../put-helpers';\nimport type { Part, PartInput } from './helpers';\n\n// shared interface for server and client\nexport interface CommonMultipartUploadOptions {\n  uploadId: string;\n  key: string;\n  partNumber: number;\n}\n\nexport type UploadPartCommandOptions = CommonMultipartUploadOptions &\n  CommonCreateBlobOptions;\n\nexport function createUploadPartMethod<\n  TOptions extends UploadPartCommandOptions,\n>({ allowedOptions, getToken, extraChecks }: CreatePutMethodOptions<TOptions>) {\n  return async (\n    pathname: string,\n    body: PutBody,\n    optionsInput: TOptions,\n  ): Promise<Part> => {\n    const options = await createPutOptions({\n      pathname,\n      options: optionsInput,\n      extraChecks,\n      getToken,\n    });\n\n    const headers = createPutHeaders(allowedOptions, options);\n\n    if (isPlainObject(body)) {\n      throw new BlobError(\n        \"Body must be a string, buffer or stream. You sent a plain JavaScript object, double check what you're trying to upload.\",\n      );\n    }\n\n    const result = await uploadPart({\n      uploadId: options.uploadId,\n      key: options.key,\n      pathname,\n      part: { blob: body, partNumber: options.partNumber },\n      headers,\n      options,\n    });\n\n    return {\n      etag: result.etag,\n      partNumber: options.partNumber,\n    };\n  };\n}\n\nexport async function uploadPart({\n  uploadId,\n  key,\n  pathname,\n  headers,\n  options,\n  internalAbortController = new AbortController(),\n  part,\n}: {\n  uploadId: string;\n  key: string;\n  pathname: string;\n  headers: Record<string, string>;\n  options: BlobCommandOptions & WithUploadProgress;\n  internalAbortController?: AbortController;\n  part: PartInput;\n}): Promise<UploadPartApiResponse> {\n  const params = new URLSearchParams({ pathname });\n\n  const responsePromise = requestApi<UploadPartApiResponse>(\n    `/mpu?${params.toString()}`,\n    {\n      signal: internalAbortController.signal,\n      method: 'POST',\n      headers: {\n        ...headers,\n        'x-mpu-action': 'upload',\n        'x-mpu-key': encodeURIComponent(key),\n        'x-mpu-upload-id': uploadId,\n        'x-mpu-part-number': part.partNumber.toString(),\n      },\n      // weird things between undici types and native fetch types\n      body: part.blob,\n    },\n    options,\n  );\n\n  function handleAbort(): void {\n    internalAbortController.abort();\n  }\n\n  if (options.abortSignal?.aborted) {\n    // abort if the signal is already aborted\n    handleAbort();\n  } else {\n    // we connect the internal abort controller to the external abortSignal to allow the user to cancel the upload\n    options.abortSignal?.addEventListener('abort', handleAbort);\n  }\n\n  const response = await responsePromise;\n\n  options.abortSignal?.removeEventListener('abort', handleAbort);\n\n  return response;\n}\n\n// Most browsers will cap requests at 6 concurrent uploads per domain (Vercel Blob API domain)\n// In other environments, we can afford to be more aggressive\nconst maxConcurrentUploads = typeof window !== 'undefined' ? 6 : 8;\n\n// 5MB is the minimum part size accepted by Vercel Blob, but we set our default part size to 8mb like the aws cli\nconst partSizeInBytes = 8 * 1024 * 1024;\n\nconst maxBytesInMemory = maxConcurrentUploads * partSizeInBytes * 2;\n\ninterface UploadPartApiResponse {\n  etag: string;\n}\n\nexport interface BlobUploadPart {\n  partNumber: number;\n  blob: Blob;\n}\n\n// Can we rewrite this function without new Promise?\nexport function uploadAllParts({\n  uploadId,\n  key,\n  pathname,\n  stream,\n  headers,\n  options,\n  totalToLoad,\n}: {\n  uploadId: string;\n  key: string;\n  pathname: string;\n  stream: ReadableStream<ArrayBuffer>;\n  headers: Record<string, string>;\n  options: BlobCommandOptions & WithUploadProgress;\n  totalToLoad: number;\n}): Promise<Part[]> {\n  debug('mpu: upload init', 'key:', key);\n  const internalAbortController = new AbortController();\n\n  return new Promise((resolve, reject) => {\n    const partsToUpload: BlobUploadPart[] = [];\n    const completedParts: Part[] = [];\n    const reader = stream.getReader();\n    let activeUploads = 0;\n    let reading = false;\n    let currentPartNumber = 1;\n    // this next variable is used to escape the read loop when an error occurs\n    let rejected = false;\n    let currentBytesInMemory = 0;\n    let doneReading = false;\n    let bytesSent = 0;\n\n    // This must be outside the read loop, in case we reach the maxBytesInMemory and\n    // we exit the loop but some bytes are still to be sent on the next read invocation.\n    let arrayBuffers: ArrayBuffer[] = [];\n    let currentPartBytesRead = 0;\n\n    let onUploadProgress: (() => void) | undefined;\n    const totalLoadedPerPartNumber: Record<string, number> = {};\n\n    if (options.onUploadProgress) {\n      onUploadProgress = throttle(() => {\n        const loaded = Object.values(totalLoadedPerPartNumber).reduce(\n          (acc, cur) => {\n            return acc + cur;\n          },\n          0,\n        );\n        const total = totalToLoad || loaded;\n        const percentage =\n          totalToLoad > 0\n            ? Number(((loaded / totalToLoad || loaded) * 100).toFixed(2))\n            : 0;\n\n        // we call the user's onUploadProgress callback\n        options.onUploadProgress?.({ loaded, total, percentage });\n      }, 150);\n    }\n\n    read().catch(cancel);\n\n    async function read(): Promise<void> {\n      debug(\n        'mpu: upload read start',\n        'activeUploads:',\n        activeUploads,\n        'currentBytesInMemory:',\n        `${bytes(currentBytesInMemory)}/${bytes(maxBytesInMemory)}`,\n        'bytesSent:',\n        bytes(bytesSent),\n      );\n\n      reading = true;\n\n      while (currentBytesInMemory < maxBytesInMemory && !rejected) {\n        try {\n          // eslint-disable-next-line no-await-in-loop -- A for loop is fine here.\n          const { value, done } = await reader.read();\n\n          if (done) {\n            doneReading = true;\n            debug('mpu: upload read consumed the whole stream');\n            // done is sent when the stream is fully consumed. That's why we're not using the value here.\n            if (arrayBuffers.length > 0) {\n              partsToUpload.push({\n                partNumber: currentPartNumber++,\n                blob: new Blob(arrayBuffers, {\n                  type: 'application/octet-stream',\n                }),\n              });\n\n              sendParts();\n            }\n            reading = false;\n            return;\n          }\n\n          currentBytesInMemory += value.byteLength;\n\n          // This code ensures that each part will be exactly of `partSizeInBytes` size\n          // Otherwise R2 will refuse it. AWS S3 is fine with parts of different sizes.\n          let valueOffset = 0;\n          while (valueOffset < value.byteLength) {\n            const remainingPartSize = partSizeInBytes - currentPartBytesRead;\n            const endOffset = Math.min(\n              valueOffset + remainingPartSize,\n              value.byteLength,\n            );\n\n            const chunk = value.slice(valueOffset, endOffset);\n\n            arrayBuffers.push(chunk);\n            currentPartBytesRead += chunk.byteLength;\n            valueOffset = endOffset;\n\n            if (currentPartBytesRead === partSizeInBytes) {\n              partsToUpload.push({\n                partNumber: currentPartNumber++,\n                blob: new Blob(arrayBuffers, {\n                  type: 'application/octet-stream',\n                }),\n              });\n\n              arrayBuffers = [];\n              currentPartBytesRead = 0;\n              sendParts();\n            }\n          }\n        } catch (error) {\n          cancel(error);\n        }\n      }\n\n      debug(\n        'mpu: upload read end',\n        'activeUploads:',\n        activeUploads,\n        'currentBytesInMemory:',\n        `${bytes(currentBytesInMemory)}/${bytes(maxBytesInMemory)}`,\n        'bytesSent:',\n        bytes(bytesSent),\n      );\n\n      reading = false;\n    }\n\n    async function sendPart(part: BlobUploadPart): Promise<void> {\n      activeUploads++;\n\n      debug(\n        'mpu: upload send part start',\n        'partNumber:',\n        part.partNumber,\n        'size:',\n        part.blob.size,\n        'activeUploads:',\n        activeUploads,\n        'currentBytesInMemory:',\n        `${bytes(currentBytesInMemory)}/${bytes(maxBytesInMemory)}`,\n        'bytesSent:',\n        bytes(bytesSent),\n      );\n\n      try {\n        const uploadProgressForPart: WithUploadProgress['onUploadProgress'] =\n          options.onUploadProgress\n            ? (event) => {\n                totalLoadedPerPartNumber[part.partNumber] = event.loaded;\n                if (onUploadProgress) {\n                  onUploadProgress();\n                }\n              }\n            : undefined;\n\n        const completedPart = await uploadPart({\n          uploadId,\n          key,\n          pathname,\n          headers,\n          options: {\n            ...options,\n            onUploadProgress: uploadProgressForPart,\n          },\n          internalAbortController,\n          part,\n        });\n\n        debug(\n          'mpu: upload send part end',\n          'partNumber:',\n          part.partNumber,\n          'activeUploads',\n          activeUploads,\n          'currentBytesInMemory:',\n          `${bytes(currentBytesInMemory)}/${bytes(maxBytesInMemory)}`,\n          'bytesSent:',\n          bytes(bytesSent),\n        );\n\n        if (rejected) {\n          return;\n        }\n\n        completedParts.push({\n          partNumber: part.partNumber,\n          etag: completedPart.etag,\n        });\n\n        currentBytesInMemory -= part.blob.size;\n        activeUploads--;\n        bytesSent += part.blob.size;\n\n        if (partsToUpload.length > 0) {\n          sendParts();\n        }\n\n        if (doneReading) {\n          if (activeUploads === 0) {\n            reader.releaseLock();\n            resolve(completedParts);\n          }\n          return;\n        }\n\n        if (!reading) {\n          read().catch(cancel);\n        }\n      } catch (error) {\n        // cancel if fetch throws an error\n        cancel(error);\n      }\n    }\n\n    function sendParts(): void {\n      if (rejected) {\n        return;\n      }\n\n      debug(\n        'send parts',\n        'activeUploads',\n        activeUploads,\n        'partsToUpload',\n        partsToUpload.length,\n      );\n\n      while (activeUploads < maxConcurrentUploads && partsToUpload.length > 0) {\n        const partToSend = partsToUpload.shift();\n        if (partToSend) {\n          void sendPart(partToSend);\n        }\n      }\n    }\n\n    function cancel(error: unknown): void {\n      // a previous call already rejected the whole call, ignore\n      if (rejected) {\n        return;\n      }\n      rejected = true;\n      internalAbortController.abort();\n      reader.releaseLock();\n      if (\n        error instanceof TypeError &&\n        (error.message === 'Failed to fetch' ||\n          error.message === 'fetch failed')\n      ) {\n        reject(new BlobServiceNotAvailable());\n      } else {\n        reject(error as Error);\n      }\n    }\n  });\n}\n", "import throttle from 'throttleit';\nimport { requestApi } from './api';\nimport type { CommonCreateBlobOptions, WithUploadProgress } from './helpers';\nimport { BlobError, isPlainObject } from './helpers';\nimport { uncontrolledMultipartUpload } from './multipart/uncontrolled';\nimport type {\n  CreatePutMethodOptions,\n  PutBody,\n  PutBlobApiResponse,\n  PutBlobResult,\n} from './put-helpers';\nimport { createPutOptions, createPutHeaders } from './put-helpers';\n\nexport interface PutCommandOptions\n  extends CommonCreateBlobOptions,\n    WithUploadProgress {\n  /**\n   * Whether to use multipart upload. Use this when uploading large files. It will split the file into multiple parts, upload them in parallel and retry failed parts.\n   * @defaultvalue false\n   */\n  multipart?: boolean;\n}\n\nexport function createPutMethod<TOptions extends PutCommandOptions>({\n  allowedOptions,\n  getToken,\n  extraChecks,\n}: CreatePutMethodOptions<TOptions>) {\n  return async function put(\n    pathname: string,\n    body: PutBody,\n    optionsInput: TOptions,\n  ): Promise<PutBlobResult> {\n    if (!body) {\n      throw new BlobError('body is required');\n    }\n\n    if (isPlainObject(body)) {\n      throw new BlobError(\n        \"Body must be a string, buffer or stream. You sent a plain JavaScript object, double check what you're trying to upload.\",\n      );\n    }\n\n    const options = await createPutOptions({\n      pathname,\n      options: optionsInput,\n      extraChecks,\n      getToken,\n    });\n\n    const headers = createPutHeaders(allowedOptions, options);\n\n    if (options.multipart === true) {\n      return uncontrolledMultipartUpload(pathname, body, headers, options);\n    }\n\n    const onUploadProgress = options.onUploadProgress\n      ? throttle(options.onUploadProgress, 100)\n      : undefined;\n\n    const params = new URLSearchParams({ pathname });\n\n    const response = await requestApi<PutBlobApiResponse>(\n      `/?${params.toString()}`,\n      {\n        method: 'PUT',\n        body,\n        headers,\n        signal: options.abortSignal,\n      },\n      {\n        ...options,\n        onUploadProgress,\n      },\n    );\n\n    return {\n      url: response.url,\n      downloadUrl: response.downloadUrl,\n      pathname: response.pathname,\n      contentType: response.contentType,\n      contentDisposition: response.contentDisposition,\n    };\n  };\n}\n", "import { debug } from '../debug';\nimport { computeBodyLength } from '../helpers';\nimport type { WithUploadProgress, BlobCommandOptions } from '../helpers';\nimport type { PutBody, PutBlobResult } from '../put-helpers';\nimport { completeMultipartUpload } from './complete';\nimport { createMultipartUpload } from './create';\nimport { toReadableStream } from './helpers';\nimport { uploadAllParts } from './upload';\n\n// this automatically slices the body into parts and uploads all of them as multiple parts\nexport async function uncontrolledMultipartUpload(\n  pathname: string,\n  body: PutBody,\n  headers: Record<string, string>,\n  options: BlobCommandOptions & WithUploadProgress,\n): Promise<PutBlobResult> {\n  debug('mpu: init', 'pathname:', pathname, 'headers:', headers);\n\n  const optionsWithoutOnUploadProgress = {\n    ...options,\n    onUploadProgress: undefined,\n  };\n\n  // Step 1: Start multipart upload\n  const createMultipartUploadResponse = await createMultipartUpload(\n    pathname,\n    headers,\n    optionsWithoutOnUploadProgress,\n  );\n\n  const totalToLoad = computeBodyLength(body);\n  const stream = await toReadableStream(body);\n\n  // Step 2: Upload parts one by one\n  const parts = await uploadAllParts({\n    uploadId: createMultipartUploadResponse.uploadId,\n    key: createMultipartUploadResponse.key,\n    pathname,\n    stream,\n    headers,\n    options,\n    totalToLoad,\n  });\n\n  // Step 3: Complete multipart upload\n  const blob = await completeMultipartUpload({\n    uploadId: createMultipartUploadResponse.uploadId,\n    key: createMultipartUploadResponse.key,\n    pathname,\n    parts,\n    headers,\n    options: optionsWithoutOnUploadProgress,\n  });\n\n  // changes:\n  // stream => set percentage to 0% even if loaded/total is valid\n  // stream => send onUploadProgress 100% at the end of the request here\n\n  return blob;\n}\n", "import {\n  BlobError,\n  isPlainObject,\n  type CommonCreateBlobOptions,\n} from '../helpers';\nimport type { CreatePutMethodOptions, PutBody } from '../put-helpers';\nimport { createPutHeaders, createPutOptions } from '../put-helpers';\nimport { completeMultipartUpload } from './complete';\nimport { createMultipartUpload } from './create';\nimport type { Part } from './helpers';\nimport { uploadPart as rawUploadPart } from './upload';\n\nexport function createCreateMultipartUploaderMethod<\n  TOptions extends CommonCreateBlobOptions,\n>({ allowedOptions, getToken, extraChecks }: CreatePutMethodOptions<TOptions>) {\n  return async (pathname: string, optionsInput: TOptions) => {\n    const options = await createPutOptions({\n      pathname,\n      options: optionsInput,\n      extraChecks,\n      getToken,\n    });\n\n    const headers = createPutHeaders(allowedOptions, options);\n\n    const createMultipartUploadResponse = await createMultipartUpload(\n      pathname,\n      headers,\n      options,\n    );\n\n    return {\n      key: createMultipartUploadResponse.key,\n      uploadId: createMultipartUploadResponse.uploadId,\n\n      async uploadPart(partNumber: number, body: PutBody) {\n        if (isPlainObject(body)) {\n          throw new BlobError(\n            \"Body must be a string, buffer or stream. You sent a plain JavaScript object, double check what you're trying to upload.\",\n          );\n        }\n\n        const result = await rawUploadPart({\n          uploadId: createMultipartUploadResponse.uploadId,\n          key: createMultipartUploadResponse.key,\n          pathname,\n          part: { partNumber, blob: body },\n          headers,\n          options,\n        });\n\n        return {\n          etag: result.etag,\n          partNumber,\n        };\n      },\n\n      async complete(parts: Part[]) {\n        return completeMultipartUpload({\n          uploadId: createMultipartUploadResponse.uploadId,\n          key: createMultipartUploadResponse.key,\n          pathname,\n          parts,\n          headers,\n          options,\n        });\n      },\n    };\n  };\n}\n", "import { requestApi } from './api';\nimport type { BlobCommandOptions } from './helpers';\nimport { putOptionHeaderMap, type PutBlobApiResponse } from './put-helpers';\n\nexport interface CreateFolderResult {\n  pathname: string;\n  url: string;\n}\n\n/**\n * Creates a folder in your store. Vercel Blob has no real concept of folders, our file browser on Vercel.com displays folders based on the presence of trailing slashes in the pathname. Unless you are building a file browser system, you probably don't need to use this method.\n *\n * Use the resulting `url` to delete the folder, just like you would delete a blob.\n * @param pathname - Can be user1/ or user1/avatars/\n * @param options - Additional options like `token`\n */\nexport async function createFolder(\n  pathname: string,\n  options: BlobCommandOptions = {},\n): Promise<CreateFolderResult> {\n  const folderPathname = pathname.endsWith('/') ? pathname : `${pathname}/`;\n\n  const headers: Record<string, string> = {};\n\n  headers[putOptionHeaderMap.addRandomSuffix] = '0';\n\n  const params = new URLSearchParams({ pathname: folderPathname });\n  const response = await requestApi<PutBlobApiResponse>(\n    `/?${params.toString()}`,\n    {\n      method: 'PUT',\n      headers,\n      signal: options.abortSignal,\n    },\n    options,\n  );\n\n  return {\n    url: response.url,\n    pathname: response.pathname,\n  };\n}\n", "import { requestApi } from './api';\nimport type { BlobCommandOptions } from './helpers';\n\n/**\n * Deletes one or multiple blobs from your store.\n * Detailed documentation can be found here: https://vercel.com/docs/vercel-blob/using-blob-sdk#delete-a-blob\n *\n * @param url - Blob url or array of blob urls that identify the blobs to be deleted. You can only delete blobs that are located in a store, that your 'BLOB_READ_WRITE_TOKEN' has access to.\n * @param options - Additional options for the request.\n */\nexport async function del(\n  url: string[] | string,\n  options?: BlobCommandOptions,\n): Promise<void> {\n  await requestApi(\n    '/delete',\n    {\n      method: 'POST',\n      headers: { 'content-type': 'application/json' },\n      body: JSON.stringify({ urls: Array.isArray(url) ? url : [url] }),\n      signal: options?.abortSignal,\n    },\n    options,\n  );\n}\n", "import { requestApi } from './api';\nimport type { BlobCommandOptions } from './helpers';\n\nexport interface HeadBlobResult {\n  url: string;\n  downloadUrl: string;\n  size: number;\n  uploadedAt: Date;\n  pathname: string;\n  contentType: string;\n  contentDisposition: string;\n  cacheControl: string;\n}\n\ninterface HeadBlobApiResponse extends Omit<HeadBlobResult, 'uploadedAt'> {\n  uploadedAt: string; // when receiving data from our API, uploadedAt is a string\n}\n\n/**\n * Fetches metadata of a blob object.\n * Detailed documentation can be found here: https://vercel.com/docs/vercel-blob/using-blob-sdk#get-blob-metadata\n *\n * @param url - Blob url to lookup.\n * @param options - Additional options for the request.\n */\nexport async function head(\n  url: string,\n  options?: BlobCommandOptions,\n): Promise<HeadBlobResult> {\n  const searchParams = new URLSearchParams({ url });\n\n  const response = await requestApi<HeadBlobApiResponse>(\n    `?${searchParams.toString()}`,\n    // HEAD can't have body as a response, so we use GET\n    {\n      method: 'GET',\n      signal: options?.abortSignal,\n    },\n    options,\n  );\n\n  return {\n    url: response.url,\n    downloadUrl: response.downloadUrl,\n    pathname: response.pathname,\n    size: response.size,\n    contentType: response.contentType,\n    contentDisposition: response.contentDisposition,\n    cacheControl: response.cacheControl,\n    uploadedAt: new Date(response.uploadedAt),\n  };\n}\n", "import { requestApi } from './api';\nimport type { BlobCommandOptions } from './helpers';\n\nexport interface ListBlobResultBlob {\n  url: string;\n  downloadUrl: string;\n  pathname: string;\n  size: number;\n  uploadedAt: Date;\n}\n\nexport interface ListBlobResult {\n  blobs: ListBlobResultBlob[];\n  cursor?: string;\n  hasMore: boolean;\n}\n\nexport interface ListFoldedBlobResult extends ListBlobResult {\n  folders: string[];\n}\n\ninterface ListBlobApiResponseBlob\n  extends Omit<ListBlobResultBlob, 'uploadedAt'> {\n  uploadedAt: string;\n}\n\ninterface ListBlobApiResponse extends Omit<ListBlobResult, 'blobs'> {\n  blobs: ListBlobApiResponseBlob[];\n  folders?: string[];\n}\n\nexport interface ListCommandOptions<\n  M extends 'expanded' | 'folded' | undefined = undefined,\n> extends BlobCommandOptions {\n  /**\n   * The maximum number of blobs to return.\n   * @defaultvalue 1000\n   */\n  limit?: number;\n  /**\n   * Filters the result to only include blobs that start with this prefix.\n   * If used together with `mode: 'folded'`, make sure to include a trailing slash after the foldername.\n   */\n  prefix?: string;\n  /**\n   * The cursor to use for pagination. Can be obtained from the response of a previous `list` request.\n   */\n  cursor?: string;\n  /**\n   * Defines how the blobs are listed\n   * - `expanded` the blobs property contains all blobs.\n   * - `folded` the blobs property contains only the blobs at the root level of your store. Blobs that are located inside a folder get merged into a single entry in the folder response property.\n   * @defaultvalue 'expanded'\n   */\n  mode?: M;\n}\n\ntype ListCommandResult<\n  M extends 'expanded' | 'folded' | undefined = undefined,\n> = M extends 'folded' ? ListFoldedBlobResult : ListBlobResult;\n\n/**\n * Fetches a paginated list of blob objects from your store.\n * Detailed documentation can be found here: https://vercel.com/docs/vercel-blob/using-blob-sdk#list-blobs\n *\n * @param options - Additional options for the request.\n */\nexport async function list<\n  M extends 'expanded' | 'folded' | undefined = undefined,\n>(options?: ListCommandOptions<M>): Promise<ListCommandResult<M>> {\n  const searchParams = new URLSearchParams();\n\n  if (options?.limit) {\n    searchParams.set('limit', options.limit.toString());\n  }\n  if (options?.prefix) {\n    searchParams.set('prefix', options.prefix);\n  }\n  if (options?.cursor) {\n    searchParams.set('cursor', options.cursor);\n  }\n  if (options?.mode) {\n    searchParams.set('mode', options.mode);\n  }\n\n  const response = await requestApi<ListBlobApiResponse>(\n    `?${searchParams.toString()}`,\n    {\n      method: 'GET',\n      signal: options?.abortSignal,\n    },\n    options,\n  );\n\n  if (options?.mode === 'folded') {\n    return {\n      folders: response.folders ?? [],\n      cursor: response.cursor,\n      hasMore: response.hasMore,\n      blobs: response.blobs.map(mapBlobResult),\n    } as ListCommandResult<M>;\n  }\n\n  return {\n    cursor: response.cursor,\n    hasMore: response.hasMore,\n    blobs: response.blobs.map(mapBlobResult),\n  } as ListCommandResult<M>;\n}\n\nfunction mapBlobResult(\n  blobResult: ListBlobApiResponseBlob,\n): ListBlobResultBlob {\n  return {\n    url: blobResult.url,\n    downloadUrl: blobResult.downloadUrl,\n    pathname: blobResult.pathname,\n    size: blobResult.size,\n    uploadedAt: new Date(blobResult.uploadedAt),\n  };\n}\n", "import { MAXIMUM_PATHNAME_LENGTH, requestApi } from './api';\nimport type { CommonCreateBlobOptions } from './helpers';\nimport { BlobError, disallowedPathnameCharacters } from './helpers';\n\nexport type CopyCommandOptions = CommonCreateBlobOptions;\n\nexport interface CopyBlobResult {\n  url: string;\n  downloadUrl: string;\n  pathname: string;\n  contentType: string;\n  contentDisposition: string;\n}\n\n/**\n * Copies a blob to another location in your store.\n * Detailed documentation can be found here: https://vercel.com/docs/vercel-blob/using-blob-sdk#copy-a-blob\n *\n * @param fromUrl - The blob URL to copy. You can only copy blobs that are in the store, that your 'BLOB_READ_WRITE_TOKEN' has access to.\n * @param toPathname - The pathname to copy the blob to. This includes the filename.\n * @param options - Additional options. The copy method will not preserve any metadata configuration (e.g.: 'cacheControlMaxAge') of the source blob. If you want to copy the metadata, you need to define it here again.\n */\nexport async function copy(\n  fromUrl: string,\n  toPathname: string,\n  options: CopyCommandOptions,\n): Promise<CopyBlobResult> {\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- Runtime check for DX.\n  if (!options) {\n    throw new BlobError('missing options, see usage');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- Runtime check for DX.\n  if (options.access !== 'public') {\n    throw new BlobError('access must be \"public\"');\n  }\n\n  if (toPathname.length > MAXIMUM_PATHNAME_LENGTH) {\n    throw new BlobError(\n      `pathname is too long, maximum length is ${MAXIMUM_PATHNAME_LENGTH}`,\n    );\n  }\n\n  for (const invalidCharacter of disallowedPathnameCharacters) {\n    if (toPathname.includes(invalidCharacter)) {\n      throw new BlobError(\n        `pathname cannot contain \"${invalidCharacter}\", please encode it if needed`,\n      );\n    }\n  }\n\n  const headers: Record<string, string> = {};\n\n  if (options.addRandomSuffix !== undefined) {\n    headers['x-add-random-suffix'] = options.addRandomSuffix ? '1' : '0';\n  }\n\n  if (options.contentType) {\n    headers['x-content-type'] = options.contentType;\n  }\n\n  if (options.cacheControlMaxAge !== undefined) {\n    headers['x-cache-control-max-age'] = options.cacheControlMaxAge.toString();\n  }\n\n  const params = new URLSearchParams({ pathname: toPathname, fromUrl });\n\n  const response = await requestApi<CopyBlobResult>(\n    `?${params.toString()}`,\n    {\n      method: 'PUT',\n      headers,\n      signal: options.abortSignal,\n    },\n    options,\n  );\n\n  return {\n    url: response.url,\n    downloadUrl: response.downloadUrl,\n    pathname: response.pathname,\n    contentType: response.contentType,\n    contentDisposition: response.contentDisposition,\n  };\n}\n", "import type { PutCommandOptions } from './put';\nimport { createPutMethod } from './put';\nimport { createCreateMultipartUploadMethod } from './multipart/create';\nimport type { UploadPartCommandOptions } from './multipart/upload';\nimport { createUploadPartMethod } from './multipart/upload';\nimport type { CompleteMultipartUploadCommandOptions } from './multipart/complete';\nimport { createCompleteMultipartUploadMethod } from './multipart/complete';\nimport type { CommonCreateBlobOptions } from './helpers';\nimport { createCreateMultipartUploaderMethod } from './multipart/create-uploader';\n\n// expose generic BlobError and download url util\nexport {\n  BlobError,\n  getDownloadUrl,\n  type OnUploadProgressCallback,\n  type UploadProgressEvent,\n} from './helpers';\n\n// expose api BlobErrors\nexport {\n  BlobAccessError,\n  BlobNotFoundError,\n  BlobStoreNotFoundError,\n  BlobStoreSuspendedError,\n  BlobUnknownError,\n  BlobServiceNotAvailable,\n  BlobRequestAbortedError,\n  BlobServiceRateLimited,\n  BlobContentTypeNotAllowedError,\n  BlobPathnameMismatchError,\n  BlobClientTokenExpiredError,\n  BlobFileTooLargeError,\n} from './api';\n\n// vercelBlob.put()\n\nexport type { PutBlobResult } from './put-helpers';\nexport type { PutCommandOptions };\n\n/**\n * Uploads a blob into your store from your server.\n * Detailed documentation can be found here: https://vercel.com/docs/vercel-blob/using-blob-sdk#upload-a-blob\n *\n * If you want to upload from the browser directly, check out the documentation forAclient uploads: https://vercel.com/docs/vercel-blob/using-blob-sdk#client-uploads\n *\n * @param pathname - The pathname to upload the blob to, including the extension. This will influence the url of your blob like https://$storeId.public.blob.vercel-storage.com/$pathname.\n * @param body - The content of your blob, can be a: string, File, Blob, Buffer or Stream. We support almost everything fetch supports: https://developer.mozilla.org/en-US/docs/Web/API/RequestInit#body.\n * @param options - Additional options like `token` or `contentType`.\n */\nexport const put = createPutMethod<PutCommandOptions>({\n  allowedOptions: ['cacheControlMaxAge', 'addRandomSuffix', 'contentType'],\n});\n\n//  vercelBlob.del()\n\nexport { del } from './del';\n\n// vercelBlob.head()\n\nexport type { HeadBlobResult } from './head';\nexport { head } from './head';\n\n// vercelBlob.list()\n\nexport type {\n  ListBlobResultBlob,\n  ListBlobResult,\n  ListCommandOptions,\n  ListFoldedBlobResult,\n} from './list';\nexport { list } from './list';\n\n// vercelBlob.copy()\n\nexport type { CopyBlobResult, CopyCommandOptions } from './copy';\nexport { copy } from './copy';\n\n// vercelBlob. createMultipartUpload()\n// vercelBlob. uploadPart()\n// vercelBlob. completeMultipartUpload()\n// vercelBlob. createMultipartUploader()\n\nexport const createMultipartUpload =\n  createCreateMultipartUploadMethod<CommonCreateBlobOptions>({\n    allowedOptions: ['cacheControlMaxAge', 'addRandomSuffix', 'contentType'],\n  });\n\nexport const createMultipartUploader =\n  createCreateMultipartUploaderMethod<CommonCreateBlobOptions>({\n    allowedOptions: ['cacheControlMaxAge', 'addRandomSuffix', 'contentType'],\n  });\n\nexport type { UploadPartCommandOptions };\nexport const uploadPart = createUploadPartMethod<UploadPartCommandOptions>({\n  allowedOptions: ['cacheControlMaxAge', 'addRandomSuffix', 'contentType'],\n});\n\nexport type { CompleteMultipartUploadCommandOptions };\nexport const completeMultipartUpload =\n  createCompleteMultipartUploadMethod<CompleteMultipartUploadCommandOptions>({\n    allowedOptions: ['cacheControlMaxAge', 'addRandomSuffix', 'contentType'],\n  });\n\nexport type { Part, PartInput } from './multipart/helpers';\n\nexport { createFolder } from './create-folder';\n", "import { del, put } from '@vercel/blob'\r\n\r\nfunction requireBlobToken(): string {\r\n  const token = process.env.BLOB_READ_WRITE_TOKEN\r\n  if (!token) {\r\n    throw new Error('Missing env var: BLOB_READ_WRITE_TOKEN')\r\n  }\r\n  return token\r\n}\r\n\r\nexport async function putBlob(pathname: string, data: Blob) {\r\n  const token = requireBlobToken()\r\n  return put(pathname, data, {\r\n    access: 'public',\r\n    addRandomSuffix: false,\r\n    token\r\n  })\r\n}\r\n\r\nexport async function deleteBlob(blobUrl: string) {\r\n  const token = requireBlobToken()\r\n  await del(blobUrl, { token })\r\n}\r\n\r\n\r\n", "var io=Object.create;var Ce=Object.defineProperty;var so=Object.getOwnPropertyDescriptor;var oo=Object.getOwnPropertyNames;var ao=Object.getPrototypeOf,uo=Object.prototype.hasOwnProperty;var co=(r,e,t)=>e in r?Ce(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):\nr[e]=t;var a=(r,e)=>Ce(r,\"name\",{value:e,configurable:!0});var z=(r,e)=>()=>(r&&(e=r(r=0)),e);var I=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),se=(r,e)=>{for(var t in e)\nCe(r,t,{get:e[t],enumerable:!0})},Tn=(r,e,t,n)=>{if(e&&typeof e==\"object\"||typeof e==\n\"function\")for(let i of oo(e))!uo.call(r,i)&&i!==t&&Ce(r,i,{get:()=>e[i],enumerable:!(n=\nso(e,i))||n.enumerable});return r};var Te=(r,e,t)=>(t=r!=null?io(ao(r)):{},Tn(e||!r||!r.__esModule?Ce(t,\"default\",{\nvalue:r,enumerable:!0}):t,r)),O=r=>Tn(Ce({},\"__esModule\",{value:!0}),r);var _=(r,e,t)=>co(r,typeof e!=\"symbol\"?e+\"\":e,t);var Bn=I(st=>{\"use strict\";p();st.byteLength=lo;st.toByteArray=po;st.fromByteArray=\ngo;var ae=[],re=[],ho=typeof Uint8Array<\"u\"?Uint8Array:Array,Rt=\"ABCDEFGHIJKLMNO\\\nPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";for(Ee=0,In=Rt.length;Ee<In;++Ee)\nae[Ee]=Rt[Ee],re[Rt.charCodeAt(Ee)]=Ee;var Ee,In;re[45]=62;re[95]=63;function Pn(r){\nvar e=r.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multip\\\nle of 4\");var t=r.indexOf(\"=\");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}a(Pn,\n\"getLens\");function lo(r){var e=Pn(r),t=e[0],n=e[1];return(t+n)*3/4-n}a(lo,\"byte\\\nLength\");function fo(r,e,t){return(e+t)*3/4-t}a(fo,\"_byteLength\");function po(r){\nvar e,t=Pn(r),n=t[0],i=t[1],s=new ho(fo(r,n,i)),o=0,u=i>0?n-4:n,c;for(c=0;c<u;c+=\n4)e=re[r.charCodeAt(c)]<<18|re[r.charCodeAt(c+1)]<<12|re[r.charCodeAt(c+2)]<<6|re[r.\ncharCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=\nre[r.charCodeAt(c)]<<2|re[r.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=re[r.charCodeAt(\nc)]<<10|re[r.charCodeAt(c+1)]<<4|re[r.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=\ne&255),s}a(po,\"toByteArray\");function yo(r){return ae[r>>18&63]+ae[r>>12&63]+ae[r>>\n6&63]+ae[r&63]}a(yo,\"tripletToBase64\");function mo(r,e,t){for(var n,i=[],s=e;s<t;s+=\n3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(yo(n));return i.join(\n\"\")}a(mo,\"encodeChunk\");function go(r){for(var e,t=r.length,n=t%3,i=[],s=16383,o=0,\nu=t-n;o<u;o+=s)i.push(mo(r,o,o+s>u?u:o+s));return n===1?(e=r[t-1],i.push(ae[e>>2]+\nae[e<<4&63]+\"==\")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(ae[e>>10]+ae[e>>4&63]+ae[e<<\n2&63]+\"=\")),i.join(\"\")}a(go,\"fromByteArray\")});var Ln=I(Ft=>{p();Ft.read=function(r,e,t,n,i){var s,o,u=i*8-n-1,c=(1<<u)-1,h=c>>\n1,l=-7,d=t?i-1:0,b=t?-1:1,C=r[e+d];for(d+=b,s=C&(1<<-l)-1,C>>=-l,l+=u;l>0;s=s*256+\nr[e+d],d+=b,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+r[e+d],d+=b,l-=8);if(s===\n0)s=1-h;else{if(s===c)return o?NaN:(C?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(C?\n-1:1)*o*Math.pow(2,s-n)};Ft.write=function(r,e,t,n,i,s){var o,u,c,h=s*8-i-1,l=(1<<\nh)-1,d=l>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:s-1,B=n?1:-1,Q=e<0||\ne===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=l):(o=Math.\nfloor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=b/c:e+=\nb*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=l?(u=0,o=l):o+d>=1?(u=(e*c-1)*Math.pow(\n2,i),o=o+d):(u=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;r[t+C]=u&255,C+=B,u/=256,\ni-=8);for(o=o<<i|u,h+=i;h>0;r[t+C]=o&255,C+=B,o/=256,h-=8);r[t+C-B]|=Q*128}});var Kn=I(Le=>{\"use strict\";p();var Mt=Bn(),Pe=Ln(),Rn=typeof Symbol==\"function\"&&\ntypeof Symbol.for==\"function\"?Symbol.for(\"nodejs.util.inspect.custom\"):null;Le.Buffer=\nf;Le.SlowBuffer=vo;Le.INSPECT_MAX_BYTES=50;var ot=2147483647;Le.kMaxLength=ot;f.\nTYPED_ARRAY_SUPPORT=wo();!f.TYPED_ARRAY_SUPPORT&&typeof console<\"u\"&&typeof console.\nerror==\"function\"&&console.error(\"This browser lacks typed array (Uint8Array) su\\\npport which is required by `buffer` v5.x. Use `buffer` v4.x if you require old b\\\nrowser support.\");function wo(){try{let r=new Uint8Array(1),e={foo:a(function(){\nreturn 42},\"foo\")};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(\nr,e),r.foo()===42}catch{return!1}}a(wo,\"typedArraySupport\");Object.defineProperty(\nf.prototype,\"parent\",{enumerable:!0,get:a(function(){if(f.isBuffer(this))return this.\nbuffer},\"get\")});Object.defineProperty(f.prototype,\"offset\",{enumerable:!0,get:a(\nfunction(){if(f.isBuffer(this))return this.byteOffset},\"get\")});function le(r){if(r>\not)throw new RangeError('The value \"'+r+'\" is invalid for option \"size\"');let e=new Uint8Array(\nr);return Object.setPrototypeOf(e,f.prototype),e}a(le,\"createBuffer\");function f(r,e,t){\nif(typeof r==\"number\"){if(typeof e==\"string\")throw new TypeError('The \"string\" a\\\nrgument must be of type string. Received type number');return Ot(r)}return kn(r,\ne,t)}a(f,\"Buffer\");f.poolSize=8192;function kn(r,e,t){if(typeof r==\"string\")return So(\nr,e);if(ArrayBuffer.isView(r))return xo(r);if(r==null)throw new TypeError(\"The f\\\nirst argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-l\\\nike Object. Received type \"+typeof r);if(ue(r,ArrayBuffer)||r&&ue(r.buffer,ArrayBuffer)||\ntypeof SharedArrayBuffer<\"u\"&&(ue(r,SharedArrayBuffer)||r&&ue(r.buffer,SharedArrayBuffer)))\nreturn kt(r,e,t);if(typeof r==\"number\")throw new TypeError('The \"value\" argument\\\n must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();\nif(n!=null&&n!==r)return f.from(n,e,t);let i=Eo(r);if(i)return i;if(typeof Symbol<\n\"u\"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]==\"function\")return f.\nfrom(r[Symbol.toPrimitive](\"string\"),e,t);throw new TypeError(\"The first argumen\\\nt must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. \\\nReceived type \"+typeof r)}a(kn,\"from\");f.from=function(r,e,t){return kn(r,e,t)};\nObject.setPrototypeOf(f.prototype,Uint8Array.prototype);Object.setPrototypeOf(f,\nUint8Array);function Un(r){if(typeof r!=\"number\")throw new TypeError('\"size\" arg\\\nument must be of type number');if(r<0)throw new RangeError('The value \"'+r+'\" is\\\n invalid for option \"size\"')}a(Un,\"assertSize\");function bo(r,e,t){return Un(r),\nr<=0?le(r):e!==void 0?typeof t==\"string\"?le(r).fill(e,t):le(r).fill(e):le(r)}a(bo,\n\"alloc\");f.alloc=function(r,e,t){return bo(r,e,t)};function Ot(r){return Un(r),le(\nr<0?0:Nt(r)|0)}a(Ot,\"allocUnsafe\");f.allocUnsafe=function(r){return Ot(r)};f.allocUnsafeSlow=\nfunction(r){return Ot(r)};function So(r,e){if((typeof e!=\"string\"||e===\"\")&&(e=\"\\\nutf8\"),!f.isEncoding(e))throw new TypeError(\"Unknown encoding: \"+e);let t=On(r,e)|\n0,n=le(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}a(So,\"fromString\");function Dt(r){\nlet e=r.length<0?0:Nt(r.length)|0,t=le(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}\na(Dt,\"fromArrayLike\");function xo(r){if(ue(r,Uint8Array)){let e=new Uint8Array(r);\nreturn kt(e.buffer,e.byteOffset,e.byteLength)}return Dt(r)}a(xo,\"fromArrayView\");\nfunction kt(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('\"offset\" is outs\\\nide of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('\"length\" i\\\ns outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(\nr):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(\nn,f.prototype),n}a(kt,\"fromArrayBuffer\");function Eo(r){if(f.isBuffer(r)){let e=Nt(\nr.length)|0,t=le(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)\nreturn typeof r.length!=\"number\"||Qt(r.length)?le(0):Dt(r);if(r.type===\"Buffer\"&&\nArray.isArray(r.data))return Dt(r.data)}a(Eo,\"fromObject\");function Nt(r){if(r>=\not)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+\not.toString(16)+\" bytes\");return r|0}a(Nt,\"checked\");function vo(r){return+r!=r&&\n(r=0),f.alloc(+r)}a(vo,\"SlowBuffer\");f.isBuffer=a(function(e){return e!=null&&e.\n_isBuffer===!0&&e!==f.prototype},\"isBuffer\");f.compare=a(function(e,t){if(ue(e,Uint8Array)&&\n(e=f.from(e,e.offset,e.byteLength)),ue(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),\n!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The \"buf1\", \"buf2\" arguments\\\n must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.\nlength;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<\ni?-1:i<n?1:0},\"compare\");f.isEncoding=a(function(e){switch(String(e).toLowerCase()){case\"\\\nhex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"\\\nucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},\"isEn\\\ncoding\");f.concat=a(function(e,t){if(!Array.isArray(e))throw new TypeError('\"lis\\\nt\" argument must be an Array of Buffers');if(e.length===0)return f.alloc(0);let n;\nif(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=f.allocUnsafe(t),s=0;\nfor(n=0;n<e.length;++n){let o=e[n];if(ue(o,Uint8Array))s+o.length>i.length?(f.isBuffer(\no)||(o=f.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(f.isBuffer(\no))o.copy(i,s);else throw new TypeError('\"list\" argument must be an Array of Buf\\\nfers');s+=o.length}return i},\"concat\");function On(r,e){if(f.isBuffer(r))return r.\nlength;if(ArrayBuffer.isView(r)||ue(r,ArrayBuffer))return r.byteLength;if(typeof r!=\n\"string\")throw new TypeError('The \"string\" argument must be one of type string, \\\nBuffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>\n2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case\"ascii\":case\"\\\nlatin1\":case\"binary\":return t;case\"utf8\":case\"utf-8\":return Ut(r).length;case\"uc\\\ns2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return t*2;case\"hex\":return t>>>1;case\"\\\nbase64\":return Vn(r).length;default:if(i)return n?-1:Ut(r).length;e=(\"\"+e).toLowerCase(),\ni=!0}}a(On,\"byteLength\");f.byteLength=On;function _o(r,e,t){let n=!1;if((e===void 0||\ne<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||\n(t>>>=0,e>>>=0,t<=e))return\"\";for(r||(r=\"utf8\");;)switch(r){case\"hex\":return Mo(\nthis,e,t);case\"utf8\":case\"utf-8\":return qn(this,e,t);case\"ascii\":return Ro(this,\ne,t);case\"latin1\":case\"binary\":return Fo(this,e,t);case\"base64\":return Bo(this,e,\nt);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return Do(this,e,t);default:\nif(n)throw new TypeError(\"Unknown encoding: \"+r);r=(r+\"\").toLowerCase(),n=!0}}a(\n_o,\"slowToString\");f.prototype._isBuffer=!0;function ve(r,e,t){let n=r[e];r[e]=r[t],\nr[t]=n}a(ve,\"swap\");f.prototype.swap16=a(function(){let e=this.length;if(e%2!==0)\nthrow new RangeError(\"Buffer size must be a multiple of 16-bits\");for(let t=0;t<\ne;t+=2)ve(this,t,t+1);return this},\"swap16\");f.prototype.swap32=a(function(){let e=this.\nlength;if(e%4!==0)throw new RangeError(\"Buffer size must be a multiple of 32-bit\\\ns\");for(let t=0;t<e;t+=4)ve(this,t,t+3),ve(this,t+1,t+2);return this},\"swap32\");\nf.prototype.swap64=a(function(){let e=this.length;if(e%8!==0)throw new RangeError(\n\"Buffer size must be a multiple of 64-bits\");for(let t=0;t<e;t+=8)ve(this,t,t+7),\nve(this,t+1,t+6),ve(this,t+2,t+5),ve(this,t+3,t+4);return this},\"swap64\");f.prototype.\ntoString=a(function(){let e=this.length;return e===0?\"\":arguments.length===0?qn(\nthis,0,e):_o.apply(this,arguments)},\"toString\");f.prototype.toLocaleString=f.prototype.\ntoString;f.prototype.equals=a(function(e){if(!f.isBuffer(e))throw new TypeError(\n\"Argument must be a Buffer\");return this===e?!0:f.compare(this,e)===0},\"equals\");\nf.prototype.inspect=a(function(){let e=\"\",t=Le.INSPECT_MAX_BYTES;return e=this.toString(\n\"hex\",0,t).replace(/(.{2})/g,\"$1 \").trim(),this.length>t&&(e+=\" ... \"),\"<Buffer \"+\ne+\">\"},\"inspect\");Rn&&(f.prototype[Rn]=f.prototype.inspect);f.prototype.compare=\na(function(e,t,n,i,s){if(ue(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.\nisBuffer(e))throw new TypeError('The \"target\" argument must be one of type Buffe\\\nr or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?\ne.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),t<0||n>e.length||i<0||\ns>this.length)throw new RangeError(\"out of range index\");if(i>=s&&t>=n)return 0;\nif(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;\nlet o=s-i,u=n-t,c=Math.min(o,u),h=this.slice(i,s),l=e.slice(t,n);for(let d=0;d<c;++d)\nif(h[d]!==l[d]){o=h[d],u=l[d];break}return o<u?-1:u<o?1:0},\"compare\");function Nn(r,e,t,n,i){\nif(r.length===0)return-1;if(typeof t==\"string\"?(n=t,t=0):t>2147483647?t=2147483647:\nt<-2147483648&&(t=-2147483648),t=+t,Qt(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),\nt>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e==\n\"string\"&&(e=f.from(e,n)),f.isBuffer(e))return e.length===0?-1:Fn(r,e,t,n,i);if(typeof e==\n\"number\")return e=e&255,typeof Uint8Array.prototype.indexOf==\"function\"?i?Uint8Array.\nprototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Fn(r,\n[e],t,n,i);throw new TypeError(\"val must be string, number or Buffer\")}a(Nn,\"bid\\\nirectionalIndexOf\");function Fn(r,e,t,n,i){let s=1,o=r.length,u=e.length;if(n!==\nvoid 0&&(n=String(n).toLowerCase(),n===\"ucs2\"||n===\"ucs-2\"||n===\"utf16le\"||n===\"\\\nutf-16le\")){if(r.length<2||e.length<2)return-1;s=2,o/=2,u/=2,t/=2}function c(l,d){\nreturn s===1?l[d]:l.readUInt16BE(d*s)}a(c,\"read\");let h;if(i){let l=-1;for(h=t;h<\no;h++)if(c(r,h)===c(e,l===-1?0:h-l)){if(l===-1&&(l=h),h-l+1===u)return l*s}else l!==\n-1&&(h-=h-l),l=-1}else for(t+u>o&&(t=o-u),h=t;h>=0;h--){let l=!0;for(let d=0;d<u;d++)\nif(c(r,h+d)!==c(e,d)){l=!1;break}if(l)return h}return-1}a(Fn,\"arrayIndexOf\");f.prototype.\nincludes=a(function(e,t,n){return this.indexOf(e,t,n)!==-1},\"includes\");f.prototype.\nindexOf=a(function(e,t,n){return Nn(this,e,t,n,!0)},\"indexOf\");f.prototype.lastIndexOf=\na(function(e,t,n){return Nn(this,e,t,n,!1)},\"lastIndexOf\");function Ao(r,e,t,n){\nt=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>\ns/2&&(n=s/2);let o;for(o=0;o<n;++o){let u=parseInt(e.substr(o*2,2),16);if(Qt(u))\nreturn o;r[t+o]=u}return o}a(Ao,\"hexWrite\");function Co(r,e,t,n){return at(Ut(e,\nr.length-t),r,t,n)}a(Co,\"utf8Write\");function To(r,e,t,n){return at(No(e),r,t,n)}\na(To,\"asciiWrite\");function Io(r,e,t,n){return at(Vn(e),r,t,n)}a(Io,\"base64Write\");\nfunction Po(r,e,t,n){return at(qo(e,r.length-t),r,t,n)}a(Po,\"ucs2Write\");f.prototype.\nwrite=a(function(e,t,n,i){if(t===void 0)i=\"utf8\",n=this.length,t=0;else if(n===void 0&&\ntypeof t==\"string\")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?\n(n=n>>>0,i===void 0&&(i=\"utf8\")):(i=n,n=void 0);else throw new Error(\"Buffer.wri\\\nte(string, encoding, offset[, length]) is no longer supported\");let s=this.length-\nt;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\n\"Attempt to write outside buffer bounds\");i||(i=\"utf8\");let o=!1;for(;;)switch(i){case\"\\\nhex\":return Ao(this,e,t,n);case\"utf8\":case\"utf-8\":return Co(this,e,t,n);case\"asc\\\nii\":case\"latin1\":case\"binary\":return To(this,e,t,n);case\"base64\":return Io(this,\ne,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return Po(this,e,t,n);default:\nif(o)throw new TypeError(\"Unknown encoding: \"+i);i=(\"\"+i).toLowerCase(),o=!0}},\"\\\nwrite\");f.prototype.toJSON=a(function(){return{type:\"Buffer\",data:Array.prototype.\nslice.call(this._arr||this,0)}},\"toJSON\");function Bo(r,e,t){return e===0&&t===r.\nlength?Mt.fromByteArray(r):Mt.fromByteArray(r.slice(e,t))}a(Bo,\"base64Slice\");function qn(r,e,t){\nt=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let s=r[i],o=null,u=s>239?4:s>223?\n3:s>191?2:1;if(i+u<=t){let c,h,l,d;switch(u){case 1:s<128&&(o=s);break;case 2:c=\nr[i+1],(c&192)===128&&(d=(s&31)<<6|c&63,d>127&&(o=d));break;case 3:c=r[i+1],h=r[i+\n2],(c&192)===128&&(h&192)===128&&(d=(s&15)<<12|(c&63)<<6|h&63,d>2047&&(d<55296||\nd>57343)&&(o=d));break;case 4:c=r[i+1],h=r[i+2],l=r[i+3],(c&192)===128&&(h&192)===\n128&&(l&192)===128&&(d=(s&15)<<18|(c&63)<<12|(h&63)<<6|l&63,d>65535&&d<1114112&&\n(o=d))}}o===null?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|\no&1023),n.push(o),i+=u}return Lo(n)}a(qn,\"utf8Slice\");var Mn=4096;function Lo(r){\nlet e=r.length;if(e<=Mn)return String.fromCharCode.apply(String,r);let t=\"\",n=0;\nfor(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Mn));return t}a(Lo,\"d\\\necodeCodePointsArray\");function Ro(r,e,t){let n=\"\";t=Math.min(r.length,t);for(let i=e;i<\nt;++i)n+=String.fromCharCode(r[i]&127);return n}a(Ro,\"asciiSlice\");function Fo(r,e,t){\nlet n=\"\";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);\nreturn n}a(Fo,\"latin1Slice\");function Mo(r,e,t){let n=r.length;(!e||e<0)&&(e=0),\n(!t||t<0||t>n)&&(t=n);let i=\"\";for(let s=e;s<t;++s)i+=Qo[r[s]];return i}a(Mo,\"he\\\nxSlice\");function Do(r,e,t){let n=r.slice(e,t),i=\"\";for(let s=0;s<n.length-1;s+=\n2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}a(Do,\"utf16leSlice\");f.prototype.\nslice=a(function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&\n(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(\ne,t);return Object.setPrototypeOf(i,f.prototype),i},\"slice\");function N(r,e,t){if(r%\n1!==0||r<0)throw new RangeError(\"offset is not uint\");if(r+e>t)throw new RangeError(\n\"Trying to access beyond buffer length\")}a(N,\"checkOffset\");f.prototype.readUintLE=\nf.prototype.readUIntLE=a(function(e,t,n){e=e>>>0,t=t>>>0,n||N(e,t,this.length);let i=this[e],\ns=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return i},\"readUIntLE\");f.prototype.\nreadUintBE=f.prototype.readUIntBE=a(function(e,t,n){e=e>>>0,t=t>>>0,n||N(e,t,this.\nlength);let i=this[e+--t],s=1;for(;t>0&&(s*=256);)i+=this[e+--t]*s;return i},\"re\\\nadUIntBE\");f.prototype.readUint8=f.prototype.readUInt8=a(function(e,t){return e=\ne>>>0,t||N(e,1,this.length),this[e]},\"readUInt8\");f.prototype.readUint16LE=f.prototype.\nreadUInt16LE=a(function(e,t){return e=e>>>0,t||N(e,2,this.length),this[e]|this[e+\n1]<<8},\"readUInt16LE\");f.prototype.readUint16BE=f.prototype.readUInt16BE=a(function(e,t){\nreturn e=e>>>0,t||N(e,2,this.length),this[e]<<8|this[e+1]},\"readUInt16BE\");f.prototype.\nreadUint32LE=f.prototype.readUInt32LE=a(function(e,t){return e=e>>>0,t||N(e,4,this.\nlength),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},\"readUInt32LE\");\nf.prototype.readUint32BE=f.prototype.readUInt32BE=a(function(e,t){return e=e>>>0,\nt||N(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},\"\\\nreadUInt32BE\");f.prototype.readBigUInt64LE=me(a(function(e){e=e>>>0,Be(e,\"offset\");\nlet t=this[e],n=this[e+7];(t===void 0||n===void 0)&&We(e,this.length-8);let i=t+\nthis[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*\n2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))},\"readBigUInt64LE\"));f.prototype.\nreadBigUInt64BE=me(a(function(e){e=e>>>0,Be(e,\"offset\");let t=this[e],n=this[e+7];\n(t===void 0||n===void 0)&&We(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*\n2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(\ni)<<BigInt(32))+BigInt(s)},\"readBigUInt64BE\"));f.prototype.readIntLE=a(function(e,t,n){\ne=e>>>0,t=t>>>0,n||N(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)\ni+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},\"readIntLE\");f.prototype.\nreadIntBE=a(function(e,t,n){e=e>>>0,t=t>>>0,n||N(e,t,this.length);let i=t,s=1,o=this[e+\n--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),\no},\"readIntBE\");f.prototype.readInt8=a(function(e,t){return e=e>>>0,t||N(e,1,this.\nlength),this[e]&128?(255-this[e]+1)*-1:this[e]},\"readInt8\");f.prototype.readInt16LE=\na(function(e,t){e=e>>>0,t||N(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&\n32768?n|4294901760:n},\"readInt16LE\");f.prototype.readInt16BE=a(function(e,t){e=e>>>\n0,t||N(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},\n\"readInt16BE\");f.prototype.readInt32LE=a(function(e,t){return e=e>>>0,t||N(e,4,this.\nlength),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},\"readInt32LE\");f.prototype.\nreadInt32BE=a(function(e,t){return e=e>>>0,t||N(e,4,this.length),this[e]<<24|this[e+\n1]<<16|this[e+2]<<8|this[e+3]},\"readInt32BE\");f.prototype.readBigInt64LE=me(a(function(e){\ne=e>>>0,Be(e,\"offset\");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&We(e,\nthis.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(\ni)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)},\"readB\\\nigInt64LE\"));f.prototype.readBigInt64BE=me(a(function(e){e=e>>>0,Be(e,\"offset\");\nlet t=this[e],n=this[e+7];(t===void 0||n===void 0)&&We(e,this.length-8);let i=(t<<\n24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(\nthis[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)},\"readBigInt64BE\"));f.prototype.\nreadFloatLE=a(function(e,t){return e=e>>>0,t||N(e,4,this.length),Pe.read(this,e,\n!0,23,4)},\"readFloatLE\");f.prototype.readFloatBE=a(function(e,t){return e=e>>>0,\nt||N(e,4,this.length),Pe.read(this,e,!1,23,4)},\"readFloatBE\");f.prototype.readDoubleLE=\na(function(e,t){return e=e>>>0,t||N(e,8,this.length),Pe.read(this,e,!0,52,8)},\"r\\\neadDoubleLE\");f.prototype.readDoubleBE=a(function(e,t){return e=e>>>0,t||N(e,8,this.\nlength),Pe.read(this,e,!1,52,8)},\"readDoubleBE\");function Y(r,e,t,n,i,s){if(!f.isBuffer(\nr))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<\ns)throw new RangeError('\"value\" argument is out of bounds');if(t+n>r.length)throw new RangeError(\n\"Index out of range\")}a(Y,\"checkInt\");f.prototype.writeUintLE=f.prototype.writeUIntLE=\na(function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let u=Math.pow(2,8*n)-1;Y(this,e,\nt,n,u,0)}let s=1,o=0;for(this[t]=e&255;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+\nn},\"writeUIntLE\");f.prototype.writeUintBE=f.prototype.writeUIntBE=a(function(e,t,n,i){\nif(e=+e,t=t>>>0,n=n>>>0,!i){let u=Math.pow(2,8*n)-1;Y(this,e,t,n,u,0)}let s=n-1,\no=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+n},\"writeUI\\\nntBE\");f.prototype.writeUint8=f.prototype.writeUInt8=a(function(e,t,n){return e=\n+e,t=t>>>0,n||Y(this,e,t,1,255,0),this[t]=e&255,t+1},\"writeUInt8\");f.prototype.writeUint16LE=\nf.prototype.writeUInt16LE=a(function(e,t,n){return e=+e,t=t>>>0,n||Y(this,e,t,2,\n65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},\"writeUInt16LE\");f.prototype.writeUint16BE=\nf.prototype.writeUInt16BE=a(function(e,t,n){return e=+e,t=t>>>0,n||Y(this,e,t,2,\n65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},\"writeUInt16BE\");f.prototype.writeUint32LE=\nf.prototype.writeUInt32LE=a(function(e,t,n){return e=+e,t=t>>>0,n||Y(this,e,t,4,\n4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+\n4},\"writeUInt32LE\");f.prototype.writeUint32BE=f.prototype.writeUInt32BE=a(function(e,t,n){\nreturn e=+e,t=t>>>0,n||Y(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,\nthis[t+2]=e>>>8,this[t+3]=e&255,t+4},\"writeUInt32BE\");function Qn(r,e,t,n,i){$n(\ne,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,\nr[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=\no,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}a(Qn,\"wrtBigUInt64LE\");function jn(r,e,t,n,i){\n$n(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>\n8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+\n3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}a(jn,\"wrtBigUInt64BE\");f.\nprototype.writeBigUInt64LE=me(a(function(e,t=0){return Qn(this,e,t,BigInt(0),BigInt(\n\"0xffffffffffffffff\"))},\"writeBigUInt64LE\"));f.prototype.writeBigUInt64BE=me(a(function(e,t=0){\nreturn jn(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))},\"writeBigUInt64BE\"));\nf.prototype.writeIntLE=a(function(e,t,n,i){if(e=+e,t=t>>>0,!i){let c=Math.pow(2,\n8*n-1);Y(this,e,t,n,c-1,-c)}let s=0,o=1,u=0;for(this[t]=e&255;++s<n&&(o*=256);)e<\n0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/o>>0)-u&255;return t+n},\"writeIntL\\\nE\");f.prototype.writeIntBE=a(function(e,t,n,i){if(e=+e,t=t>>>0,!i){let c=Math.pow(\n2,8*n-1);Y(this,e,t,n,c-1,-c)}let s=n-1,o=1,u=0;for(this[t+s]=e&255;--s>=0&&(o*=\n256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/o>>0)-u&255;return t+n},\"w\\\nriteIntBE\");f.prototype.writeInt8=a(function(e,t,n){return e=+e,t=t>>>0,n||Y(this,\ne,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},\"writeInt8\");f.prototype.writeInt16LE=\na(function(e,t,n){return e=+e,t=t>>>0,n||Y(this,e,t,2,32767,-32768),this[t]=e&255,\nthis[t+1]=e>>>8,t+2},\"writeInt16LE\");f.prototype.writeInt16BE=a(function(e,t,n){\nreturn e=+e,t=t>>>0,n||Y(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,\nt+2},\"writeInt16BE\");f.prototype.writeInt32LE=a(function(e,t,n){return e=+e,t=t>>>\n0,n||Y(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=\ne>>>16,this[t+3]=e>>>24,t+4},\"writeInt32LE\");f.prototype.writeInt32BE=a(function(e,t,n){\nreturn e=+e,t=t>>>0,n||Y(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+\n1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},\"writeIn\\\nt32BE\");f.prototype.writeBigInt64LE=me(a(function(e,t=0){return Qn(this,e,t,-BigInt(\n\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))},\"writeBigInt64LE\"));f.prototype.\nwriteBigInt64BE=me(a(function(e,t=0){return jn(this,e,t,-BigInt(\"0x8000000000000\\\n000\"),BigInt(\"0x7fffffffffffffff\"))},\"writeBigInt64BE\"));function Wn(r,e,t,n,i,s){\nif(t+n>r.length)throw new RangeError(\"Index out of range\");if(t<0)throw new RangeError(\n\"Index out of range\")}a(Wn,\"checkIEEE754\");function Hn(r,e,t,n,i){return e=+e,t=\nt>>>0,i||Wn(r,e,t,4,34028234663852886e22,-34028234663852886e22),Pe.write(r,e,t,n,\n23,4),t+4}a(Hn,\"writeFloat\");f.prototype.writeFloatLE=a(function(e,t,n){return Hn(\nthis,e,t,!0,n)},\"writeFloatLE\");f.prototype.writeFloatBE=a(function(e,t,n){return Hn(\nthis,e,t,!1,n)},\"writeFloatBE\");function Gn(r,e,t,n,i){return e=+e,t=t>>>0,i||Wn(\nr,e,t,8,17976931348623157e292,-17976931348623157e292),Pe.write(r,e,t,n,52,8),t+8}\na(Gn,\"writeDouble\");f.prototype.writeDoubleLE=a(function(e,t,n){return Gn(this,e,\nt,!0,n)},\"writeDoubleLE\");f.prototype.writeDoubleBE=a(function(e,t,n){return Gn(\nthis,e,t,!1,n)},\"writeDoubleBE\");f.prototype.copy=a(function(e,t,n,i){if(!f.isBuffer(\ne))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),!i&&i!==0&&(i=\nthis.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===\n0||this.length===0)return 0;if(t<0)throw new RangeError(\"targetStart out of boun\\\nds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(i<0)throw new RangeError(\n\"sourceEnd out of bounds\");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-\nt+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin==\"functio\\\nn\"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),\ns},\"copy\");f.prototype.fill=a(function(e,t,n,i){if(typeof e==\"string\"){if(typeof t==\n\"string\"?(i=t,t=0,n=this.length):typeof n==\"string\"&&(i=n,n=this.length),i!==void 0&&\ntypeof i!=\"string\")throw new TypeError(\"encoding must be a string\");if(typeof i==\n\"string\"&&!f.isEncoding(i))throw new TypeError(\"Unknown encoding: \"+i);if(e.length===\n1){let o=e.charCodeAt(0);(i===\"utf8\"&&o<128||i===\"latin1\")&&(e=o)}}else typeof e==\n\"number\"?e=e&255:typeof e==\"boolean\"&&(e=Number(e));if(t<0||this.length<t||this.\nlength<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;t=t>>>0,\nn=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e==\"number\")for(s=t;s<n;++s)\nthis[s]=e;else{let o=f.isBuffer(e)?e:f.from(e,i),u=o.length;if(u===0)throw new TypeError(\n'The value \"'+e+'\" is invalid for argument \"value\"');for(s=0;s<n-t;++s)this[s+t]=\no[s%u]}return this},\"fill\");var Ie={};function qt(r,e,t){var n;Ie[r]=(n=class extends t{constructor(){\nsuper(),Object.defineProperty(this,\"message\",{value:e.apply(this,arguments),writable:!0,\nconfigurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){\nreturn r}set code(s){Object.defineProperty(this,\"code\",{configurable:!0,enumerable:!0,\nvalue:s,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}},\na(n,\"NodeError\"),n)}a(qt,\"E\");qt(\"ERR_BUFFER_OUT_OF_BOUNDS\",function(r){return r?\n`${r} is outside of buffer bounds`:\"Attempt to access memory outside buffer boun\\\nds\"},RangeError);qt(\"ERR_INVALID_ARG_TYPE\",function(r,e){return`The \"${r}\" argum\\\nent must be of type number. Received type ${typeof e}`},TypeError);qt(\"ERR_OUT_O\\\nF_RANGE\",function(r,e,t){let n=`The value of \"${r}\" is out of range.`,i=t;return Number.\nisInteger(t)&&Math.abs(t)>2**32?i=Dn(String(t)):typeof t==\"bigint\"&&(i=String(t),\n(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=Dn(i)),i+=\"n\"),n+=` It\\\n must be ${e}. Received ${i}`,n},RangeError);function Dn(r){let e=\"\",t=r.length,\nn=r[0]===\"-\"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,\nt)}${e}`}a(Dn,\"addNumericalSeparator\");function ko(r,e,t){Be(e,\"offset\"),(r[e]===\nvoid 0||r[e+t]===void 0)&&We(e,r.length-(t+1))}a(ko,\"checkBounds\");function $n(r,e,t,n,i,s){\nif(r>t||r<e){let o=typeof e==\"bigint\"?\"n\":\"\",u;throw s>3?e===0||e===BigInt(0)?u=\n`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:u=`>= -(2${o} ** ${(s+1)*8-1}${o}) and \\\n< 2 ** ${(s+1)*8-1}${o}`:u=`>= ${e}${o} and <= ${t}${o}`,new Ie.ERR_OUT_OF_RANGE(\n\"value\",u,r)}ko(n,i,s)}a($n,\"checkIntBI\");function Be(r,e){if(typeof r!=\"number\")\nthrow new Ie.ERR_INVALID_ARG_TYPE(e,\"number\",r)}a(Be,\"validateNumber\");function We(r,e,t){\nthrow Math.floor(r)!==r?(Be(r,t),new Ie.ERR_OUT_OF_RANGE(t||\"offset\",\"an integer\",\nr)):e<0?new Ie.ERR_BUFFER_OUT_OF_BOUNDS:new Ie.ERR_OUT_OF_RANGE(t||\"offset\",`>= ${t?\n1:0} and <= ${e}`,r)}a(We,\"boundsError\");var Uo=/[^+/0-9A-Za-z-_]/g;function Oo(r){\nif(r=r.split(\"=\")[0],r=r.trim().replace(Uo,\"\"),r.length<2)return\"\";for(;r.length%\n4!==0;)r=r+\"=\";return r}a(Oo,\"base64clean\");function Ut(r,e){e=e||1/0;let t,n=r.\nlength,i=null,s=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){\nif(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&\ns.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,\n189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,\n189);if(i=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;\ns.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>\n6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|\n128,t>>6&63|128,t&63|128)}else throw new Error(\"Invalid code point\")}return s}a(\nUt,\"utf8ToBytes\");function No(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(\nt)&255);return e}a(No,\"asciiToBytes\");function qo(r,e){let t,n,i,s=[];for(let o=0;o<\nr.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,i=t%256,s.push(i),s.push(n);return s}\na(qo,\"utf16leToBytes\");function Vn(r){return Mt.toByteArray(Oo(r))}a(Vn,\"base64T\\\noBytes\");function at(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)\ne[i+t]=r[i];return i}a(at,\"blitBuffer\");function ue(r,e){return r instanceof e||\nr!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}\na(ue,\"isInstance\");function Qt(r){return r!==r}a(Qt,\"numberIsNaN\");var Qo=function(){\nlet r=\"0123456789abcdef\",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<\n16;++i)e[n+i]=r[t]+r[i]}return e}();function me(r){return typeof BigInt>\"u\"?jo:r}\na(me,\"defineBigIntMethod\");function jo(){throw new Error(\"BigInt not supported\")}\na(jo,\"BufferBigIntNotDefined\")});var S,x,E,w,y,m,p=z(()=>{\"use strict\";S=globalThis,x=globalThis.setImmediate??(r=>setTimeout(\nr,0)),E=globalThis.clearImmediate??(r=>clearTimeout(r)),w=globalThis.crypto??{};\nw.subtle??(w.subtle={});y=typeof globalThis.Buffer==\"function\"&&typeof globalThis.\nBuffer.allocUnsafe==\"function\"?globalThis.Buffer:Kn().Buffer,m=globalThis.process??\n{};m.env??(m.env={});try{m.nextTick(()=>{})}catch{let e=Promise.resolve();m.nextTick=\ne.then.bind(e)}});var ge=I((nh,jt)=>{\"use strict\";p();var Re=typeof Reflect==\"object\"?Reflect:null,\nzn=Re&&typeof Re.apply==\"function\"?Re.apply:a(function(e,t,n){return Function.prototype.\napply.call(e,t,n)},\"ReflectApply\"),ut;Re&&typeof Re.ownKeys==\"function\"?ut=Re.ownKeys:\nObject.getOwnPropertySymbols?ut=a(function(e){return Object.getOwnPropertyNames(\ne).concat(Object.getOwnPropertySymbols(e))},\"ReflectOwnKeys\"):ut=a(function(e){return Object.\ngetOwnPropertyNames(e)},\"ReflectOwnKeys\");function Wo(r){console&&console.warn&&\nconsole.warn(r)}a(Wo,\"ProcessEmitWarning\");var Zn=Number.isNaN||a(function(e){return e!==\ne},\"NumberIsNaN\");function L(){L.init.call(this)}a(L,\"EventEmitter\");jt.exports=\nL;jt.exports.once=Vo;L.EventEmitter=L;L.prototype._events=void 0;L.prototype._eventsCount=\n0;L.prototype._maxListeners=void 0;var Yn=10;function ct(r){if(typeof r!=\"functi\\\non\")throw new TypeError('The \"listener\" argument must be of type Function. Recei\\\nved type '+typeof r)}a(ct,\"checkListener\");Object.defineProperty(L,\"defaultMaxLi\\\nsteners\",{enumerable:!0,get:a(function(){return Yn},\"get\"),set:a(function(r){if(typeof r!=\n\"number\"||r<0||Zn(r))throw new RangeError('The value of \"defaultMaxListeners\" is\\\n out of range. It must be a non-negative number. Received '+r+\".\");Yn=r},\"set\")});\nL.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this).\n_events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=\nthis._maxListeners||void 0};L.prototype.setMaxListeners=a(function(e){if(typeof e!=\n\"number\"||e<0||Zn(e))throw new RangeError('The value of \"n\" is out of range. It \\\nmust be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},\n\"setMaxListeners\");function Jn(r){return r._maxListeners===void 0?L.defaultMaxListeners:\nr._maxListeners}a(Jn,\"_getMaxListeners\");L.prototype.getMaxListeners=a(function(){\nreturn Jn(this)},\"getMaxListeners\");L.prototype.emit=a(function(e){for(var t=[],\nn=1;n<arguments.length;n++)t.push(arguments[n]);var i=e===\"error\",s=this._events;\nif(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(t.length>\n0&&(o=t[0]),o instanceof Error)throw o;var u=new Error(\"Unhandled error.\"+(o?\" (\"+\no.message+\")\":\"\"));throw u.context=o,u}var c=s[e];if(c===void 0)return!1;if(typeof c==\n\"function\")zn(c,this,t);else for(var h=c.length,l=ni(c,h),n=0;n<h;++n)zn(l[n],this,\nt);return!0},\"emit\");function Xn(r,e,t,n){var i,s,o;if(ct(t),s=r._events,s===void 0?\n(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit(\n\"newListener\",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=\nt,++r._eventsCount;else if(typeof o==\"function\"?o=s[e]=n?[t,o]:[o,t]:n?o.unshift(\nt):o.push(t),i=Jn(r),i>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error(\"Po\\\nssible EventEmitter memory leak detected. \"+o.length+\" \"+String(e)+\" listeners a\\\ndded. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExce\\\nededWarning\",u.emitter=r,u.type=e,u.count=o.length,Wo(u)}return r}a(Xn,\"_addList\\\nener\");L.prototype.addListener=a(function(e,t){return Xn(this,e,t,!1)},\"addListe\\\nner\");L.prototype.on=L.prototype.addListener;L.prototype.prependListener=a(function(e,t){\nreturn Xn(this,e,t,!0)},\"prependListener\");function Ho(){if(!this.fired)return this.\ntarget.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?\nthis.listener.call(this.target):this.listener.apply(this.target,arguments)}a(Ho,\n\"onceWrapper\");function ei(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,\nlistener:t},i=Ho.bind(n);return i.listener=t,n.wrapFn=i,i}a(ei,\"_onceWrap\");L.prototype.\nonce=a(function(e,t){return ct(t),this.on(e,ei(this,e,t)),this},\"once\");L.prototype.\nprependOnceListener=a(function(e,t){return ct(t),this.prependListener(e,ei(this,\ne,t)),this},\"prependOnceListener\");L.prototype.removeListener=a(function(e,t){var n,\ni,s,o,u;if(ct(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;\nif(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):\n(delete i[e],i.removeListener&&this.emit(\"removeListener\",e,n.listener||t));else if(typeof n!=\n\"function\"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){u=n[o].\nlistener,s=o;break}if(s<0)return this;s===0?n.shift():Go(n,s),n.length===1&&(i[e]=\nn[0]),i.removeListener!==void 0&&this.emit(\"removeListener\",e,u||t)}return this},\n\"removeListener\");L.prototype.off=L.prototype.removeListener;L.prototype.removeAllListeners=\na(function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===\nvoid 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=\n0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),\nthis;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],\no!==\"removeListener\"&&this.removeAllListeners(o);return this.removeAllListeners(\n\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(t=\nn[e],typeof t==\"function\")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-\n1;i>=0;i--)this.removeListener(e,t[i]);return this},\"removeAllListeners\");function ti(r,e,t){\nvar n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i==\n\"function\"?t?[i.listener||i]:[i]:t?$o(i):ni(i,i.length)}a(ti,\"_listeners\");L.prototype.\nlisteners=a(function(e){return ti(this,e,!0)},\"listeners\");L.prototype.rawListeners=\na(function(e){return ti(this,e,!1)},\"rawListeners\");L.listenerCount=function(r,e){\nreturn typeof r.listenerCount==\"function\"?r.listenerCount(e):ri.call(r,e)};L.prototype.\nlistenerCount=ri;function ri(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t==\n\"function\")return 1;if(t!==void 0)return t.length}return 0}a(ri,\"listenerCount\");\nL.prototype.eventNames=a(function(){return this._eventsCount>0?ut(this._events):\n[]},\"eventNames\");function ni(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];\nreturn t}a(ni,\"arrayClone\");function Go(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.\npop()}a(Go,\"spliceOne\");function $o(r){for(var e=new Array(r.length),t=0;t<e.length;++t)\ne[t]=r[t].listener||r[t];return e}a($o,\"unwrapListeners\");function Vo(r,e){return new Promise(\nfunction(t,n){function i(o){r.removeListener(e,s),n(o)}a(i,\"errorListener\");function s(){\ntypeof r.removeListener==\"function\"&&r.removeListener(\"error\",i),t([].slice.call(\narguments))}a(s,\"resolver\"),ii(r,e,s,{once:!0}),e!==\"error\"&&Ko(r,i,{once:!0})})}\na(Vo,\"once\");function Ko(r,e,t){typeof r.on==\"function\"&&ii(r,\"error\",e,t)}a(Ko,\n\"addErrorHandlerIfEventEmitter\");function ii(r,e,t,n){if(typeof r.on==\"function\")\nn.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener==\"function\")r.addEventListener(\ne,a(function i(s){n.once&&r.removeEventListener(e,i),t(s)},\"wrapListener\"));else\nthrow new TypeError('The \"emitter\" argument must be of type EventEmitter. Receiv\\\ned type '+typeof r)}a(ii,\"eventTargetAgnosticAddListener\")});var He={};se(He,{default:()=>zo});var zo,Ge=z(()=>{\"use strict\";p();zo={}});function $e(r){let e=1779033703,t=3144134277,n=1013904242,i=2773480762,s=1359893119,\no=2600822924,u=528734635,c=1541459225,h=0,l=0,d=[1116352408,1899447441,3049323471,\n3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,\n1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,\n604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,\n3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,\n1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,\n3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,\n883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,\n2361852424,2428436474,2756734187,3204031479,3329325298],b=a((A,g)=>A>>>g|A<<32-g,\n\"rrot\"),C=new Uint32Array(64),B=new Uint8Array(64),Q=a(()=>{for(let R=0,$=0;R<16;R++,\n$+=4)C[R]=B[$]<<24|B[$+1]<<16|B[$+2]<<8|B[$+3];for(let R=16;R<64;R++){let $=b(C[R-\n15],7)^b(C[R-15],18)^C[R-15]>>>3,ce=b(C[R-2],17)^b(C[R-2],19)^C[R-2]>>>10;C[R]=C[R-\n16]+$+C[R-7]+ce|0}let A=e,g=t,P=n,K=i,k=s,j=o,ee=u,oe=c;for(let R=0;R<64;R++){let $=b(\nk,6)^b(k,11)^b(k,25),ce=k&j^~k&ee,ye=oe+$+ce+d[R]+C[R]|0,Se=b(A,2)^b(A,13)^b(A,22),\nje=A&g^A&P^g&P,he=Se+je|0;oe=ee,ee=j,j=k,k=K+ye|0,K=P,P=g,g=A,A=ye+he|0}e=e+A|0,\nt=t+g|0,n=n+P|0,i=i+K|0,s=s+k|0,o=o+j|0,u=u+ee|0,c=c+oe|0,l=0},\"process\"),X=a(A=>{\ntypeof A==\"string\"&&(A=new TextEncoder().encode(A));for(let g=0;g<A.length;g++)B[l++]=\nA[g],l===64&&Q();h+=A.length},\"add\"),de=a(()=>{if(B[l++]=128,l==64&&Q(),l+8>64){\nfor(;l<64;)B[l++]=0;Q()}for(;l<58;)B[l++]=0;let A=h*8;B[l++]=A/1099511627776&255,\nB[l++]=A/4294967296&255,B[l++]=A>>>24,B[l++]=A>>>16&255,B[l++]=A>>>8&255,B[l++]=\nA&255,Q();let g=new Uint8Array(32);return g[0]=e>>>24,g[1]=e>>>16&255,g[2]=e>>>8&\n255,g[3]=e&255,g[4]=t>>>24,g[5]=t>>>16&255,g[6]=t>>>8&255,g[7]=t&255,g[8]=n>>>24,\ng[9]=n>>>16&255,g[10]=n>>>8&255,g[11]=n&255,g[12]=i>>>24,g[13]=i>>>16&255,g[14]=\ni>>>8&255,g[15]=i&255,g[16]=s>>>24,g[17]=s>>>16&255,g[18]=s>>>8&255,g[19]=s&255,\ng[20]=o>>>24,g[21]=o>>>16&255,g[22]=o>>>8&255,g[23]=o&255,g[24]=u>>>24,g[25]=u>>>\n16&255,g[26]=u>>>8&255,g[27]=u&255,g[28]=c>>>24,g[29]=c>>>16&255,g[30]=c>>>8&255,\ng[31]=c&255,g},\"digest\");return r===void 0?{add:X,digest:de}:(X(r),de())}var si=z(\n()=>{\"use strict\";p();a($e,\"sha256\")});var U,Ve,oi=z(()=>{\"use strict\";p();U=class U{constructor(){_(this,\"_dataLength\",\n0);_(this,\"_bufferLength\",0);_(this,\"_state\",new Int32Array(4));_(this,\"_buffer\",\nnew ArrayBuffer(68));_(this,\"_buffer8\");_(this,\"_buffer32\");this._buffer8=new Uint8Array(\nthis._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,t=!1){\nreturn this.onePassHasher.start().appendByteArray(e).end(t)}static hashStr(e,t=!1){\nreturn this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){\nreturn this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){let t=U.\nhexChars,n=U.hexOut,i,s,o,u;for(u=0;u<4;u+=1)for(s=u*8,i=e[u],o=0;o<8;o+=2)n[s+1+\no]=t.charAt(i&15),i>>>=4,n[s+0+o]=t.charAt(i&15),i>>>=4;return n.join(\"\")}static _md5cycle(e,t){\nlet n=e[0],i=e[1],s=e[2],o=e[3];n+=(i&s|~i&o)+t[0]-680876936|0,n=(n<<7|n>>>25)+i|\n0,o+=(n&i|~n&s)+t[1]-389564586|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[2]+606105819|\n0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,n+=(i&\ns|~i&o)+t[4]-176418897|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[5]+1200080426|0,o=(o<<\n12|o>>>20)+n|0,s+=(o&n|~o&i)+t[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+\nt[7]-45705983|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|~i&o)+t[8]+1770035416|0,n=(n<<7|n>>>\n25)+i|0,o+=(n&i|~n&s)+t[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[10]-\n42063|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[11]-1990404162|0,i=(i<<22|i>>>10)+s|\n0,n+=(i&s|~i&o)+t[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[13]-40341101|\n0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,i+=\n(s&o|~s&n)+t[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,n+=(i&o|s&~o)+t[1]-165796510|\n0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,s+=(o&\ni|n&~i)+t[11]+643717713|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[0]-373897302|0,i=\n(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[5]-701558691|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&\n~s)+t[10]+38016083|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[15]-660478335|0,s=(s<<14|\ns>>>18)+o|0,i+=(s&n|o&~n)+t[4]-405537848|0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[9]+\n568446438|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[14]-1019803690|0,o=(o<<9|o>>>23)+\nn|0,s+=(o&i|n&~i)+t[3]-187363961|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[8]+1163531501|\n0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,o+=(n&\ns|i&~s)+t[2]-51403784|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[7]+1735328473|0,s=(s<<\n14|s>>>18)+o|0,i+=(s&n|o&~n)+t[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,n+=(i^s^o)+\nt[5]-378558|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[8]-2022574463|0,o=(o<<11|o>>>21)+\nn|0,s+=(o^n^i)+t[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[14]-35309556|\n0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+t[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+\nt[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+t[7]-155497632|0,s=(s<<16|s>>>\n16)+o|0,i+=(s^o^n)+t[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+t[13]+681279174|\n0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[0]-358537222|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+\nt[3]-722521979|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[6]+76029189|0,i=(i<<23|i>>>9)+\ns|0,n+=(i^s^o)+t[9]-640364487|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[12]-421815835|0,\no=(o<<11|o>>>21)+n|0,s+=(o^n^i)+t[15]+530742520|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+\nt[2]-995338651|0,i=(i<<23|i>>>9)+s|0,n+=(s^(i|~o))+t[0]-198630844|0,n=(n<<6|n>>>\n26)+i|0,o+=(i^(n|~s))+t[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[14]-\n1416354905|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[5]-57434055|0,i=(i<<21|i>>>11)+\ns|0,n+=(s^(i|~o))+t[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[3]-1894986606|\n0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[10]-1051523|0,s=(s<<15|s>>>17)+o|0,i+=(o^\n(s|~n))+t[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,n+=(s^(i|~o))+t[8]+1873313359|0,n=\n(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[15]-30611744|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+\nt[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[13]+1309151649|0,i=(i<<21|\ni>>>11)+s|0,n+=(s^(i|~o))+t[4]-145523070|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[11]-\n1120210379|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[2]+718787259|0,s=(s<<15|s>>>17)+\no|0,i+=(o^(s|~n))+t[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=n+e[0]|0,e[1]=i+e[1]|\n0,e[2]=s+e[2]|0,e[3]=o+e[3]|0}start(){return this._dataLength=0,this._bufferLength=\n0,this._state.set(U.stateIdentity),this}appendStr(e){let t=this._buffer8,n=this.\n_buffer32,i=this._bufferLength,s,o;for(o=0;o<e.length;o+=1){if(s=e.charCodeAt(o),\ns<128)t[i++]=s;else if(s<2048)t[i++]=(s>>>6)+192,t[i++]=s&63|128;else if(s<55296||\ns>56319)t[i++]=(s>>>12)+224,t[i++]=s>>>6&63|128,t[i++]=s&63|128;else{if(s=(s-55296)*\n1024+(e.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error(\"Unicode standard\\\n supports code points up to U+10FFFF\");t[i++]=(s>>>18)+240,t[i++]=s>>>12&63|128,\nt[i++]=s>>>6&63|128,t[i++]=s&63|128}i>=64&&(this._dataLength+=64,U._md5cycle(this.\n_state,n),i-=64,n[0]=n[16])}return this._bufferLength=i,this}appendAsciiStr(e){let t=this.\n_buffer8,n=this._buffer32,i=this._bufferLength,s,o=0;for(;;){for(s=Math.min(e.length-\no,64-i);s--;)t[i++]=e.charCodeAt(o++);if(i<64)break;this._dataLength+=64,U._md5cycle(\nthis._state,n),i=0}return this._bufferLength=i,this}appendByteArray(e){let t=this.\n_buffer8,n=this._buffer32,i=this._bufferLength,s,o=0;for(;;){for(s=Math.min(e.length-\no,64-i);s--;)t[i++]=e[o++];if(i<64)break;this._dataLength+=64,U._md5cycle(this._state,\nn),i=0}return this._bufferLength=i,this}getState(){let e=this._state;return{buffer:String.\nfromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this.\n_dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let t=e.buffer,n=e.state,i=this.\n_state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=n[0],i[1]=\nn[1],i[2]=n[2],i[3]=n[3],s=0;s<t.length;s+=1)this._buffer8[s]=t.charCodeAt(s)}end(e=!1){\nlet t=this._bufferLength,n=this._buffer8,i=this._buffer32,s=(t>>2)+1;this._dataLength+=\nt;let o=this._dataLength*8;if(n[t]=128,n[t+1]=n[t+2]=n[t+3]=0,i.set(U.buffer32Identity.\nsubarray(s),s),t>55&&(U._md5cycle(this._state,i),i.set(U.buffer32Identity)),o<=4294967295)\ni[14]=o;else{let u=o.toString(16).match(/(.*?)(.{0,8})$/);if(u===null)return;let c=parseInt(\nu[2],16),h=parseInt(u[1],16)||0;i[14]=c,i[15]=h}return U._md5cycle(this._state,i),\ne?this._state:U._hex(this._state)}};a(U,\"Md5\"),_(U,\"stateIdentity\",new Int32Array(\n[1732584193,-271733879,-1732584194,271733878])),_(U,\"buffer32Identity\",new Int32Array(\n[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),_(U,\"hexChars\",\"0123456789abcdef\"),_(U,\"hexO\\\nut\",[]),_(U,\"onePassHasher\",new U);Ve=U});var Wt={};se(Wt,{createHash:()=>Zo,createHmac:()=>Jo,randomBytes:()=>Yo});function Yo(r){\nreturn w.getRandomValues(y.alloc(r))}function Zo(r){if(r===\"sha256\")return{update:a(\nfunction(e){return{digest:a(function(){return y.from($e(e))},\"digest\")}},\"update\")};\nif(r===\"md5\")return{update:a(function(e){return{digest:a(function(){return typeof e==\n\"string\"?Ve.hashStr(e):Ve.hashByteArray(e)},\"digest\")}},\"update\")};throw new Error(\n`Hash type '${r}' not supported`)}function Jo(r,e){if(r!==\"sha256\")throw new Error(\n`Only sha256 is supported (requested: '${r}')`);return{update:a(function(t){return{\ndigest:a(function(){typeof e==\"string\"&&(e=new TextEncoder().encode(e)),typeof t==\n\"string\"&&(t=new TextEncoder().encode(t));let n=e.length;if(n>64)e=$e(e);else if(n<\n64){let c=new Uint8Array(64);c.set(e),e=c}let i=new Uint8Array(64),s=new Uint8Array(\n64);for(let c=0;c<64;c++)i[c]=54^e[c],s[c]=92^e[c];let o=new Uint8Array(t.length+\n64);o.set(i,0),o.set(t,64);let u=new Uint8Array(96);return u.set(s,0),u.set($e(o),\n64),y.from($e(u))},\"digest\")}},\"update\")}}var Ht=z(()=>{\"use strict\";p();si();oi();\na(Yo,\"randomBytes\");a(Zo,\"createHash\");a(Jo,\"createHmac\")});var $t=I(ai=>{\"use strict\";p();ai.parse=function(r,e){return new Gt(r,e).parse()};\nvar ht=class ht{constructor(e,t){this.source=e,this.transform=t||Xo,this.position=\n0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=\nthis.source.length}nextCharacter(){var e=this.source[this.position++];return e===\n\"\\\\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){\nthis.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&(t=this.recorded.\njoin(\"\"),t===\"NULL\"&&!e&&(t=null),t!==null&&(t=this.transform(t)),this.entries.push(\nt),this.recorded=[])}consumeDimensions(){if(this.source[0]===\"[\")for(;!this.isEof();){\nvar e=this.nextCharacter();if(e.value===\"=\")break}}parse(e){var t,n,i;for(this.consumeDimensions();!this.\nisEof();)if(t=this.nextCharacter(),t.value===\"{\"&&!i)this.dimension++,this.dimension>\n1&&(n=new ht(this.source.substr(this.position-1),this.transform),this.entries.push(\nn.parse(!0)),this.position+=n.position-2);else if(t.value===\"}\"&&!i){if(this.dimension--,\n!this.dimension&&(this.newEntry(),e))return this.entries}else t.value==='\"'&&!t.\nescaped?(i&&this.newEntry(!0),i=!i):t.value===\",\"&&!i?this.newEntry():this.record(\nt.value);if(this.dimension!==0)throw new Error(\"array dimension not balanced\");return this.\nentries}};a(ht,\"ArrayParser\");var Gt=ht;function Xo(r){return r}a(Xo,\"identity\")});var Vt=I((Sh,ui)=>{p();var ea=$t();ui.exports={create:a(function(r,e){return{parse:a(\nfunction(){return ea.parse(r,e)},\"parse\")}},\"create\")}});var li=I((vh,hi)=>{\"use strict\";p();var ta=/(\\d{1,})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})(\\.\\d{1,})?.*?( BC)?$/,\nra=/^(\\d{1,})-(\\d{2})-(\\d{2})( BC)?$/,na=/([Z+-])(\\d{2})?:?(\\d{2})?:?(\\d{2})?/,ia=/^-?infinity$/;\nhi.exports=a(function(e){if(ia.test(e))return Number(e.replace(\"i\",\"I\"));var t=ta.\nexec(e);if(!t)return sa(e)||null;var n=!!t[8],i=parseInt(t[1],10);n&&(i=ci(i));var s=parseInt(\nt[2],10)-1,o=t[3],u=parseInt(t[4],10),c=parseInt(t[5],10),h=parseInt(t[6],10),l=t[7];\nl=l?1e3*parseFloat(l):0;var d,b=oa(e);return b!=null?(d=new Date(Date.UTC(i,s,o,\nu,c,h,l)),Kt(i)&&d.setUTCFullYear(i),b!==0&&d.setTime(d.getTime()-b)):(d=new Date(\ni,s,o,u,c,h,l),Kt(i)&&d.setFullYear(i)),d},\"parseDate\");function sa(r){var e=ra.\nexec(r);if(e){var t=parseInt(e[1],10),n=!!e[4];n&&(t=ci(t));var i=parseInt(e[2],\n10)-1,s=e[3],o=new Date(t,i,s);return Kt(t)&&o.setFullYear(t),o}}a(sa,\"getDate\");\nfunction oa(r){if(r.endsWith(\"+00\"))return 0;var e=na.exec(r.split(\" \")[1]);if(e){\nvar t=e[1];if(t===\"Z\")return 0;var n=t===\"-\"?-1:1,i=parseInt(e[2],10)*3600+parseInt(\ne[3]||0,10)*60+parseInt(e[4]||0,10);return i*n*1e3}}a(oa,\"timeZoneOffset\");function ci(r){\nreturn-(r-1)}a(ci,\"bcYearToNegativeYear\");function Kt(r){return r>=0&&r<100}a(Kt,\n\"is0To99\")});var pi=I((Ch,fi)=>{p();fi.exports=ua;var aa=Object.prototype.hasOwnProperty;function ua(r){\nfor(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)aa.call(t,\nn)&&(r[n]=t[n])}return r}a(ua,\"extend\")});var mi=I((Ph,yi)=>{\"use strict\";p();var ca=pi();yi.exports=Fe;function Fe(r){if(!(this instanceof\nFe))return new Fe(r);ca(this,xa(r))}a(Fe,\"PostgresInterval\");var ha=[\"seconds\",\"\\\nminutes\",\"hours\",\"days\",\"months\",\"years\"];Fe.prototype.toPostgres=function(){var r=ha.\nfilter(this.hasOwnProperty,this);return this.milliseconds&&r.indexOf(\"seconds\")<\n0&&r.push(\"seconds\"),r.length===0?\"0\":r.map(function(e){var t=this[e]||0;return e===\n\"seconds\"&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\\.?0+$/,\n\"\")),t+\" \"+e},this).join(\" \")};var la={years:\"Y\",months:\"M\",days:\"D\",hours:\"H\",minutes:\"\\\nM\",seconds:\"S\"},fa=[\"years\",\"months\",\"days\"],pa=[\"hours\",\"minutes\",\"seconds\"];Fe.\nprototype.toISOString=Fe.prototype.toISO=function(){var r=fa.map(t,this).join(\"\"),\ne=pa.map(t,this).join(\"\");return\"P\"+r+\"T\"+e;function t(n){var i=this[n]||0;return n===\n\"seconds\"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(/0+$/,\n\"\")),i+la[n]}};var zt=\"([+-]?\\\\d+)\",da=zt+\"\\\\s+years?\",ya=zt+\"\\\\s+mons?\",ma=zt+\"\\\n\\\\s+days?\",ga=\"([+-])?([\\\\d]*):(\\\\d\\\\d):(\\\\d\\\\d)\\\\.?(\\\\d{1,6})?\",wa=new RegExp([\nda,ya,ma,ga].map(function(r){return\"(\"+r+\")?\"}).join(\"\\\\s*\")),di={years:2,months:4,\ndays:6,hours:9,minutes:10,seconds:11,milliseconds:12},ba=[\"hours\",\"minutes\",\"sec\\\nonds\",\"milliseconds\"];function Sa(r){var e=r+\"000000\".slice(r.length);return parseInt(\ne,10)/1e3}a(Sa,\"parseMilliseconds\");function xa(r){if(!r)return{};var e=wa.exec(\nr),t=e[8]===\"-\";return Object.keys(di).reduce(function(n,i){var s=di[i],o=e[s];return!o||\n(o=i===\"milliseconds\"?Sa(o):parseInt(o,10),!o)||(t&&~ba.indexOf(i)&&(o*=-1),n[i]=\no),n},{})}a(xa,\"parse\")});var wi=I((Rh,gi)=>{\"use strict\";p();gi.exports=a(function(e){if(/^\\\\x/.test(e))return new y(\ne.substr(2),\"hex\");for(var t=\"\",n=0;n<e.length;)if(e[n]!==\"\\\\\")t+=e[n],++n;else if(/[0-7]{3}/.\ntest(e.substr(n+1,3)))t+=String.fromCharCode(parseInt(e.substr(n+1,3),8)),n+=4;else{\nfor(var i=1;n+i<e.length&&e[n+i]===\"\\\\\";)i++;for(var s=0;s<Math.floor(i/2);++s)t+=\n\"\\\\\";n+=Math.floor(i/2)*2}return new y(t,\"binary\")},\"parseBytea\")});var Ai=I((Dh,_i)=>{p();var Ke=$t(),ze=Vt(),lt=li(),Si=mi(),xi=wi();function ft(r){\nreturn a(function(t){return t===null?t:r(t)},\"nullAllowed\")}a(ft,\"allowNull\");function Ei(r){\nreturn r===null?r:r===\"TRUE\"||r===\"t\"||r===\"true\"||r===\"y\"||r===\"yes\"||r===\"on\"||\nr===\"1\"}a(Ei,\"parseBool\");function Ea(r){return r?Ke.parse(r,Ei):null}a(Ea,\"pars\\\neBoolArray\");function va(r){return parseInt(r,10)}a(va,\"parseBaseTenInt\");function Yt(r){\nreturn r?Ke.parse(r,ft(va)):null}a(Yt,\"parseIntegerArray\");function _a(r){return r?\nKe.parse(r,ft(function(e){return vi(e).trim()})):null}a(_a,\"parseBigIntegerArray\");\nvar Aa=a(function(r){if(!r)return null;var e=ze.create(r,function(t){return t!==\nnull&&(t=er(t)),t});return e.parse()},\"parsePointArray\"),Zt=a(function(r){if(!r)\nreturn null;var e=ze.create(r,function(t){return t!==null&&(t=parseFloat(t)),t});\nreturn e.parse()},\"parseFloatArray\"),ne=a(function(r){if(!r)return null;var e=ze.\ncreate(r);return e.parse()},\"parseStringArray\"),Jt=a(function(r){if(!r)return null;\nvar e=ze.create(r,function(t){return t!==null&&(t=lt(t)),t});return e.parse()},\"\\\nparseDateArray\"),Ca=a(function(r){if(!r)return null;var e=ze.create(r,function(t){\nreturn t!==null&&(t=Si(t)),t});return e.parse()},\"parseIntervalArray\"),Ta=a(function(r){\nreturn r?Ke.parse(r,ft(xi)):null},\"parseByteAArray\"),Xt=a(function(r){return parseInt(\nr,10)},\"parseInteger\"),vi=a(function(r){var e=String(r);return/^\\d+$/.test(e)?e:\nr},\"parseBigInteger\"),bi=a(function(r){return r?Ke.parse(r,ft(JSON.parse)):null},\n\"parseJsonArray\"),er=a(function(r){return r[0]!==\"(\"?null:(r=r.substring(1,r.length-\n1).split(\",\"),{x:parseFloat(r[0]),y:parseFloat(r[1])})},\"parsePoint\"),Ia=a(function(r){\nif(r[0]!==\"<\"&&r[1]!==\"(\")return null;for(var e=\"(\",t=\"\",n=!1,i=2;i<r.length-1;i++){\nif(n||(e+=r[i]),r[i]===\")\"){n=!0;continue}else if(!n)continue;r[i]!==\",\"&&(t+=r[i])}\nvar s=er(e);return s.radius=parseFloat(t),s},\"parseCircle\"),Pa=a(function(r){r(20,\nvi),r(21,Xt),r(23,Xt),r(26,Xt),r(700,parseFloat),r(701,parseFloat),r(16,Ei),r(1082,\nlt),r(1114,lt),r(1184,lt),r(600,er),r(651,ne),r(718,Ia),r(1e3,Ea),r(1001,Ta),r(1005,\nYt),r(1007,Yt),r(1028,Yt),r(1016,_a),r(1017,Aa),r(1021,Zt),r(1022,Zt),r(1231,Zt),\nr(1014,ne),r(1015,ne),r(1008,ne),r(1009,ne),r(1040,ne),r(1041,ne),r(1115,Jt),r(1182,\nJt),r(1185,Jt),r(1186,Si),r(1187,Ca),r(17,xi),r(114,JSON.parse.bind(JSON)),r(3802,\nJSON.parse.bind(JSON)),r(199,bi),r(3807,bi),r(3907,ne),r(2951,ne),r(791,ne),r(1183,\nne),r(1270,ne)},\"init\");_i.exports={init:Pa}});var Ti=I((Oh,Ci)=>{\"use strict\";p();var Z=1e6;function Ba(r){var e=r.readInt32BE(\n0),t=r.readUInt32BE(4),n=\"\";e<0&&(e=~e+(t===0),t=~t+1>>>0,n=\"-\");var i=\"\",s,o,u,\nc,h,l;{if(s=e%Z,e=e/Z>>>0,o=4294967296*s+t,t=o/Z>>>0,u=\"\"+(o-Z*t),t===0&&e===0)return n+\nu+i;for(c=\"\",h=6-u.length,l=0;l<h;l++)c+=\"0\";i=c+u+i}{if(s=e%Z,e=e/Z>>>0,o=4294967296*\ns+t,t=o/Z>>>0,u=\"\"+(o-Z*t),t===0&&e===0)return n+u+i;for(c=\"\",h=6-u.length,l=0;l<\nh;l++)c+=\"0\";i=c+u+i}{if(s=e%Z,e=e/Z>>>0,o=4294967296*s+t,t=o/Z>>>0,u=\"\"+(o-Z*t),\nt===0&&e===0)return n+u+i;for(c=\"\",h=6-u.length,l=0;l<h;l++)c+=\"0\";i=c+u+i}return s=\ne%Z,o=4294967296*s+t,u=\"\"+o%Z,n+u+i}a(Ba,\"readInt8\");Ci.exports=Ba});var Ri=I((Qh,Li)=>{p();var La=Ti(),F=a(function(r,e,t,n,i){t=t||0,n=n||!1,i=i||function(C,B,Q){\nreturn C*Math.pow(2,Q)+B};var s=t>>3,o=a(function(C){return n?~C&255:C},\"inv\"),u=255,\nc=8-t%8;e<c&&(u=255<<8-e&255,c=e),t&&(u=u>>t%8);var h=0;t%8+e>=8&&(h=i(0,o(r[s])&\nu,c));for(var l=e+t>>3,d=s+1;d<l;d++)h=i(h,o(r[d]),8);var b=(e+t)%8;return b>0&&\n(h=i(h,o(r[l])>>8-b,b)),h},\"parseBits\"),Bi=a(function(r,e,t){var n=Math.pow(2,t-\n1)-1,i=F(r,1),s=F(r,t,1);if(s===0)return 0;var o=1,u=a(function(h,l,d){h===0&&(h=\n1);for(var b=1;b<=d;b++)o/=2,(l&1<<d-b)>0&&(h+=o);return h},\"parsePrecisionBits\"),\nc=F(r,e,t+1,!1,u);return s==Math.pow(2,t+1)-1?c===0?i===0?1/0:-1/0:NaN:(i===0?1:\n-1)*Math.pow(2,s-n)*c},\"parseFloatFromBits\"),Ra=a(function(r){return F(r,1)==1?-1*\n(F(r,15,1,!0)+1):F(r,15,1)},\"parseInt16\"),Ii=a(function(r){return F(r,1)==1?-1*(F(\nr,31,1,!0)+1):F(r,31,1)},\"parseInt32\"),Fa=a(function(r){return Bi(r,23,8)},\"pars\\\neFloat32\"),Ma=a(function(r){return Bi(r,52,11)},\"parseFloat64\"),Da=a(function(r){\nvar e=F(r,16,32);if(e==49152)return NaN;for(var t=Math.pow(1e4,F(r,16,16)),n=0,i=[],\ns=F(r,16),o=0;o<s;o++)n+=F(r,16,64+16*o)*t,t/=1e4;var u=Math.pow(10,F(r,16,48));\nreturn(e===0?1:-1)*Math.round(n*u)/u},\"parseNumeric\"),Pi=a(function(r,e){var t=F(\ne,1),n=F(e,63,1),i=new Date((t===0?1:-1)*n/1e3+9466848e5);return r||i.setTime(i.\ngetTime()+i.getTimezoneOffset()*6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.\nusec},i.setMicroSeconds=function(s){this.usec=s},i.getUTCMicroSeconds=function(){\nreturn this.usec},i},\"parseDate\"),Ye=a(function(r){for(var e=F(r,32),t=F(r,32,32),\nn=F(r,32,64),i=96,s=[],o=0;o<e;o++)s[o]=F(r,32,i),i+=32,i+=32;var u=a(function(h){\nvar l=F(r,32,i);if(i+=32,l==4294967295)return null;var d;if(h==23||h==20)return d=\nF(r,l*8,i),i+=l*8,d;if(h==25)return d=r.toString(this.encoding,i>>3,(i+=l<<3)>>3),\nd;console.log(\"ERROR: ElementType not implemented: \"+h)},\"parseElement\"),c=a(function(h,l){\nvar d=[],b;if(h.length>1){var C=h.shift();for(b=0;b<C;b++)d[b]=c(h,l);h.unshift(\nC)}else for(b=0;b<h[0];b++)d[b]=u(l);return d},\"parse\");return c(s,n)},\"parseArr\\\nay\"),ka=a(function(r){return r.toString(\"utf8\")},\"parseText\"),Ua=a(function(r){return r===\nnull?null:F(r,8)>0},\"parseBool\"),Oa=a(function(r){r(20,La),r(21,Ra),r(23,Ii),r(26,\nIi),r(1700,Da),r(700,Fa),r(701,Ma),r(16,Ua),r(1114,Pi.bind(null,!1)),r(1184,Pi.bind(\nnull,!0)),r(1e3,Ye),r(1007,Ye),r(1016,Ye),r(1008,Ye),r(1009,Ye),r(25,ka)},\"init\");\nLi.exports={init:Oa}});var Mi=I((Hh,Fi)=>{p();Fi.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,\nREGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,\nSMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,\nTINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,\nBPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,\nTIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,\nREGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,\nPG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,\nREGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var Xe=I(Je=>{p();var Na=Ai(),qa=Ri(),Qa=Vt(),ja=Mi();Je.getTypeParser=Wa;Je.setTypeParser=\nHa;Je.arrayParser=Qa;Je.builtins=ja;var Ze={text:{},binary:{}};function Di(r){return String(\nr)}a(Di,\"noParse\");function Wa(r,e){return e=e||\"text\",Ze[e]&&Ze[e][r]||Di}a(Wa,\n\"getTypeParser\");function Ha(r,e,t){typeof e==\"function\"&&(t=e,e=\"text\"),Ze[e][r]=\nt}a(Ha,\"setTypeParser\");Na.init(function(r,e){Ze.text[r]=e});qa.init(function(r,e){\nZe.binary[r]=e})});var et=I((zh,tr)=>{\"use strict\";p();tr.exports={host:\"localhost\",user:m.platform===\n\"win32\"?m.env.USERNAME:m.env.USER,database:void 0,password:null,connectionString:void 0,\nport:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:\"\",ssl:!1,\napplication_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,\nstatement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,\nconnect_timeout:0,keepalives:1,keepalives_idle:0};var Me=Xe(),Ga=Me.getTypeParser(\n20,\"text\"),$a=Me.getTypeParser(1016,\"text\");tr.exports.__defineSetter__(\"parseIn\\\nt8\",function(r){Me.setTypeParser(20,\"text\",r?Me.getTypeParser(23,\"text\"):Ga),Me.\nsetTypeParser(1016,\"text\",r?Me.getTypeParser(1007,\"text\"):$a)})});var tt=I((Zh,Ui)=>{\"use strict\";p();var Va=(Ht(),O(Wt)),Ka=et();function za(r){var e=r.\nreplace(/\\\\/g,\"\\\\\\\\\").replace(/\"/g,'\\\\\"');return'\"'+e+'\"'}a(za,\"escapeElement\");\nfunction ki(r){for(var e=\"{\",t=0;t<r.length;t++)t>0&&(e=e+\",\"),r[t]===null||typeof r[t]>\n\"u\"?e=e+\"NULL\":Array.isArray(r[t])?e=e+ki(r[t]):r[t]instanceof y?e+=\"\\\\\\\\x\"+r[t].\ntoString(\"hex\"):e+=za(pt(r[t]));return e=e+\"}\",e}a(ki,\"arrayString\");var pt=a(function(r,e){\nif(r==null)return null;if(r instanceof y)return r;if(ArrayBuffer.isView(r)){var t=y.\nfrom(r.buffer,r.byteOffset,r.byteLength);return t.length===r.byteLength?t:t.slice(\nr.byteOffset,r.byteOffset+r.byteLength)}return r instanceof Date?Ka.parseInputDatesAsUTC?\nJa(r):Za(r):Array.isArray(r)?ki(r):typeof r==\"object\"?Ya(r,e):r.toString()},\"pre\\\npareValue\");function Ya(r,e){if(r&&typeof r.toPostgres==\"function\"){if(e=e||[],e.\nindexOf(r)!==-1)throw new Error('circular reference detected while preparing \"'+\nr+'\" for query');return e.push(r),pt(r.toPostgres(pt),e)}return JSON.stringify(r)}\na(Ya,\"prepareObject\");function G(r,e){for(r=\"\"+r;r.length<e;)r=\"0\"+r;return r}a(\nG,\"pad\");function Za(r){var e=-r.getTimezoneOffset(),t=r.getFullYear(),n=t<1;n&&\n(t=Math.abs(t)+1);var i=G(t,4)+\"-\"+G(r.getMonth()+1,2)+\"-\"+G(r.getDate(),2)+\"T\"+\nG(r.getHours(),2)+\":\"+G(r.getMinutes(),2)+\":\"+G(r.getSeconds(),2)+\".\"+G(r.getMilliseconds(),\n3);return e<0?(i+=\"-\",e*=-1):i+=\"+\",i+=G(Math.floor(e/60),2)+\":\"+G(e%60,2),n&&(i+=\n\" BC\"),i}a(Za,\"dateToString\");function Ja(r){var e=r.getUTCFullYear(),t=e<1;t&&(e=\nMath.abs(e)+1);var n=G(e,4)+\"-\"+G(r.getUTCMonth()+1,2)+\"-\"+G(r.getUTCDate(),2)+\"\\\nT\"+G(r.getUTCHours(),2)+\":\"+G(r.getUTCMinutes(),2)+\":\"+G(r.getUTCSeconds(),2)+\".\"+\nG(r.getUTCMilliseconds(),3);return n+=\"+00:00\",t&&(n+=\" BC\"),n}a(Ja,\"dateToStrin\\\ngUTC\");function Xa(r,e,t){return r=typeof r==\"string\"?{text:r}:r,e&&(typeof e==\"\\\nfunction\"?r.callback=e:r.values=e),t&&(r.callback=t),r}a(Xa,\"normalizeQueryConfi\\\ng\");var rr=a(function(r){return Va.createHash(\"md5\").update(r,\"utf-8\").digest(\"h\\\nex\")},\"md5\"),eu=a(function(r,e,t){var n=rr(e+r),i=rr(y.concat([y.from(n),t]));return\"\\\nmd5\"+i},\"postgresMd5PasswordHash\");Ui.exports={prepareValue:a(function(e){return pt(\ne)},\"prepareValueWrapper\"),normalizeQueryConfig:Xa,postgresMd5PasswordHash:eu,md5:rr}});var ji=I((el,Qi)=>{\"use strict\";p();var nr=(Ht(),O(Wt));function tu(r){if(r.indexOf(\n\"SCRAM-SHA-256\")===-1)throw new Error(\"SASL: Only mechanism SCRAM-SHA-256 is cur\\\nrently supported\");let e=nr.randomBytes(18).toString(\"base64\");return{mechanism:\"\\\nSCRAM-SHA-256\",clientNonce:e,response:\"n,,n=*,r=\"+e,message:\"SASLInitialResponse\"}}\na(tu,\"startSession\");function ru(r,e,t){if(r.message!==\"SASLInitialResponse\")throw new Error(\n\"SASL: Last message was not SASLInitialResponse\");if(typeof e!=\"string\")throw new Error(\n\"SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string\");if(typeof t!=\n\"string\")throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a\\\n string\");let n=su(t);if(n.nonce.startsWith(r.clientNonce)){if(n.nonce.length===\nr.clientNonce.length)throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: server n\\\nonce is too short\")}else throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: serv\\\ner nonce does not start with client nonce\");var i=y.from(n.salt,\"base64\"),s=uu(e,\ni,n.iteration),o=De(s,\"Client Key\"),u=au(o),c=\"n=*,r=\"+r.clientNonce,h=\"r=\"+n.nonce+\n\",s=\"+n.salt+\",i=\"+n.iteration,l=\"c=biws,r=\"+n.nonce,d=c+\",\"+h+\",\"+l,b=De(u,d),C=qi(\no,b),B=C.toString(\"base64\"),Q=De(s,\"Server Key\"),X=De(Q,d);r.message=\"SASLRespon\\\nse\",r.serverSignature=X.toString(\"base64\"),r.response=l+\",p=\"+B}a(ru,\"continueSe\\\nssion\");function nu(r,e){if(r.message!==\"SASLResponse\")throw new Error(\"SASL: La\\\nst message was not SASLResponse\");if(typeof e!=\"string\")throw new Error(\"SASL: S\\\nCRAM-SERVER-FINAL-MESSAGE: serverData must be a string\");let{serverSignature:t}=ou(\ne);if(t!==r.serverSignature)throw new Error(\"SASL: SCRAM-SERVER-FINAL-MESSAGE: s\\\nerver signature does not match\")}a(nu,\"finalizeSession\");function iu(r){if(typeof r!=\n\"string\")throw new TypeError(\"SASL: text must be a string\");return r.split(\"\").map(\n(e,t)=>r.charCodeAt(t)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}a(iu,\"isPrintableC\\\nhars\");function Oi(r){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.\ntest(r)}a(Oi,\"isBase64\");function Ni(r){if(typeof r!=\"string\")throw new TypeError(\n\"SASL: attribute pairs text must be a string\");return new Map(r.split(\",\").map(e=>{\nif(!/^.=/.test(e))throw new Error(\"SASL: Invalid attribute pair entry\");let t=e[0],\nn=e.substring(2);return[t,n]}))}a(Ni,\"parseAttributePairs\");function su(r){let e=Ni(\nr),t=e.get(\"r\");if(t){if(!iu(t))throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAG\\\nE: nonce must only contain printable characters\")}else throw new Error(\"SASL: SC\\\nRAM-SERVER-FIRST-MESSAGE: nonce missing\");let n=e.get(\"s\");if(n){if(!Oi(n))throw new Error(\n\"SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64\")}else throw new Error(\"S\\\nASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing\");let i=e.get(\"i\");if(i){if(!/^[1-9][0-9]*$/.\ntest(i))throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration cou\\\nnt\")}else throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing\");\nlet s=parseInt(i,10);return{nonce:t,salt:n,iteration:s}}a(su,\"parseServerFirstMe\\\nssage\");function ou(r){let t=Ni(r).get(\"v\");if(t){if(!Oi(t))throw new Error(\"SAS\\\nL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64\")}else throw new Error(\n\"SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing\");return{serverSignature:t}}\na(ou,\"parseServerFinalMessage\");function qi(r,e){if(!y.isBuffer(r))throw new TypeError(\n\"first argument must be a Buffer\");if(!y.isBuffer(e))throw new TypeError(\"second\\\n argument must be a Buffer\");if(r.length!==e.length)throw new Error(\"Buffer leng\\\nths must match\");if(r.length===0)throw new Error(\"Buffers cannot be empty\");return y.\nfrom(r.map((t,n)=>r[n]^e[n]))}a(qi,\"xorBuffers\");function au(r){return nr.createHash(\n\"sha256\").update(r).digest()}a(au,\"sha256\");function De(r,e){return nr.createHmac(\n\"sha256\",r).update(e).digest()}a(De,\"hmacSha256\");function uu(r,e,t){for(var n=De(\nr,y.concat([e,y.from([0,0,0,1])])),i=n,s=0;s<t-1;s++)n=De(r,n),i=qi(i,n);return i}\na(uu,\"Hi\");Qi.exports={startSession:tu,continueSession:ru,finalizeSession:nu}});var ir={};se(ir,{join:()=>cu});function cu(...r){return r.join(\"/\")}var sr=z(()=>{\n\"use strict\";p();a(cu,\"join\")});var or={};se(or,{stat:()=>hu});function hu(r,e){e(new Error(\"No filesystem\"))}var ar=z(\n()=>{\"use strict\";p();a(hu,\"stat\")});var ur={};se(ur,{default:()=>lu});var lu,cr=z(()=>{\"use strict\";p();lu={}});var Wi={};se(Wi,{StringDecoder:()=>hr});var lr,hr,Hi=z(()=>{\"use strict\";p();lr=\nclass lr{constructor(e){_(this,\"td\");this.td=new TextDecoder(e)}write(e){return this.\ntd.decode(e,{stream:!0})}end(e){return this.td.decode(e)}};a(lr,\"StringDecoder\");\nhr=lr});var Ki=I((hl,Vi)=>{\"use strict\";p();var{Transform:fu}=(cr(),O(ur)),{StringDecoder:pu}=(Hi(),O(Wi)),\nwe=Symbol(\"last\"),dt=Symbol(\"decoder\");function du(r,e,t){let n;if(this.overflow){\nif(n=this[dt].write(r).split(this.matcher),n.length===1)return t();n.shift(),this.\noverflow=!1}else this[we]+=this[dt].write(r),n=this[we].split(this.matcher);this[we]=\nn.pop();for(let i=0;i<n.length;i++)try{$i(this,this.mapper(n[i]))}catch(s){return t(\ns)}if(this.overflow=this[we].length>this.maxLength,this.overflow&&!this.skipOverflow){\nt(new Error(\"maximum buffer reached\"));return}t()}a(du,\"transform\");function yu(r){\nif(this[we]+=this[dt].end(),this[we])try{$i(this,this.mapper(this[we]))}catch(e){\nreturn r(e)}r()}a(yu,\"flush\");function $i(r,e){e!==void 0&&r.push(e)}a($i,\"push\");\nfunction Gi(r){return r}a(Gi,\"noop\");function mu(r,e,t){switch(r=r||/\\r?\\n/,e=e||\nGi,t=t||{},arguments.length){case 1:typeof r==\"function\"?(e=r,r=/\\r?\\n/):typeof r==\n\"object\"&&!(r instanceof RegExp)&&!r[Symbol.split]&&(t=r,r=/\\r?\\n/);break;case 2:\ntypeof r==\"function\"?(t=e,e=r,r=/\\r?\\n/):typeof e==\"object\"&&(t=e,e=Gi)}t=Object.\nassign({},t),t.autoDestroy=!0,t.transform=du,t.flush=yu,t.readableObjectMode=!0;\nlet n=new fu(t);return n[we]=\"\",n[dt]=new pu(\"utf8\"),n.matcher=r,n.mapper=e,n.maxLength=\nt.maxLength,n.skipOverflow=t.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,s){\nthis._writableState.errorEmitted=!1,s(i)},n}a(mu,\"split\");Vi.exports=mu});var Zi=I((pl,fe)=>{\"use strict\";p();var zi=(sr(),O(ir)),gu=(cr(),O(ur)).Stream,wu=Ki(),\nYi=(Ge(),O(He)),bu=5432,yt=m.platform===\"win32\",rt=m.stderr,Su=56,xu=7,Eu=61440,\nvu=32768;function _u(r){return(r&Eu)==vu}a(_u,\"isRegFile\");var ke=[\"host\",\"port\",\n\"database\",\"user\",\"password\"],fr=ke.length,Au=ke[fr-1];function pr(){var r=rt instanceof\ngu&&rt.writable===!0;if(r){var e=Array.prototype.slice.call(arguments).concat(`\n`);rt.write(Yi.format.apply(Yi,e))}}a(pr,\"warn\");Object.defineProperty(fe.exports,\n\"isWin\",{get:a(function(){return yt},\"get\"),set:a(function(r){yt=r},\"set\")});fe.\nexports.warnTo=function(r){var e=rt;return rt=r,e};fe.exports.getFileName=function(r){\nvar e=r||m.env,t=e.PGPASSFILE||(yt?zi.join(e.APPDATA||\"./\",\"postgresql\",\"pgpass.\\\nconf\"):zi.join(e.HOME||\"./\",\".pgpass\"));return t};fe.exports.usePgPass=function(r,e){\nreturn Object.prototype.hasOwnProperty.call(m.env,\"PGPASSWORD\")?!1:yt?!0:(e=e||\"\\\n<unkn>\",_u(r.mode)?r.mode&(Su|xu)?(pr('WARNING: password file \"%s\" has group or \\\nworld access; permissions should be u=rw (0600) or less',e),!1):!0:(pr('WARNING:\\\n password file \"%s\" is not a plain file',e),!1))};var Cu=fe.exports.match=function(r,e){\nreturn ke.slice(0,-1).reduce(function(t,n,i){return i==1&&Number(r[n]||bu)===Number(\ne[n])?t&&!0:t&&(e[n]===\"*\"||e[n]===r[n])},!0)};fe.exports.getPassword=function(r,e,t){\nvar n,i=e.pipe(wu());function s(c){var h=Tu(c);h&&Iu(h)&&Cu(r,h)&&(n=h[Au],i.end())}\na(s,\"onLine\");var o=a(function(){e.destroy(),t(n)},\"onEnd\"),u=a(function(c){e.destroy(),\npr(\"WARNING: error on reading file: %s\",c),t(void 0)},\"onErr\");e.on(\"error\",u),i.\non(\"data\",s).on(\"end\",o).on(\"error\",u)};var Tu=fe.exports.parseLine=function(r){\nif(r.length<11||r.match(/^\\s+#/))return null;for(var e=\"\",t=\"\",n=0,i=0,s=0,o={},\nu=!1,c=a(function(l,d,b){var C=r.substring(d,b);Object.hasOwnProperty.call(m.env,\n\"PGPASS_NO_DEESCAPE\")||(C=C.replace(/\\\\([:\\\\])/g,\"$1\")),o[ke[l]]=C},\"addToObj\"),\nh=0;h<r.length-1;h+=1){if(e=r.charAt(h+1),t=r.charAt(h),u=n==fr-1,u){c(n,i);break}\nh>=0&&e==\":\"&&t!==\"\\\\\"&&(c(n,i,h+1),i=h+2,n+=1)}return o=Object.keys(o).length===\nfr?o:null,o},Iu=fe.exports.isValidEntry=function(r){for(var e={0:function(o){return o.\nlength>0},1:function(o){return o===\"*\"?!0:(o=Number(o),isFinite(o)&&o>0&&o<9007199254740992&&\nMath.floor(o)===o)},2:function(o){return o.length>0},3:function(o){return o.length>\n0},4:function(o){return o.length>0}},t=0;t<ke.length;t+=1){var n=e[t],i=r[ke[t]]||\n\"\",s=n(i);if(!s)return!1}return!0}});var Xi=I((gl,dr)=>{\"use strict\";p();var ml=(sr(),O(ir)),Ji=(ar(),O(or)),mt=Zi();\ndr.exports=function(r,e){var t=mt.getFileName();Ji.stat(t,function(n,i){if(n||!mt.\nusePgPass(i,t))return e(void 0);var s=Ji.createReadStream(t);mt.getPassword(r,s,\ne)})};dr.exports.warnTo=mt.warnTo});var wt=I((bl,es)=>{\"use strict\";p();var Pu=Xe();function gt(r){this._types=r||Pu,\nthis.text={},this.binary={}}a(gt,\"TypeOverrides\");gt.prototype.getOverrides=function(r){\nswitch(r){case\"text\":return this.text;case\"binary\":return this.binary;default:return{}}};\ngt.prototype.setTypeParser=function(r,e,t){typeof e==\"function\"&&(t=e,e=\"text\"),\nthis.getOverrides(e)[r]=t};gt.prototype.getTypeParser=function(r,e){return e=e||\n\"text\",this.getOverrides(e)[r]||this._types.getTypeParser(r,e)};es.exports=gt});var ts={};se(ts,{default:()=>Bu});var Bu,rs=z(()=>{\"use strict\";p();Bu={}});var ns={};se(ns,{parse:()=>yr});function yr(r,e=!1){let{protocol:t}=new URL(r),n=\"\\\nhttp:\"+r.substring(t.length),{username:i,password:s,host:o,hostname:u,port:c,pathname:h,\nsearch:l,searchParams:d,hash:b}=new URL(n);s=decodeURIComponent(s),i=decodeURIComponent(\ni),h=decodeURIComponent(h);let C=i+\":\"+s,B=e?Object.fromEntries(d.entries()):l;return{\nhref:r,protocol:t,auth:C,username:i,password:s,host:o,hostname:u,port:c,pathname:h,\nsearch:l,query:B,hash:b}}var mr=z(()=>{\"use strict\";p();a(yr,\"parse\")});var ss=I((Al,is)=>{\"use strict\";p();var Lu=(mr(),O(ns)),gr=(ar(),O(or));function wr(r){\nif(r.charAt(0)===\"/\"){var t=r.split(\" \");return{host:t[0],database:t[1]}}var e=Lu.\nparse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(r)?encodeURI(r).replace(/\\%25(\\d\\d)/g,\n\"%$1\"):r,!0),t=e.query;for(var n in t)Array.isArray(t[n])&&(t[n]=t[n][t[n].length-\n1]);var i=(e.auth||\":\").split(\":\");if(t.user=i[0],t.password=i.splice(1).join(\":\"),\nt.port=e.port,e.protocol==\"socket:\")return t.host=decodeURI(e.pathname),t.database=\ne.query.db,t.client_encoding=e.query.encoding,t;t.host||(t.host=e.hostname);var s=e.\npathname;if(!t.host&&s&&/^%2f/i.test(s)){var o=s.split(\"/\");t.host=decodeURIComponent(\no[0]),s=o.splice(1).join(\"/\")}switch(s&&s.charAt(0)===\"/\"&&(s=s.slice(1)||null),\nt.database=s&&decodeURI(s),(t.ssl===\"true\"||t.ssl===\"1\")&&(t.ssl=!0),t.ssl===\"0\"&&\n(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert||t.sslmode)&&(t.ssl={}),t.sslcert&&\n(t.ssl.cert=gr.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=gr.readFileSync(\nt.sslkey).toString()),t.sslrootcert&&(t.ssl.ca=gr.readFileSync(t.sslrootcert).toString()),\nt.sslmode){case\"disable\":{t.ssl=!1;break}case\"prefer\":case\"require\":case\"verify-\\\nca\":case\"verify-full\":break;case\"no-verify\":{t.ssl.rejectUnauthorized=!1;break}}\nreturn t}a(wr,\"parse\");is.exports=wr;wr.parse=wr});var bt=I((Il,us)=>{\"use strict\";p();var Ru=(rs(),O(ts)),as=et(),os=ss().parse,V=a(\nfunction(r,e,t){return t===void 0?t=m.env[\"PG\"+r.toUpperCase()]:t===!1||(t=m.env[t]),\ne[r]||t||as[r]},\"val\"),Fu=a(function(){switch(m.env.PGSSLMODE){case\"disable\":return!1;case\"\\\nprefer\":case\"require\":case\"verify-ca\":case\"verify-full\":return!0;case\"no-verify\":\nreturn{rejectUnauthorized:!1}}return as.ssl},\"readSSLConfigFromEnvironment\"),Ue=a(\nfunction(r){return\"'\"+(\"\"+r).replace(/\\\\/g,\"\\\\\\\\\").replace(/'/g,\"\\\\'\")+\"'\"},\"quo\\\nteParamValue\"),ie=a(function(r,e,t){var n=e[t];n!=null&&r.push(t+\"=\"+Ue(n))},\"ad\\\nd\"),Sr=class Sr{constructor(e){e=typeof e==\"string\"?os(e):e||{},e.connectionString&&\n(e=Object.assign({},e,os(e.connectionString))),this.user=V(\"user\",e),this.database=\nV(\"database\",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(\nV(\"port\",e),10),this.host=V(\"host\",e),Object.defineProperty(this,\"password\",{configurable:!0,\nenumerable:!1,writable:!0,value:V(\"password\",e)}),this.binary=V(\"binary\",e),this.\noptions=V(\"options\",e),this.ssl=typeof e.ssl>\"u\"?Fu():e.ssl,typeof this.ssl==\"st\\\nring\"&&this.ssl===\"true\"&&(this.ssl=!0),this.ssl===\"no-verify\"&&(this.ssl={rejectUnauthorized:!1}),\nthis.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,\"key\",{enumerable:!1}),this.\nclient_encoding=V(\"client_encoding\",e),this.replication=V(\"replication\",e),this.\nisDomainSocket=!(this.host||\"\").indexOf(\"/\"),this.application_name=V(\"applicatio\\\nn_name\",e,\"PGAPPNAME\"),this.fallback_application_name=V(\"fallback_application_na\\\nme\",e,!1),this.statement_timeout=V(\"statement_timeout\",e,!1),this.lock_timeout=V(\n\"lock_timeout\",e,!1),this.idle_in_transaction_session_timeout=V(\"idle_in_transac\\\ntion_session_timeout\",e,!1),this.query_timeout=V(\"query_timeout\",e,!1),e.connectionTimeoutMillis===\nvoid 0?this.connect_timeout=m.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.\nfloor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===\n!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis==\"number\"&&(this.keepalives_idle=\nMath.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){var t=[];\nie(t,this,\"user\"),ie(t,this,\"password\"),ie(t,this,\"port\"),ie(t,this,\"application\\\n_name\"),ie(t,this,\"fallback_application_name\"),ie(t,this,\"connect_timeout\"),ie(t,\nthis,\"options\");var n=typeof this.ssl==\"object\"?this.ssl:this.ssl?{sslmode:this.\nssl}:{};if(ie(t,n,\"sslmode\"),ie(t,n,\"sslca\"),ie(t,n,\"sslkey\"),ie(t,n,\"sslcert\"),\nie(t,n,\"sslrootcert\"),this.database&&t.push(\"dbname=\"+Ue(this.database)),this.replication&&\nt.push(\"replication=\"+Ue(this.replication)),this.host&&t.push(\"host=\"+Ue(this.host)),\nthis.isDomainSocket)return e(null,t.join(\" \"));this.client_encoding&&t.push(\"cli\\\nent_encoding=\"+Ue(this.client_encoding)),Ru.lookup(this.host,function(i,s){return i?\ne(i,null):(t.push(\"hostaddr=\"+Ue(s)),e(null,t.join(\" \")))})}};a(Sr,\"ConnectionPa\\\nrameters\");var br=Sr;us.exports=br});var ls=I((Ll,hs)=>{\"use strict\";p();var Mu=Xe(),cs=/^([A-Za-z]+)(?: (\\d+))?(?: (\\d+))?/,\nEr=class Er{constructor(e,t){this.command=null,this.rowCount=null,this.oid=null,\nthis.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,\nthis.rowAsArray=e===\"array\",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(e){\nvar t;e.text?t=cs.exec(e.text):t=cs.exec(e.command),t&&(this.command=t[1],t[3]?(this.\noid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(\nt[2],10)))}_parseRowAsArray(e){for(var t=new Array(e.length),n=0,i=e.length;n<i;n++){\nvar s=e[n];s!==null?t[n]=this._parsers[n](s):t[n]=null}return t}parseRow(e){for(var t={},\nn=0,i=e.length;n<i;n++){var s=e[n],o=this.fields[n].name;s!==null?t[o]=this._parsers[n](\ns):t[o]=null}return t}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.\nfields.length&&(this._parsers=new Array(e.length));for(var t=0;t<e.length;t++){var n=e[t];\nthis._types?this._parsers[t]=this._types.getTypeParser(n.dataTypeID,n.format||\"t\\\next\"):this._parsers[t]=Mu.getTypeParser(n.dataTypeID,n.format||\"text\")}}};a(Er,\"\\\nResult\");var xr=Er;hs.exports=xr});var ys=I((Ml,ds)=>{\"use strict\";p();var{EventEmitter:Du}=ge(),fs=ls(),ps=tt(),_r=class _r extends Du{constructor(e,t,n){\nsuper(),e=ps.normalizeQueryConfig(e,t,n),this.text=e.text,this.values=e.values,this.\nrows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=\ne.portal||\"\",this.callback=e.callback,this._rowMode=e.rowMode,m.domain&&e.callback&&\n(this.callback=m.domain.bind(e.callback)),this._result=new fs(this._rowMode,this.\ntypes),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=\n!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.\ntext||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&\n(Array.isArray(this._results)||(this._results=[this._result]),this._result=new fs(\nthis._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){\nthis._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.\ncallback||!this.listeners(\"row\").length}handleDataRow(e){let t;if(!this._canceledDueToError){\ntry{t=this._result.parseRow(e.fields)}catch(n){this._canceledDueToError=n;return}\nthis.emit(\"row\",t,this._result),this._accumulateRows&&this._result.addRow(t)}}handleCommandComplete(e,t){\nthis._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&t.sync()}handleEmptyQuery(e){\nthis.rows&&e.sync()}handleError(e,t){if(this._canceledDueToError&&(e=this._canceledDueToError,\nthis._canceledDueToError=!1),this.callback)return this.callback(e);this.emit(\"er\\\nror\",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(\nthis._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(t){\nm.nextTick(()=>{throw t})}this.emit(\"end\",this._results)}submit(e){if(typeof this.\ntext!=\"string\"&&typeof this.name!=\"string\")return new Error(\"A query must have e\\\nither text or a name. Supplying neither is unsupported.\");let t=e.parsedStatements[this.\nname];return this.text&&t&&this.text!==t?new Error(`Prepared statements must be \\\nunique - '${this.name}' was used for a different statement`):this.values&&!Array.\nisArray(this.values)?new Error(\"Query values must be an array\"):(this.requiresPreparation()?\nthis.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.\nname]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute(\n{portal:this.portal,rows:t}),t?e.flush():e.sync()}prepare(e){this.isPreparedStatement=\n!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});\ntry{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.\nbinary,valueMapper:ps.prepareValue})}catch(t){this.handleError(t,e);return}e.describe(\n{type:\"P\",name:this.portal||\"\"}),this._getRows(e,this.rows)}handleCopyInResponse(e){\ne.sendCopyFail(\"No source stream defined\")}handleCopyData(e,t){}};a(_r,\"Query\");\nvar vr=_r;ds.exports=vr});var ws={};se(ws,{Socket:()=>_e,isIP:()=>ku});function ku(r){return 0}var gs,ms,v,\n_e,St=z(()=>{\"use strict\";p();gs=Te(ge(),1);a(ku,\"isIP\");ms=/^[^.]+\\./,v=class v extends gs.EventEmitter{constructor(){\nsuper(...arguments);_(this,\"opts\",{});_(this,\"connecting\",!1);_(this,\"pending\",!0);\n_(this,\"writable\",!0);_(this,\"encrypted\",!1);_(this,\"authorized\",!1);_(this,\"des\\\ntroyed\",!1);_(this,\"ws\",null);_(this,\"writeBuffer\");_(this,\"tlsState\",0);_(this,\n\"tlsRead\");_(this,\"tlsWrite\")}static get poolQueryViaFetch(){return v.opts.poolQueryViaFetch??\nv.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){v.opts.poolQueryViaFetch=\nt}static get fetchEndpoint(){return v.opts.fetchEndpoint??v.defaults.fetchEndpoint}static set fetchEndpoint(t){\nv.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(t){\nconsole.warn(\"The `fetchConnectionCache` option is deprecated (now always `true`\\\n)\")}static get fetchFunction(){return v.opts.fetchFunction??v.defaults.fetchFunction}static set fetchFunction(t){\nv.opts.fetchFunction=t}static get webSocketConstructor(){return v.opts.webSocketConstructor??\nv.defaults.webSocketConstructor}static set webSocketConstructor(t){v.opts.webSocketConstructor=\nt}get webSocketConstructor(){return this.opts.webSocketConstructor??v.webSocketConstructor}set webSocketConstructor(t){\nthis.opts.webSocketConstructor=t}static get wsProxy(){return v.opts.wsProxy??v.defaults.\nwsProxy}static set wsProxy(t){v.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??\nv.wsProxy}set wsProxy(t){this.opts.wsProxy=t}static get coalesceWrites(){return v.\nopts.coalesceWrites??v.defaults.coalesceWrites}static set coalesceWrites(t){v.opts.\ncoalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??v.coalesceWrites}set coalesceWrites(t){\nthis.opts.coalesceWrites=t}static get useSecureWebSocket(){return v.opts.useSecureWebSocket??\nv.defaults.useSecureWebSocket}static set useSecureWebSocket(t){v.opts.useSecureWebSocket=\nt}get useSecureWebSocket(){return this.opts.useSecureWebSocket??v.useSecureWebSocket}set useSecureWebSocket(t){\nthis.opts.useSecureWebSocket=t}static get forceDisablePgSSL(){return v.opts.forceDisablePgSSL??\nv.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){v.opts.forceDisablePgSSL=\nt}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??v.forceDisablePgSSL}set forceDisablePgSSL(t){\nthis.opts.forceDisablePgSSL=t}static get disableSNI(){return v.opts.disableSNI??\nv.defaults.disableSNI}static set disableSNI(t){v.opts.disableSNI=t}get disableSNI(){\nreturn this.opts.disableSNI??v.disableSNI}set disableSNI(t){this.opts.disableSNI=\nt}static get pipelineConnect(){return v.opts.pipelineConnect??v.defaults.pipelineConnect}static set pipelineConnect(t){\nv.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??\nv.pipelineConnect}set pipelineConnect(t){this.opts.pipelineConnect=t}static get subtls(){\nreturn v.opts.subtls??v.defaults.subtls}static set subtls(t){v.opts.subtls=t}get subtls(){\nreturn this.opts.subtls??v.subtls}set subtls(t){this.opts.subtls=t}static get pipelineTLS(){\nreturn v.opts.pipelineTLS??v.defaults.pipelineTLS}static set pipelineTLS(t){v.opts.\npipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??v.pipelineTLS}set pipelineTLS(t){\nthis.opts.pipelineTLS=t}static get rootCerts(){return v.opts.rootCerts??v.defaults.\nrootCerts}static set rootCerts(t){v.opts.rootCerts=t}get rootCerts(){return this.\nopts.rootCerts??v.rootCerts}set rootCerts(t){this.opts.rootCerts=t}wsProxyAddrForHost(t,n){\nlet i=this.wsProxy;if(i===void 0)throw new Error(\"No WebSocket proxy is configur\\\ned. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#ws\\\nproxy-string--host-string-port-number--string--string\");return typeof i==\"functi\\\non\"?i(t,n):`${i}?address=${t}:${n}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){\nreturn this}unref(){return this}connect(t,n,i){this.connecting=!0,i&&this.once(\"\\\nconnect\",i);let s=a(()=>{this.connecting=!1,this.pending=!1,this.emit(\"connect\"),\nthis.emit(\"ready\")},\"handleWebSocketOpen\"),o=a((c,h=!1)=>{c.binaryType=\"arraybuf\\\nfer\",c.addEventListener(\"error\",l=>{this.emit(\"error\",l),this.emit(\"close\")}),c.\naddEventListener(\"message\",l=>{if(this.tlsState===0){let d=y.from(l.data);this.emit(\n\"data\",d)}}),c.addEventListener(\"close\",()=>{this.emit(\"close\")}),h?s():c.addEventListener(\n\"open\",s)},\"configureWebSocket\"),u;try{u=this.wsProxyAddrForHost(n,typeof t==\"st\\\nring\"?parseInt(t,10):t)}catch(c){this.emit(\"error\",c),this.emit(\"close\");return}\ntry{let h=(this.useSecureWebSocket?\"wss:\":\"ws:\")+\"//\"+u;if(this.webSocketConstructor!==\nvoid 0)this.ws=new this.webSocketConstructor(h),o(this.ws);else try{this.ws=new WebSocket(\nh),o(this.ws)}catch{this.ws=new __unstable_WebSocket(h),o(this.ws)}}catch(c){let l=(this.\nuseSecureWebSocket?\"https:\":\"http:\")+\"//\"+u;fetch(l,{headers:{Upgrade:\"websocket\"}}).\nthen(d=>{if(this.ws=d.webSocket,this.ws==null)throw c;this.ws.accept(),o(this.ws,\n!0)}).catch(d=>{this.emit(\"error\",new Error(`All attempts to open a WebSocket to\\\n connect to the database failed. Please refer to https://github.com/neondatabase\\\n/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined\\\n. Details: ${d.message}`)),this.emit(\"close\")})}}async startTls(t){if(this.subtls===\nvoid 0)throw new Error(\"For Postgres SSL connections, you must set `neonConfig.s\\\nubtls` to the subtls library. See https://github.com/neondatabase/serverless/blo\\\nb/main/CONFIG.md for more information.\");this.tlsState=1;let n=this.subtls.TrustedCert.\nfromPEM(this.rootCerts),i=new this.subtls.WebSocketReadQueue(this.ws),s=i.read.bind(\ni),o=this.rawWrite.bind(this),[u,c]=await this.subtls.startTls(t,n,s,o,{useSNI:!this.\ndisableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=\nu,this.tlsWrite=c,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit(\n\"secureConnection\",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let t=await this.\ntlsRead();if(t===void 0)break;{let n=y.from(t);this.emit(\"data\",n)}}}rawWrite(t){\nif(!this.coalesceWrites){this.ws.send(t);return}if(this.writeBuffer===void 0)this.\nwriteBuffer=t,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},\n0);else{let n=new Uint8Array(this.writeBuffer.length+t.length);n.set(this.writeBuffer),\nn.set(t,this.writeBuffer.length),this.writeBuffer=n}}write(t,n=\"utf8\",i=s=>{}){return t.\nlength===0?(i(),!0):(typeof t==\"string\"&&(t=y.from(t,n)),this.tlsState===0?(this.\nrawWrite(t),i()):this.tlsState===1?this.once(\"secureConnection\",()=>{this.write(\nt,n,i)}):(this.tlsWrite(t),i()),!0)}end(t=y.alloc(0),n=\"utf8\",i=()=>{}){return this.\nwrite(t,n,()=>{this.ws.close(),i()}),this}destroy(){return this.destroyed=!0,this.\nend()}};a(v,\"Socket\"),_(v,\"defaults\",{poolQueryViaFetch:!1,fetchEndpoint:a((t,n,i)=>{\nlet s;return i?.jwtAuth?s=t.replace(ms,\"apiauth.\"):s=t.replace(ms,\"api.\"),\"https\\\n://\"+s+\"/sql\"},\"fetchEndpoint\"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,\nwsProxy:a(t=>t+\"/v2\",\"wsProxy\"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,\npipelineConnect:\"password\",subtls:void 0,rootCerts:\"\",pipelineTLS:!1,disableSNI:!1}),\n_(v,\"opts\",{});_e=v});var Xr=I(T=>{\"use strict\";p();Object.defineProperty(T,\"__esModule\",{value:!0});T.\nNoticeMessage=T.DataRowMessage=T.CommandCompleteMessage=T.ReadyForQueryMessage=T.\nNotificationResponseMessage=T.BackendKeyDataMessage=T.AuthenticationMD5Password=\nT.ParameterStatusMessage=T.ParameterDescriptionMessage=T.RowDescriptionMessage=T.\nField=T.CopyResponse=T.CopyDataMessage=T.DatabaseError=T.copyDone=T.emptyQuery=T.\nreplicationStart=T.portalSuspended=T.noData=T.closeComplete=T.bindComplete=T.parseComplete=\nvoid 0;T.parseComplete={name:\"parseComplete\",length:5};T.bindComplete={name:\"bin\\\ndComplete\",length:5};T.closeComplete={name:\"closeComplete\",length:5};T.noData={name:\"\\\nnoData\",length:5};T.portalSuspended={name:\"portalSuspended\",length:5};T.replicationStart=\n{name:\"replicationStart\",length:4};T.emptyQuery={name:\"emptyQuery\",length:4};T.copyDone=\n{name:\"copyDone\",length:4};var Nr=class Nr extends Error{constructor(e,t,n){super(\ne),this.length=t,this.name=n}};a(Nr,\"DatabaseError\");var Ar=Nr;T.DatabaseError=Ar;\nvar qr=class qr{constructor(e,t){this.length=e,this.chunk=t,this.name=\"copyData\"}};\na(qr,\"CopyDataMessage\");var Cr=qr;T.CopyDataMessage=Cr;var Qr=class Qr{constructor(e,t,n,i){\nthis.length=e,this.name=t,this.binary=n,this.columnTypes=new Array(i)}};a(Qr,\"Co\\\npyResponse\");var Tr=Qr;T.CopyResponse=Tr;var jr=class jr{constructor(e,t,n,i,s,o,u){\nthis.name=e,this.tableID=t,this.columnID=n,this.dataTypeID=i,this.dataTypeSize=s,\nthis.dataTypeModifier=o,this.format=u}};a(jr,\"Field\");var Ir=jr;T.Field=Ir;var Wr=class Wr{constructor(e,t){\nthis.length=e,this.fieldCount=t,this.name=\"rowDescription\",this.fields=new Array(\nthis.fieldCount)}};a(Wr,\"RowDescriptionMessage\");var Pr=Wr;T.RowDescriptionMessage=\nPr;var Hr=class Hr{constructor(e,t){this.length=e,this.parameterCount=t,this.name=\n\"parameterDescription\",this.dataTypeIDs=new Array(this.parameterCount)}};a(Hr,\"P\\\narameterDescriptionMessage\");var Br=Hr;T.ParameterDescriptionMessage=Br;var Gr=class Gr{constructor(e,t,n){\nthis.length=e,this.parameterName=t,this.parameterValue=n,this.name=\"parameterSta\\\ntus\"}};a(Gr,\"ParameterStatusMessage\");var Lr=Gr;T.ParameterStatusMessage=Lr;var $r=class $r{constructor(e,t){\nthis.length=e,this.salt=t,this.name=\"authenticationMD5Password\"}};a($r,\"Authenti\\\ncationMD5Password\");var Rr=$r;T.AuthenticationMD5Password=Rr;var Vr=class Vr{constructor(e,t,n){\nthis.length=e,this.processID=t,this.secretKey=n,this.name=\"backendKeyData\"}};a(Vr,\n\"BackendKeyDataMessage\");var Fr=Vr;T.BackendKeyDataMessage=Fr;var Kr=class Kr{constructor(e,t,n,i){\nthis.length=e,this.processId=t,this.channel=n,this.payload=i,this.name=\"notifica\\\ntion\"}};a(Kr,\"NotificationResponseMessage\");var Mr=Kr;T.NotificationResponseMessage=\nMr;var zr=class zr{constructor(e,t){this.length=e,this.status=t,this.name=\"ready\\\nForQuery\"}};a(zr,\"ReadyForQueryMessage\");var Dr=zr;T.ReadyForQueryMessage=Dr;var Yr=class Yr{constructor(e,t){\nthis.length=e,this.text=t,this.name=\"commandComplete\"}};a(Yr,\"CommandCompleteMes\\\nsage\");var kr=Yr;T.CommandCompleteMessage=kr;var Zr=class Zr{constructor(e,t){this.\nlength=e,this.fields=t,this.name=\"dataRow\",this.fieldCount=t.length}};a(Zr,\"Data\\\nRowMessage\");var Ur=Zr;T.DataRowMessage=Ur;var Jr=class Jr{constructor(e,t){this.\nlength=e,this.message=t,this.name=\"notice\"}};a(Jr,\"NoticeMessage\");var Or=Jr;T.NoticeMessage=\nOr});var bs=I(xt=>{\"use strict\";p();Object.defineProperty(xt,\"__esModule\",{value:!0});\nxt.Writer=void 0;var tn=class tn{constructor(e=256){this.size=e,this.offset=5,this.\nheaderPosition=0,this.buffer=y.allocUnsafe(e)}ensure(e){var t=this.buffer.length-\nthis.offset;if(t<e){var n=this.buffer,i=n.length+(n.length>>1)+e;this.buffer=y.allocUnsafe(\ni),n.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=\ne>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>\n8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),\nthis.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){\nif(!e)this.ensure(1);else{var t=y.byteLength(e);this.ensure(t+1),this.buffer.write(\ne,this.offset,\"utf-8\"),this.offset+=t}return this.buffer[this.offset++]=0,this}addString(e=\"\"){\nvar t=y.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.\noffset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),\nthis.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let t=this.\noffset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}\nreturn this.buffer.slice(e?0:5,this.offset)}flush(e){var t=this.join(e);return this.\noffset=5,this.headerPosition=0,this.buffer=y.allocUnsafe(this.size),t}};a(tn,\"Wr\\\niter\");var en=tn;xt.Writer=en});var xs=I(vt=>{\"use strict\";p();Object.defineProperty(vt,\"__esModule\",{value:!0});\nvt.serialize=void 0;var rn=bs(),M=new rn.Writer,Uu=a(r=>{M.addInt16(3).addInt16(\n0);for(let n of Object.keys(r))M.addCString(n).addCString(r[n]);M.addCString(\"cl\\\nient_encoding\").addCString(\"UTF8\");var e=M.addCString(\"\").flush(),t=e.length+4;return new rn.\nWriter().addInt32(t).add(e).flush()},\"startup\"),Ou=a(()=>{let r=y.allocUnsafe(8);\nreturn r.writeInt32BE(8,0),r.writeInt32BE(80877103,4),r},\"requestSsl\"),Nu=a(r=>M.\naddCString(r).flush(112),\"password\"),qu=a(function(r,e){return M.addCString(r).addInt32(\ny.byteLength(e)).addString(e),M.flush(112)},\"sendSASLInitialResponseMessage\"),Qu=a(\nfunction(r){return M.addString(r).flush(112)},\"sendSCRAMClientFinalMessage\"),ju=a(\nr=>M.addCString(r).flush(81),\"query\"),Ss=[],Wu=a(r=>{let e=r.name||\"\";e.length>63&&\n(console.error(\"Warning! Postgres only supports 63 characters for query names.\"),\nconsole.error(\"You supplied %s (%s)\",e,e.length),console.error(\"This can cause c\\\nonflicts and silent errors executing queries\"));let t=r.types||Ss;for(var n=t.length,\ni=M.addCString(e).addCString(r.text).addInt16(n),s=0;s<n;s++)i.addInt32(t[s]);return M.\nflush(80)},\"parse\"),Oe=new rn.Writer,Hu=a(function(r,e){for(let t=0;t<r.length;t++){\nlet n=e?e(r[t],t):r[t];n==null?(M.addInt16(0),Oe.addInt32(-1)):n instanceof y?(M.\naddInt16(1),Oe.addInt32(n.length),Oe.add(n)):(M.addInt16(0),Oe.addInt32(y.byteLength(\nn)),Oe.addString(n))}},\"writeValues\"),Gu=a((r={})=>{let e=r.portal||\"\",t=r.statement||\n\"\",n=r.binary||!1,i=r.values||Ss,s=i.length;return M.addCString(e).addCString(t),\nM.addInt16(s),Hu(i,r.valueMapper),M.addInt16(s),M.add(Oe.flush()),M.addInt16(n?1:\n0),M.flush(66)},\"bind\"),$u=y.from([69,0,0,0,9,0,0,0,0,0]),Vu=a(r=>{if(!r||!r.portal&&\n!r.rows)return $u;let e=r.portal||\"\",t=r.rows||0,n=y.byteLength(e),i=4+n+1+4,s=y.\nallocUnsafe(1+i);return s[0]=69,s.writeInt32BE(i,1),s.write(e,5,\"utf-8\"),s[n+5]=\n0,s.writeUInt32BE(t,s.length-4),s},\"execute\"),Ku=a((r,e)=>{let t=y.allocUnsafe(16);\nreturn t.writeInt32BE(16,0),t.writeInt16BE(1234,4),t.writeInt16BE(5678,6),t.writeInt32BE(\nr,8),t.writeInt32BE(e,12),t},\"cancel\"),nn=a((r,e)=>{let n=4+y.byteLength(e)+1,i=y.\nallocUnsafe(1+n);return i[0]=r,i.writeInt32BE(n,1),i.write(e,5,\"utf-8\"),i[n]=0,i},\n\"cstringMessage\"),zu=M.addCString(\"P\").flush(68),Yu=M.addCString(\"S\").flush(68),\nZu=a(r=>r.name?nn(68,`${r.type}${r.name||\"\"}`):r.type===\"P\"?zu:Yu,\"describe\"),Ju=a(\nr=>{let e=`${r.type}${r.name||\"\"}`;return nn(67,e)},\"close\"),Xu=a(r=>M.add(r).flush(\n100),\"copyData\"),ec=a(r=>nn(102,r),\"copyFail\"),Et=a(r=>y.from([r,0,0,0,4]),\"code\\\nOnlyBuffer\"),tc=Et(72),rc=Et(83),nc=Et(88),ic=Et(99),sc={startup:Uu,password:Nu,\nrequestSsl:Ou,sendSASLInitialResponseMessage:qu,sendSCRAMClientFinalMessage:Qu,query:ju,\nparse:Wu,bind:Gu,execute:Vu,describe:Zu,close:Ju,flush:a(()=>tc,\"flush\"),sync:a(\n()=>rc,\"sync\"),end:a(()=>nc,\"end\"),copyData:Xu,copyDone:a(()=>ic,\"copyDone\"),copyFail:ec,\ncancel:Ku};vt.serialize=sc});var Es=I(_t=>{\"use strict\";p();Object.defineProperty(_t,\"__esModule\",{value:!0});\n_t.BufferReader=void 0;var oc=y.allocUnsafe(0),on=class on{constructor(e=0){this.\noffset=e,this.buffer=oc,this.encoding=\"utf-8\"}setBuffer(e,t){this.offset=e,this.\nbuffer=t}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=\n2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.\nbuffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){let t=this.buffer.\ntoString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){\nlet e=this.offset,t=e;for(;this.buffer[t++]!==0;);return this.offset=t,this.buffer.\ntoString(this.encoding,e,t-1)}bytes(e){let t=this.buffer.slice(this.offset,this.\noffset+e);return this.offset+=e,t}};a(on,\"BufferReader\");var sn=on;_t.BufferReader=\nsn});var As=I(At=>{\"use strict\";p();Object.defineProperty(At,\"__esModule\",{value:!0});\nAt.Parser=void 0;var D=Xr(),ac=Es(),an=1,uc=4,vs=an+uc,_s=y.allocUnsafe(0),cn=class cn{constructor(e){\nif(this.buffer=_s,this.bufferLength=0,this.bufferOffset=0,this.reader=new ac.BufferReader,\ne?.mode===\"binary\")throw new Error(\"Binary mode not supported yet\");this.mode=e?.\nmode||\"text\"}parse(e,t){this.mergeBuffer(e);let n=this.bufferOffset+this.bufferLength,\ni=this.bufferOffset;for(;i+vs<=n;){let s=this.buffer[i],o=this.buffer.readUInt32BE(\ni+an),u=an+o;if(u+i<=n){let c=this.handlePacket(i+vs,s,o,this.buffer);t(c),i+=u}else\nbreak}i===n?(this.buffer=_s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=\nn-i,this.bufferOffset=i)}mergeBuffer(e){if(this.bufferLength>0){let t=this.bufferLength+\ne.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){let i;if(t<=this.buffer.\nbyteLength&&this.bufferOffset>=this.bufferLength)i=this.buffer;else{let s=this.buffer.\nbyteLength*2;for(;t>=s;)s*=2;i=y.allocUnsafe(s)}this.buffer.copy(i,0,this.bufferOffset,\nthis.bufferOffset+this.bufferLength),this.buffer=i,this.bufferOffset=0}e.copy(this.\nbuffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=\ne,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,t,n,i){switch(t){case 50:\nreturn D.bindComplete;case 49:return D.parseComplete;case 51:return D.closeComplete;case 110:\nreturn D.noData;case 115:return D.portalSuspended;case 99:return D.copyDone;case 87:\nreturn D.replicationStart;case 73:return D.emptyQuery;case 68:return this.parseDataRowMessage(\ne,n,i);case 67:return this.parseCommandCompleteMessage(e,n,i);case 90:return this.\nparseReadyForQueryMessage(e,n,i);case 65:return this.parseNotificationMessage(e,\nn,i);case 82:return this.parseAuthenticationResponse(e,n,i);case 83:return this.\nparseParameterStatusMessage(e,n,i);case 75:return this.parseBackendKeyData(e,n,i);case 69:\nreturn this.parseErrorMessage(e,n,i,\"error\");case 78:return this.parseErrorMessage(\ne,n,i,\"notice\");case 84:return this.parseRowDescriptionMessage(e,n,i);case 116:return this.\nparseParameterDescriptionMessage(e,n,i);case 71:return this.parseCopyInMessage(e,\nn,i);case 72:return this.parseCopyOutMessage(e,n,i);case 100:return this.parseCopyData(\ne,n,i);default:return new D.DatabaseError(\"received invalid response: \"+t.toString(\n16),n,\"error\")}}parseReadyForQueryMessage(e,t,n){this.reader.setBuffer(e,n);let i=this.\nreader.string(1);return new D.ReadyForQueryMessage(t,i)}parseCommandCompleteMessage(e,t,n){\nthis.reader.setBuffer(e,n);let i=this.reader.cstring();return new D.CommandCompleteMessage(\nt,i)}parseCopyData(e,t,n){let i=n.slice(e,e+(t-4));return new D.CopyDataMessage(\nt,i)}parseCopyInMessage(e,t,n){return this.parseCopyMessage(e,t,n,\"copyInRespons\\\ne\")}parseCopyOutMessage(e,t,n){return this.parseCopyMessage(e,t,n,\"copyOutRespon\\\nse\")}parseCopyMessage(e,t,n,i){this.reader.setBuffer(e,n);let s=this.reader.byte()!==\n0,o=this.reader.int16(),u=new D.CopyResponse(t,i,s,o);for(let c=0;c<o;c++)u.columnTypes[c]=\nthis.reader.int16();return u}parseNotificationMessage(e,t,n){this.reader.setBuffer(\ne,n);let i=this.reader.int32(),s=this.reader.cstring(),o=this.reader.cstring();return new D.\nNotificationResponseMessage(t,i,s,o)}parseRowDescriptionMessage(e,t,n){this.reader.\nsetBuffer(e,n);let i=this.reader.int16(),s=new D.RowDescriptionMessage(t,i);for(let o=0;o<\ni;o++)s.fields[o]=this.parseField();return s}parseField(){let e=this.reader.cstring(),\nt=this.reader.int32(),n=this.reader.int16(),i=this.reader.int32(),s=this.reader.\nint16(),o=this.reader.int32(),u=this.reader.int16()===0?\"text\":\"binary\";return new D.\nField(e,t,n,i,s,o,u)}parseParameterDescriptionMessage(e,t,n){this.reader.setBuffer(\ne,n);let i=this.reader.int16(),s=new D.ParameterDescriptionMessage(t,i);for(let o=0;o<\ni;o++)s.dataTypeIDs[o]=this.reader.int32();return s}parseDataRowMessage(e,t,n){this.\nreader.setBuffer(e,n);let i=this.reader.int16(),s=new Array(i);for(let o=0;o<i;o++){\nlet u=this.reader.int32();s[o]=u===-1?null:this.reader.string(u)}return new D.DataRowMessage(\nt,s)}parseParameterStatusMessage(e,t,n){this.reader.setBuffer(e,n);let i=this.reader.\ncstring(),s=this.reader.cstring();return new D.ParameterStatusMessage(t,i,s)}parseBackendKeyData(e,t,n){\nthis.reader.setBuffer(e,n);let i=this.reader.int32(),s=this.reader.int32();return new D.\nBackendKeyDataMessage(t,i,s)}parseAuthenticationResponse(e,t,n){this.reader.setBuffer(\ne,n);let i=this.reader.int32(),s={name:\"authenticationOk\",length:t};switch(i){case 0:\nbreak;case 3:s.length===8&&(s.name=\"authenticationCleartextPassword\");break;case 5:\nif(s.length===12){s.name=\"authenticationMD5Password\";let u=this.reader.bytes(4);\nreturn new D.AuthenticationMD5Password(t,u)}break;case 10:s.name=\"authentication\\\nSASL\",s.mechanisms=[];let o;do o=this.reader.cstring(),o&&s.mechanisms.push(o);while(o);\nbreak;case 11:s.name=\"authenticationSASLContinue\",s.data=this.reader.string(t-8);\nbreak;case 12:s.name=\"authenticationSASLFinal\",s.data=this.reader.string(t-8);break;default:\nthrow new Error(\"Unknown authenticationOk message type \"+i)}return s}parseErrorMessage(e,t,n,i){\nthis.reader.setBuffer(e,n);let s={},o=this.reader.string(1);for(;o!==\"\\0\";)s[o]=\nthis.reader.cstring(),o=this.reader.string(1);let u=s.M,c=i===\"notice\"?new D.NoticeMessage(\nt,u):new D.DatabaseError(u,t,i);return c.severity=s.S,c.code=s.C,c.detail=s.D,c.\nhint=s.H,c.position=s.P,c.internalPosition=s.p,c.internalQuery=s.q,c.where=s.W,c.\nschema=s.s,c.table=s.t,c.column=s.c,c.dataType=s.d,c.constraint=s.n,c.file=s.F,c.\nline=s.L,c.routine=s.R,c}};a(cn,\"Parser\");var un=cn;At.Parser=un});var hn=I(be=>{\"use strict\";p();Object.defineProperty(be,\"__esModule\",{value:!0});\nbe.DatabaseError=be.serialize=be.parse=void 0;var cc=Xr();Object.defineProperty(\nbe,\"DatabaseError\",{enumerable:!0,get:a(function(){return cc.DatabaseError},\"get\")});\nvar hc=xs();Object.defineProperty(be,\"serialize\",{enumerable:!0,get:a(function(){\nreturn hc.serialize},\"get\")});var lc=As();function fc(r,e){let t=new lc.Parser;return r.\non(\"data\",n=>t.parse(n,e)),new Promise(n=>r.on(\"end\",()=>n()))}a(fc,\"parse\");be.\nparse=fc});var Cs={};se(Cs,{connect:()=>pc});function pc({socket:r,servername:e}){return r.\nstartTls(e),r}var Ts=z(()=>{\"use strict\";p();a(pc,\"connect\")});var pn=I((of,Bs)=>{\"use strict\";p();var Is=(St(),O(ws)),dc=ge().EventEmitter,{parse:yc,\nserialize:q}=hn(),Ps=q.flush(),mc=q.sync(),gc=q.end(),fn=class fn extends dc{constructor(e){\nsuper(),e=e||{},this.stream=e.stream||new Is.Socket,this._keepAlive=e.keepAlive,\nthis._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=\n!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=\n!1;var t=this;this.on(\"newListener\",function(n){n===\"message\"&&(t._emitMessage=!0)})}connect(e,t){\nvar n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,\nt),this.stream.once(\"connect\",function(){n._keepAlive&&n.stream.setKeepAlive(!0,\nn._keepAliveInitialDelayMillis),n.emit(\"connect\")});let i=a(function(s){n._ending&&\n(s.code===\"ECONNRESET\"||s.code===\"EPIPE\")||n.emit(\"error\",s)},\"reportStreamError\");\nif(this.stream.on(\"error\",i),this.stream.on(\"close\",function(){n.emit(\"end\")}),!this.\nssl)return this.attachListeners(this.stream);this.stream.once(\"data\",function(s){\nvar o=s.toString(\"utf8\");switch(o){case\"S\":break;case\"N\":return n.stream.end(),n.\nemit(\"error\",new Error(\"The server does not support SSL connections\"));default:return n.\nstream.end(),n.emit(\"error\",new Error(\"There was an error establishing an SSL co\\\nnnection\"))}var u=(Ts(),O(Cs));let c={socket:n.stream};n.ssl!==!0&&(Object.assign(\nc,n.ssl),\"key\"in n.ssl&&(c.key=n.ssl.key)),Is.isIP(t)===0&&(c.servername=t);try{\nn.stream=u.connect(c)}catch(h){return n.emit(\"error\",h)}n.attachListeners(n.stream),\nn.stream.on(\"error\",i),n.emit(\"sslconnect\")})}attachListeners(e){e.on(\"end\",()=>{\nthis.emit(\"end\")}),yc(e,t=>{var n=t.name===\"error\"?\"errorMessage\":t.name;this._emitMessage&&\nthis.emit(\"message\",t),this.emit(n,t)})}requestSsl(){this.stream.write(q.requestSsl())}startup(e){\nthis.stream.write(q.startup(e))}cancel(e,t){this._send(q.cancel(e,t))}password(e){\nthis._send(q.password(e))}sendSASLInitialResponseMessage(e,t){this._send(q.sendSASLInitialResponseMessage(\ne,t))}sendSCRAMClientFinalMessage(e){this._send(q.sendSCRAMClientFinalMessage(e))}_send(e){\nreturn this.stream.writable?this.stream.write(e):!1}query(e){this._send(q.query(\ne))}parse(e){this._send(q.parse(e))}bind(e){this._send(q.bind(e))}execute(e){this.\n_send(q.execute(e))}flush(){this.stream.writable&&this.stream.write(Ps)}sync(){this.\n_ending=!0,this._send(Ps),this._send(mc)}ref(){this.stream.ref()}unref(){this.stream.\nunref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.\nstream.end();return}return this.stream.write(gc,()=>{this.stream.end()})}close(e){\nthis._send(q.close(e))}describe(e){this._send(q.describe(e))}sendCopyFromChunk(e){\nthis._send(q.copyData(e))}endCopyFrom(){this._send(q.copyDone())}sendCopyFail(e){\nthis._send(q.copyFail(e))}};a(fn,\"Connection\");var ln=fn;Bs.exports=ln});var Fs=I((hf,Rs)=>{\"use strict\";p();var wc=ge().EventEmitter,cf=(Ge(),O(He)),bc=tt(),\ndn=ji(),Sc=Xi(),xc=wt(),Ec=bt(),Ls=ys(),vc=et(),_c=pn(),yn=class yn extends wc{constructor(e){\nsuper(),this.connectionParameters=new Ec(e),this.user=this.connectionParameters.\nuser,this.database=this.connectionParameters.database,this.port=this.connectionParameters.\nport,this.host=this.connectionParameters.host,Object.defineProperty(this,\"passwo\\\nrd\",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),\nthis.replication=this.connectionParameters.replication;var t=e||{};this._Promise=\nt.Promise||S.Promise,this._types=new xc(t.types),this._ending=!1,this._connecting=\n!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=\nt.connection||new _c({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.\nkeepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.\nconnectionParameters.client_encoding||\"utf8\"}),this.queryQueue=[],this.binary=t.\nbinary||vc.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.\nssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,\"key\",{enumerable:!1}),\nthis._connectionTimeoutMillis=t.connectionTimeoutMillis||0}_errorAllQueries(e){let t=a(\nn=>{m.nextTick(()=>{n.handleError(e,this.connection)})},\"enqueueError\");this.activeQuery&&\n(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.\nlength=0}_connect(e){var t=this,n=this.connection;if(this._connectionCallback=e,\nthis._connecting||this._connected){let i=new Error(\"Client has already been conn\\\nected. You cannot reuse a client.\");m.nextTick(()=>{e(i)});return}this._connecting=\n!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=\nsetTimeout(()=>{n._ending=!0,n.stream.destroy(new Error(\"timeout expired\"))},this.\n_connectionTimeoutMillis)),this.host&&this.host.indexOf(\"/\")===0?n.connect(this.\nhost+\"/.s.PGSQL.\"+this.port):n.connect(this.port,this.host),n.on(\"connect\",function(){\nt.ssl?n.requestSsl():n.startup(t.getStartupConf())}),n.on(\"sslconnect\",function(){\nn.startup(t.getStartupConf())}),this._attachListeners(n),n.once(\"end\",()=>{let i=this.\n_ending?new Error(\"Connection terminated\"):new Error(\"Connection terminated unex\\\npectedly\");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(i),this.\n_ending||(this._connecting&&!this._connectionError?this._connectionCallback?this.\n_connectionCallback(i):this._handleErrorEvent(i):this._connectionError||this._handleErrorEvent(\ni)),m.nextTick(()=>{this.emit(\"end\")})})}connect(e){if(e){this._connect(e);return}\nreturn new this._Promise((t,n)=>{this._connect(i=>{i?n(i):t()})})}_attachListeners(e){\ne.on(\"authenticationCleartextPassword\",this._handleAuthCleartextPassword.bind(this)),\ne.on(\"authenticationMD5Password\",this._handleAuthMD5Password.bind(this)),e.on(\"a\\\nuthenticationSASL\",this._handleAuthSASL.bind(this)),e.on(\"authenticationSASLCont\\\ninue\",this._handleAuthSASLContinue.bind(this)),e.on(\"authenticationSASLFinal\",this.\n_handleAuthSASLFinal.bind(this)),e.on(\"backendKeyData\",this._handleBackendKeyData.\nbind(this)),e.on(\"error\",this._handleErrorEvent.bind(this)),e.on(\"errorMessage\",\nthis._handleErrorMessage.bind(this)),e.on(\"readyForQuery\",this._handleReadyForQuery.\nbind(this)),e.on(\"notice\",this._handleNotice.bind(this)),e.on(\"rowDescription\",this.\n_handleRowDescription.bind(this)),e.on(\"dataRow\",this._handleDataRow.bind(this)),\ne.on(\"portalSuspended\",this._handlePortalSuspended.bind(this)),e.on(\"emptyQuery\",\nthis._handleEmptyQuery.bind(this)),e.on(\"commandComplete\",this._handleCommandComplete.\nbind(this)),e.on(\"parseComplete\",this._handleParseComplete.bind(this)),e.on(\"cop\\\nyInResponse\",this._handleCopyInResponse.bind(this)),e.on(\"copyData\",this._handleCopyData.\nbind(this)),e.on(\"notification\",this._handleNotification.bind(this))}_checkPgPass(e){\nlet t=this.connection;typeof this.password==\"function\"?this._Promise.resolve().then(\n()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!=\"string\"){t.emit(\"erro\\\nr\",new TypeError(\"Password must be a string\"));return}this.connectionParameters.\npassword=this.password=n}else this.connectionParameters.password=this.password=null;\ne()}).catch(n=>{t.emit(\"error\",n)}):this.password!==null?e():Sc(this.connectionParameters,\nn=>{n!==void 0&&(this.connectionParameters.password=this.password=n),e()})}_handleAuthCleartextPassword(e){\nthis._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){\nthis._checkPgPass(()=>{let t=bc.postgresMd5PasswordHash(this.user,this.password,\ne.salt);this.connection.password(t)})}_handleAuthSASL(e){this._checkPgPass(()=>{\nthis.saslSession=dn.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(\nthis.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(e){\ndn.continueSession(this.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(\nthis.saslSession.response)}_handleAuthSASLFinal(e){dn.finalizeSession(this.saslSession,\ne.data),this.saslSession=null}_handleBackendKeyData(e){this.processID=e.processID,\nthis.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=\n!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&\n(this._connectionCallback(null,this),this._connectionCallback=null),this.emit(\"c\\\nonnect\"));let{activeQuery:t}=this;this.activeQuery=null,this.readyForQuery=!0,t&&\nt.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){\nif(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),\nthis._connectionCallback)return this._connectionCallback(e);this.emit(\"error\",e)}}_handleErrorEvent(e){\nif(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,\nthis._errorAllQueries(e),this.emit(\"error\",e)}_handleErrorMessage(e){if(this._connecting)\nreturn this._handleErrorWhileConnecting(e);let t=this.activeQuery;if(!t){this._handleErrorEvent(\ne);return}this.activeQuery=null,t.handleError(e,this.connection)}_handleRowDescription(e){\nthis.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(\ne)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){\nthis.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){this.\nactiveQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.\nactiveQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.\nactiveQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(\nthis.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){\nthis.emit(\"notification\",e)}_handleNotice(e){this.emit(\"notice\",e)}getStartupConf(){\nvar e=this.connectionParameters,t={user:e.user,database:e.database},n=e.application_name||\ne.fallback_application_name;return n&&(t.application_name=n),e.replication&&(t.replication=\n\"\"+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,\n10))),e.lock_timeout&&(t.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&\n(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,\n10))),e.options&&(t.options=e.options),t}cancel(e,t){if(e.activeQuery===t){var n=this.\nconnection;this.host&&this.host.indexOf(\"/\")===0?n.connect(this.host+\"/.s.PGSQL.\"+\nthis.port):n.connect(this.port,this.host),n.on(\"connect\",function(){n.cancel(e.processID,\ne.secretKey)})}else e.queryQueue.indexOf(t)!==-1&&e.queryQueue.splice(e.queryQueue.\nindexOf(t),1)}setTypeParser(e,t,n){return this._types.setTypeParser(e,t,n)}getTypeParser(e,t){\nreturn this._types.getTypeParser(e,t)}escapeIdentifier(e){return'\"'+e.replace(/\"/g,\n'\"\"')+'\"'}escapeLiteral(e){for(var t=!1,n=\"'\",i=0;i<e.length;i++){var s=e[i];s===\n\"'\"?n+=s+s:s===\"\\\\\"?(n+=s+s,t=!0):n+=s}return n+=\"'\",t===!0&&(n=\" E\"+n),n}_pulseQueryQueue(){\nif(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){\nthis.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);\ne&&m.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=\n!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.\nemit(\"drain\"))}query(e,t,n){var i,s,o,u,c;if(e==null)throw new TypeError(\"Client\\\n was passed a null or undefined query\");return typeof e.submit==\"function\"?(o=e.\nquery_timeout||this.connectionParameters.query_timeout,s=i=e,typeof t==\"function\"&&\n(i.callback=i.callback||t)):(o=this.connectionParameters.query_timeout,i=new Ls(\ne,t,n),i.callback||(s=new this._Promise((h,l)=>{i.callback=(d,b)=>d?l(d):h(b)}))),\no&&(c=i.callback,u=setTimeout(()=>{var h=new Error(\"Query read timeout\");m.nextTick(\n()=>{i.handleError(h,this.connection)}),c(h),i.callback=()=>{};var l=this.queryQueue.\nindexOf(i);l>-1&&this.queryQueue.splice(l,1),this._pulseQueryQueue()},o),i.callback=\n(h,l)=>{clearTimeout(u),c(h,l)}),this.binary&&!i.binary&&(i.binary=!0),i._result&&\n!i._result._types&&(i._result._types=this._types),this._queryable?this._ending?(m.\nnextTick(()=>{i.handleError(new Error(\"Client was closed and is not queryable\"),\nthis.connection)}),s):(this.queryQueue.push(i),this._pulseQueryQueue(),s):(m.nextTick(\n()=>{i.handleError(new Error(\"Client has encountered a connection error and is n\\\not queryable\"),this.connection)}),s)}ref(){this.connection.ref()}unref(){this.connection.\nunref()}end(e){if(this._ending=!0,!this.connection._connecting)if(e)e();else return this.\n_Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.\ndestroy():this.connection.end(),e)this.connection.once(\"end\",e);else return new this.\n_Promise(t=>{this.connection.once(\"end\",t)})}};a(yn,\"Client\");var Ct=yn;Ct.Query=\nLs;Rs.exports=Ct});var Us=I((pf,ks)=>{\"use strict\";p();var Ac=ge().EventEmitter,Ms=a(function(){},\"\\\nNOOP\"),Ds=a((r,e)=>{let t=r.findIndex(e);return t===-1?void 0:r.splice(t,1)[0]},\n\"removeWhere\"),wn=class wn{constructor(e,t,n){this.client=e,this.idleListener=t,\nthis.timeoutId=n}};a(wn,\"IdleItem\");var mn=wn,bn=class bn{constructor(e){this.callback=\ne}};a(bn,\"PendingItem\");var Ne=bn;function Cc(){throw new Error(\"Release called \\\non client which has already been released to the pool.\")}a(Cc,\"throwOnDoubleRele\\\nase\");function Tt(r,e){if(e)return{callback:e,result:void 0};let t,n,i=a(function(o,u){\no?t(o):n(u)},\"cb\"),s=new r(function(o,u){n=o,t=u}).catch(o=>{throw Error.captureStackTrace(\no),o});return{callback:i,result:s}}a(Tt,\"promisify\");function Tc(r,e){return a(function t(n){\nn.client=e,e.removeListener(\"error\",t),e.on(\"error\",()=>{r.log(\"additional clien\\\nt error after disconnection due to error\",n)}),r._remove(e),r.emit(\"error\",n,e)},\n\"idleListener\")}a(Tc,\"makeIdleListener\");var Sn=class Sn extends Ac{constructor(e,t){\nsuper(),this.options=Object.assign({},e),e!=null&&\"password\"in e&&Object.defineProperty(\nthis.options,\"password\",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),\ne!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,\"key\",{enumerable:!1}),\nthis.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=\nthis.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||\n!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.\noptions.log||function(){},this.Client=this.options.Client||t||It().Client,this.Promise=\nthis.options.Promise||S.Promise,typeof this.options.idleTimeoutMillis>\"u\"&&(this.\noptions.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,\nthis._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){\nreturn this._clients.length>=this.options.max}_pulseQueue(){if(this.log(\"pulse q\\\nueue\"),this.ended){this.log(\"pulse queue ended\");return}if(this.ending){this.log(\n\"pulse queue on ending\"),this._idle.length&&this._idle.slice().map(t=>{this._remove(\nt.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this.\n_pendingQueue.length){this.log(\"no queued requests\");return}if(!this._idle.length&&\nthis._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let t=this.\n_idle.pop();clearTimeout(t.timeoutId);let n=t.client;n.ref&&n.ref();let i=t.idleListener;\nreturn this._acquireClient(n,e,i,!1)}if(!this._isFull())return this.newClient(e);\nthrow new Error(\"unexpected condition\")}_remove(e){let t=Ds(this._idle,n=>n.client===\ne);t!==void 0&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(n=>n!==\ne),e.end(),this.emit(\"remove\",e)}connect(e){if(this.ending){let i=new Error(\"Can\\\nnot use a pool after calling end on the pool\");return e?e(i):this.Promise.reject(\ni)}let t=Tt(this.Promise,e),n=t.result;if(this._isFull()||this._idle.length){if(this.\n_idle.length&&m.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)\nreturn this._pendingQueue.push(new Ne(t.callback)),n;let i=a((u,c,h)=>{clearTimeout(\no),t.callback(u,c,h)},\"queueCallback\"),s=new Ne(i),o=setTimeout(()=>{Ds(this._pendingQueue,\nu=>u.callback===i),s.timedOut=!0,t.callback(new Error(\"timeout exceeded when try\\\ning to connect\"))},this.options.connectionTimeoutMillis);return this._pendingQueue.\npush(s),n}return this.newClient(new Ne(t.callback)),n}newClient(e){let t=new this.\nClient(this.options);this._clients.push(t);let n=Tc(this,t);this.log(\"checking c\\\nlient timeout\");let i,s=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{\nthis.log(\"ending client due to timeout\"),s=!0,t.connection?t.connection.stream.destroy():\nt.end()},this.options.connectionTimeoutMillis)),this.log(\"connecting new client\"),\nt.connect(o=>{if(i&&clearTimeout(i),t.on(\"error\",n),o)this.log(\"client failed to\\\n connect\",o),this._clients=this._clients.filter(u=>u!==t),s&&(o.message=\"Connect\\\nion terminated due to connection timeout\"),this._pulseQueue(),e.timedOut||e.callback(\no,void 0,Ms);else{if(this.log(\"new client connected\"),this.options.maxLifetimeSeconds!==\n0){let u=setTimeout(()=>{this.log(\"ending client due to expired lifetime\"),this.\n_expired.add(t),this._idle.findIndex(h=>h.client===t)!==-1&&this._acquireClient(\nt,new Ne((h,l,d)=>d()),n,!1)},this.options.maxLifetimeSeconds*1e3);u.unref(),t.once(\n\"end\",()=>clearTimeout(u))}return this._acquireClient(t,e,n,!0)}})}_acquireClient(e,t,n,i){\ni&&this.emit(\"connect\",e),this.emit(\"acquire\",e),e.release=this._releaseOnce(e,n),\ne.removeListener(\"error\",n),t.timedOut?i&&this.options.verify?this.options.verify(\ne,e.release):e.release():i&&this.options.verify?this.options.verify(e,s=>{if(s)return e.\nrelease(s),t.callback(s,void 0,Ms);t.callback(void 0,e,e.release)}):t.callback(void 0,\ne,e.release)}_releaseOnce(e,t){let n=!1;return i=>{n&&Cc(),n=!0,this._release(e,\nt,i)}}_release(e,t,n){if(e.on(\"error\",t),e._poolUseCount=(e._poolUseCount||0)+1,\nthis.emit(\"release\",n,e),n||this.ending||!e._queryable||e._ending||e._poolUseCount>=\nthis.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log(\"remove ex\\\npended client\"),this._remove(e),this._pulseQueue();return}if(this._expired.has(e)){\nthis.log(\"remove expired client\"),this._expired.delete(e),this._remove(e),this._pulseQueue();\nreturn}let s;this.options.idleTimeoutMillis&&(s=setTimeout(()=>{this.log(\"remove\\\n idle client\"),this._remove(e)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&\ns.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new mn(e,t,s)),\nthis._pulseQueue()}query(e,t,n){if(typeof e==\"function\"){let s=Tt(this.Promise,e);\nreturn x(function(){return s.callback(new Error(\"Passing a function as the first\\\n parameter to pool.query is not supported\"))}),s.result}typeof t==\"function\"&&(n=\nt,t=void 0);let i=Tt(this.Promise,n);return n=i.callback,this.connect((s,o)=>{if(s)\nreturn n(s);let u=!1,c=a(h=>{u||(u=!0,o.release(h),n(h))},\"onError\");o.once(\"err\\\nor\",c),this.log(\"dispatching query\");try{o.query(e,t,(h,l)=>{if(this.log(\"query \\\ndispatched\"),o.removeListener(\"error\",c),!u)return u=!0,o.release(h),h?n(h):n(void 0,\nl)})}catch(h){return o.release(h),n(h)}}),i.result}end(e){if(this.log(\"ending\"),\nthis.ending){let n=new Error(\"Called end on pool more than once\");return e?e(n):\nthis.Promise.reject(n)}this.ending=!0;let t=Tt(this.Promise,e);return this._endCallback=\nt.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.\nlength}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.\nreduce((e,t)=>e+(this._expired.has(t)?1:0),0)}get totalCount(){return this._clients.\nlength}};a(Sn,\"Pool\");var gn=Sn;ks.exports=gn});var Os={};se(Os,{default:()=>Ic});var Ic,Ns=z(()=>{\"use strict\";p();Ic={}});var qs=I((gf,Pc)=>{Pc.exports={name:\"pg\",version:\"8.8.0\",description:\"PostgreSQL\\\n client - pure javascript & libpq with the same API\",keywords:[\"database\",\"libpq\",\n\"pg\",\"postgre\",\"postgres\",\"postgresql\",\"rdbms\"],homepage:\"https://github.com/bri\\\nanc/node-postgres\",repository:{type:\"git\",url:\"git://github.com/brianc/node-post\\\ngres.git\",directory:\"packages/pg\"},author:\"Brian Carlson <brian.m.carlson@gmail.\\\ncom>\",main:\"./lib\",dependencies:{\"buffer-writer\":\"2.0.0\",\"packet-reader\":\"1.0.0\",\n\"pg-connection-string\":\"^2.5.0\",\"pg-pool\":\"^3.5.2\",\"pg-protocol\":\"^1.5.0\",\"pg-ty\\\npes\":\"^2.1.0\",pgpass:\"1.x\"},devDependencies:{async:\"2.6.4\",bluebird:\"3.5.2\",co:\"\\\n4.6.0\",\"pg-copy-streams\":\"0.3.0\"},peerDependencies:{\"pg-native\":\">=3.0.1\"},peerDependenciesMeta:{\n\"pg-native\":{optional:!0}},scripts:{test:\"make test-all\"},files:[\"lib\",\"SPONSORS\\\n.md\"],license:\"MIT\",engines:{node:\">= 8.0.0\"},gitHead:\"c99fb2c127ddf8d712500db2c\\\n7b9a5491a178655\"}});var Ws=I((wf,js)=>{\"use strict\";p();var Qs=ge().EventEmitter,Bc=(Ge(),O(He)),xn=tt(),\nqe=js.exports=function(r,e,t){Qs.call(this),r=xn.normalizeQueryConfig(r,e,t),this.\ntext=r.text,this.values=r.values,this.name=r.name,this.callback=r.callback,this.\nstate=\"new\",this._arrayMode=r.rowMode===\"array\",this._emitRowEvents=!1,this.on(\"\\\nnewListener\",function(n){n===\"row\"&&(this._emitRowEvents=!0)}.bind(this))};Bc.inherits(\nqe,Qs);var Lc={sqlState:\"code\",statementPosition:\"position\",messagePrimary:\"mess\\\nage\",context:\"where\",schemaName:\"schema\",tableName:\"table\",columnName:\"column\",dataTypeName:\"\\\ndataType\",constraintName:\"constraint\",sourceFile:\"file\",sourceLine:\"line\",sourceFunction:\"\\\nroutine\"};qe.prototype.handleError=function(r){var e=this.native.pq.resultErrorFields();\nif(e)for(var t in e){var n=Lc[t]||t;r[n]=e[t]}this.callback?this.callback(r):this.\nemit(\"error\",r),this.state=\"error\"};qe.prototype.then=function(r,e){return this.\n_getPromise().then(r,e)};qe.prototype.catch=function(r){return this._getPromise().\ncatch(r)};qe.prototype._getPromise=function(){return this._promise?this._promise:\n(this._promise=new Promise(function(r,e){this._once(\"end\",r),this._once(\"error\",\ne)}.bind(this)),this._promise)};qe.prototype.submit=function(r){this.state=\"runn\\\ning\";var e=this;this.native=r.native,r.native.arrayMode=this._arrayMode;var t=a(\nfunction(s,o,u){if(r.native.arrayMode=!1,x(function(){e.emit(\"_done\")}),s)return e.\nhandleError(s);e._emitRowEvents&&(u.length>1?o.forEach((c,h)=>{c.forEach(l=>{e.emit(\n\"row\",l,u[h])})}):o.forEach(function(c){e.emit(\"row\",c,u)})),e.state=\"end\",e.emit(\n\"end\",u),e.callback&&e.callback(null,u)},\"after\");if(m.domain&&(t=m.domain.bind(\nt)),this.name){this.name.length>63&&(console.error(\"Warning! Postgres only suppo\\\nrts 63 characters for query names.\"),console.error(\"You supplied %s (%s)\",this.name,\nthis.name.length),console.error(\"This can cause conflicts and silent errors exec\\\nuting queries\"));var n=(this.values||[]).map(xn.prepareValue);if(r.namedQueries[this.\nname]){if(this.text&&r.namedQueries[this.name]!==this.text){let s=new Error(`Pre\\\npared statements must be unique - '${this.name}' was used for a different statem\\\nent`);return t(s)}return r.native.execute(this.name,n,t)}return r.native.prepare(\nthis.name,this.text,n.length,function(s){return s?t(s):(r.namedQueries[e.name]=e.\ntext,e.native.execute(e.name,n,t))})}else if(this.values){if(!Array.isArray(this.\nvalues)){let s=new Error(\"Query values must be an array\");return t(s)}var i=this.\nvalues.map(xn.prepareValue);r.native.query(this.text,i,t)}else r.native.query(this.\ntext,t)}});var Vs=I((Ef,$s)=>{\"use strict\";p();var Rc=(Ns(),O(Os)),Fc=wt(),xf=qs(),Hs=ge().\nEventEmitter,Mc=(Ge(),O(He)),Dc=bt(),Gs=Ws(),J=$s.exports=function(r){Hs.call(this),\nr=r||{},this._Promise=r.Promise||S.Promise,this._types=new Fc(r.types),this.native=\nnew Rc({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=\n!1,this._connected=!1,this._queryable=!0;var e=this.connectionParameters=new Dc(\nr);this.user=e.user,Object.defineProperty(this,\"password\",{configurable:!0,enumerable:!1,\nwritable:!0,value:e.password}),this.database=e.database,this.host=e.host,this.port=\ne.port,this.namedQueries={}};J.Query=Gs;Mc.inherits(J,Hs);J.prototype._errorAllQueries=\nfunction(r){let e=a(t=>{m.nextTick(()=>{t.native=this.native,t.handleError(r)})},\n\"enqueueError\");this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=\nnull),this._queryQueue.forEach(e),this._queryQueue.length=0};J.prototype._connect=\nfunction(r){var e=this;if(this._connecting){m.nextTick(()=>r(new Error(\"Client h\\\nas already been connected. You cannot reuse a client.\")));return}this._connecting=\n!0,this.connectionParameters.getLibpqConnectionString(function(t,n){if(t)return r(\nt);e.native.connect(n,function(i){if(i)return e.native.end(),r(i);e._connected=!0,\ne.native.on(\"error\",function(s){e._queryable=!1,e._errorAllQueries(s),e.emit(\"er\\\nror\",s)}),e.native.on(\"notification\",function(s){e.emit(\"notification\",{channel:s.\nrelname,payload:s.extra})}),e.emit(\"connect\"),e._pulseQueryQueue(!0),r()})})};J.\nprototype.connect=function(r){if(r){this._connect(r);return}return new this._Promise(\n(e,t)=>{this._connect(n=>{n?t(n):e()})})};J.prototype.query=function(r,e,t){var n,\ni,s,o,u;if(r==null)throw new TypeError(\"Client was passed a null or undefined qu\\\nery\");if(typeof r.submit==\"function\")s=r.query_timeout||this.connectionParameters.\nquery_timeout,i=n=r,typeof e==\"function\"&&(r.callback=e);else if(s=this.connectionParameters.\nquery_timeout,n=new Gs(r,e,t),!n.callback){let c,h;i=new this._Promise((l,d)=>{c=\nl,h=d}),n.callback=(l,d)=>l?h(l):c(d)}return s&&(u=n.callback,o=setTimeout(()=>{\nvar c=new Error(\"Query read timeout\");m.nextTick(()=>{n.handleError(c,this.connection)}),\nu(c),n.callback=()=>{};var h=this._queryQueue.indexOf(n);h>-1&&this._queryQueue.\nsplice(h,1),this._pulseQueryQueue()},s),n.callback=(c,h)=>{clearTimeout(o),u(c,h)}),\nthis._queryable?this._ending?(n.native=this.native,m.nextTick(()=>{n.handleError(\nnew Error(\"Client was closed and is not queryable\"))}),i):(this._queryQueue.push(\nn),this._pulseQueryQueue(),i):(n.native=this.native,m.nextTick(()=>{n.handleError(\nnew Error(\"Client has encountered a connection error and is not queryable\"))}),i)};\nJ.prototype.end=function(r){var e=this;this._ending=!0,this._connected||this.once(\n\"connect\",this.end.bind(this,r));var t;return r||(t=new this._Promise(function(n,i){\nr=a(s=>s?i(s):n(),\"cb\")})),this.native.end(function(){e._errorAllQueries(new Error(\n\"Connection terminated\")),m.nextTick(()=>{e.emit(\"end\"),r&&r()})}),t};J.prototype.\n_hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!==\"\\\nerror\"&&this._activeQuery.state!==\"end\"};J.prototype._pulseQueryQueue=function(r){\nif(this._connected&&!this._hasActiveQuery()){var e=this._queryQueue.shift();if(!e){\nr||this.emit(\"drain\");return}this._activeQuery=e,e.submit(this);var t=this;e.once(\n\"_done\",function(){t._pulseQueryQueue()})}};J.prototype.cancel=function(r){this.\n_activeQuery===r?this.native.cancel(function(){}):this._queryQueue.indexOf(r)!==\n-1&&this._queryQueue.splice(this._queryQueue.indexOf(r),1)};J.prototype.ref=function(){};\nJ.prototype.unref=function(){};J.prototype.setTypeParser=function(r,e,t){return this.\n_types.setTypeParser(r,e,t)};J.prototype.getTypeParser=function(r,e){return this.\n_types.getTypeParser(r,e)}});var En=I((Af,Ks)=>{\"use strict\";p();Ks.exports=Vs()});var It=I((Tf,nt)=>{\"use strict\";p();var kc=Fs(),Uc=et(),Oc=pn(),Nc=Us(),{DatabaseError:qc}=hn(),\nQc=a(r=>{var e;return e=class extends Nc{constructor(n){super(n,r)}},a(e,\"BoundP\\\nool\"),e},\"poolFactory\"),vn=a(function(r){this.defaults=Uc,this.Client=r,this.Query=\nthis.Client.Query,this.Pool=Qc(this.Client),this._pools=[],this.Connection=Oc,this.\ntypes=Xe(),this.DatabaseError=qc},\"PG\");typeof m.env.NODE_PG_FORCE_NATIVE<\"u\"?nt.\nexports=new vn(En()):(nt.exports=new vn(kc),Object.defineProperty(nt.exports,\"na\\\ntive\",{configurable:!0,enumerable:!1,get(){var r=null;try{r=new vn(En())}catch(e){\nif(e.code!==\"MODULE_NOT_FOUND\")throw e}return Object.defineProperty(nt.exports,\"\\\nnative\",{value:r}),r}}))});p();var Bt=Te(It());St();p();St();mr();var Zs=Te(tt()),Js=Te(wt());function jc(r){return r instanceof y?\"\\\\x\"+r.toString(\"hex\"):r}a(jc,\"encodeBuffe\\\nrsAsBytea\");var Pt=class Pt extends Error{constructor(t){super(t);_(this,\"name\",\n\"NeonDbError\");_(this,\"severity\");_(this,\"code\");_(this,\"detail\");_(this,\"hint\");\n_(this,\"position\");_(this,\"internalPosition\");_(this,\"internalQuery\");_(this,\"wh\\\nere\");_(this,\"schema\");_(this,\"table\");_(this,\"column\");_(this,\"dataType\");_(this,\n\"constraint\");_(this,\"file\");_(this,\"line\");_(this,\"routine\");_(this,\"sourceErro\\\nr\");\"captureStackTrace\"in Error&&typeof Error.captureStackTrace==\"function\"&&Error.\ncaptureStackTrace(this,Pt)}};a(Pt,\"NeonDbError\");var pe=Pt,zs=\"transaction() exp\\\nects an array of queries, or a function returning an array of queries\",Wc=[\"seve\\\nrity\",\"code\",\"detail\",\"hint\",\"position\",\"internalPosition\",\"internalQuery\",\"wher\\\ne\",\"schema\",\"table\",\"column\",\"dataType\",\"constraint\",\"file\",\"line\",\"routine\"];function Xs(r,{\narrayMode:e,fullResults:t,fetchOptions:n,isolationLevel:i,readOnly:s,deferrable:o,\nqueryCallback:u,resultCallback:c,authToken:h}={}){if(!r)throw new Error(\"No data\\\nbase connection string was provided to `neon()`. Perhaps an environment variable\\\n has not been set?\");let l;try{l=yr(r)}catch{throw new Error(\"Database connectio\\\nn string provided to `neon()` is not a valid URL. Connection string: \"+String(r))}\nlet{protocol:d,username:b,hostname:C,port:B,pathname:Q}=l;if(d!==\"postgres:\"&&d!==\n\"postgresql:\"||!b||!C||!Q)throw new Error(\"Database connection string format for\\\n `neon()` should be: postgresql://user:password@host.tld/dbname?option=value\");function X(A,...g){\nlet P,K;if(typeof A==\"string\")P=A,K=g[1],g=g[0]??[];else{P=\"\";for(let j=0;j<A.length;j++)\nP+=A[j],j<g.length&&(P+=\"$\"+(j+1))}g=g.map(j=>jc((0,Zs.prepareValue)(j)));let k={\nquery:P,params:g};return u&&u(k),Hc(de,k,K)}a(X,\"resolve\"),X.transaction=async(A,g)=>{\nif(typeof A==\"function\"&&(A=A(X)),!Array.isArray(A))throw new Error(zs);A.forEach(\nk=>{if(k[Symbol.toStringTag]!==\"NeonQueryPromise\")throw new Error(zs)});let P=A.\nmap(k=>k.parameterizedQuery),K=A.map(k=>k.opts??{});return de(P,K,g)};async function de(A,g,P){\nlet{fetchEndpoint:K,fetchFunction:k}=_e,j=Array.isArray(A)?{queries:A}:A,ee=n??{},\noe=e??!1,R=t??!1,$=i,ce=s,ye=o;P!==void 0&&(P.fetchOptions!==void 0&&(ee={...ee,\n...P.fetchOptions}),P.arrayMode!==void 0&&(oe=P.arrayMode),P.fullResults!==void 0&&\n(R=P.fullResults),P.isolationLevel!==void 0&&($=P.isolationLevel),P.readOnly!==void 0&&\n(ce=P.readOnly),P.deferrable!==void 0&&(ye=P.deferrable)),g!==void 0&&!Array.isArray(\ng)&&g.fetchOptions!==void 0&&(ee={...ee,...g.fetchOptions});let Se=h;!Array.isArray(\ng)&&g?.authToken!==void 0&&(Se=g.authToken);let je=typeof K==\"function\"?K(C,B,{jwtAuth:Se!==\nvoid 0}):K,he={\"Neon-Connection-String\":r,\"Neon-Raw-Text-Output\":\"true\",\"Neon-Ar\\\nray-Mode\":\"true\"},it=await Gc(Se);it&&(he.Authorization=`Bearer ${it}`),Array.isArray(\nA)&&($!==void 0&&(he[\"Neon-Batch-Isolation-Level\"]=$),ce!==void 0&&(he[\"Neon-Bat\\\nch-Read-Only\"]=String(ce)),ye!==void 0&&(he[\"Neon-Batch-Deferrable\"]=String(ye)));\nlet te;try{te=await(k??fetch)(je,{method:\"POST\",body:JSON.stringify(j),headers:he,\n...ee})}catch(W){let H=new pe(`Error connecting to database: ${W.message}`);throw H.\nsourceError=W,H}if(te.ok){let W=await te.json();if(Array.isArray(A)){let H=W.results;\nif(!Array.isArray(H))throw new pe(\"Neon internal error: unexpected result format\");\nreturn H.map((Ae,xe)=>{let Lt=g[xe]??{},ro=Lt.arrayMode??oe,no=Lt.fullResults??R;\nreturn Ys(Ae,{arrayMode:ro,fullResults:no,parameterizedQuery:A[xe],resultCallback:c,\ntypes:Lt.types})})}else{let H=g??{},Ae=H.arrayMode??oe,xe=H.fullResults??R;return Ys(\nW,{arrayMode:Ae,fullResults:xe,parameterizedQuery:A,resultCallback:c,types:H.types})}}else{\nlet{status:W}=te;if(W===400){let H=await te.json(),Ae=new pe(H.message);for(let xe of Wc)\nAe[xe]=H[xe]??void 0;throw Ae}else{let H=await te.text();throw new pe(`Server er\\\nror (HTTP status ${W}): ${H}`)}}}return a(de,\"execute\"),X}a(Xs,\"neon\");function Hc(r,e,t){\nreturn{[Symbol.toStringTag]:\"NeonQueryPromise\",parameterizedQuery:e,opts:t,then:a(\n(n,i)=>r(e,t).then(n,i),\"then\"),catch:a(n=>r(e,t).catch(n),\"catch\"),finally:a(n=>r(\ne,t).finally(n),\"finally\")}}a(Hc,\"createNeonQueryPromise\");function Ys(r,{arrayMode:e,\nfullResults:t,parameterizedQuery:n,resultCallback:i,types:s}){let o=new Js.default(\ns),u=r.fields.map(l=>l.name),c=r.fields.map(l=>o.getTypeParser(l.dataTypeID)),h=e===\n!0?r.rows.map(l=>l.map((d,b)=>d===null?null:c[b](d))):r.rows.map(l=>Object.fromEntries(\nl.map((d,b)=>[u[b],d===null?null:c[b](d)])));return i&&i(n,r,h,{arrayMode:e,fullResults:t}),\nt?(r.viaNeonFetch=!0,r.rowAsArray=e,r.rows=h,r._parsers=c,r._types=o,r):h}a(Ys,\"\\\nprocessQueryResult\");async function Gc(r){if(typeof r==\"string\")return r;if(typeof r==\n\"function\")try{return await Promise.resolve(r())}catch(e){let t=new pe(\"Error ge\\\ntting auth token.\");throw e instanceof Error&&(t=new pe(`Error getting auth toke\\\nn: ${e.message}`)),t}}a(Gc,\"getAuthToken\");var to=Te(bt()),Qe=Te(It());var An=class An extends Bt.Client{constructor(t){super(t);this.config=t}get neonConfig(){\nreturn this.connection.stream}connect(t){let{neonConfig:n}=this;n.forceDisablePgSSL&&\n(this.ssl=this.connection.ssl=!1),this.ssl&&n.useSecureWebSocket&&console.warn(\"\\\nSSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string\\\n + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = tru\\\ne). Double encryption will increase latency and CPU usage. It may be appropriate\\\n to disable SSL in the Postgres connection parameters or set forceDisablePgSSL =\\\n true.\");let i=this.config?.host!==void 0||this.config?.connectionString!==void 0||\nm.env.PGHOST!==void 0,s=m.env.USER??m.env.USERNAME;if(!i&&this.host===\"localhost\"&&\nthis.user===s&&this.database===s&&this.password===null)throw new Error(`No datab\\\nase host or connection string was set, and key parameters have default values (h\\\nost: localhost, user: ${s}, db: ${s}, password: null). Is an environment variabl\\\ne missing? Alternatively, if you intended to connect with these parameters, plea\\\nse set the host to 'localhost' explicitly.`);let o=super.connect(t),u=n.pipelineTLS&&\nthis.ssl,c=n.pipelineConnect===\"password\";if(!u&&!n.pipelineConnect)return o;let h=this.\nconnection;if(u&&h.on(\"connect\",()=>h.stream.emit(\"data\",\"S\")),c){h.removeAllListeners(\n\"authenticationCleartextPassword\"),h.removeAllListeners(\"readyForQuery\"),h.once(\n\"readyForQuery\",()=>h.on(\"readyForQuery\",this._handleReadyForQuery.bind(this)));\nlet l=this.ssl?\"sslconnect\":\"connect\";h.on(l,()=>{this._handleAuthCleartextPassword(),\nthis._handleReadyForQuery()})}return o}async _handleAuthSASLContinue(t){let n=this.\nsaslSession,i=this.password,s=t.data;if(n.message!==\"SASLInitialResponse\"||typeof i!=\n\"string\"||typeof s!=\"string\")throw new Error(\"SASL: protocol error\");let o=Object.\nfromEntries(s.split(\",\").map(te=>{if(!/^.=/.test(te))throw new Error(\"SASL: Inva\\\nlid attribute pair entry\");let W=te[0],H=te.substring(2);return[W,H]})),u=o.r,c=o.\ns,h=o.i;if(!u||!/^[!-+--~]+$/.test(u))throw new Error(\"SASL: SCRAM-SERVER-FIRST-\\\nMESSAGE: nonce missing/unprintable\");if(!c||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.\ntest(c))throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base\\\n64\");if(!h||!/^[1-9][0-9]*$/.test(h))throw new Error(\"SASL: SCRAM-SERVER-FIRST-M\\\nESSAGE: missing/invalid iteration count\");if(!u.startsWith(n.clientNonce))throw new Error(\n\"SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce\");\nif(u.length===n.clientNonce.length)throw new Error(\"SASL: SCRAM-SERVER-FIRST-MES\\\nSAGE: server nonce is too short\");let l=parseInt(h,10),d=y.from(c,\"base64\"),b=new TextEncoder,\nC=b.encode(i),B=await w.subtle.importKey(\"raw\",C,{name:\"HMAC\",hash:{name:\"SHA-25\\\n6\"}},!1,[\"sign\"]),Q=new Uint8Array(await w.subtle.sign(\"HMAC\",B,y.concat([d,y.from(\n[0,0,0,1])]))),X=Q;for(var de=0;de<l-1;de++)Q=new Uint8Array(await w.subtle.sign(\n\"HMAC\",B,Q)),X=y.from(X.map((te,W)=>X[W]^Q[W]));let A=X,g=await w.subtle.importKey(\n\"raw\",A,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]),P=new Uint8Array(await w.\nsubtle.sign(\"HMAC\",g,b.encode(\"Client Key\"))),K=await w.subtle.digest(\"SHA-256\",\nP),k=\"n=*,r=\"+n.clientNonce,j=\"r=\"+u+\",s=\"+c+\",i=\"+l,ee=\"c=biws,r=\"+u,oe=k+\",\"+j+\n\",\"+ee,R=await w.subtle.importKey(\"raw\",K,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,\n[\"sign\"]);var $=new Uint8Array(await w.subtle.sign(\"HMAC\",R,b.encode(oe))),ce=y.\nfrom(P.map((te,W)=>P[W]^$[W])),ye=ce.toString(\"base64\");let Se=await w.subtle.importKey(\n\"raw\",A,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]),je=await w.subtle.sign(\n\"HMAC\",Se,b.encode(\"Server Key\")),he=await w.subtle.importKey(\"raw\",je,{name:\"HM\\\nAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]);var it=y.from(await w.subtle.sign(\"HMAC\",\nhe,b.encode(oe)));n.message=\"SASLResponse\",n.serverSignature=it.toString(\"base64\"),\nn.response=ee+\",p=\"+ye,this.connection.sendSCRAMClientFinalMessage(this.saslSession.\nresponse)}};a(An,\"NeonClient\");var _n=An;function $c(r,e){if(e)return{callback:e,\nresult:void 0};let t,n,i=a(function(o,u){o?t(o):n(u)},\"cb\"),s=new r(function(o,u){\nn=o,t=u});return{callback:i,result:s}}a($c,\"promisify\");var Cn=class Cn extends Bt.Pool{constructor(){\nsuper(...arguments);_(this,\"Client\",_n);_(this,\"hasFetchUnsupportedListeners\",!1)}on(t,n){\nreturn t!==\"error\"&&(this.hasFetchUnsupportedListeners=!0),super.on(t,n)}query(t,n,i){\nif(!_e.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof t==\"function\")\nreturn super.query(t,n,i);typeof n==\"function\"&&(i=n,n=void 0);let s=$c(this.Promise,\ni);i=s.callback;try{let o=new to.default(this.options),u=encodeURIComponent,c=encodeURI,\nh=`postgresql://${u(o.user)}:${u(o.password)}@${u(o.host)}/${c(o.database)}`,l=typeof t==\n\"string\"?t:t.text,d=n??t.values??[];Xs(h,{fullResults:!0,arrayMode:t.rowMode===\"\\\narray\"})(l,d,{types:t.types??this.options?.types}).then(C=>i(void 0,C)).catch(C=>i(\nC))}catch(o){i(o)}return s.result}};a(Cn,\"NeonPool\");var eo=Cn;var export_ClientBase=Qe.ClientBase;var export_Connection=Qe.Connection;var export_DatabaseError=Qe.DatabaseError;\nvar export_Query=Qe.Query;var export_defaults=Qe.defaults;var export_types=Qe.types;\nexport{_n as Client,export_ClientBase as ClientBase,export_Connection as Connection,\nexport_DatabaseError as DatabaseError,pe as NeonDbError,eo as Pool,export_Query as Query,\nexport_defaults as defaults,Xs as neon,_e as neonConfig,export_types as types};\n/*! Bundled license information:\n\nieee754/index.js:\n  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\nbuffer/index.js:\n  (*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   *)\n*/\n", "import { neon } from '@neondatabase/serverless'\r\n\r\ntype Row = Record<string, any>\r\n\r\ntype D1AllResult = { results: Row[] }\r\ntype D1RunResult = { meta: { last_row_id?: number; changes?: number } }\r\n\r\ntype NeonSql = ReturnType<typeof neon>\r\n\r\nfunction stripTrailingSemicolon(sql: string): string {\r\n  return sql.replace(/;\\s*$/, '')\r\n}\r\n\r\n/**\r\n * Convert D1/SQLite-style `?` placeholders to Postgres `$1..$n`.\r\n * This is a best-effort conversion that skips placeholders inside single/double quoted strings.\r\n */\r\nfunction convertQMarksToDollarParams(sql: string): string {\r\n  let out = ''\r\n  let paramIndex = 0\r\n  let inSingle = false\r\n  let inDouble = false\r\n\r\n  for (let i = 0; i < sql.length; i++) {\r\n    const ch = sql[i]\r\n\r\n    // Handle escaping inside strings\r\n    if (inSingle) {\r\n      out += ch\r\n      if (ch === \"'\" && sql[i + 1] === \"'\") {\r\n        out += sql[i + 1]\r\n        i++\r\n        continue\r\n      }\r\n      if (ch === \"'\") inSingle = false\r\n      continue\r\n    }\r\n\r\n    if (inDouble) {\r\n      out += ch\r\n      if (ch === '\"') inDouble = false\r\n      continue\r\n    }\r\n\r\n    if (ch === \"'\") {\r\n      inSingle = true\r\n      out += ch\r\n      continue\r\n    }\r\n    if (ch === '\"') {\r\n      inDouble = true\r\n      out += ch\r\n      continue\r\n    }\r\n\r\n    if (ch === '?') {\r\n      paramIndex++\r\n      out += `$${paramIndex}`\r\n      continue\r\n    }\r\n\r\n    out += ch\r\n  }\r\n\r\n  return out\r\n}\r\n\r\nfunction isInsert(sql: string) {\r\n  return /^\\s*insert\\b/i.test(sql)\r\n}\r\nfunction isUpdate(sql: string) {\r\n  return /^\\s*update\\b/i.test(sql)\r\n}\r\nfunction isDelete(sql: string) {\r\n  return /^\\s*delete\\b/i.test(sql)\r\n}\r\nfunction hasReturning(sql: string) {\r\n  return /\\breturning\\b/i.test(sql)\r\n}\r\nfunction isDdl(sql: string) {\r\n  return /^\\s*(create|alter|drop)\\b/i.test(sql)\r\n}\r\n\r\nclass NeonD1PreparedStatement {\r\n  private readonly rawSql: string\r\n  private readonly boundParams: any[]\r\n  private readonly sqlClient: NeonSql\r\n\r\n  constructor(sqlClient: NeonSql, rawSql: string, boundParams: any[] = []) {\r\n    this.sqlClient = sqlClient\r\n    this.rawSql = rawSql\r\n    this.boundParams = boundParams\r\n  }\r\n\r\n  bind(...params: any[]) {\r\n    return new NeonD1PreparedStatement(this.sqlClient, this.rawSql, params)\r\n  }\r\n\r\n  async all(): Promise<D1AllResult> {\r\n    const text = convertQMarksToDollarParams(this.rawSql)\r\n    const results = (await this.sqlClient(text, this.boundParams)) as Row[]\r\n    return { results }\r\n  }\r\n\r\n  async first(): Promise<Row | null> {\r\n    const { results } = await this.all()\r\n    return results[0] ?? null\r\n  }\r\n\r\n  async run(): Promise<D1RunResult> {\r\n    let text = stripTrailingSemicolon(this.rawSql)\r\n\r\n    // Ensure we can provide meta.changes / meta.last_row_id like D1.\r\n    // - INSERT: RETURNING id (if the table has an `id` identity column)\r\n    // - UPDATE/DELETE: RETURNING 1 (to count affected rows)\r\n    // - DDL: execute as-is\r\n    if (!hasReturning(text) && !isDdl(text)) {\r\n      if (isInsert(text)) {\r\n        text = `${text} RETURNING id`\r\n      } else if (isUpdate(text) || isDelete(text)) {\r\n        text = `${text} RETURNING 1 AS __changed`\r\n      }\r\n    }\r\n\r\n    const converted = convertQMarksToDollarParams(text)\r\n    const rows = (await this.sqlClient(converted, this.boundParams)) as Row[]\r\n\r\n    const meta: D1RunResult['meta'] = {}\r\n    if (isInsert(text)) {\r\n      const id = rows?.[0]?.id\r\n      if (typeof id === 'number') meta.last_row_id = id\r\n    }\r\n    if (isUpdate(text) || isDelete(text)) {\r\n      meta.changes = Array.isArray(rows) ? rows.length : 0\r\n    }\r\n\r\n    return { meta }\r\n  }\r\n}\r\n\r\nexport function createNeonD1Database(databaseUrl: string) {\r\n  const sqlClient = neon(databaseUrl)\r\n  return {\r\n    prepare(sqlText: string) {\r\n      return new NeonD1PreparedStatement(sqlClient, sqlText)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n"],
  "mappings": "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MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MACnE,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;AAAA,MAAQ,OAAO;A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,MAAM;AAAA,MACV;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MA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QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,iBAAO;AAAA,QACT,K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AA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAvB,IAAM,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAxB,IAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAlB,IAAM,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACA3B,IAAM,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACArB,IAAM,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAtB,IAAM,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAvB,IAAM,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACApB,IAAM,wBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACA9B,IAAM,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAzB,IAAM,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACG3B,IAAM,yBAAyB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6D9B,IAAM,sBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAmDzB,uBAAuB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8I3B,IAAM,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAoDxB,uBAAuB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwN3B,IAAM,sBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AC1gBnC,IAAMC,0BAAyB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiD9B,IAAM,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAmDlBA,wBAAuB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACvG3B,IAAM,sBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACGnC,IAAMC,0BAAyB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiC9B,SAAS,oBAAoB,UAAkB,OAAc,gBAAuB;AACzF,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAUCA,wBAAuB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMU,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAqBhC,MAAM,IAAI,UAAQ,kBAAkB,KAAK,EAAE,KAAK,KAAK,SAAS,WAAW,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAWnF,eAAe,IAAI,UAAQ,kBAAkB,KAAK,EAAE,KAAK,KAAK,SAAS,WAAW,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDA4DhE,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAsB/B,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAiB8B,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYvE;AAEO,SAAS,qBAAqB,UAAkB,MAAW,OAAc,gBAAuB;AACrG,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAUCA,wBAAuB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMU,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAqBhC,MAAM,IAAI,UAAQ,kBAAkB,KAAK,EAAE,KAAK,KAAK,MAAM,KAAK,UAAU,aAAa,EAAE,IAAI,KAAK,SAAS,WAAW,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAWhI,eAAe,IAAI,UAAQ,kBAAkB,KAAK,EAAE,KAAK,KAAK,MAAM,KAAK,oBAAoB,aAAa,EAAE,IAAI,KAAK,SAAS,WAAW,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iGAStE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oFAStB,KAAK,cAAc,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oFASrB,KAAK,cAAc,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oFASrB,KAAK,gBAAgB,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oFASvB,KAAK,gBAAgB,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAU3D,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAyBD,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAaC,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAavE;;;AC7VO,SAAS,6BAA6B,WAAmB,SAAc,QAAe,UAAe;AAC1G,QAAM,EAAE,cAAc,CAAC,GAAG,UAAU,CAAC,GAAG,QAAQ,CAAC,EAAE,IAAI;AAGvD,QAAM,oBAAoB,CAAC,WAAmB,YAAoB;AAChE,UAAM,QAAQ,IAAI,KAAK,SAAS;AAChC,UAAM,MAAM,IAAI,KAAK,OAAO;AAC5B,UAAM,OAAO,IAAI,QAAQ,IAAI,MAAM,QAAQ;AAC3C,UAAM,QAAQ,KAAK,MAAM,QAAQ,MAAO,KAAK,GAAG;AAChD,UAAM,OAAO,KAAK,MAAM,QAAQ,EAAE;AAElC,QAAI,OAAO,EAAG,QAAO,GAAG,IAAI;AAC5B,WAAO,GAAG,KAAK;AAAA,EACjB;AAEA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EAMgB,QAAQ,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wFA8GE,SAAS,4CAAc,QAAQ,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAOvD,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAeY,OAAO,QAAQ,gBAAgB,EAAE,eAAe,CAAC;AAAA;AAAA;AAAA;AAAA,yDAIlD,QAAQ,eAAe,SAAS;AAAA,4BAC7D,QAAQ,cAAc,WAAW;AAAA,cAC/C,QAAQ,iBAAiB,6CAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMnC,QAAQ,WAAW,YAAY,kCAC/B,QAAQ,WAAW,aAAa,gCAChC,QAAQ,WAAW,aAAa,4BAChC,2BAA2B;AAAA,cAC3B,QAAQ,WAAW,YAAY,wEAC/B,QAAQ,WAAW,aAAa,4DAChC,QAAQ,WAAW,aAAa,mCAChC,QAAQ,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMd,IAAI,KAAK,QAAQ,UAAU,EAAE,mBAAmB,OAAO,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAgB5D,YAAY,WAAW,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,YAKzB,EAAE;AAAA;AAAA,UAEJ,YAAY,IAAI,CAAC,YAAiB,UAAkB;AACpD,UAAM,SAAS,UAAU,YAAY,SAAS;AAC9C,UAAM,WAAW,QAAQ,IAAI,kBAAkB,YAAY,QAAQ,CAAC,EAAE,YAAY,WAAW,UAAU,IAAI;AAG3G,UAAM,eAAe,QAAQ,OAAO,CAACC,OAAWA,GAAE,aAAa,WAAW,WAAW;AACrF,UAAM,aAAa,MAAM,OAAO,CAAC,MAAW,EAAE,aAAa,WAAW,WAAW;AAEjF,WAAO;AAAA;AAAA,yCAEwB,SAAS,YAAY,EAAE,8BAA8B,WAAW,cAAc;AAAA,gCACvF,WAAW,aAAa;AAAA;AAAA;AAAA,mEAGW,WAAW,cAAc;AAAA;AAAA;AAAA;AAAA,wBAIpE,QAAQ,CAAC,KAAK,WAAW,aAAa;AAAA;AAAA;AAAA;AAAA,wBAItC,IAAI,KAAK,WAAW,UAAU,EAAE,eAAe,SAAS;AAAA,MACxD,MAAM;AAAA,MACN,OAAO;AAAA,MACP,KAAK;AAAA,MACL,MAAM;AAAA,MACN,QAAQ;AAAA,IACV,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA,oBAIJ,WAAW;AAAA;AAAA;AAAA,6DAGA,QAAQ;AAAA;AAAA,sBAEjB,EAAE;AAAA;AAAA;AAAA,kBAGN,WAAW,uBAAuB;AAAA;AAAA;AAAA,sFAGI,WAAW,oBAAoB;AAAA;AAAA,oBAEnE,EAAE;AAAA;AAAA,kBAEJ,WAAW,QAAQ;AAAA;AAAA;AAAA;AAAA,wBAIb,WAAW,KAAK;AAAA;AAAA;AAAA,oBAGpB,EAAE;AAAA;AAAA,kBAEJ,aAAa,SAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMtB,aAAa,IAAI,CAAC,WAAgB;AAAA;AAAA;AAAA,gCAGxB,OAAO,eAAe,OAAO,WAAW;AAAA,0BAC9C,OAAO,oBAAoB,0CAA0C,OAAO,iBAAiB,YAAY,EAAE;AAAA;AAAA,qBAEhH,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA,oBAEX,EAAE;AAAA;AAAA,kBAEJ,WAAW,SAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMpB,WAAW,IAAI,CAAC,SAAc;AAAA,8CACN,KAAK,MAAM;AAAA;AAAA;AAAA,qEAGY,KAAK,UAAU;AAAA,8BACtD,KAAK,mBAAmB,2CAA2C,KAAK,gBAAgB,WAAW,EAAE;AAAA,8BACrG,KAAK,mBAAmB;AAAA;AAAA;AAAA,kCAGpB,KAAK,gBAAgB;AAAA;AAAA,gCAEvB,EAAE;AAAA;AAAA;AAAA,8BAGJ,KAAK,WAAW,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA,gCAK5B;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKH;AAAA;AAAA;AAAA;AAAA,qBAIR,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA,oBAEX,EAAE;AAAA;AAAA;AAAA;AAAA,EAId,CAAC,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAsBE,KAAK,UAAU,MAAM,CAAC;AAAA,+BACZ,SAAS;AAAA,6BACX,QAAQ,oBAAoB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwM/D;;;AC7hBO,IAAM,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAxB,IAAM,wBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA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",
  "names": ["exports", "module", "isBuffer", "exports", "module", "exports", "a", "original", "require_retry", "exports", "module", "exports", "module", "retry", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "Blob", "v", "isStream", "idx", "isBuffer", "stream", "err", "m", "x", "ReadableStream", "exports", "module", "exports", "module", "exports", "module", "ReadableStream", "exports", "module", "exports", "module", "m", "exports", "module", "exports", "module", "exports", "module", "match", "p", "exports", "module", "exports", "module", "Readable", "exports", "module", "p", "exports", "module", "p", "exports", "module", "require_constants", "exports", "module", "DOMException", "structuredClone", "exports", "module", "require_util", "exports", "module", "performance", "bytes", "kind", "ReadableStream", "require_symbols", "exports", "module", "exports", "module", "I", "x", "O", "keys", "exports", "module", "atob", "bytes", "exports", "module", "Blob", "File", "bytes", "exports", "module", "Blob", "File", "entry", "exports", "module", "DOMException", "Blob", "ReadableStream", "File", "chunk", "bytes", "exports", "module", "Request", "raw", "exports", "module", "exports", "module", "err", "exports", "module", "session", "onConnectTimeout", "exports", "ERROR", "exports", "TYPE", "FLAGS", "LENIENT_FLAGS", "METHODS", "FINISH", "HEADER_STATE", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "Request", "connect", "p", "socket", "request", "headers", "err", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "origin", "dispatcher", "exports", "module", "a", "pool", "p", "dispatcher", "exports", "module", "exports", "module", "WeakRef", "exports", "module", "Readable", "Blob", "consume", "require_util", "exports", "module", "exports", "module", "exports", "module", "Readable", "exports", "module", "callback", "res", "opaque", "exports", "module", "Readable", "body", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "match", "mockDispatch", "x", "exports", "module", "statusCode", "data", "responseOptions", "newMockDispatch", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "URL", "opts", "exports", "module", "err", "require_global", "exports", "module", "exports", "module", "exports", "module", "Headers", "a", "exports", "module", "Headers", "DOMException", "ReadableStream", "Response", "bytes", "isError", "p", "require_request", "exports", "module", "Headers", "TransformStream", "Request", "window", "ac", "exports", "module", "Response", "Headers", "Request", "DOMException", "Readable", "TransformStream", "ReadableStream", "fetch", "p", "globalThis", "bytes", "x", "require_symbols", "exports", "module", "exports", "module", "exports", "module", "require_util", "exports", "module", "DOMException", "btoa", "bytes", "type", "a", "exports", "module", "require_symbols", "exports", "module", "require_util", "exports", "module", "exports", "module", "Response", "Request", "p", "bytes", "request", "exports", "module", "cache", "require_constants", "exports", "module", "require_util", "exports", "module", "exports", "module", "exports", "module", "Headers", "require_constants", "exports", "module", "require_symbols", "exports", "module", "exports", "module", "require_util", "exports", "module", "ws", "exports", "module", "Headers", "ws", "exports", "module", "exports", "module", "ws", "_", "body", "exports", "module", "DOMException", "WebSocket", "p", "exports", "module", "fetch", "WebSocket", "exports", "module", "throttle", "isError", "match", "v", "a", "raw", "v", "v2", "p", "m", "app", "a", "m", "_", "_", "map", "a", "p", "m", "Node", "_Node", "m", "p", "v", "a", "Node", "Hono", "getMobileResponsiveCSS", "getMobileResponsiveCSS", "a", "import_throttleit", "isBuffer", "_a", "DOMException", "_b", "retry", "error", "throttle", "put", "createMultipartUpload", "uploadPart", "completeMultipartUpload", "U", "ht", "_a", "v", "Pt", "An", "Cn", "p", "Hono", "getMobileResponsiveCSS", "getMobileResponsiveCSS", "p"]
}
